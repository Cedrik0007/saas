function fg(i,a){for(var r=0;r<a.length;r++){const o=a[r];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in i)){const l=Object.getOwnPropertyDescriptor(o,c);l&&Object.defineProperty(i,c,l.get?l:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function r(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(c){if(c.ep)return;c.ep=!0;const l=r(c);fetch(c.href,l)}})();var Fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Du={exports:{}},Uc={},Tu={exports:{}},Cn={};var zh;function hg(){if(zh)return Cn;zh=1;var i=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.iterator;function R(ee){return ee===null||typeof ee!="object"?null:(ee=A&&ee[A]||ee["@@iterator"],typeof ee=="function"?ee:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,M={};function I(ee,C,J){this.props=ee,this.context=C,this.refs=M,this.updater=J||b}I.prototype.isReactComponent={},I.prototype.setState=function(ee,C){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,C,"setState")},I.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function P(){}P.prototype=I.prototype;function $(ee,C,J){this.props=ee,this.context=C,this.refs=M,this.updater=J||b}var Q=$.prototype=new P;Q.constructor=$,U(Q,I.prototype),Q.isPureReactComponent=!0;var q=Array.isArray,de=Object.prototype.hasOwnProperty,ue={current:null},_e={key:!0,ref:!0,__self:!0,__source:!0};function ge(ee,C,J){var K,le={},pe=null,be=null;if(C!=null)for(K in C.ref!==void 0&&(be=C.ref),C.key!==void 0&&(pe=""+C.key),C)de.call(C,K)&&!_e.hasOwnProperty(K)&&(le[K]=C[K]);var De=arguments.length-2;if(De===1)le.children=J;else if(1<De){for(var Te=Array(De),ze=0;ze<De;ze++)Te[ze]=arguments[ze+2];le.children=Te}if(ee&&ee.defaultProps)for(K in De=ee.defaultProps,De)le[K]===void 0&&(le[K]=De[K]);return{$$typeof:i,type:ee,key:pe,ref:be,props:le,_owner:ue.current}}function te(ee,C){return{$$typeof:i,type:ee.type,key:C,ref:ee.ref,props:ee.props,_owner:ee._owner}}function xe(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===i}function z(ee){var C={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(J){return C[J]})}var H=/\/+/g;function ne(ee,C){return typeof ee=="object"&&ee!==null&&ee.key!=null?z(""+ee.key):C.toString(36)}function se(ee,C,J,K,le){var pe=typeof ee;(pe==="undefined"||pe==="boolean")&&(ee=null);var be=!1;if(ee===null)be=!0;else switch(pe){case"string":case"number":be=!0;break;case"object":switch(ee.$$typeof){case i:case a:be=!0}}if(be)return be=ee,le=le(be),ee=K===""?"."+ne(be,0):K,q(le)?(J="",ee!=null&&(J=ee.replace(H,"$&/")+"/"),se(le,C,J,"",function(ze){return ze})):le!=null&&(xe(le)&&(le=te(le,J+(!le.key||be&&be.key===le.key?"":(""+le.key).replace(H,"$&/")+"/")+ee)),C.push(le)),1;if(be=0,K=K===""?".":K+":",q(ee))for(var De=0;De<ee.length;De++){pe=ee[De];var Te=K+ne(pe,De);be+=se(pe,C,J,Te,le)}else if(Te=R(ee),typeof Te=="function")for(ee=Te.call(ee),De=0;!(pe=ee.next()).done;)pe=pe.value,Te=K+ne(pe,De++),be+=se(pe,C,J,Te,le);else if(pe==="object")throw C=String(ee),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.");return be}function ke(ee,C,J){if(ee==null)return ee;var K=[],le=0;return se(ee,K,"","",function(pe){return C.call(J,pe,le++)}),K}function Re(ee){if(ee._status===-1){var C=ee._result;C=C(),C.then(function(J){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=J)},function(J){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=J)}),ee._status===-1&&(ee._status=0,ee._result=C)}if(ee._status===1)return ee._result.default;throw ee._result}var Me={current:null},fe={transition:null},Le={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:fe,ReactCurrentOwner:ue};function Ie(){throw Error("act(...) is not supported in production builds of React.")}return Cn.Children={map:ke,forEach:function(ee,C,J){ke(ee,function(){C.apply(this,arguments)},J)},count:function(ee){var C=0;return ke(ee,function(){C++}),C},toArray:function(ee){return ke(ee,function(C){return C})||[]},only:function(ee){if(!xe(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},Cn.Component=I,Cn.Fragment=r,Cn.Profiler=c,Cn.PureComponent=$,Cn.StrictMode=o,Cn.Suspense=g,Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Le,Cn.act=Ie,Cn.cloneElement=function(ee,C,J){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var K=U({},ee.props),le=ee.key,pe=ee.ref,be=ee._owner;if(C!=null){if(C.ref!==void 0&&(pe=C.ref,be=ue.current),C.key!==void 0&&(le=""+C.key),ee.type&&ee.type.defaultProps)var De=ee.type.defaultProps;for(Te in C)de.call(C,Te)&&!_e.hasOwnProperty(Te)&&(K[Te]=C[Te]===void 0&&De!==void 0?De[Te]:C[Te])}var Te=arguments.length-2;if(Te===1)K.children=J;else if(1<Te){De=Array(Te);for(var ze=0;ze<Te;ze++)De[ze]=arguments[ze+2];K.children=De}return{$$typeof:i,type:ee.type,key:le,ref:pe,props:K,_owner:be}},Cn.createContext=function(ee){return ee={$$typeof:m,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:l,_context:ee},ee.Consumer=ee},Cn.createElement=ge,Cn.createFactory=function(ee){var C=ge.bind(null,ee);return C.type=ee,C},Cn.createRef=function(){return{current:null}},Cn.forwardRef=function(ee){return{$$typeof:p,render:ee}},Cn.isValidElement=xe,Cn.lazy=function(ee){return{$$typeof:w,_payload:{_status:-1,_result:ee},_init:Re}},Cn.memo=function(ee,C){return{$$typeof:v,type:ee,compare:C===void 0?null:C}},Cn.startTransition=function(ee){var C=fe.transition;fe.transition={};try{ee()}finally{fe.transition=C}},Cn.unstable_act=Ie,Cn.useCallback=function(ee,C){return Me.current.useCallback(ee,C)},Cn.useContext=function(ee){return Me.current.useContext(ee)},Cn.useDebugValue=function(){},Cn.useDeferredValue=function(ee){return Me.current.useDeferredValue(ee)},Cn.useEffect=function(ee,C){return Me.current.useEffect(ee,C)},Cn.useId=function(){return Me.current.useId()},Cn.useImperativeHandle=function(ee,C,J){return Me.current.useImperativeHandle(ee,C,J)},Cn.useInsertionEffect=function(ee,C){return Me.current.useInsertionEffect(ee,C)},Cn.useLayoutEffect=function(ee,C){return Me.current.useLayoutEffect(ee,C)},Cn.useMemo=function(ee,C){return Me.current.useMemo(ee,C)},Cn.useReducer=function(ee,C,J){return Me.current.useReducer(ee,C,J)},Cn.useRef=function(ee){return Me.current.useRef(ee)},Cn.useState=function(ee){return Me.current.useState(ee)},Cn.useSyncExternalStore=function(ee,C,J){return Me.current.useSyncExternalStore(ee,C,J)},Cn.useTransition=function(){return Me.current.useTransition()},Cn.version="18.3.1",Cn}var Uh;function Af(){return Uh||(Uh=1,Tu.exports=hg()),Tu.exports}var Wh;function pg(){if(Wh)return Uc;Wh=1;var i=Af(),a=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function m(p,g,v){var w,A={},R=null,b=null;v!==void 0&&(R=""+v),g.key!==void 0&&(R=""+g.key),g.ref!==void 0&&(b=g.ref);for(w in g)o.call(g,w)&&!l.hasOwnProperty(w)&&(A[w]=g[w]);if(p&&p.defaultProps)for(w in g=p.defaultProps,g)A[w]===void 0&&(A[w]=g[w]);return{$$typeof:a,type:p,key:R,ref:b,props:A,_owner:c.current}}return Uc.Fragment=r,Uc.jsx=m,Uc.jsxs=m,Uc}var qh;function mg(){return qh||(qh=1,Du.exports=pg()),Du.exports}var t=mg(),Z=Af();const Cf=Pm(Z),gg=fg({__proto__:null,default:Cf},[Z]);var Cd={},Fu={exports:{}},ss={},Ou={exports:{}},Bu={};var $h;function xg(){return $h||($h=1,(function(i){function a(fe,Le){var Ie=fe.length;fe.push(Le);e:for(;0<Ie;){var ee=Ie-1>>>1,C=fe[ee];if(0<c(C,Le))fe[ee]=Le,fe[Ie]=C,Ie=ee;else break e}}function r(fe){return fe.length===0?null:fe[0]}function o(fe){if(fe.length===0)return null;var Le=fe[0],Ie=fe.pop();if(Ie!==Le){fe[0]=Ie;e:for(var ee=0,C=fe.length,J=C>>>1;ee<J;){var K=2*(ee+1)-1,le=fe[K],pe=K+1,be=fe[pe];if(0>c(le,Ie))pe<C&&0>c(be,le)?(fe[ee]=be,fe[pe]=Ie,ee=pe):(fe[ee]=le,fe[K]=Ie,ee=K);else if(pe<C&&0>c(be,Ie))fe[ee]=be,fe[pe]=Ie,ee=pe;else break e}}return Le}function c(fe,Le){var Ie=fe.sortIndex-Le.sortIndex;return Ie!==0?Ie:fe.id-Le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var m=Date,p=m.now();i.unstable_now=function(){return m.now()-p}}var g=[],v=[],w=1,A=null,R=3,b=!1,U=!1,M=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(fe){for(var Le=r(v);Le!==null;){if(Le.callback===null)o(v);else if(Le.startTime<=fe)o(v),Le.sortIndex=Le.expirationTime,a(g,Le);else break;Le=r(v)}}function q(fe){if(M=!1,Q(fe),!U)if(r(g)!==null)U=!0,Re(de);else{var Le=r(v);Le!==null&&Me(q,Le.startTime-fe)}}function de(fe,Le){U=!1,M&&(M=!1,P(ge),ge=-1),b=!0;var Ie=R;try{for(Q(Le),A=r(g);A!==null&&(!(A.expirationTime>Le)||fe&&!z());){var ee=A.callback;if(typeof ee=="function"){A.callback=null,R=A.priorityLevel;var C=ee(A.expirationTime<=Le);Le=i.unstable_now(),typeof C=="function"?A.callback=C:A===r(g)&&o(g),Q(Le)}else o(g);A=r(g)}if(A!==null)var J=!0;else{var K=r(v);K!==null&&Me(q,K.startTime-Le),J=!1}return J}finally{A=null,R=Ie,b=!1}}var ue=!1,_e=null,ge=-1,te=5,xe=-1;function z(){return!(i.unstable_now()-xe<te)}function H(){if(_e!==null){var fe=i.unstable_now();xe=fe;var Le=!0;try{Le=_e(!0,fe)}finally{Le?ne():(ue=!1,_e=null)}}else ue=!1}var ne;if(typeof $=="function")ne=function(){$(H)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ke=se.port2;se.port1.onmessage=H,ne=function(){ke.postMessage(null)}}else ne=function(){I(H,0)};function Re(fe){_e=fe,ue||(ue=!0,ne())}function Me(fe,Le){ge=I(function(){fe(i.unstable_now())},Le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(fe){fe.callback=null},i.unstable_continueExecution=function(){U||b||(U=!0,Re(de))},i.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<fe?Math.floor(1e3/fe):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_getFirstCallbackNode=function(){return r(g)},i.unstable_next=function(fe){switch(R){case 1:case 2:case 3:var Le=3;break;default:Le=R}var Ie=R;R=Le;try{return fe()}finally{R=Ie}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(fe,Le){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var Ie=R;R=fe;try{return Le()}finally{R=Ie}},i.unstable_scheduleCallback=function(fe,Le,Ie){var ee=i.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?ee+Ie:ee):Ie=ee,fe){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=Ie+C,fe={id:w++,callback:Le,priorityLevel:fe,startTime:Ie,expirationTime:C,sortIndex:-1},Ie>ee?(fe.sortIndex=Ie,a(v,fe),r(g)===null&&fe===r(v)&&(M?(P(ge),ge=-1):M=!0,Me(q,Ie-ee))):(fe.sortIndex=C,a(g,fe),U||b||(U=!0,Re(de))),fe},i.unstable_shouldYield=z,i.unstable_wrapCallback=function(fe){var Le=R;return function(){var Ie=R;R=Le;try{return fe.apply(this,arguments)}finally{R=Ie}}}})(Bu)),Bu}var Hh;function yg(){return Hh||(Hh=1,Ou.exports=xg()),Ou.exports}var Vh;function vg(){if(Vh)return ss;Vh=1;var i=Af(),a=yg();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function l(e,n){m(e,n),m(e+"Capture",n)}function m(e,n){for(c[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},A={};function R(e){return g.call(A,e)?!0:g.call(w,e)?!1:v.test(e)?A[e]=!0:(w[e]=!0,!1)}function b(e,n,s,f){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return f?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function U(e,n,s,f){if(n===null||typeof n>"u"||b(e,n,s,f))return!0;if(f)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function M(e,n,s,f,y,S,D){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=S,this.removeEmptyString=D}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){I[e]=new M(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];I[n]=new M(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){I[e]=new M(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){I[e]=new M(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){I[e]=new M(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){I[e]=new M(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){I[e]=new M(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){I[e]=new M(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){I[e]=new M(e,5,!1,e.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(P,$);I[n]=new M(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(P,$);I[n]=new M(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(P,$);I[n]=new M(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){I[e]=new M(e,1,!1,e.toLowerCase(),null,!1,!1)}),I.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){I[e]=new M(e,1,!1,e.toLowerCase(),null,!0,!0)});function Q(e,n,s,f){var y=I.hasOwnProperty(n)?I[n]:null;(y!==null?y.type!==0:f||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(U(n,s,y,f)&&(s=null),f||y===null?R(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):y.mustUseProperty?e[y.propertyName]=s===null?y.type===3?!1:"":s:(n=y.attributeName,f=y.attributeNamespace,s===null?e.removeAttribute(n):(y=y.type,s=y===3||y===4&&s===!0?"":""+s,f?e.setAttributeNS(f,n,s):e.setAttribute(n,s))))}var q=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),ue=Symbol.for("react.portal"),_e=Symbol.for("react.fragment"),ge=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),z=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),fe=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,ee;function C(e){if(ee===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ee=n&&n[1]||""}return`
`+ee+e}var J=!1;function K(e,n){if(!e||J)return"";J=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(Ve){var f=Ve}Reflect.construct(e,[],n)}else{try{n.call()}catch(Ve){f=Ve}e.call(n.prototype)}else{try{throw Error()}catch(Ve){f=Ve}e()}}catch(Ve){if(Ve&&f&&typeof Ve.stack=="string"){for(var y=Ve.stack.split(`
`),S=f.stack.split(`
`),D=y.length-1,ce=S.length-1;1<=D&&0<=ce&&y[D]!==S[ce];)ce--;for(;1<=D&&0<=ce;D--,ce--)if(y[D]!==S[ce]){if(D!==1||ce!==1)do if(D--,ce--,0>ce||y[D]!==S[ce]){var ve=`
`+y[D].replace(" at new "," at ");return e.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",e.displayName)),ve}while(1<=D&&0<=ce);break}}}finally{J=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?C(e):""}function le(e){switch(e.tag){case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1),e;case 11:return e=K(e.type.render,!1),e;case 1:return e=K(e.type,!0),e;default:return""}}function pe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _e:return"Fragment";case ue:return"Portal";case te:return"Profiler";case ge:return"StrictMode";case ne:return"Suspense";case se:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case z:return(e.displayName||"Context")+".Consumer";case xe:return(e._context.displayName||"Context")+".Provider";case H:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ke:return n=e.displayName||null,n!==null?n:pe(e.type)||"Memo";case Re:n=e._payload,e=e._init;try{return pe(e(n))}catch{}}return null}function be(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(n);case 8:return n===ge?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function De(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Te(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ze(e){var n=Te(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),f=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var y=s.get,S=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return y.call(this)},set:function(D){f=""+D,S.call(this,D)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return f},setValue:function(D){f=""+D},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ee(e){e._valueTracker||(e._valueTracker=ze(e))}function it(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),f="";return e&&(f=Te(e)?e.checked?"true":"false":e.value),e=f,e!==s?(n.setValue(e),!0):!1}function ot(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function at(e,n){var s=n.checked;return Ie({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function G(e,n){var s=n.defaultValue==null?"":n.defaultValue,f=n.checked!=null?n.checked:n.defaultChecked;s=De(n.value!=null?n.value:s),e._wrapperState={initialChecked:f,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function mt(e,n){n=n.checked,n!=null&&Q(e,"checked",n,!1)}function It(e,n){mt(e,n);var s=De(n.value),f=n.type;if(s!=null)f==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(f==="submit"||f==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Qe(e,n.type,s):n.hasOwnProperty("defaultValue")&&Qe(e,n.type,De(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Ct(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var f=n.type;if(!(f!=="submit"&&f!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Qe(e,n,s){(n!=="number"||ot(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var bt=Array.isArray;function gt(e,n,s,f){if(e=e.options,n){n={};for(var y=0;y<s.length;y++)n["$"+s[y]]=!0;for(s=0;s<e.length;s++)y=n.hasOwnProperty("$"+e[s].value),e[s].selected!==y&&(e[s].selected=y),y&&f&&(e[s].defaultSelected=!0)}else{for(s=""+De(s),n=null,y=0;y<e.length;y++){if(e[y].value===s){e[y].selected=!0,f&&(e[y].defaultSelected=!0);return}n!==null||e[y].disabled||(n=e[y])}n!==null&&(n.selected=!0)}}function Mt(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return Ie({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rt(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(bt(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:De(s)}}function wt(e,n){var s=De(n.value),f=De(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),f!=null&&(e.defaultValue=""+f)}function Kt(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Wt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xt(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Wt(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ae,$e=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,f,y){MSApp.execUnsafeLocalFunction(function(){return e(n,s,f,y)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ae=Ae||document.createElement("div"),Ae.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ae.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function oe(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nt=["Webkit","ms","Moz","O"];Object.keys(je).forEach(function(e){nt.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),je[n]=je[e]})});function pt(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||je.hasOwnProperty(e)&&je[e]?(""+n).trim():n+"px"}function qe(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var f=s.indexOf("--")===0,y=pt(s,n[s],f);s==="float"&&(s="cssFloat"),f?e.setProperty(s,y):e[s]=y}}var ct=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zt(e,n){if(n){if(ct[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function vt(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bn=null;function qt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zt=null,he=null,ft=null;function Dt(e){if(e=Xe(e)){if(typeof zt!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Gt(n),zt(e.stateNode,e.type,n))}}function hn(e){he?ft?ft.push(e):ft=[e]:he=e}function pa(){if(he){var e=he,n=ft;if(ft=he=null,Dt(e),n)for(e=0;e<n.length;e++)Dt(n[e])}}function ln(e,n){return e(n)}function Tr(){}var rn=!1;function St(e,n,s){if(rn)return e(n,s);rn=!0;try{return ln(e,n,s)}finally{rn=!1,(he!==null||ft!==null)&&(Tr(),pa())}}function Ht(e,n){var s=e.stateNode;if(s===null)return null;var f=Gt(s);if(f===null)return null;s=f[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(e=e.type,f=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!f;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Jn=!1;if(p)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Jn=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Jn=!1}function Ka(e,n,s,f,y,S,D,ce,ve){var Ve=Array.prototype.slice.call(arguments,3);try{n.apply(s,Ve)}catch(lt){this.onError(lt)}}var On=!1,hr=null,qn=!1,vs=null,Fs={onError:function(e){On=!0,hr=e}};function Xa(e,n,s,f,y,S,D,ce,ve){On=!1,hr=null,Ka.apply(Fs,arguments)}function Pt(e,n,s,f,y,S,D,ce,ve){if(Xa.apply(this,arguments),On){if(On){var Ve=hr;On=!1,hr=null}else throw Error(r(198));qn||(qn=!0,vs=Ve)}}function Mn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Ta(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Fa(e){if(Mn(e)!==e)throw Error(r(188))}function $n(e){var n=e.alternate;if(!n){if(n=Mn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,f=n;;){var y=s.return;if(y===null)break;var S=y.alternate;if(S===null){if(f=y.return,f!==null){s=f;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===s)return Fa(y),e;if(S===f)return Fa(y),n;S=S.sibling}throw Error(r(188))}if(s.return!==f.return)s=y,f=S;else{for(var D=!1,ce=y.child;ce;){if(ce===s){D=!0,s=y,f=S;break}if(ce===f){D=!0,f=y,s=S;break}ce=ce.sibling}if(!D){for(ce=S.child;ce;){if(ce===s){D=!0,s=S,f=y;break}if(ce===f){D=!0,f=S,s=y;break}ce=ce.sibling}if(!D)throw Error(r(189))}}if(s.alternate!==f)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function Kn(e){return e=$n(e),e!==null?Xn(e):null}function Xn(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Xn(e);if(n!==null)return n;e=e.sibling}return null}var Fr=a.unstable_scheduleCallback,Os=a.unstable_cancelCallback,Di=a.unstable_shouldYield,ut=a.unstable_requestPaint,gn=a.unstable_now,ls=a.unstable_getCurrentPriorityLevel,Qa=a.unstable_ImmediatePriority,Lr=a.unstable_UserBlockingPriority,ka=a.unstable_NormalPriority,Za=a.unstable_LowPriority,cs=a.unstable_IdlePriority,Bs=null,na=null;function Aa(e){if(na&&typeof na.onCommitFiberRoot=="function")try{na.onCommitFiberRoot(Bs,e,void 0,(e.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:Qt,pi=Math.log,To=Math.LN2;function Qt(e){return e>>>=0,e===0?32:31-(pi(e)/To|0)|0}var ei=64,ti=4194304;function mi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $i(e,n){var s=e.pendingLanes;if(s===0)return 0;var f=0,y=e.suspendedLanes,S=e.pingedLanes,D=s&268435455;if(D!==0){var ce=D&~y;ce!==0?f=mi(ce):(S&=D,S!==0&&(f=mi(S)))}else D=s&~y,D!==0?f=mi(D):S!==0&&(f=mi(S));if(f===0)return 0;if(n!==0&&n!==f&&(n&y)===0&&(y=f&-f,S=n&-n,y>=S||y===16&&(S&4194240)!==0))return n;if((f&4)!==0&&(f|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=f;0<n;)s=31-Qn(n),y=1<<s,f|=e[s],n&=~y;return f}function ni(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hr(e,n){for(var s=e.suspendedLanes,f=e.pingedLanes,y=e.expirationTimes,S=e.pendingLanes;0<S;){var D=31-Qn(S),ce=1<<D,ve=y[D];ve===-1?((ce&s)===0||(ce&f)!==0)&&(y[D]=ni(ce,n)):ve<=n&&(e.expiredLanes|=ce),S&=~ce}}function ri(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bs(){var e=ei;return ei<<=1,(ei&4194240)===0&&(ei=64),e}function Fo(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Bn(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Qn(n),e[n]=s}function Oa(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var f=e.eventTimes;for(e=e.expirationTimes;0<s;){var y=31-Qn(s),S=1<<y;n[y]=0,f[y]=-1,e[y]=-1,s&=~S}}function ra(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var f=31-Qn(s),y=1<<f;y&n|e[f]&n&&(e[f]|=n),s&=~y}}var Pn=0;function gi(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ws,Oo,js,aa,Hi,wn=!1,lr=[],Ba=null,Ca=null,Hn=null,ma=new Map,en=new Map,ai=[],kn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zs(e,n){switch(e){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":ma.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":en.delete(n.pointerId)}}function _r(e,n,s,f,y,S){return e===null||e.nativeEvent!==S?(e={blockedOn:n,domEventName:s,eventSystemFlags:f,nativeEvent:S,targetContainers:[y]},n!==null&&(n=Xe(n),n!==null&&Oo(n)),e):(e.eventSystemFlags|=f,n=e.targetContainers,y!==null&&n.indexOf(y)===-1&&n.push(y),e)}function Vi(e,n,s,f,y){switch(n){case"focusin":return Ba=_r(Ba,e,n,s,f,y),!0;case"dragenter":return Ca=_r(Ca,e,n,s,f,y),!0;case"mouseover":return Hn=_r(Hn,e,n,s,f,y),!0;case"pointerover":var S=y.pointerId;return ma.set(S,_r(ma.get(S)||null,e,n,s,f,y)),!0;case"gotpointercapture":return S=y.pointerId,en.set(S,_r(en.get(S)||null,e,n,s,f,y)),!0}return!1}function Us(e){var n=Se(e.target);if(n!==null){var s=Mn(n);if(s!==null){if(n=s.tag,n===13){if(n=Ta(s),n!==null){e.blockedOn=n,Hi(e.priority,function(){js(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ss(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Yi(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var f=new s.constructor(s.type,s);bn=f,s.target.dispatchEvent(f),bn=null}else return n=Xe(s),n!==null&&Oo(n),e.blockedOn=s,!1;n.shift()}return!0}function Pa(e,n,s){Ss(e)&&s.delete(n)}function Bo(){wn=!1,Ba!==null&&Ss(Ba)&&(Ba=null),Ca!==null&&Ss(Ca)&&(Ca=null),Hn!==null&&Ss(Hn)&&(Hn=null),ma.forEach(Pa),en.forEach(Pa)}function xi(e,n){e.blockedOn===n&&(e.blockedOn=null,wn||(wn=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bo)))}function ir(e){function n(y){return xi(y,e)}if(0<lr.length){xi(lr[0],e);for(var s=1;s<lr.length;s++){var f=lr[s];f.blockedOn===e&&(f.blockedOn=null)}}for(Ba!==null&&xi(Ba,e),Ca!==null&&xi(Ca,e),Hn!==null&&xi(Hn,e),ma.forEach(n),en.forEach(n),s=0;s<ai.length;s++)f=ai[s],f.blockedOn===e&&(f.blockedOn=null);for(;0<ai.length&&(s=ai[0],s.blockedOn===null);)Us(s),s.blockedOn===null&&ai.shift()}var La=q.ReactCurrentBatchConfig,ds=!0;function Ws(e,n,s,f){var y=Pn,S=La.transition;La.transition=null;try{Pn=1,qs(e,n,s,f)}finally{Pn=y,La.transition=S}}function pr(e,n,s,f){var y=Pn,S=La.transition;La.transition=null;try{Pn=4,qs(e,n,s,f)}finally{Pn=y,La.transition=S}}function qs(e,n,s,f){if(ds){var y=Yi(e,n,s,f);if(y===null)Wo(e,n,f,yi,s),zs(e,f);else if(Vi(y,e,n,s,f))f.stopPropagation();else if(zs(e,f),n&4&&-1<kn.indexOf(e)){for(;y!==null;){var S=Xe(y);if(S!==null&&ws(S),S=Yi(e,n,s,f),S===null&&Wo(e,n,f,yi,s),S===y)break;y=S}y!==null&&f.stopPropagation()}else Wo(e,n,f,null,s)}}var yi=null;function Yi(e,n,s,f){if(yi=null,e=qt(f),e=Se(e),e!==null)if(n=Mn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Ta(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return yi=e,null}function $s(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ls()){case Qa:return 1;case Lr:return 4;case ka:case Za:return 16;case cs:return 536870912;default:return 16}default:return 16}}var ga=null,Vr=null,vi=null;function jn(){if(vi)return vi;var e,n=Vr,s=n.length,f,y="value"in ga?ga.value:ga.textContent,S=y.length;for(e=0;e<s&&n[e]===y[e];e++);var D=s-e;for(f=1;f<=D&&n[s-f]===y[S-f];f++);return vi=y.slice(e,1<f?1-f:void 0)}function _a(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Rn(){return!0}function Ti(){return!1}function sr(e){function n(s,f,y,S,D){this._reactName=s,this._targetInst=y,this.type=f,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var ce in e)e.hasOwnProperty(ce)&&(s=e[ce],this[ce]=s?s(S):S[ce]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Rn:Ti,this.isPropagationStopped=Ti,this}return Ie(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Rn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Rn)},persist:function(){},isPersistent:Rn}),n}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=sr(bi),x=Ie({},bi,{view:0,detail:0}),L=sr(x),ie,me,Pe,Ke=Ie({},x,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pe&&(Pe&&e.type==="mousemove"?(ie=e.screenX-Pe.screenX,me=e.screenY-Pe.screenY):me=ie=0,Pe=e),ie)},movementY:function(e){return"movementY"in e?e.movementY:me}}),tt=sr(Ke),Nt=Ie({},Ke,{dataTransfer:0}),Bt=sr(Nt),Yt=Ie({},x,{relatedTarget:0}),an=sr(Yt),xn=Ie({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),cr=sr(xn),dr=Ie({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vn=sr(dr),Sr=Ie({},bi,{data:0}),Nr=sr(Sr),Yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fi(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Zn[e])?!!n[e]:!1}function kr(){return Fi}var wi=Ie({},x,{key:function(e){if(e.key){var n=Yr[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_a(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return e.type==="keypress"?_a(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_a(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ji=sr(wi),Ns=Ie({},Ke,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=sr(Ns),ii=Ie({},x,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),mr=sr(ii),Oi=Ie({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ks=sr(Oi),si=Ie({},Ke,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oi=sr(si),gr=[9,13,27,32],Xi=p&&"CompositionEvent"in window,Ia=null;p&&"documentMode"in document&&(Ia=document.documentMode);var Qi=p&&"TextEvent"in window&&!Ia,ya=p&&(!Xi||Ia&&8<Ia&&11>=Ia),jt=" ",_n=!1;function As(e,n){switch(e){case"keyup":return gr.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ji(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ia=!1;function li(e,n){switch(e){case"compositionend":return ji(n);case"keypress":return n.which!==32?null:(_n=!0,jt);case"textInput":return e=n.data,e===jt&&_n?null:e;default:return null}}function va(e,n){if(ia)return e==="compositionend"||!Xi&&As(e,n)?(e=jn(),vi=Vr=ga=null,ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ya&&n.locale!=="ko"?null:n.data;default:return null}}var Si={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Or(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Si[e.type]:n==="textarea"}function Zi(e,n,s,f){hn(f),n=ci(n,"onChange"),0<n.length&&(s=new xa("onChange","change",null,s,f),e.push({event:s,listeners:n}))}var Bi=null,Ni=null;function Yn(e){So(e,0)}function Hs(e){var n=rt(e);if(it(n))return e}function es(e,n){if(e==="change")return n}var za=!1;if(p){var Vs;if(p){var mo="oninput"in document;if(!mo){var Ys=document.createElement("div");Ys.setAttribute("oninput","return;"),mo=typeof Ys.oninput=="function"}Vs=mo}else Vs=!1;za=Vs&&(!document.documentMode||9<document.documentMode)}function go(){Bi&&(Bi.detachEvent("onpropertychange",ki),Ni=Bi=null)}function ki(e){if(e.propertyName==="value"&&Hs(Ni)){var n=[];Zi(n,Ni,e,qt(e)),St(Yn,n)}}function Cs(e,n,s){e==="focusin"?(go(),Bi=n,Ni=s,Bi.attachEvent("onpropertychange",ki)):e==="focusout"&&go()}function Gr(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hs(Ni)}function Gs(e,n){if(e==="click")return Hs(n)}function Jr(e,n){if(e==="input"||e==="change")return Hs(n)}function Js(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var xr=typeof Object.is=="function"?Object.is:Js;function Ua(e,n){if(xr(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),f=Object.keys(n);if(s.length!==f.length)return!1;for(f=0;f<s.length;f++){var y=s[f];if(!g.call(n,y)||!xr(e[y],n[y]))return!1}return!0}function En(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sn(e,n){var s=En(e);e=0;for(var f;s;){if(s.nodeType===3){if(f=e+s.textContent.length,e<=n&&f>=n)return{node:s,offset:n-e};e=f}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=En(s)}}function yr(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?yr(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ir(){for(var e=window,n=ot();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ot(e.document)}return n}function Ai(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function vr(e){var n=Ir(),s=e.focusedElem,f=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&yr(s.ownerDocument.documentElement,s)){if(f!==null&&Ai(s)){if(n=f.start,e=f.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var y=s.textContent.length,S=Math.min(f.start,y);f=f.end===void 0?S:Math.min(f.end,y),!e.extend&&S>f&&(y=f,f=S,S=y),y=Sn(s,S);var D=Sn(s,f);y&&D&&(e.rangeCount!==1||e.anchorNode!==y.node||e.anchorOffset!==y.offset||e.focusNode!==D.node||e.focusOffset!==D.offset)&&(n=n.createRange(),n.setStart(y.node,y.offset),e.removeAllRanges(),S>f?(e.addRange(n),e.extend(D.node,D.offset)):(n.setEnd(D.node,D.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xo=p&&"documentMode"in document&&11>=document.documentMode,Ps=null,In=null,yo=null,zo=!1;function Ko(e,n,s){var f=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zo||Ps==null||Ps!==ot(f)||(f=Ps,"selectionStart"in f&&Ai(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),yo&&Ua(yo,f)||(yo=f,f=ci(In,"onSelect"),0<f.length&&(n=new xa("onSelect","select",null,n,s),e.push({event:n,listeners:f}),n.target=Ps)))}function Uo(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ks={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionend:Uo("Transition","TransitionEnd")},Xs={},vo={};p&&(vo=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function bo(e){if(Xs[e])return Xs[e];if(!Ks[e])return e;var n=Ks[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in vo)return Xs[e]=n[s];return e}var wl=bo("animationend"),jl=bo("animationiteration"),Sl=bo("animationstart"),Nl=bo("transitionend"),kl=new Map,Al="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(e,n){kl.set(e,n),l(n,[e])}for(var wo=0;wo<Al.length;wo++){var Ea=Al[wo],Ci=Ea.toLowerCase(),Xo=Ea[0].toUpperCase()+Ea.slice(1);ts(Ci,"on"+Xo)}ts(wl,"onAnimationEnd"),ts(jl,"onAnimationIteration"),ts(Sl,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(Nl,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cl=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function jo(e,n,s){var f=e.type||"unknown-event";e.currentTarget=s,Pt(f,n,void 0,e),e.currentTarget=null}function So(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var f=e[s],y=f.event;f=f.listeners;e:{var S=void 0;if(n)for(var D=f.length-1;0<=D;D--){var ce=f[D],ve=ce.instance,Ve=ce.currentTarget;if(ce=ce.listener,ve!==S&&y.isPropagationStopped())break e;jo(y,ce,Ve),S=ve}else for(D=0;D<f.length;D++){if(ce=f[D],ve=ce.instance,Ve=ce.currentTarget,ce=ce.listener,ve!==S&&y.isPropagationStopped())break e;jo(y,ce,Ve),S=ve}}}if(qn)throw e=vs,qn=!1,vs=null,e}function Un(e,n){var s=n[X];s===void 0&&(s=n[X]=new Set);var f=e+"__bubble";s.has(f)||(Wa(n,e,2,!1),s.add(f))}function Qo(e,n,s){var f=0;n&&(f|=4),Wa(s,e,f,n)}var No="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[No]){e[No]=!0,o.forEach(function(s){s!=="selectionchange"&&(Cl.has(s)||Qo(s,!1,e),Qo(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[No]||(n[No]=!0,Qo("selectionchange",!1,n))}}function Wa(e,n,s,f){switch($s(n)){case 1:var y=Ws;break;case 4:y=pr;break;default:y=qs}s=y.bind(null,n,s,e),y=void 0,!Jn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(y=!0),f?y!==void 0?e.addEventListener(n,s,{capture:!0,passive:y}):e.addEventListener(n,s,!0):y!==void 0?e.addEventListener(n,s,{passive:y}):e.addEventListener(n,s,!1)}function Wo(e,n,s,f,y){var S=f;if((n&1)===0&&(n&2)===0&&f!==null)e:for(;;){if(f===null)return;var D=f.tag;if(D===3||D===4){var ce=f.stateNode.containerInfo;if(ce===y||ce.nodeType===8&&ce.parentNode===y)break;if(D===4)for(D=f.return;D!==null;){var ve=D.tag;if((ve===3||ve===4)&&(ve=D.stateNode.containerInfo,ve===y||ve.nodeType===8&&ve.parentNode===y))return;D=D.return}for(;ce!==null;){if(D=Se(ce),D===null)return;if(ve=D.tag,ve===5||ve===6){f=S=D;continue e}ce=ce.parentNode}}f=f.return}St(function(){var Ve=S,lt=qt(s),dt=[];e:{var st=kl.get(e);if(st!==void 0){var At=xa,Ft=e;switch(e){case"keypress":if(_a(s)===0)break e;case"keydown":case"keyup":At=Ji;break;case"focusin":Ft="focus",At=an;break;case"focusout":Ft="blur",At=an;break;case"beforeblur":case"afterblur":At=an;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":At=tt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":At=Bt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":At=mr;break;case wl:case jl:case Sl:At=cr;break;case Nl:At=ks;break;case"scroll":At=L;break;case"wheel":At=oi;break;case"copy":case"cut":case"paste":At=Vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":At=Ki}var Ut=(n&4)!==0,ca=!Ut&&e==="scroll",Be=Ut?st!==null?st+"Capture":null:st;Ut=[];for(var Ne=Ve,He;Ne!==null;){He=Ne;var ht=He.stateNode;if(He.tag===5&&ht!==null&&(He=ht,Be!==null&&(ht=Ht(Ne,Be),ht!=null&&Ut.push(We(Ne,ht,He)))),ca)break;Ne=Ne.return}0<Ut.length&&(st=new At(st,Ft,null,s,lt),dt.push({event:st,listeners:Ut}))}}if((n&7)===0){e:{if(st=e==="mouseover"||e==="pointerover",At=e==="mouseout"||e==="pointerout",st&&s!==bn&&(Ft=s.relatedTarget||s.fromElement)&&(Se(Ft)||Ft[E]))break e;if((At||st)&&(st=lt.window===lt?lt:(st=lt.ownerDocument)?st.defaultView||st.parentWindow:window,At?(Ft=s.relatedTarget||s.toElement,At=Ve,Ft=Ft?Se(Ft):null,Ft!==null&&(ca=Mn(Ft),Ft!==ca||Ft.tag!==5&&Ft.tag!==6)&&(Ft=null)):(At=null,Ft=Ve),At!==Ft)){if(Ut=tt,ht="onMouseLeave",Be="onMouseEnter",Ne="mouse",(e==="pointerout"||e==="pointerover")&&(Ut=Ki,ht="onPointerLeave",Be="onPointerEnter",Ne="pointer"),ca=At==null?st:rt(At),He=Ft==null?st:rt(Ft),st=new Ut(ht,Ne+"leave",At,s,lt),st.target=ca,st.relatedTarget=He,ht=null,Se(lt)===Ve&&(Ut=new Ut(Be,Ne+"enter",Ft,s,lt),Ut.target=He,Ut.relatedTarget=ca,ht=Ut),ca=ht,At&&Ft)t:{for(Ut=At,Be=Ft,Ne=0,He=Ut;He;He=Qs(He))Ne++;for(He=0,ht=Be;ht;ht=Qs(ht))He++;for(;0<Ne-He;)Ut=Qs(Ut),Ne--;for(;0<He-Ne;)Be=Qs(Be),He--;for(;Ne--;){if(Ut===Be||Be!==null&&Ut===Be.alternate)break t;Ut=Qs(Ut),Be=Qs(Be)}Ut=null}else Ut=null;At!==null&&Vl(dt,st,At,Ut,!1),Ft!==null&&ca!==null&&Vl(dt,ca,Ft,Ut,!0)}}e:{if(st=Ve?rt(Ve):window,At=st.nodeName&&st.nodeName.toLowerCase(),At==="select"||At==="input"&&st.type==="file")var Vt=es;else if(Or(st))if(za)Vt=Jr;else{Vt=Gr;var tn=Cs}else(At=st.nodeName)&&At.toLowerCase()==="input"&&(st.type==="checkbox"||st.type==="radio")&&(Vt=Gs);if(Vt&&(Vt=Vt(e,Ve))){Zi(dt,Vt,s,lt);break e}tn&&tn(e,st,Ve),e==="focusout"&&(tn=st._wrapperState)&&tn.controlled&&st.type==="number"&&Qe(st,"number",st.value)}switch(tn=Ve?rt(Ve):window,e){case"focusin":(Or(tn)||tn.contentEditable==="true")&&(Ps=tn,In=Ve,yo=null);break;case"focusout":yo=In=Ps=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,Ko(dt,s,lt);break;case"selectionchange":if(xo)break;case"keydown":case"keyup":Ko(dt,s,lt)}var nn;if(Xi)e:{switch(e){case"compositionstart":var dn="onCompositionStart";break e;case"compositionend":dn="onCompositionEnd";break e;case"compositionupdate":dn="onCompositionUpdate";break e}dn=void 0}else ia?As(e,s)&&(dn="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(dn="onCompositionStart");dn&&(ya&&s.locale!=="ko"&&(ia||dn!=="onCompositionStart"?dn==="onCompositionEnd"&&ia&&(nn=jn()):(ga=lt,Vr="value"in ga?ga.value:ga.textContent,ia=!0)),tn=ci(Ve,dn),0<tn.length&&(dn=new Nr(dn,e,null,s,lt),dt.push({event:dn,listeners:tn}),nn?dn.data=nn:(nn=ji(s),nn!==null&&(dn.data=nn)))),(nn=Qi?li(e,s):va(e,s))&&(Ve=ci(Ve,"onBeforeInput"),0<Ve.length&&(lt=new Nr("onBeforeInput","beforeinput",null,s,lt),dt.push({event:lt,listeners:Ve}),lt.data=nn))}So(dt,n)})}function We(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ci(e,n){for(var s=n+"Capture",f=[];e!==null;){var y=e,S=y.stateNode;y.tag===5&&S!==null&&(y=S,S=Ht(e,s),S!=null&&f.unshift(We(e,S,y)),S=Ht(e,n),S!=null&&f.push(We(e,S,y))),e=e.return}return f}function Qs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vl(e,n,s,f,y){for(var S=n._reactName,D=[];s!==null&&s!==f;){var ce=s,ve=ce.alternate,Ve=ce.stateNode;if(ve!==null&&ve===f)break;ce.tag===5&&Ve!==null&&(ce=Ve,y?(ve=Ht(s,S),ve!=null&&D.unshift(We(s,ve,ce))):y||(ve=Ht(s,S),ve!=null&&D.push(We(s,ve,ce)))),s=s.return}D.length!==0&&e.push({event:n,listeners:D})}var Cc=/\r\n?/g,Pc=/\u0000|\uFFFD/g;function Yl(e){return(typeof e=="string"?e:""+e).replace(Cc,`
`).replace(Pc,"")}function Zo(e,n,s){if(n=Yl(n),Yl(e)!==n&&s)throw Error(r(425))}function Zs(){}var ko=null,Ls=null;function Ao(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var el=typeof setTimeout=="function"?setTimeout:void 0,Gl=typeof clearTimeout=="function"?clearTimeout:void 0,Pl=typeof Promise=="function"?Promise:void 0,tl=typeof queueMicrotask=="function"?queueMicrotask:typeof Pl<"u"?function(e){return Pl.resolve(null).then(e).catch(Co)}:el;function Co(e){setTimeout(function(){throw e})}function eo(e,n){var s=n,f=0;do{var y=s.nextSibling;if(e.removeChild(s),y&&y.nodeType===8)if(s=y.data,s==="/$"){if(f===0){e.removeChild(y),ir(n);return}f--}else s!=="$"&&s!=="$?"&&s!=="$!"||f++;s=y}while(s);ir(n)}function Ma(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function u(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var k=Math.random().toString(36).slice(2),O="__reactFiber$"+k,T="__reactProps$"+k,E="__reactContainer$"+k,X="__reactEvents$"+k,V="__reactListeners$"+k,Ce="__reactHandles$"+k;function Se(e){var n=e[O];if(n)return n;for(var s=e.parentNode;s;){if(n=s[E]||s[O]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=u(e);e!==null;){if(s=e[O])return s;e=u(e)}return n}e=s,s=e.parentNode}return null}function Xe(e){return e=e[O]||e[E],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rt(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Gt(e){return e[T]||null}var yt=[],vn=-1;function sn(e){return{current:e}}function cn(e){0>vn||(e.current=yt[vn],yt[vn]=null,vn--)}function yn(e,n){vn++,yt[vn]=e.current,e.current=n}var ba={},sa=sn(ba),qa=sn(!1),kt=ba;function Wn(e,n){var s=e.type.contextTypes;if(!s)return ba;var f=e.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===n)return f.__reactInternalMemoizedMaskedChildContext;var y={},S;for(S in s)y[S]=n[S];return f&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=y),y}function er(e){return e=e.childContextTypes,e!=null}function _s(){cn(qa),cn(sa)}function Jl(e,n,s){if(sa.current!==ba)throw Error(r(168));yn(sa,n),yn(qa,s)}function Lc(e,n,s){var f=e.stateNode;if(n=n.childContextTypes,typeof f.getChildContext!="function")return s;f=f.getChildContext();for(var y in f)if(!(y in n))throw Error(r(108,be(e)||"Unknown",y));return Ie({},s,f)}function qo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ba,kt=sa.current,yn(sa,e),yn(qa,qa.current),!0}function Zc(e,n,s){var f=e.stateNode;if(!f)throw Error(r(169));s?(e=Lc(e,n,kt),f.__reactInternalMemoizedMergedChildContext=e,cn(qa),cn(sa),yn(sa,e)):cn(qa),yn(qa,s)}var to=null,Ll=!1,d=!1;function h(e){to===null?to=[e]:to.push(e)}function j(e){Ll=!0,h(e)}function N(){if(!d&&to!==null){d=!0;var e=0,n=Pn;try{var s=to;for(Pn=1;e<s.length;e++){var f=s[e];do f=f(!0);while(f!==null)}to=null,Ll=!1}catch(y){throw to!==null&&(to=to.slice(e+1)),Fr(Qa,N),y}finally{Pn=n,d=!1}}return null}var _=[],F=0,B=null,W=0,Y=[],re=0,ye=null,Oe=1,ae="";function we(e,n){_[F++]=W,_[F++]=B,B=e,W=n}function Fe(e,n,s){Y[re++]=Oe,Y[re++]=ae,Y[re++]=ye,ye=e;var f=Oe;e=ae;var y=32-Qn(f)-1;f&=~(1<<y),s+=1;var S=32-Qn(n)+y;if(30<S){var D=y-y%5;S=(f&(1<<D)-1).toString(32),f>>=D,y-=D,Oe=1<<32-Qn(n)+y|s<<y|f,ae=S+e}else Oe=1<<S|s<<y|f,ae=e}function Je(e){e.return!==null&&(we(e,1),Fe(e,1,0))}function Ue(e){for(;e===B;)B=_[--F],_[F]=null,W=_[--F],_[F]=null;for(;e===ye;)ye=Y[--re],Y[re]=null,ae=Y[--re],Y[re]=null,Oe=Y[--re],Y[re]=null}var Ye=null,Ge=null,Ze=!1,et=null;function $t(e,n){var s=Ds(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Lt(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Ye=e,Ge=Ma(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Ye=e,Ge=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=ye!==null?{id:Oe,overflow:ae}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Ds(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,Ye=e,Ge=null,!0):!1;default:return!1}}function fn(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tt(e){if(Ze){var n=Ge;if(n){var s=n;if(!Lt(e,n)){if(fn(e))throw Error(r(418));n=Ma(s.nextSibling);var f=Ye;n&&Lt(e,n)?$t(f,s):(e.flags=e.flags&-4097|2,Ze=!1,Ye=e)}}else{if(fn(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ze=!1,Ye=e}}}function An(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ye=e}function Er(e){if(e!==Ye)return!1;if(!Ze)return An(e),Ze=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ao(e.type,e.memoizedProps)),n&&(n=Ge)){if(fn(e))throw pn(),Error(r(418));for(;n;)$t(e,n),n=Ma(n.nextSibling)}if(An(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){Ge=Ma(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}Ge=null}}else Ge=Ye?Ma(e.stateNode.nextSibling):null;return!0}function pn(){for(var e=Ge;e;)e=Ma(e.nextSibling)}function _t(){Ge=Ye=null,Ze=!1}function xt(e){et===null?et=[e]:et.push(e)}var zr=q.ReactCurrentBatchConfig;function on(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var f=s.stateNode}if(!f)throw Error(r(147,e));var y=f,S=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===S?n.ref:(n=function(D){var ce=y.refs;D===null?delete ce[S]:ce[S]=D},n._stringRef=S,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Nn(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function or(e){var n=e._init;return n(e._payload)}function wa(e){function n(Be,Ne){if(e){var He=Be.deletions;He===null?(Be.deletions=[Ne],Be.flags|=16):He.push(Ne)}}function s(Be,Ne){if(!e)return null;for(;Ne!==null;)n(Be,Ne),Ne=Ne.sibling;return null}function f(Be,Ne){for(Be=new Map;Ne!==null;)Ne.key!==null?Be.set(Ne.key,Ne):Be.set(Ne.index,Ne),Ne=Ne.sibling;return Be}function y(Be,Ne){return Be=ul(Be,Ne),Be.index=0,Be.sibling=null,Be}function S(Be,Ne,He){return Be.index=He,e?(He=Be.alternate,He!==null?(He=He.index,He<Ne?(Be.flags|=2,Ne):He):(Be.flags|=2,Ne)):(Be.flags|=1048576,Ne)}function D(Be){return e&&Be.alternate===null&&(Be.flags|=2),Be}function ce(Be,Ne,He,ht){return Ne===null||Ne.tag!==6?(Ne=Lu(He,Be.mode,ht),Ne.return=Be,Ne):(Ne=y(Ne,He),Ne.return=Be,Ne)}function ve(Be,Ne,He,ht){var Vt=He.type;return Vt===_e?lt(Be,Ne,He.props.children,ht,He.key):Ne!==null&&(Ne.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===Re&&or(Vt)===Ne.type)?(ht=y(Ne,He.props),ht.ref=on(Be,Ne,He),ht.return=Be,ht):(ht=vd(He.type,He.key,He.props,null,Be.mode,ht),ht.ref=on(Be,Ne,He),ht.return=Be,ht)}function Ve(Be,Ne,He,ht){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==He.containerInfo||Ne.stateNode.implementation!==He.implementation?(Ne=_u(He,Be.mode,ht),Ne.return=Be,Ne):(Ne=y(Ne,He.children||[]),Ne.return=Be,Ne)}function lt(Be,Ne,He,ht,Vt){return Ne===null||Ne.tag!==7?(Ne=Fl(He,Be.mode,ht,Vt),Ne.return=Be,Ne):(Ne=y(Ne,He),Ne.return=Be,Ne)}function dt(Be,Ne,He){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return Ne=Lu(""+Ne,Be.mode,He),Ne.return=Be,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case de:return He=vd(Ne.type,Ne.key,Ne.props,null,Be.mode,He),He.ref=on(Be,null,Ne),He.return=Be,He;case ue:return Ne=_u(Ne,Be.mode,He),Ne.return=Be,Ne;case Re:var ht=Ne._init;return dt(Be,ht(Ne._payload),He)}if(bt(Ne)||Le(Ne))return Ne=Fl(Ne,Be.mode,He,null),Ne.return=Be,Ne;Nn(Be,Ne)}return null}function st(Be,Ne,He,ht){var Vt=Ne!==null?Ne.key:null;if(typeof He=="string"&&He!==""||typeof He=="number")return Vt!==null?null:ce(Be,Ne,""+He,ht);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case de:return He.key===Vt?ve(Be,Ne,He,ht):null;case ue:return He.key===Vt?Ve(Be,Ne,He,ht):null;case Re:return Vt=He._init,st(Be,Ne,Vt(He._payload),ht)}if(bt(He)||Le(He))return Vt!==null?null:lt(Be,Ne,He,ht,null);Nn(Be,He)}return null}function At(Be,Ne,He,ht,Vt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return Be=Be.get(He)||null,ce(Ne,Be,""+ht,Vt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case de:return Be=Be.get(ht.key===null?He:ht.key)||null,ve(Ne,Be,ht,Vt);case ue:return Be=Be.get(ht.key===null?He:ht.key)||null,Ve(Ne,Be,ht,Vt);case Re:var tn=ht._init;return At(Be,Ne,He,tn(ht._payload),Vt)}if(bt(ht)||Le(ht))return Be=Be.get(He)||null,lt(Ne,Be,ht,Vt,null);Nn(Ne,ht)}return null}function Ft(Be,Ne,He,ht){for(var Vt=null,tn=null,nn=Ne,dn=Ne=0,Ga=null;nn!==null&&dn<He.length;dn++){nn.index>dn?(Ga=nn,nn=null):Ga=nn.sibling;var zn=st(Be,nn,He[dn],ht);if(zn===null){nn===null&&(nn=Ga);break}e&&nn&&zn.alternate===null&&n(Be,nn),Ne=S(zn,Ne,dn),tn===null?Vt=zn:tn.sibling=zn,tn=zn,nn=Ga}if(dn===He.length)return s(Be,nn),Ze&&we(Be,dn),Vt;if(nn===null){for(;dn<He.length;dn++)nn=dt(Be,He[dn],ht),nn!==null&&(Ne=S(nn,Ne,dn),tn===null?Vt=nn:tn.sibling=nn,tn=nn);return Ze&&we(Be,dn),Vt}for(nn=f(Be,nn);dn<He.length;dn++)Ga=At(nn,Be,dn,He[dn],ht),Ga!==null&&(e&&Ga.alternate!==null&&nn.delete(Ga.key===null?dn:Ga.key),Ne=S(Ga,Ne,dn),tn===null?Vt=Ga:tn.sibling=Ga,tn=Ga);return e&&nn.forEach(function(fl){return n(Be,fl)}),Ze&&we(Be,dn),Vt}function Ut(Be,Ne,He,ht){var Vt=Le(He);if(typeof Vt!="function")throw Error(r(150));if(He=Vt.call(He),He==null)throw Error(r(151));for(var tn=Vt=null,nn=Ne,dn=Ne=0,Ga=null,zn=He.next();nn!==null&&!zn.done;dn++,zn=He.next()){nn.index>dn?(Ga=nn,nn=null):Ga=nn.sibling;var fl=st(Be,nn,zn.value,ht);if(fl===null){nn===null&&(nn=Ga);break}e&&nn&&fl.alternate===null&&n(Be,nn),Ne=S(fl,Ne,dn),tn===null?Vt=fl:tn.sibling=fl,tn=fl,nn=Ga}if(zn.done)return s(Be,nn),Ze&&we(Be,dn),Vt;if(nn===null){for(;!zn.done;dn++,zn=He.next())zn=dt(Be,zn.value,ht),zn!==null&&(Ne=S(zn,Ne,dn),tn===null?Vt=zn:tn.sibling=zn,tn=zn);return Ze&&we(Be,dn),Vt}for(nn=f(Be,nn);!zn.done;dn++,zn=He.next())zn=At(nn,Be,dn,zn.value,ht),zn!==null&&(e&&zn.alternate!==null&&nn.delete(zn.key===null?dn:zn.key),Ne=S(zn,Ne,dn),tn===null?Vt=zn:tn.sibling=zn,tn=zn);return e&&nn.forEach(function(ug){return n(Be,ug)}),Ze&&we(Be,dn),Vt}function ca(Be,Ne,He,ht){if(typeof He=="object"&&He!==null&&He.type===_e&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case de:e:{for(var Vt=He.key,tn=Ne;tn!==null;){if(tn.key===Vt){if(Vt=He.type,Vt===_e){if(tn.tag===7){s(Be,tn.sibling),Ne=y(tn,He.props.children),Ne.return=Be,Be=Ne;break e}}else if(tn.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===Re&&or(Vt)===tn.type){s(Be,tn.sibling),Ne=y(tn,He.props),Ne.ref=on(Be,tn,He),Ne.return=Be,Be=Ne;break e}s(Be,tn);break}else n(Be,tn);tn=tn.sibling}He.type===_e?(Ne=Fl(He.props.children,Be.mode,ht,He.key),Ne.return=Be,Be=Ne):(ht=vd(He.type,He.key,He.props,null,Be.mode,ht),ht.ref=on(Be,Ne,He),ht.return=Be,Be=ht)}return D(Be);case ue:e:{for(tn=He.key;Ne!==null;){if(Ne.key===tn)if(Ne.tag===4&&Ne.stateNode.containerInfo===He.containerInfo&&Ne.stateNode.implementation===He.implementation){s(Be,Ne.sibling),Ne=y(Ne,He.children||[]),Ne.return=Be,Be=Ne;break e}else{s(Be,Ne);break}else n(Be,Ne);Ne=Ne.sibling}Ne=_u(He,Be.mode,ht),Ne.return=Be,Be=Ne}return D(Be);case Re:return tn=He._init,ca(Be,Ne,tn(He._payload),ht)}if(bt(He))return Ft(Be,Ne,He,ht);if(Le(He))return Ut(Be,Ne,He,ht);Nn(Be,He)}return typeof He=="string"&&He!==""||typeof He=="number"?(He=""+He,Ne!==null&&Ne.tag===6?(s(Be,Ne.sibling),Ne=y(Ne,He),Ne.return=Be,Be=Ne):(s(Be,Ne),Ne=Lu(He,Be.mode,ht),Ne.return=Be,Be=Ne),D(Be)):s(Be,Ne)}return ca}var Kr=wa(!0),Ar=wa(!1),oa=sn(null),ja=null,br=null,Ln=null;function Dn(){Ln=br=ja=null}function wr(e){var n=oa.current;cn(oa),e._currentValue=n}function Tn(e,n,s){for(;e!==null;){var f=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,f!==null&&(f.childLanes|=n)):f!==null&&(f.childLanes&n)!==n&&(f.childLanes|=n),e===s)break;e=e.return}}function Mr(e,n){ja=e,Ln=br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(rs=!0),e.firstContext=null)}function Rr(e){var n=e._currentValue;if(Ln!==e)if(e={context:e,memoizedValue:n,next:null},br===null){if(ja===null)throw Error(r(308));br=e,ja.dependencies={lanes:0,firstContext:e}}else br=br.next=e;return n}var tr=null;function $a(e){tr===null?tr=[e]:tr.push(e)}function Gn(e,n,s,f){var y=n.interleaved;return y===null?(s.next=s,$a(n)):(s.next=y.next,y.next=s),n.interleaved=s,nr(e,f)}function nr(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Xr=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pi(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ur(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Wr(e,n,s){var f=e.updateQueue;if(f===null)return null;if(f=f.shared,(Fn&2)!==0){var y=f.pending;return y===null?n.next=n:(n.next=y.next,y.next=n),f.pending=n,nr(e,s)}return y=f.interleaved,y===null?(n.next=n,$a(f)):(n.next=y.next,y.next=n),f.interleaved=n,nr(e,s)}function Ha(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var f=n.lanes;f&=e.pendingLanes,s|=f,n.lanes=s,ra(e,s)}}function rr(e,n){var s=e.updateQueue,f=e.alternate;if(f!==null&&(f=f.updateQueue,s===f)){var y=null,S=null;if(s=s.firstBaseUpdate,s!==null){do{var D={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};S===null?y=S=D:S=S.next=D,s=s.next}while(s!==null);S===null?y=S=n:S=S.next=n}else y=S=n;s={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:f.shared,effects:f.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Va(e,n,s,f){var y=e.updateQueue;Xr=!1;var S=y.firstBaseUpdate,D=y.lastBaseUpdate,ce=y.shared.pending;if(ce!==null){y.shared.pending=null;var ve=ce,Ve=ve.next;ve.next=null,D===null?S=Ve:D.next=Ve,D=ve;var lt=e.alternate;lt!==null&&(lt=lt.updateQueue,ce=lt.lastBaseUpdate,ce!==D&&(ce===null?lt.firstBaseUpdate=Ve:ce.next=Ve,lt.lastBaseUpdate=ve))}if(S!==null){var dt=y.baseState;D=0,lt=Ve=ve=null,ce=S;do{var st=ce.lane,At=ce.eventTime;if((f&st)===st){lt!==null&&(lt=lt.next={eventTime:At,lane:0,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null});e:{var Ft=e,Ut=ce;switch(st=n,At=s,Ut.tag){case 1:if(Ft=Ut.payload,typeof Ft=="function"){dt=Ft.call(At,dt,st);break e}dt=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Ut.payload,st=typeof Ft=="function"?Ft.call(At,dt,st):Ft,st==null)break e;dt=Ie({},dt,st);break e;case 2:Xr=!0}}ce.callback!==null&&ce.lane!==0&&(e.flags|=64,st=y.effects,st===null?y.effects=[ce]:st.push(ce))}else At={eventTime:At,lane:st,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},lt===null?(Ve=lt=At,ve=dt):lt=lt.next=At,D|=st;if(ce=ce.next,ce===null){if(ce=y.shared.pending,ce===null)break;st=ce,ce=st.next,st.next=null,y.lastBaseUpdate=st,y.shared.pending=null}}while(!0);if(lt===null&&(ve=dt),y.baseState=ve,y.firstBaseUpdate=Ve,y.lastBaseUpdate=lt,n=y.shared.interleaved,n!==null){y=n;do D|=y.lane,y=y.next;while(y!==n)}else S===null&&(y.shared.lanes=0);Ml|=D,e.lanes=D,e.memoizedState=dt}}function ns(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var f=e[n],y=f.callback;if(y!==null){if(f.callback=null,f=s,typeof y!="function")throw Error(r(191,y));y.call(f)}}}var fs={},Sa=sn(fs),qr=sn(fs),Po=sn(fs);function no(e){if(e===fs)throw Error(r(174));return e}function nl(e,n){switch(yn(Po,n),yn(qr,e),yn(Sa,fs),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Xt(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Xt(n,e)}cn(Sa),yn(Sa,n)}function Is(){cn(Sa),cn(qr),cn(Po)}function ed(e){no(Po.current);var n=no(Sa.current),s=Xt(n,e.type);n!==s&&(yn(qr,e),yn(Sa,s))}function _c(e){qr.current===e&&(cn(Sa),cn(qr))}var ur=sn(0);function hs(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ic=[];function Ec(){for(var e=0;e<Ic.length;e++)Ic[e]._workInProgressVersionPrimary=null;Ic.length=0}var Kl=q.ReactCurrentDispatcher,Xl=q.ReactCurrentBatchConfig,Es=0,jr=null,Qr=null,$r=null,rl=!1,ro=!1,al=0,tu=0;function la(){throw Error(r(321))}function Ql(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!xr(e[s],n[s]))return!1;return!0}function _l(e,n,s,f,y,S){if(Es=S,jr=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Kl.current=e===null||e.memoizedState===null?F0:O0,e=s(f,y),ro){S=0;do{if(ro=!1,al=0,25<=S)throw Error(r(301));S+=1,$r=Qr=null,n.updateQueue=null,Kl.current=B0,e=s(f,y)}while(ro)}if(Kl.current=id,n=Qr!==null&&Qr.next!==null,Es=0,$r=Qr=jr=null,rl=!1,n)throw Error(r(300));return e}function Ms(){var e=al!==0;return al=0,e}function ps(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?jr.memoizedState=$r=e:$r=$r.next=e,$r}function zi(){if(Qr===null){var e=jr.alternate;e=e!==null?e.memoizedState:null}else e=Qr.next;var n=$r===null?jr.memoizedState:$r.next;if(n!==null)$r=n,Qr=e;else{if(e===null)throw Error(r(310));Qr=e,e={memoizedState:Qr.memoizedState,baseState:Qr.baseState,baseQueue:Qr.baseQueue,queue:Qr.queue,next:null},$r===null?jr.memoizedState=$r=e:$r=$r.next=e}return $r}function Il(e,n){return typeof n=="function"?n(e):n}function Zl(e){var n=zi(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var f=Qr,y=f.baseQueue,S=s.pending;if(S!==null){if(y!==null){var D=y.next;y.next=S.next,S.next=D}f.baseQueue=y=S,s.pending=null}if(y!==null){S=y.next,f=f.baseState;var ce=D=null,ve=null,Ve=S;do{var lt=Ve.lane;if((Es&lt)===lt)ve!==null&&(ve=ve.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),f=Ve.hasEagerState?Ve.eagerState:e(f,Ve.action);else{var dt={lane:lt,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};ve===null?(ce=ve=dt,D=f):ve=ve.next=dt,jr.lanes|=lt,Ml|=lt}Ve=Ve.next}while(Ve!==null&&Ve!==S);ve===null?D=f:ve.next=ce,xr(f,n.memoizedState)||(rs=!0),n.memoizedState=f,n.baseState=D,n.baseQueue=ve,s.lastRenderedState=f}if(e=s.interleaved,e!==null){y=e;do S=y.lane,jr.lanes|=S,Ml|=S,y=y.next;while(y!==e)}else y===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Lo(e){var n=zi(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var f=s.dispatch,y=s.pending,S=n.memoizedState;if(y!==null){s.pending=null;var D=y=y.next;do S=e(S,D.action),D=D.next;while(D!==y);xr(S,n.memoizedState)||(rs=!0),n.memoizedState=S,n.baseQueue===null&&(n.baseState=S),s.lastRenderedState=S}return[S,f]}function td(){}function Mc(e,n){var s=jr,f=zi(),y=n(),S=!xr(f.memoizedState,y);if(S&&(f.memoizedState=y,rs=!0),f=f.queue,nc(rd.bind(null,s,f,e),[e]),f.getSnapshot!==n||S||$r!==null&&$r.memoizedState.tag&1){if(s.flags|=2048,Ui(9,Rc.bind(null,s,f,y,n),void 0,null),Ya===null)throw Error(r(349));(Es&30)!==0||nd(s,n,y)}return y}function nd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=jr.updateQueue,n===null?(n={lastEffect:null,stores:null},jr.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Rc(e,n,s,f){n.value=s,n.getSnapshot=f,il(n)&&ec(e)}function rd(e,n,s){return s(function(){il(n)&&ec(e)})}function il(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!xr(e,s)}catch{return!0}}function ec(e){var n=nr(e,1);n!==null&&lo(n,e,1,-1)}function El(e){var n=ps();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:e},n.queue=e,e=e.dispatch=T0.bind(null,jr,e),[n.memoizedState,e]}function Ui(e,n,s,f){return e={tag:e,create:n,destroy:s,deps:f,next:null},n=jr.updateQueue,n===null?(n={lastEffect:null,stores:null},jr.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(f=s.next,s.next=e,e.next=f,n.lastEffect=e)),e}function ao(){return zi().memoizedState}function ms(e,n,s,f){var y=ps();jr.flags|=e,y.memoizedState=Ui(1|n,s,void 0,f===void 0?null:f)}function $o(e,n,s,f){var y=zi();f=f===void 0?null:f;var S=void 0;if(Qr!==null){var D=Qr.memoizedState;if(S=D.destroy,f!==null&&Ql(f,D.deps)){y.memoizedState=Ui(n,s,S,f);return}}jr.flags|=e,y.memoizedState=Ui(1|n,s,S,f)}function tc(e,n){return ms(8390656,8,e,n)}function nc(e,n){return $o(2048,8,e,n)}function ad(e,n){return $o(4,2,e,n)}function rc(e,n){return $o(4,4,e,n)}function ac(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Of(e,n,s){return s=s!=null?s.concat([e]):null,$o(4,4,ac.bind(null,n,e),s)}function nu(){}function Bf(e,n){var s=zi();n=n===void 0?null:n;var f=s.memoizedState;return f!==null&&n!==null&&Ql(n,f[1])?f[0]:(s.memoizedState=[e,n],e)}function zf(e,n){var s=zi();n=n===void 0?null:n;var f=s.memoizedState;return f!==null&&n!==null&&Ql(n,f[1])?f[0]:(e=e(),s.memoizedState=[e,n],e)}function Uf(e,n,s){return(Es&21)===0?(e.baseState&&(e.baseState=!1,rs=!0),e.memoizedState=s):(xr(s,n)||(s=bs(),jr.lanes|=s,Ml|=s,e.baseState=!0),n)}function R0(e,n){var s=Pn;Pn=s!==0&&4>s?s:4,e(!0);var f=Xl.transition;Xl.transition={};try{e(!1),n()}finally{Pn=s,Xl.transition=f}}function Wf(){return zi().memoizedState}function D0(e,n,s){var f=cl(e);if(s={lane:f,action:s,hasEagerState:!1,eagerState:null,next:null},qf(e))$f(n,s);else if(s=Gn(e,n,s,f),s!==null){var y=qi();lo(s,e,f,y),Hf(s,n,f)}}function T0(e,n,s){var f=cl(e),y={lane:f,action:s,hasEagerState:!1,eagerState:null,next:null};if(qf(e))$f(n,y);else{var S=e.alternate;if(e.lanes===0&&(S===null||S.lanes===0)&&(S=n.lastRenderedReducer,S!==null))try{var D=n.lastRenderedState,ce=S(D,s);if(y.hasEagerState=!0,y.eagerState=ce,xr(ce,D)){var ve=n.interleaved;ve===null?(y.next=y,$a(n)):(y.next=ve.next,ve.next=y),n.interleaved=y;return}}catch{}finally{}s=Gn(e,n,y,f),s!==null&&(y=qi(),lo(s,e,f,y),Hf(s,n,f))}}function qf(e){var n=e.alternate;return e===jr||n!==null&&n===jr}function $f(e,n){ro=rl=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Hf(e,n,s){if((s&4194240)!==0){var f=n.lanes;f&=e.pendingLanes,s|=f,n.lanes=s,ra(e,s)}}var id={readContext:Rr,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useInsertionEffect:la,useLayoutEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useDeferredValue:la,useTransition:la,useMutableSource:la,useSyncExternalStore:la,useId:la,unstable_isNewReconciler:!1},F0={readContext:Rr,useCallback:function(e,n){return ps().memoizedState=[e,n===void 0?null:n],e},useContext:Rr,useEffect:tc,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,ms(4194308,4,ac.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ms(4194308,4,e,n)},useInsertionEffect:function(e,n){return ms(4,2,e,n)},useMemo:function(e,n){var s=ps();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var f=ps();return n=s!==void 0?s(n):n,f.memoizedState=f.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},f.queue=e,e=e.dispatch=D0.bind(null,jr,e),[f.memoizedState,e]},useRef:function(e){var n=ps();return e={current:e},n.memoizedState=e},useState:El,useDebugValue:nu,useDeferredValue:function(e){return ps().memoizedState=e},useTransition:function(){var e=El(!1),n=e[0];return e=R0.bind(null,e[1]),ps().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var f=jr,y=ps();if(Ze){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Ya===null)throw Error(r(349));(Es&30)!==0||nd(f,n,s)}y.memoizedState=s;var S={value:s,getSnapshot:n};return y.queue=S,tc(rd.bind(null,f,S,e),[e]),f.flags|=2048,Ui(9,Rc.bind(null,f,S,s,n),void 0,null),s},useId:function(){var e=ps(),n=Ya.identifierPrefix;if(Ze){var s=ae,f=Oe;s=(f&~(1<<32-Qn(f)-1)).toString(32)+s,n=":"+n+"R"+s,s=al++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=tu++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},O0={readContext:Rr,useCallback:Bf,useContext:Rr,useEffect:nc,useImperativeHandle:Of,useInsertionEffect:ad,useLayoutEffect:rc,useMemo:zf,useReducer:Zl,useRef:ao,useState:function(){return Zl(Il)},useDebugValue:nu,useDeferredValue:function(e){var n=zi();return Uf(n,Qr.memoizedState,e)},useTransition:function(){var e=Zl(Il)[0],n=zi().memoizedState;return[e,n]},useMutableSource:td,useSyncExternalStore:Mc,useId:Wf,unstable_isNewReconciler:!1},B0={readContext:Rr,useCallback:Bf,useContext:Rr,useEffect:nc,useImperativeHandle:Of,useInsertionEffect:ad,useLayoutEffect:rc,useMemo:zf,useReducer:Lo,useRef:ao,useState:function(){return Lo(Il)},useDebugValue:nu,useDeferredValue:function(e){var n=zi();return Qr===null?n.memoizedState=e:Uf(n,Qr.memoizedState,e)},useTransition:function(){var e=Lo(Il)[0],n=zi().memoizedState;return[e,n]},useMutableSource:td,useSyncExternalStore:Mc,useId:Wf,unstable_isNewReconciler:!1};function io(e,n){if(e&&e.defaultProps){n=Ie({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function ru(e,n,s,f){n=e.memoizedState,s=s(f,n),s=s==null?n:Ie({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var sd={isMounted:function(e){return(e=e._reactInternals)?Mn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var f=qi(),y=cl(e),S=Ur(f,y);S.payload=n,s!=null&&(S.callback=s),n=Wr(e,S,y),n!==null&&(lo(n,e,y,f),Ha(n,e,y))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var f=qi(),y=cl(e),S=Ur(f,y);S.tag=1,S.payload=n,s!=null&&(S.callback=s),n=Wr(e,S,y),n!==null&&(lo(n,e,y,f),Ha(n,e,y))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=qi(),f=cl(e),y=Ur(s,f);y.tag=2,n!=null&&(y.callback=n),n=Wr(e,y,f),n!==null&&(lo(n,e,f,s),Ha(n,e,f))}};function Vf(e,n,s,f,y,S,D){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(f,S,D):n.prototype&&n.prototype.isPureReactComponent?!Ua(s,f)||!Ua(y,S):!0}function Yf(e,n,s){var f=!1,y=ba,S=n.contextType;return typeof S=="object"&&S!==null?S=Rr(S):(y=er(n)?kt:sa.current,f=n.contextTypes,S=(f=f!=null)?Wn(e,y):ba),n=new n(s,S),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=sd,e.stateNode=n,n._reactInternals=e,f&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=y,e.__reactInternalMemoizedMaskedChildContext=S),n}function Gf(e,n,s,f){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,f),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,f),n.state!==e&&sd.enqueueReplaceState(n,n.state,null)}function au(e,n,s,f){var y=e.stateNode;y.props=s,y.state=e.memoizedState,y.refs={},Ra(e);var S=n.contextType;typeof S=="object"&&S!==null?y.context=Rr(S):(S=er(n)?kt:sa.current,y.context=Wn(e,S)),y.state=e.memoizedState,S=n.getDerivedStateFromProps,typeof S=="function"&&(ru(e,n,S,s),y.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(n=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),n!==y.state&&sd.enqueueReplaceState(y,y.state,null),Va(e,s,y,f),y.state=e.memoizedState),typeof y.componentDidMount=="function"&&(e.flags|=4194308)}function ic(e,n){try{var s="",f=n;do s+=le(f),f=f.return;while(f);var y=s}catch(S){y=`
Error generating stack: `+S.message+`
`+S.stack}return{value:e,source:n,stack:y,digest:null}}function iu(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function su(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var z0=typeof WeakMap=="function"?WeakMap:Map;function Jf(e,n,s){s=Ur(-1,s),s.tag=3,s.payload={element:null};var f=n.value;return s.callback=function(){hd||(hd=!0,wu=f),su(e,n)},s}function Kf(e,n,s){s=Ur(-1,s),s.tag=3;var f=e.type.getDerivedStateFromError;if(typeof f=="function"){var y=n.value;s.payload=function(){return f(y)},s.callback=function(){su(e,n)}}var S=e.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){su(e,n),typeof f!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var D=n.stack;this.componentDidCatch(n.value,{componentStack:D!==null?D:""})}),s}function Xf(e,n,s){var f=e.pingCache;if(f===null){f=e.pingCache=new z0;var y=new Set;f.set(n,y)}else y=f.get(n),y===void 0&&(y=new Set,f.set(n,y));y.has(s)||(y.add(s),e=eg.bind(null,e,n,s),n.then(e,e))}function Qf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Zf(e,n,s,f,y){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Ur(-1,1),n.tag=2,Wr(s,n,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=y,e)}var U0=q.ReactCurrentOwner,rs=!1;function Wi(e,n,s,f){n.child=e===null?Ar(n,null,s,f):Kr(n,e.child,s,f)}function eh(e,n,s,f,y){s=s.render;var S=n.ref;return Mr(n,y),f=_l(e,n,s,f,S,y),s=Ms(),e!==null&&!rs?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~y,Ho(e,n,y)):(Ze&&s&&Je(n),n.flags|=1,Wi(e,n,f,y),n.child)}function th(e,n,s,f,y){if(e===null){var S=s.type;return typeof S=="function"&&!Pu(S)&&S.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=S,nh(e,n,S,f,y)):(e=vd(s.type,null,f,n,n.mode,y),e.ref=n.ref,e.return=n,n.child=e)}if(S=e.child,(e.lanes&y)===0){var D=S.memoizedProps;if(s=s.compare,s=s!==null?s:Ua,s(D,f)&&e.ref===n.ref)return Ho(e,n,y)}return n.flags|=1,e=ul(S,f),e.ref=n.ref,e.return=n,n.child=e}function nh(e,n,s,f,y){if(e!==null){var S=e.memoizedProps;if(Ua(S,f)&&e.ref===n.ref)if(rs=!1,n.pendingProps=f=S,(e.lanes&y)!==0)(e.flags&131072)!==0&&(rs=!0);else return n.lanes=e.lanes,Ho(e,n,y)}return ou(e,n,s,f,y)}function rh(e,n,s){var f=n.pendingProps,y=f.children,S=e!==null?e.memoizedState:null;if(f.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},yn(oc,gs),gs|=s;else{if((s&1073741824)===0)return e=S!==null?S.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,yn(oc,gs),gs|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=S!==null?S.baseLanes:s,yn(oc,gs),gs|=f}else S!==null?(f=S.baseLanes|s,n.memoizedState=null):f=s,yn(oc,gs),gs|=f;return Wi(e,n,y,s),n.child}function ah(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function ou(e,n,s,f,y){var S=er(s)?kt:sa.current;return S=Wn(n,S),Mr(n,y),s=_l(e,n,s,f,S,y),f=Ms(),e!==null&&!rs?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~y,Ho(e,n,y)):(Ze&&f&&Je(n),n.flags|=1,Wi(e,n,s,y),n.child)}function ih(e,n,s,f,y){if(er(s)){var S=!0;qo(n)}else S=!1;if(Mr(n,y),n.stateNode===null)ld(e,n),Yf(n,s,f),au(n,s,f,y),f=!0;else if(e===null){var D=n.stateNode,ce=n.memoizedProps;D.props=ce;var ve=D.context,Ve=s.contextType;typeof Ve=="object"&&Ve!==null?Ve=Rr(Ve):(Ve=er(s)?kt:sa.current,Ve=Wn(n,Ve));var lt=s.getDerivedStateFromProps,dt=typeof lt=="function"||typeof D.getSnapshotBeforeUpdate=="function";dt||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(ce!==f||ve!==Ve)&&Gf(n,D,f,Ve),Xr=!1;var st=n.memoizedState;D.state=st,Va(n,f,D,y),ve=n.memoizedState,ce!==f||st!==ve||qa.current||Xr?(typeof lt=="function"&&(ru(n,s,lt,f),ve=n.memoizedState),(ce=Xr||Vf(n,s,ce,f,st,ve,Ve))?(dt||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(n.flags|=4194308)):(typeof D.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=f,n.memoizedState=ve),D.props=f,D.state=ve,D.context=Ve,f=ce):(typeof D.componentDidMount=="function"&&(n.flags|=4194308),f=!1)}else{D=n.stateNode,Pi(e,n),ce=n.memoizedProps,Ve=n.type===n.elementType?ce:io(n.type,ce),D.props=Ve,dt=n.pendingProps,st=D.context,ve=s.contextType,typeof ve=="object"&&ve!==null?ve=Rr(ve):(ve=er(s)?kt:sa.current,ve=Wn(n,ve));var At=s.getDerivedStateFromProps;(lt=typeof At=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(ce!==dt||st!==ve)&&Gf(n,D,f,ve),Xr=!1,st=n.memoizedState,D.state=st,Va(n,f,D,y);var Ft=n.memoizedState;ce!==dt||st!==Ft||qa.current||Xr?(typeof At=="function"&&(ru(n,s,At,f),Ft=n.memoizedState),(Ve=Xr||Vf(n,s,Ve,f,st,Ft,ve)||!1)?(lt||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(f,Ft,ve),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(f,Ft,ve)),typeof D.componentDidUpdate=="function"&&(n.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof D.componentDidUpdate!="function"||ce===e.memoizedProps&&st===e.memoizedState||(n.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||ce===e.memoizedProps&&st===e.memoizedState||(n.flags|=1024),n.memoizedProps=f,n.memoizedState=Ft),D.props=f,D.state=Ft,D.context=ve,f=Ve):(typeof D.componentDidUpdate!="function"||ce===e.memoizedProps&&st===e.memoizedState||(n.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||ce===e.memoizedProps&&st===e.memoizedState||(n.flags|=1024),f=!1)}return lu(e,n,s,f,S,y)}function lu(e,n,s,f,y,S){ah(e,n);var D=(n.flags&128)!==0;if(!f&&!D)return y&&Zc(n,s,!1),Ho(e,n,S);f=n.stateNode,U0.current=n;var ce=D&&typeof s.getDerivedStateFromError!="function"?null:f.render();return n.flags|=1,e!==null&&D?(n.child=Kr(n,e.child,null,S),n.child=Kr(n,null,ce,S)):Wi(e,n,ce,S),n.memoizedState=f.state,y&&Zc(n,s,!0),n.child}function sh(e){var n=e.stateNode;n.pendingContext?Jl(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Jl(e,n.context,!1),nl(e,n.containerInfo)}function oh(e,n,s,f,y){return _t(),xt(y),n.flags|=256,Wi(e,n,s,f),n.child}var cu={dehydrated:null,treeContext:null,retryLane:0};function du(e){return{baseLanes:e,cachePool:null,transitions:null}}function lh(e,n,s){var f=n.pendingProps,y=ur.current,S=!1,D=(n.flags&128)!==0,ce;if((ce=D)||(ce=e!==null&&e.memoizedState===null?!1:(y&2)!==0),ce?(S=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(y|=1),yn(ur,y&1),e===null)return Tt(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(D=f.children,e=f.fallback,S?(f=n.mode,S=n.child,D={mode:"hidden",children:D},(f&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=D):S=bd(D,f,0,null),e=Fl(e,f,s,null),S.return=n,e.return=n,S.sibling=e,n.child=S,n.child.memoizedState=du(s),n.memoizedState=cu,e):uu(n,D));if(y=e.memoizedState,y!==null&&(ce=y.dehydrated,ce!==null))return W0(e,n,D,f,ce,y,s);if(S){S=f.fallback,D=n.mode,y=e.child,ce=y.sibling;var ve={mode:"hidden",children:f.children};return(D&1)===0&&n.child!==y?(f=n.child,f.childLanes=0,f.pendingProps=ve,n.deletions=null):(f=ul(y,ve),f.subtreeFlags=y.subtreeFlags&14680064),ce!==null?S=ul(ce,S):(S=Fl(S,D,s,null),S.flags|=2),S.return=n,f.return=n,f.sibling=S,n.child=f,f=S,S=n.child,D=e.child.memoizedState,D=D===null?du(s):{baseLanes:D.baseLanes|s,cachePool:null,transitions:D.transitions},S.memoizedState=D,S.childLanes=e.childLanes&~s,n.memoizedState=cu,f}return S=e.child,e=S.sibling,f=ul(S,{mode:"visible",children:f.children}),(n.mode&1)===0&&(f.lanes=s),f.return=n,f.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=f,n.memoizedState=null,f}function uu(e,n){return n=bd({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function od(e,n,s,f){return f!==null&&xt(f),Kr(n,e.child,null,s),e=uu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function W0(e,n,s,f,y,S,D){if(s)return n.flags&256?(n.flags&=-257,f=iu(Error(r(422))),od(e,n,D,f)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(S=f.fallback,y=n.mode,f=bd({mode:"visible",children:f.children},y,0,null),S=Fl(S,y,D,null),S.flags|=2,f.return=n,S.return=n,f.sibling=S,n.child=f,(n.mode&1)!==0&&Kr(n,e.child,null,D),n.child.memoizedState=du(D),n.memoizedState=cu,S);if((n.mode&1)===0)return od(e,n,D,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var ce=f.dgst;return f=ce,S=Error(r(419)),f=iu(S,f,void 0),od(e,n,D,f)}if(ce=(D&e.childLanes)!==0,rs||ce){if(f=Ya,f!==null){switch(D&-D){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|D))!==0?0:y,y!==0&&y!==S.retryLane&&(S.retryLane=y,nr(e,y),lo(f,e,y,-1))}return Cu(),f=iu(Error(r(421))),od(e,n,D,f)}return y.data==="$?"?(n.flags|=128,n.child=e.child,n=tg.bind(null,e),y._reactRetry=n,null):(e=S.treeContext,Ge=Ma(y.nextSibling),Ye=n,Ze=!0,et=null,e!==null&&(Y[re++]=Oe,Y[re++]=ae,Y[re++]=ye,Oe=e.id,ae=e.overflow,ye=n),n=uu(n,f.children),n.flags|=4096,n)}function ch(e,n,s){e.lanes|=n;var f=e.alternate;f!==null&&(f.lanes|=n),Tn(e.return,n,s)}function fu(e,n,s,f,y){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:f,tail:s,tailMode:y}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=f,S.tail=s,S.tailMode=y)}function dh(e,n,s){var f=n.pendingProps,y=f.revealOrder,S=f.tail;if(Wi(e,n,f.children,s),f=ur.current,(f&2)!==0)f=f&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ch(e,s,n);else if(e.tag===19)ch(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}f&=1}if(yn(ur,f),(n.mode&1)===0)n.memoizedState=null;else switch(y){case"forwards":for(s=n.child,y=null;s!==null;)e=s.alternate,e!==null&&hs(e)===null&&(y=s),s=s.sibling;s=y,s===null?(y=n.child,n.child=null):(y=s.sibling,s.sibling=null),fu(n,!1,y,s,S);break;case"backwards":for(s=null,y=n.child,n.child=null;y!==null;){if(e=y.alternate,e!==null&&hs(e)===null){n.child=y;break}e=y.sibling,y.sibling=s,s=y,y=e}fu(n,!0,s,null,S);break;case"together":fu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ld(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Ho(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ml|=n.lanes,(s&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=ul(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ul(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function q0(e,n,s){switch(n.tag){case 3:sh(n),_t();break;case 5:ed(n);break;case 1:er(n.type)&&qo(n);break;case 4:nl(n,n.stateNode.containerInfo);break;case 10:var f=n.type._context,y=n.memoizedProps.value;yn(oa,f._currentValue),f._currentValue=y;break;case 13:if(f=n.memoizedState,f!==null)return f.dehydrated!==null?(yn(ur,ur.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?lh(e,n,s):(yn(ur,ur.current&1),e=Ho(e,n,s),e!==null?e.sibling:null);yn(ur,ur.current&1);break;case 19:if(f=(s&n.childLanes)!==0,(e.flags&128)!==0){if(f)return dh(e,n,s);n.flags|=128}if(y=n.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),yn(ur,ur.current),f)break;return null;case 22:case 23:return n.lanes=0,rh(e,n,s)}return Ho(e,n,s)}var uh,hu,fh,hh;uh=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},hu=function(){},fh=function(e,n,s,f){var y=e.memoizedProps;if(y!==f){e=n.stateNode,no(Sa.current);var S=null;switch(s){case"input":y=at(e,y),f=at(e,f),S=[];break;case"select":y=Ie({},y,{value:void 0}),f=Ie({},f,{value:void 0}),S=[];break;case"textarea":y=Mt(e,y),f=Mt(e,f),S=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(e.onclick=Zs)}Zt(s,f);var D;s=null;for(Ve in y)if(!f.hasOwnProperty(Ve)&&y.hasOwnProperty(Ve)&&y[Ve]!=null)if(Ve==="style"){var ce=y[Ve];for(D in ce)ce.hasOwnProperty(D)&&(s||(s={}),s[D]="")}else Ve!=="dangerouslySetInnerHTML"&&Ve!=="children"&&Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&Ve!=="autoFocus"&&(c.hasOwnProperty(Ve)?S||(S=[]):(S=S||[]).push(Ve,null));for(Ve in f){var ve=f[Ve];if(ce=y?.[Ve],f.hasOwnProperty(Ve)&&ve!==ce&&(ve!=null||ce!=null))if(Ve==="style")if(ce){for(D in ce)!ce.hasOwnProperty(D)||ve&&ve.hasOwnProperty(D)||(s||(s={}),s[D]="");for(D in ve)ve.hasOwnProperty(D)&&ce[D]!==ve[D]&&(s||(s={}),s[D]=ve[D])}else s||(S||(S=[]),S.push(Ve,s)),s=ve;else Ve==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ce=ce?ce.__html:void 0,ve!=null&&ce!==ve&&(S=S||[]).push(Ve,ve)):Ve==="children"?typeof ve!="string"&&typeof ve!="number"||(S=S||[]).push(Ve,""+ve):Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&(c.hasOwnProperty(Ve)?(ve!=null&&Ve==="onScroll"&&Un("scroll",e),S||ce===ve||(S=[])):(S=S||[]).push(Ve,ve))}s&&(S=S||[]).push("style",s);var Ve=S;(n.updateQueue=Ve)&&(n.flags|=4)}},hh=function(e,n,s,f){s!==f&&(n.flags|=4)};function Dc(e,n){if(!Ze)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:f.sibling=null}}function Li(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,f=0;if(n)for(var y=e.child;y!==null;)s|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=e,y=y.sibling;else for(y=e.child;y!==null;)s|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=e,y=y.sibling;return e.subtreeFlags|=f,e.childLanes=s,n}function $0(e,n,s){var f=n.pendingProps;switch(Ue(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(n),null;case 1:return er(n.type)&&_s(),Li(n),null;case 3:return f=n.stateNode,Is(),cn(qa),cn(sa),Ec(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(e===null||e.child===null)&&(Er(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,et!==null&&(Nu(et),et=null))),hu(e,n),Li(n),null;case 5:_c(n);var y=no(Po.current);if(s=n.type,e!==null&&n.stateNode!=null)fh(e,n,s,f,y),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!f){if(n.stateNode===null)throw Error(r(166));return Li(n),null}if(e=no(Sa.current),Er(n)){f=n.stateNode,s=n.type;var S=n.memoizedProps;switch(f[O]=n,f[T]=S,e=(n.mode&1)!==0,s){case"dialog":Un("cancel",f),Un("close",f);break;case"iframe":case"object":case"embed":Un("load",f);break;case"video":case"audio":for(y=0;y<us.length;y++)Un(us[y],f);break;case"source":Un("error",f);break;case"img":case"image":case"link":Un("error",f),Un("load",f);break;case"details":Un("toggle",f);break;case"input":G(f,S),Un("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!S.multiple},Un("invalid",f);break;case"textarea":Rt(f,S),Un("invalid",f)}Zt(s,S),y=null;for(var D in S)if(S.hasOwnProperty(D)){var ce=S[D];D==="children"?typeof ce=="string"?f.textContent!==ce&&(S.suppressHydrationWarning!==!0&&Zo(f.textContent,ce,e),y=["children",ce]):typeof ce=="number"&&f.textContent!==""+ce&&(S.suppressHydrationWarning!==!0&&Zo(f.textContent,ce,e),y=["children",""+ce]):c.hasOwnProperty(D)&&ce!=null&&D==="onScroll"&&Un("scroll",f)}switch(s){case"input":Ee(f),Ct(f,S,!0);break;case"textarea":Ee(f),Kt(f);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(f.onclick=Zs)}f=y,n.updateQueue=f,f!==null&&(n.flags|=4)}else{D=y.nodeType===9?y:y.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wt(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=D.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof f.is=="string"?e=D.createElement(s,{is:f.is}):(e=D.createElement(s),s==="select"&&(D=e,f.multiple?D.multiple=!0:f.size&&(D.size=f.size))):e=D.createElementNS(e,s),e[O]=n,e[T]=f,uh(e,n,!1,!1),n.stateNode=e;e:{switch(D=vt(s,f),s){case"dialog":Un("cancel",e),Un("close",e),y=f;break;case"iframe":case"object":case"embed":Un("load",e),y=f;break;case"video":case"audio":for(y=0;y<us.length;y++)Un(us[y],e);y=f;break;case"source":Un("error",e),y=f;break;case"img":case"image":case"link":Un("error",e),Un("load",e),y=f;break;case"details":Un("toggle",e),y=f;break;case"input":G(e,f),y=at(e,f),Un("invalid",e);break;case"option":y=f;break;case"select":e._wrapperState={wasMultiple:!!f.multiple},y=Ie({},f,{value:void 0}),Un("invalid",e);break;case"textarea":Rt(e,f),y=Mt(e,f),Un("invalid",e);break;default:y=f}Zt(s,y),ce=y;for(S in ce)if(ce.hasOwnProperty(S)){var ve=ce[S];S==="style"?qe(e,ve):S==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&$e(e,ve)):S==="children"?typeof ve=="string"?(s!=="textarea"||ve!=="")&&oe(e,ve):typeof ve=="number"&&oe(e,""+ve):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(c.hasOwnProperty(S)?ve!=null&&S==="onScroll"&&Un("scroll",e):ve!=null&&Q(e,S,ve,D))}switch(s){case"input":Ee(e),Ct(e,f,!1);break;case"textarea":Ee(e),Kt(e);break;case"option":f.value!=null&&e.setAttribute("value",""+De(f.value));break;case"select":e.multiple=!!f.multiple,S=f.value,S!=null?gt(e,!!f.multiple,S,!1):f.defaultValue!=null&&gt(e,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(e.onclick=Zs)}switch(s){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Li(n),null;case 6:if(e&&n.stateNode!=null)hh(e,n,e.memoizedProps,f);else{if(typeof f!="string"&&n.stateNode===null)throw Error(r(166));if(s=no(Po.current),no(Sa.current),Er(n)){if(f=n.stateNode,s=n.memoizedProps,f[O]=n,(S=f.nodeValue!==s)&&(e=Ye,e!==null))switch(e.tag){case 3:Zo(f.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zo(f.nodeValue,s,(e.mode&1)!==0)}S&&(n.flags|=4)}else f=(s.nodeType===9?s:s.ownerDocument).createTextNode(f),f[O]=n,n.stateNode=f}return Li(n),null;case 13:if(cn(ur),f=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ze&&Ge!==null&&(n.mode&1)!==0&&(n.flags&128)===0)pn(),_t(),n.flags|=98560,S=!1;else if(S=Er(n),f!==null&&f.dehydrated!==null){if(e===null){if(!S)throw Error(r(318));if(S=n.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[O]=n}else _t(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Li(n),S=!1}else et!==null&&(Nu(et),et=null),S=!0;if(!S)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(f=f!==null,f!==(e!==null&&e.memoizedState!==null)&&f&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(ur.current&1)!==0?Da===0&&(Da=3):Cu())),n.updateQueue!==null&&(n.flags|=4),Li(n),null);case 4:return Is(),hu(e,n),e===null&&Br(n.stateNode.containerInfo),Li(n),null;case 10:return wr(n.type._context),Li(n),null;case 17:return er(n.type)&&_s(),Li(n),null;case 19:if(cn(ur),S=n.memoizedState,S===null)return Li(n),null;if(f=(n.flags&128)!==0,D=S.rendering,D===null)if(f)Dc(S,!1);else{if(Da!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(D=hs(e),D!==null){for(n.flags|=128,Dc(S,!1),f=D.updateQueue,f!==null&&(n.updateQueue=f,n.flags|=4),n.subtreeFlags=0,f=s,s=n.child;s!==null;)S=s,e=f,S.flags&=14680066,D=S.alternate,D===null?(S.childLanes=0,S.lanes=e,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=D.childLanes,S.lanes=D.lanes,S.child=D.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=D.memoizedProps,S.memoizedState=D.memoizedState,S.updateQueue=D.updateQueue,S.type=D.type,e=D.dependencies,S.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return yn(ur,ur.current&1|2),n.child}e=e.sibling}S.tail!==null&&gn()>lc&&(n.flags|=128,f=!0,Dc(S,!1),n.lanes=4194304)}else{if(!f)if(e=hs(D),e!==null){if(n.flags|=128,f=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Dc(S,!0),S.tail===null&&S.tailMode==="hidden"&&!D.alternate&&!Ze)return Li(n),null}else 2*gn()-S.renderingStartTime>lc&&s!==1073741824&&(n.flags|=128,f=!0,Dc(S,!1),n.lanes=4194304);S.isBackwards?(D.sibling=n.child,n.child=D):(s=S.last,s!==null?s.sibling=D:n.child=D,S.last=D)}return S.tail!==null?(n=S.tail,S.rendering=n,S.tail=n.sibling,S.renderingStartTime=gn(),n.sibling=null,s=ur.current,yn(ur,f?s&1|2:s&1),n):(Li(n),null);case 22:case 23:return Au(),f=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==f&&(n.flags|=8192),f&&(n.mode&1)!==0?(gs&1073741824)!==0&&(Li(n),n.subtreeFlags&6&&(n.flags|=8192)):Li(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function H0(e,n){switch(Ue(n),n.tag){case 1:return er(n.type)&&_s(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Is(),cn(qa),cn(sa),Ec(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return _c(n),null;case 13:if(cn(ur),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));_t()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return cn(ur),null;case 4:return Is(),null;case 10:return wr(n.type._context),null;case 22:case 23:return Au(),null;case 24:return null;default:return null}}var cd=!1,_i=!1,V0=typeof WeakSet=="function"?WeakSet:Set,Et=null;function sc(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(f){Zr(e,n,f)}else s.current=null}function pu(e,n,s){try{s()}catch(f){Zr(e,n,f)}}var ph=!1;function Y0(e,n){if(ko=ds,e=Ir(),Ai(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var f=s.getSelection&&s.getSelection();if(f&&f.rangeCount!==0){s=f.anchorNode;var y=f.anchorOffset,S=f.focusNode;f=f.focusOffset;try{s.nodeType,S.nodeType}catch{s=null;break e}var D=0,ce=-1,ve=-1,Ve=0,lt=0,dt=e,st=null;t:for(;;){for(var At;dt!==s||y!==0&&dt.nodeType!==3||(ce=D+y),dt!==S||f!==0&&dt.nodeType!==3||(ve=D+f),dt.nodeType===3&&(D+=dt.nodeValue.length),(At=dt.firstChild)!==null;)st=dt,dt=At;for(;;){if(dt===e)break t;if(st===s&&++Ve===y&&(ce=D),st===S&&++lt===f&&(ve=D),(At=dt.nextSibling)!==null)break;dt=st,st=dt.parentNode}dt=At}s=ce===-1||ve===-1?null:{start:ce,end:ve}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ls={focusedElem:e,selectionRange:s},ds=!1,Et=n;Et!==null;)if(n=Et,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Et=e;else for(;Et!==null;){n=Et;try{var Ft=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Ft!==null){var Ut=Ft.memoizedProps,ca=Ft.memoizedState,Be=n.stateNode,Ne=Be.getSnapshotBeforeUpdate(n.elementType===n.type?Ut:io(n.type,Ut),ca);Be.__reactInternalSnapshotBeforeUpdate=Ne}break;case 3:var He=n.stateNode.containerInfo;He.nodeType===1?He.textContent="":He.nodeType===9&&He.documentElement&&He.removeChild(He.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ht){Zr(n,n.return,ht)}if(e=n.sibling,e!==null){e.return=n.return,Et=e;break}Et=n.return}return Ft=ph,ph=!1,Ft}function Tc(e,n,s){var f=n.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&e)===e){var S=y.destroy;y.destroy=void 0,S!==void 0&&pu(n,s,S)}y=y.next}while(y!==f)}}function dd(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var f=s.create;s.destroy=f()}s=s.next}while(s!==n)}}function mu(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function mh(e){var n=e.alternate;n!==null&&(e.alternate=null,mh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[O],delete n[T],delete n[X],delete n[V],delete n[Ce])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gh(e){return e.tag===5||e.tag===3||e.tag===4}function xh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gu(e,n,s){var f=e.tag;if(f===5||f===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Zs));else if(f!==4&&(e=e.child,e!==null))for(gu(e,n,s),e=e.sibling;e!==null;)gu(e,n,s),e=e.sibling}function xu(e,n,s){var f=e.tag;if(f===5||f===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(f!==4&&(e=e.child,e!==null))for(xu(e,n,s),e=e.sibling;e!==null;)xu(e,n,s),e=e.sibling}var di=null,so=!1;function sl(e,n,s){for(s=s.child;s!==null;)yh(e,n,s),s=s.sibling}function yh(e,n,s){if(na&&typeof na.onCommitFiberUnmount=="function")try{na.onCommitFiberUnmount(Bs,s)}catch{}switch(s.tag){case 5:_i||sc(s,n);case 6:var f=di,y=so;di=null,sl(e,n,s),di=f,so=y,di!==null&&(so?(e=di,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):di.removeChild(s.stateNode));break;case 18:di!==null&&(so?(e=di,s=s.stateNode,e.nodeType===8?eo(e.parentNode,s):e.nodeType===1&&eo(e,s),ir(e)):eo(di,s.stateNode));break;case 4:f=di,y=so,di=s.stateNode.containerInfo,so=!0,sl(e,n,s),di=f,so=y;break;case 0:case 11:case 14:case 15:if(!_i&&(f=s.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var S=y,D=S.destroy;S=S.tag,D!==void 0&&((S&2)!==0||(S&4)!==0)&&pu(s,n,D),y=y.next}while(y!==f)}sl(e,n,s);break;case 1:if(!_i&&(sc(s,n),f=s.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=s.memoizedProps,f.state=s.memoizedState,f.componentWillUnmount()}catch(ce){Zr(s,n,ce)}sl(e,n,s);break;case 21:sl(e,n,s);break;case 22:s.mode&1?(_i=(f=_i)||s.memoizedState!==null,sl(e,n,s),_i=f):sl(e,n,s);break;default:sl(e,n,s)}}function vh(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new V0),n.forEach(function(f){var y=ng.bind(null,e,f);s.has(f)||(s.add(f),f.then(y,y))})}}function oo(e,n){var s=n.deletions;if(s!==null)for(var f=0;f<s.length;f++){var y=s[f];try{var S=e,D=n,ce=D;e:for(;ce!==null;){switch(ce.tag){case 5:di=ce.stateNode,so=!1;break e;case 3:di=ce.stateNode.containerInfo,so=!0;break e;case 4:di=ce.stateNode.containerInfo,so=!0;break e}ce=ce.return}if(di===null)throw Error(r(160));yh(S,D,y),di=null,so=!1;var ve=y.alternate;ve!==null&&(ve.return=null),y.return=null}catch(Ve){Zr(y,n,Ve)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)bh(n,e),n=n.sibling}function bh(e,n){var s=e.alternate,f=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(oo(n,e),_o(e),f&4){try{Tc(3,e,e.return),dd(3,e)}catch(Ut){Zr(e,e.return,Ut)}try{Tc(5,e,e.return)}catch(Ut){Zr(e,e.return,Ut)}}break;case 1:oo(n,e),_o(e),f&512&&s!==null&&sc(s,s.return);break;case 5:if(oo(n,e),_o(e),f&512&&s!==null&&sc(s,s.return),e.flags&32){var y=e.stateNode;try{oe(y,"")}catch(Ut){Zr(e,e.return,Ut)}}if(f&4&&(y=e.stateNode,y!=null)){var S=e.memoizedProps,D=s!==null?s.memoizedProps:S,ce=e.type,ve=e.updateQueue;if(e.updateQueue=null,ve!==null)try{ce==="input"&&S.type==="radio"&&S.name!=null&&mt(y,S),vt(ce,D);var Ve=vt(ce,S);for(D=0;D<ve.length;D+=2){var lt=ve[D],dt=ve[D+1];lt==="style"?qe(y,dt):lt==="dangerouslySetInnerHTML"?$e(y,dt):lt==="children"?oe(y,dt):Q(y,lt,dt,Ve)}switch(ce){case"input":It(y,S);break;case"textarea":wt(y,S);break;case"select":var st=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!S.multiple;var At=S.value;At!=null?gt(y,!!S.multiple,At,!1):st!==!!S.multiple&&(S.defaultValue!=null?gt(y,!!S.multiple,S.defaultValue,!0):gt(y,!!S.multiple,S.multiple?[]:"",!1))}y[T]=S}catch(Ut){Zr(e,e.return,Ut)}}break;case 6:if(oo(n,e),_o(e),f&4){if(e.stateNode===null)throw Error(r(162));y=e.stateNode,S=e.memoizedProps;try{y.nodeValue=S}catch(Ut){Zr(e,e.return,Ut)}}break;case 3:if(oo(n,e),_o(e),f&4&&s!==null&&s.memoizedState.isDehydrated)try{ir(n.containerInfo)}catch(Ut){Zr(e,e.return,Ut)}break;case 4:oo(n,e),_o(e);break;case 13:oo(n,e),_o(e),y=e.child,y.flags&8192&&(S=y.memoizedState!==null,y.stateNode.isHidden=S,!S||y.alternate!==null&&y.alternate.memoizedState!==null||(bu=gn())),f&4&&vh(e);break;case 22:if(lt=s!==null&&s.memoizedState!==null,e.mode&1?(_i=(Ve=_i)||lt,oo(n,e),_i=Ve):oo(n,e),_o(e),f&8192){if(Ve=e.memoizedState!==null,(e.stateNode.isHidden=Ve)&&!lt&&(e.mode&1)!==0)for(Et=e,lt=e.child;lt!==null;){for(dt=Et=lt;Et!==null;){switch(st=Et,At=st.child,st.tag){case 0:case 11:case 14:case 15:Tc(4,st,st.return);break;case 1:sc(st,st.return);var Ft=st.stateNode;if(typeof Ft.componentWillUnmount=="function"){f=st,s=st.return;try{n=f,Ft.props=n.memoizedProps,Ft.state=n.memoizedState,Ft.componentWillUnmount()}catch(Ut){Zr(f,s,Ut)}}break;case 5:sc(st,st.return);break;case 22:if(st.memoizedState!==null){Sh(dt);continue}}At!==null?(At.return=st,Et=At):Sh(dt)}lt=lt.sibling}e:for(lt=null,dt=e;;){if(dt.tag===5){if(lt===null){lt=dt;try{y=dt.stateNode,Ve?(S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(ce=dt.stateNode,ve=dt.memoizedProps.style,D=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,ce.style.display=pt("display",D))}catch(Ut){Zr(e,e.return,Ut)}}}else if(dt.tag===6){if(lt===null)try{dt.stateNode.nodeValue=Ve?"":dt.memoizedProps}catch(Ut){Zr(e,e.return,Ut)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===e)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===e)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===e)break e;lt===dt&&(lt=null),dt=dt.return}lt===dt&&(lt=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:oo(n,e),_o(e),f&4&&vh(e);break;case 21:break;default:oo(n,e),_o(e)}}function _o(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(gh(s)){var f=s;break e}s=s.return}throw Error(r(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(oe(y,""),f.flags&=-33);var S=xh(e);xu(e,S,y);break;case 3:case 4:var D=f.stateNode.containerInfo,ce=xh(e);gu(e,ce,D);break;default:throw Error(r(161))}}catch(ve){Zr(e,e.return,ve)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function G0(e,n,s){Et=e,wh(e)}function wh(e,n,s){for(var f=(e.mode&1)!==0;Et!==null;){var y=Et,S=y.child;if(y.tag===22&&f){var D=y.memoizedState!==null||cd;if(!D){var ce=y.alternate,ve=ce!==null&&ce.memoizedState!==null||_i;ce=cd;var Ve=_i;if(cd=D,(_i=ve)&&!Ve)for(Et=y;Et!==null;)D=Et,ve=D.child,D.tag===22&&D.memoizedState!==null?Nh(y):ve!==null?(ve.return=D,Et=ve):Nh(y);for(;S!==null;)Et=S,wh(S),S=S.sibling;Et=y,cd=ce,_i=Ve}jh(e)}else(y.subtreeFlags&8772)!==0&&S!==null?(S.return=y,Et=S):jh(e)}}function jh(e){for(;Et!==null;){var n=Et;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:_i||dd(5,n);break;case 1:var f=n.stateNode;if(n.flags&4&&!_i)if(s===null)f.componentDidMount();else{var y=n.elementType===n.type?s.memoizedProps:io(n.type,s.memoizedProps);f.componentDidUpdate(y,s.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var S=n.updateQueue;S!==null&&ns(n,S,f);break;case 3:var D=n.updateQueue;if(D!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}ns(n,D,s)}break;case 5:var ce=n.stateNode;if(s===null&&n.flags&4){s=ce;var ve=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&s.focus();break;case"img":ve.src&&(s.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var Ve=n.alternate;if(Ve!==null){var lt=Ve.memoizedState;if(lt!==null){var dt=lt.dehydrated;dt!==null&&ir(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}_i||n.flags&512&&mu(n)}catch(st){Zr(n,n.return,st)}}if(n===e){Et=null;break}if(s=n.sibling,s!==null){s.return=n.return,Et=s;break}Et=n.return}}function Sh(e){for(;Et!==null;){var n=Et;if(n===e){Et=null;break}var s=n.sibling;if(s!==null){s.return=n.return,Et=s;break}Et=n.return}}function Nh(e){for(;Et!==null;){var n=Et;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{dd(4,n)}catch(ve){Zr(n,s,ve)}break;case 1:var f=n.stateNode;if(typeof f.componentDidMount=="function"){var y=n.return;try{f.componentDidMount()}catch(ve){Zr(n,y,ve)}}var S=n.return;try{mu(n)}catch(ve){Zr(n,S,ve)}break;case 5:var D=n.return;try{mu(n)}catch(ve){Zr(n,D,ve)}}}catch(ve){Zr(n,n.return,ve)}if(n===e){Et=null;break}var ce=n.sibling;if(ce!==null){ce.return=n.return,Et=ce;break}Et=n.return}}var J0=Math.ceil,ud=q.ReactCurrentDispatcher,yu=q.ReactCurrentOwner,Rs=q.ReactCurrentBatchConfig,Fn=0,Ya=null,Na=null,ui=0,gs=0,oc=sn(0),Da=0,Fc=null,Ml=0,fd=0,vu=0,Oc=null,as=null,bu=0,lc=1/0,Vo=null,hd=!1,wu=null,ol=null,pd=!1,ll=null,md=0,Bc=0,ju=null,gd=-1,xd=0;function qi(){return(Fn&6)!==0?gn():gd!==-1?gd:gd=gn()}function cl(e){return(e.mode&1)===0?1:(Fn&2)!==0&&ui!==0?ui&-ui:zr.transition!==null?(xd===0&&(xd=bs()),xd):(e=Pn,e!==0||(e=window.event,e=e===void 0?16:$s(e.type)),e)}function lo(e,n,s,f){if(50<Bc)throw Bc=0,ju=null,Error(r(185));Bn(e,s,f),((Fn&2)===0||e!==Ya)&&(e===Ya&&((Fn&2)===0&&(fd|=s),Da===4&&dl(e,ui)),is(e,f),s===1&&Fn===0&&(n.mode&1)===0&&(lc=gn()+500,Ll&&N()))}function is(e,n){var s=e.callbackNode;Hr(e,n);var f=$i(e,e===Ya?ui:0);if(f===0)s!==null&&Os(s),e.callbackNode=null,e.callbackPriority=0;else if(n=f&-f,e.callbackPriority!==n){if(s!=null&&Os(s),n===1)e.tag===0?j(Ah.bind(null,e)):h(Ah.bind(null,e)),tl(function(){(Fn&6)===0&&N()}),s=null;else{switch(gi(f)){case 1:s=Qa;break;case 4:s=Lr;break;case 16:s=ka;break;case 536870912:s=cs;break;default:s=ka}s=Rh(s,kh.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function kh(e,n){if(gd=-1,xd=0,(Fn&6)!==0)throw Error(r(327));var s=e.callbackNode;if(cc()&&e.callbackNode!==s)return null;var f=$i(e,e===Ya?ui:0);if(f===0)return null;if((f&30)!==0||(f&e.expiredLanes)!==0||n)n=yd(e,f);else{n=f;var y=Fn;Fn|=2;var S=Ph();(Ya!==e||ui!==n)&&(Vo=null,lc=gn()+500,Dl(e,n));do try{Q0();break}catch(ce){Ch(e,ce)}while(!0);Dn(),ud.current=S,Fn=y,Na!==null?n=0:(Ya=null,ui=0,n=Da)}if(n!==0){if(n===2&&(y=ri(e),y!==0&&(f=y,n=Su(e,y))),n===1)throw s=Fc,Dl(e,0),dl(e,f),is(e,gn()),s;if(n===6)dl(e,f);else{if(y=e.current.alternate,(f&30)===0&&!K0(y)&&(n=yd(e,f),n===2&&(S=ri(e),S!==0&&(f=S,n=Su(e,S))),n===1))throw s=Fc,Dl(e,0),dl(e,f),is(e,gn()),s;switch(e.finishedWork=y,e.finishedLanes=f,n){case 0:case 1:throw Error(r(345));case 2:Tl(e,as,Vo);break;case 3:if(dl(e,f),(f&130023424)===f&&(n=bu+500-gn(),10<n)){if($i(e,0)!==0)break;if(y=e.suspendedLanes,(y&f)!==f){qi(),e.pingedLanes|=e.suspendedLanes&y;break}e.timeoutHandle=el(Tl.bind(null,e,as,Vo),n);break}Tl(e,as,Vo);break;case 4:if(dl(e,f),(f&4194240)===f)break;for(n=e.eventTimes,y=-1;0<f;){var D=31-Qn(f);S=1<<D,D=n[D],D>y&&(y=D),f&=~S}if(f=y,f=gn()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*J0(f/1960))-f,10<f){e.timeoutHandle=el(Tl.bind(null,e,as,Vo),f);break}Tl(e,as,Vo);break;case 5:Tl(e,as,Vo);break;default:throw Error(r(329))}}}return is(e,gn()),e.callbackNode===s?kh.bind(null,e):null}function Su(e,n){var s=Oc;return e.current.memoizedState.isDehydrated&&(Dl(e,n).flags|=256),e=yd(e,n),e!==2&&(n=as,as=s,n!==null&&Nu(n)),e}function Nu(e){as===null?as=e:as.push.apply(as,e)}function K0(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var f=0;f<s.length;f++){var y=s[f],S=y.getSnapshot;y=y.value;try{if(!xr(S(),y))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function dl(e,n){for(n&=~vu,n&=~fd,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Qn(n),f=1<<s;e[s]=-1,n&=~f}}function Ah(e){if((Fn&6)!==0)throw Error(r(327));cc();var n=$i(e,0);if((n&1)===0)return is(e,gn()),null;var s=yd(e,n);if(e.tag!==0&&s===2){var f=ri(e);f!==0&&(n=f,s=Su(e,f))}if(s===1)throw s=Fc,Dl(e,0),dl(e,n),is(e,gn()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Tl(e,as,Vo),is(e,gn()),null}function ku(e,n){var s=Fn;Fn|=1;try{return e(n)}finally{Fn=s,Fn===0&&(lc=gn()+500,Ll&&N())}}function Rl(e){ll!==null&&ll.tag===0&&(Fn&6)===0&&cc();var n=Fn;Fn|=1;var s=Rs.transition,f=Pn;try{if(Rs.transition=null,Pn=1,e)return e()}finally{Pn=f,Rs.transition=s,Fn=n,(Fn&6)===0&&N()}}function Au(){gs=oc.current,cn(oc)}function Dl(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Gl(s)),Na!==null)for(s=Na.return;s!==null;){var f=s;switch(Ue(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&_s();break;case 3:Is(),cn(qa),cn(sa),Ec();break;case 5:_c(f);break;case 4:Is();break;case 13:cn(ur);break;case 19:cn(ur);break;case 10:wr(f.type._context);break;case 22:case 23:Au()}s=s.return}if(Ya=e,Na=e=ul(e.current,null),ui=gs=n,Da=0,Fc=null,vu=fd=Ml=0,as=Oc=null,tr!==null){for(n=0;n<tr.length;n++)if(s=tr[n],f=s.interleaved,f!==null){s.interleaved=null;var y=f.next,S=s.pending;if(S!==null){var D=S.next;S.next=y,f.next=D}s.pending=f}tr=null}return e}function Ch(e,n){do{var s=Na;try{if(Dn(),Kl.current=id,rl){for(var f=jr.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}rl=!1}if(Es=0,$r=Qr=jr=null,ro=!1,al=0,yu.current=null,s===null||s.return===null){Da=1,Fc=n,Na=null;break}e:{var S=e,D=s.return,ce=s,ve=n;if(n=ui,ce.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Ve=ve,lt=ce,dt=lt.tag;if((lt.mode&1)===0&&(dt===0||dt===11||dt===15)){var st=lt.alternate;st?(lt.updateQueue=st.updateQueue,lt.memoizedState=st.memoizedState,lt.lanes=st.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var At=Qf(D);if(At!==null){At.flags&=-257,Zf(At,D,ce,S,n),At.mode&1&&Xf(S,Ve,n),n=At,ve=Ve;var Ft=n.updateQueue;if(Ft===null){var Ut=new Set;Ut.add(ve),n.updateQueue=Ut}else Ft.add(ve);break e}else{if((n&1)===0){Xf(S,Ve,n),Cu();break e}ve=Error(r(426))}}else if(Ze&&ce.mode&1){var ca=Qf(D);if(ca!==null){(ca.flags&65536)===0&&(ca.flags|=256),Zf(ca,D,ce,S,n),xt(ic(ve,ce));break e}}S=ve=ic(ve,ce),Da!==4&&(Da=2),Oc===null?Oc=[S]:Oc.push(S),S=D;do{switch(S.tag){case 3:S.flags|=65536,n&=-n,S.lanes|=n;var Be=Jf(S,ve,n);rr(S,Be);break e;case 1:ce=ve;var Ne=S.type,He=S.stateNode;if((S.flags&128)===0&&(typeof Ne.getDerivedStateFromError=="function"||He!==null&&typeof He.componentDidCatch=="function"&&(ol===null||!ol.has(He)))){S.flags|=65536,n&=-n,S.lanes|=n;var ht=Kf(S,ce,n);rr(S,ht);break e}}S=S.return}while(S!==null)}_h(s)}catch(Vt){n=Vt,Na===s&&s!==null&&(Na=s=s.return);continue}break}while(!0)}function Ph(){var e=ud.current;return ud.current=id,e===null?id:e}function Cu(){(Da===0||Da===3||Da===2)&&(Da=4),Ya===null||(Ml&268435455)===0&&(fd&268435455)===0||dl(Ya,ui)}function yd(e,n){var s=Fn;Fn|=2;var f=Ph();(Ya!==e||ui!==n)&&(Vo=null,Dl(e,n));do try{X0();break}catch(y){Ch(e,y)}while(!0);if(Dn(),Fn=s,ud.current=f,Na!==null)throw Error(r(261));return Ya=null,ui=0,Da}function X0(){for(;Na!==null;)Lh(Na)}function Q0(){for(;Na!==null&&!Di();)Lh(Na)}function Lh(e){var n=Mh(e.alternate,e,gs);e.memoizedProps=e.pendingProps,n===null?_h(e):Na=n,yu.current=null}function _h(e){var n=e;do{var s=n.alternate;if(e=n.return,(n.flags&32768)===0){if(s=$0(s,n,gs),s!==null){Na=s;return}}else{if(s=H0(s,n),s!==null){s.flags&=32767,Na=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Da=6,Na=null;return}}if(n=n.sibling,n!==null){Na=n;return}Na=n=e}while(n!==null);Da===0&&(Da=5)}function Tl(e,n,s){var f=Pn,y=Rs.transition;try{Rs.transition=null,Pn=1,Z0(e,n,s,f)}finally{Rs.transition=y,Pn=f}return null}function Z0(e,n,s,f){do cc();while(ll!==null);if((Fn&6)!==0)throw Error(r(327));s=e.finishedWork;var y=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var S=s.lanes|s.childLanes;if(Oa(e,S),e===Ya&&(Na=Ya=null,ui=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||pd||(pd=!0,Rh(ka,function(){return cc(),null})),S=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||S){S=Rs.transition,Rs.transition=null;var D=Pn;Pn=1;var ce=Fn;Fn|=4,yu.current=null,Y0(e,s),bh(s,e),vr(Ls),ds=!!ko,Ls=ko=null,e.current=s,G0(s),ut(),Fn=ce,Pn=D,Rs.transition=S}else e.current=s;if(pd&&(pd=!1,ll=e,md=y),S=e.pendingLanes,S===0&&(ol=null),Aa(s.stateNode),is(e,gn()),n!==null)for(f=e.onRecoverableError,s=0;s<n.length;s++)y=n[s],f(y.value,{componentStack:y.stack,digest:y.digest});if(hd)throw hd=!1,e=wu,wu=null,e;return(md&1)!==0&&e.tag!==0&&cc(),S=e.pendingLanes,(S&1)!==0?e===ju?Bc++:(Bc=0,ju=e):Bc=0,N(),null}function cc(){if(ll!==null){var e=gi(md),n=Rs.transition,s=Pn;try{if(Rs.transition=null,Pn=16>e?16:e,ll===null)var f=!1;else{if(e=ll,ll=null,md=0,(Fn&6)!==0)throw Error(r(331));var y=Fn;for(Fn|=4,Et=e.current;Et!==null;){var S=Et,D=S.child;if((Et.flags&16)!==0){var ce=S.deletions;if(ce!==null){for(var ve=0;ve<ce.length;ve++){var Ve=ce[ve];for(Et=Ve;Et!==null;){var lt=Et;switch(lt.tag){case 0:case 11:case 15:Tc(8,lt,S)}var dt=lt.child;if(dt!==null)dt.return=lt,Et=dt;else for(;Et!==null;){lt=Et;var st=lt.sibling,At=lt.return;if(mh(lt),lt===Ve){Et=null;break}if(st!==null){st.return=At,Et=st;break}Et=At}}}var Ft=S.alternate;if(Ft!==null){var Ut=Ft.child;if(Ut!==null){Ft.child=null;do{var ca=Ut.sibling;Ut.sibling=null,Ut=ca}while(Ut!==null)}}Et=S}}if((S.subtreeFlags&2064)!==0&&D!==null)D.return=S,Et=D;else e:for(;Et!==null;){if(S=Et,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Tc(9,S,S.return)}var Be=S.sibling;if(Be!==null){Be.return=S.return,Et=Be;break e}Et=S.return}}var Ne=e.current;for(Et=Ne;Et!==null;){D=Et;var He=D.child;if((D.subtreeFlags&2064)!==0&&He!==null)He.return=D,Et=He;else e:for(D=Ne;Et!==null;){if(ce=Et,(ce.flags&2048)!==0)try{switch(ce.tag){case 0:case 11:case 15:dd(9,ce)}}catch(Vt){Zr(ce,ce.return,Vt)}if(ce===D){Et=null;break e}var ht=ce.sibling;if(ht!==null){ht.return=ce.return,Et=ht;break e}Et=ce.return}}if(Fn=y,N(),na&&typeof na.onPostCommitFiberRoot=="function")try{na.onPostCommitFiberRoot(Bs,e)}catch{}f=!0}return f}finally{Pn=s,Rs.transition=n}}return!1}function Ih(e,n,s){n=ic(s,n),n=Jf(e,n,1),e=Wr(e,n,1),n=qi(),e!==null&&(Bn(e,1,n),is(e,n))}function Zr(e,n,s){if(e.tag===3)Ih(e,e,s);else for(;n!==null;){if(n.tag===3){Ih(n,e,s);break}else if(n.tag===1){var f=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ol===null||!ol.has(f))){e=ic(s,e),e=Kf(n,e,1),n=Wr(n,e,1),e=qi(),n!==null&&(Bn(n,1,e),is(n,e));break}}n=n.return}}function eg(e,n,s){var f=e.pingCache;f!==null&&f.delete(n),n=qi(),e.pingedLanes|=e.suspendedLanes&s,Ya===e&&(ui&s)===s&&(Da===4||Da===3&&(ui&130023424)===ui&&500>gn()-bu?Dl(e,0):vu|=s),is(e,n)}function Eh(e,n){n===0&&((e.mode&1)===0?n=1:(n=ti,ti<<=1,(ti&130023424)===0&&(ti=4194304)));var s=qi();e=nr(e,n),e!==null&&(Bn(e,n,s),is(e,s))}function tg(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Eh(e,s)}function ng(e,n){var s=0;switch(e.tag){case 13:var f=e.stateNode,y=e.memoizedState;y!==null&&(s=y.retryLane);break;case 19:f=e.stateNode;break;default:throw Error(r(314))}f!==null&&f.delete(n),Eh(e,s)}var Mh;Mh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||qa.current)rs=!0;else{if((e.lanes&s)===0&&(n.flags&128)===0)return rs=!1,q0(e,n,s);rs=(e.flags&131072)!==0}else rs=!1,Ze&&(n.flags&1048576)!==0&&Fe(n,W,n.index);switch(n.lanes=0,n.tag){case 2:var f=n.type;ld(e,n),e=n.pendingProps;var y=Wn(n,sa.current);Mr(n,s),y=_l(null,n,f,e,y,s);var S=Ms();return n.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,er(f)?(S=!0,qo(n)):S=!1,n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Ra(n),y.updater=sd,n.stateNode=y,y._reactInternals=n,au(n,f,e,s),n=lu(null,n,f,!0,S,s)):(n.tag=0,Ze&&S&&Je(n),Wi(null,n,y,s),n=n.child),n;case 16:f=n.elementType;e:{switch(ld(e,n),e=n.pendingProps,y=f._init,f=y(f._payload),n.type=f,y=n.tag=ag(f),e=io(f,e),y){case 0:n=ou(null,n,f,e,s);break e;case 1:n=ih(null,n,f,e,s);break e;case 11:n=eh(null,n,f,e,s);break e;case 14:n=th(null,n,f,io(f.type,e),s);break e}throw Error(r(306,f,""))}return n;case 0:return f=n.type,y=n.pendingProps,y=n.elementType===f?y:io(f,y),ou(e,n,f,y,s);case 1:return f=n.type,y=n.pendingProps,y=n.elementType===f?y:io(f,y),ih(e,n,f,y,s);case 3:e:{if(sh(n),e===null)throw Error(r(387));f=n.pendingProps,S=n.memoizedState,y=S.element,Pi(e,n),Va(n,f,null,s);var D=n.memoizedState;if(f=D.element,S.isDehydrated)if(S={element:f,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},n.updateQueue.baseState=S,n.memoizedState=S,n.flags&256){y=ic(Error(r(423)),n),n=oh(e,n,f,s,y);break e}else if(f!==y){y=ic(Error(r(424)),n),n=oh(e,n,f,s,y);break e}else for(Ge=Ma(n.stateNode.containerInfo.firstChild),Ye=n,Ze=!0,et=null,s=Ar(n,null,f,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(_t(),f===y){n=Ho(e,n,s);break e}Wi(e,n,f,s)}n=n.child}return n;case 5:return ed(n),e===null&&Tt(n),f=n.type,y=n.pendingProps,S=e!==null?e.memoizedProps:null,D=y.children,Ao(f,y)?D=null:S!==null&&Ao(f,S)&&(n.flags|=32),ah(e,n),Wi(e,n,D,s),n.child;case 6:return e===null&&Tt(n),null;case 13:return lh(e,n,s);case 4:return nl(n,n.stateNode.containerInfo),f=n.pendingProps,e===null?n.child=Kr(n,null,f,s):Wi(e,n,f,s),n.child;case 11:return f=n.type,y=n.pendingProps,y=n.elementType===f?y:io(f,y),eh(e,n,f,y,s);case 7:return Wi(e,n,n.pendingProps,s),n.child;case 8:return Wi(e,n,n.pendingProps.children,s),n.child;case 12:return Wi(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(f=n.type._context,y=n.pendingProps,S=n.memoizedProps,D=y.value,yn(oa,f._currentValue),f._currentValue=D,S!==null)if(xr(S.value,D)){if(S.children===y.children&&!qa.current){n=Ho(e,n,s);break e}}else for(S=n.child,S!==null&&(S.return=n);S!==null;){var ce=S.dependencies;if(ce!==null){D=S.child;for(var ve=ce.firstContext;ve!==null;){if(ve.context===f){if(S.tag===1){ve=Ur(-1,s&-s),ve.tag=2;var Ve=S.updateQueue;if(Ve!==null){Ve=Ve.shared;var lt=Ve.pending;lt===null?ve.next=ve:(ve.next=lt.next,lt.next=ve),Ve.pending=ve}}S.lanes|=s,ve=S.alternate,ve!==null&&(ve.lanes|=s),Tn(S.return,s,n),ce.lanes|=s;break}ve=ve.next}}else if(S.tag===10)D=S.type===n.type?null:S.child;else if(S.tag===18){if(D=S.return,D===null)throw Error(r(341));D.lanes|=s,ce=D.alternate,ce!==null&&(ce.lanes|=s),Tn(D,s,n),D=S.sibling}else D=S.child;if(D!==null)D.return=S;else for(D=S;D!==null;){if(D===n){D=null;break}if(S=D.sibling,S!==null){S.return=D.return,D=S;break}D=D.return}S=D}Wi(e,n,y.children,s),n=n.child}return n;case 9:return y=n.type,f=n.pendingProps.children,Mr(n,s),y=Rr(y),f=f(y),n.flags|=1,Wi(e,n,f,s),n.child;case 14:return f=n.type,y=io(f,n.pendingProps),y=io(f.type,y),th(e,n,f,y,s);case 15:return nh(e,n,n.type,n.pendingProps,s);case 17:return f=n.type,y=n.pendingProps,y=n.elementType===f?y:io(f,y),ld(e,n),n.tag=1,er(f)?(e=!0,qo(n)):e=!1,Mr(n,s),Yf(n,f,y),au(n,f,y,s),lu(null,n,f,!0,e,s);case 19:return dh(e,n,s);case 22:return rh(e,n,s)}throw Error(r(156,n.tag))};function Rh(e,n){return Fr(e,n)}function rg(e,n,s,f){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(e,n,s,f){return new rg(e,n,s,f)}function Pu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ag(e){if(typeof e=="function")return Pu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===H)return 11;if(e===ke)return 14}return 2}function ul(e,n){var s=e.alternate;return s===null?(s=Ds(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function vd(e,n,s,f,y,S){var D=2;if(f=e,typeof e=="function")Pu(e)&&(D=1);else if(typeof e=="string")D=5;else e:switch(e){case _e:return Fl(s.children,y,S,n);case ge:D=8,y|=8;break;case te:return e=Ds(12,s,n,y|2),e.elementType=te,e.lanes=S,e;case ne:return e=Ds(13,s,n,y),e.elementType=ne,e.lanes=S,e;case se:return e=Ds(19,s,n,y),e.elementType=se,e.lanes=S,e;case Me:return bd(s,y,S,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xe:D=10;break e;case z:D=9;break e;case H:D=11;break e;case ke:D=14;break e;case Re:D=16,f=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Ds(D,s,n,y),n.elementType=e,n.type=f,n.lanes=S,n}function Fl(e,n,s,f){return e=Ds(7,e,f,n),e.lanes=s,e}function bd(e,n,s,f){return e=Ds(22,e,f,n),e.elementType=Me,e.lanes=s,e.stateNode={isHidden:!1},e}function Lu(e,n,s){return e=Ds(6,e,null,n),e.lanes=s,e}function _u(e,n,s){return n=Ds(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ig(e,n,s,f,y){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fo(0),this.expirationTimes=Fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fo(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Iu(e,n,s,f,y,S,D,ce,ve){return e=new ig(e,n,s,ce,ve),n===1?(n=1,S===!0&&(n|=8)):n=0,S=Ds(3,null,null,n),e.current=S,S.stateNode=e,S.memoizedState={element:f,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(S),e}function sg(e,n,s){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:f==null?null:""+f,children:e,containerInfo:n,implementation:s}}function Dh(e){if(!e)return ba;e=e._reactInternals;e:{if(Mn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(er(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(er(s))return Lc(e,s,n)}return n}function Th(e,n,s,f,y,S,D,ce,ve){return e=Iu(s,f,!0,e,y,S,D,ce,ve),e.context=Dh(null),s=e.current,f=qi(),y=cl(s),S=Ur(f,y),S.callback=n??null,Wr(s,S,y),e.current.lanes=y,Bn(e,y,f),is(e,f),e}function wd(e,n,s,f){var y=n.current,S=qi(),D=cl(y);return s=Dh(s),n.context===null?n.context=s:n.pendingContext=s,n=Ur(S,D),n.payload={element:e},f=f===void 0?null:f,f!==null&&(n.callback=f),e=Wr(y,n,D),e!==null&&(lo(e,y,D,S),Ha(e,y,D)),D}function jd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Eu(e,n){Fh(e,n),(e=e.alternate)&&Fh(e,n)}function og(){return null}var Oh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mu(e){this._internalRoot=e}Sd.prototype.render=Mu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));wd(e,n,null,null)},Sd.prototype.unmount=Mu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Rl(function(){wd(null,e,null,null)}),n[E]=null}};function Sd(e){this._internalRoot=e}Sd.prototype.unstable_scheduleHydration=function(e){if(e){var n=aa();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ai.length&&n!==0&&n<ai[s].priority;s++);ai.splice(s,0,e),s===0&&Us(e)}};function Ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bh(){}function lg(e,n,s,f,y){if(y){if(typeof f=="function"){var S=f;f=function(){var Ve=jd(D);S.call(Ve)}}var D=Th(n,f,e,0,null,!1,!1,"",Bh);return e._reactRootContainer=D,e[E]=D.current,Br(e.nodeType===8?e.parentNode:e),Rl(),D}for(;y=e.lastChild;)e.removeChild(y);if(typeof f=="function"){var ce=f;f=function(){var Ve=jd(ve);ce.call(Ve)}}var ve=Iu(e,0,!1,null,null,!1,!1,"",Bh);return e._reactRootContainer=ve,e[E]=ve.current,Br(e.nodeType===8?e.parentNode:e),Rl(function(){wd(n,ve,s,f)}),ve}function kd(e,n,s,f,y){var S=s._reactRootContainer;if(S){var D=S;if(typeof y=="function"){var ce=y;y=function(){var ve=jd(D);ce.call(ve)}}wd(n,D,e,y)}else D=lg(s,n,e,y,f);return jd(D)}ws=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=mi(n.pendingLanes);s!==0&&(ra(n,s|1),is(n,gn()),(Fn&6)===0&&(lc=gn()+500,N()))}break;case 13:Rl(function(){var f=nr(e,1);if(f!==null){var y=qi();lo(f,e,1,y)}}),Eu(e,1)}},Oo=function(e){if(e.tag===13){var n=nr(e,134217728);if(n!==null){var s=qi();lo(n,e,134217728,s)}Eu(e,134217728)}},js=function(e){if(e.tag===13){var n=cl(e),s=nr(e,n);if(s!==null){var f=qi();lo(s,e,n,f)}Eu(e,n)}},aa=function(){return Pn},Hi=function(e,n){var s=Pn;try{return Pn=e,n()}finally{Pn=s}},zt=function(e,n,s){switch(n){case"input":if(It(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var f=s[n];if(f!==e&&f.form===e.form){var y=Gt(f);if(!y)throw Error(r(90));it(f),It(f,y)}}}break;case"textarea":wt(e,s);break;case"select":n=s.value,n!=null&&gt(e,!!s.multiple,n,!1)}},ln=ku,Tr=Rl;var cg={usingClientEntryPoint:!1,Events:[Xe,rt,Gt,hn,pa,ku]},zc={findFiberByHostInstance:Se,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dg={bundleType:zc.bundleType,version:zc.version,rendererPackageName:zc.rendererPackageName,rendererConfig:zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kn(e),e===null?null:e.stateNode},findFiberByHostInstance:zc.findFiberByHostInstance||og,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{Bs=Ad.inject(dg),na=Ad}catch{}}return ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cg,ss.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ru(n))throw Error(r(200));return sg(e,n,null,s)},ss.createRoot=function(e,n){if(!Ru(e))throw Error(r(299));var s=!1,f="",y=Oh;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(f=n.identifierPrefix),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Iu(e,1,!1,null,null,s,!1,f,y),e[E]=n.current,Br(e.nodeType===8?e.parentNode:e),new Mu(n)},ss.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Kn(n),e=e===null?null:e.stateNode,e},ss.flushSync=function(e){return Rl(e)},ss.hydrate=function(e,n,s){if(!Nd(n))throw Error(r(200));return kd(null,e,n,!0,s)},ss.hydrateRoot=function(e,n,s){if(!Ru(e))throw Error(r(405));var f=s!=null&&s.hydratedSources||null,y=!1,S="",D=Oh;if(s!=null&&(s.unstable_strictMode===!0&&(y=!0),s.identifierPrefix!==void 0&&(S=s.identifierPrefix),s.onRecoverableError!==void 0&&(D=s.onRecoverableError)),n=Th(n,null,e,1,s??null,y,!1,S,D),e[E]=n.current,Br(e),f)for(e=0;e<f.length;e++)s=f[e],y=s._getVersion,y=y(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,y]:n.mutableSourceEagerHydrationData.push(s,y);return new Sd(n)},ss.render=function(e,n,s){if(!Nd(n))throw Error(r(200));return kd(null,e,n,!1,s)},ss.unmountComponentAtNode=function(e){if(!Nd(e))throw Error(r(40));return e._reactRootContainer?(Rl(function(){kd(null,null,e,!1,function(){e._reactRootContainer=null,e[E]=null})}),!0):!1},ss.unstable_batchedUpdates=ku,ss.unstable_renderSubtreeIntoContainer=function(e,n,s,f){if(!Nd(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return kd(e,n,s,!1,f)},ss.version="18.3.1-next-f1338f8080-20240426",ss}var Yh;function Lm(){if(Yh)return Fu.exports;Yh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),Fu.exports=vg(),Fu.exports}var Gh;function bg(){if(Gh)return Cd;Gh=1;var i=Lm();return Cd.createRoot=i.createRoot,Cd.hydrateRoot=i.hydrateRoot,Cd}var wg=bg();const jg=Pm(wg);Lm();function Vc(){return Vc=Object.assign?Object.assign.bind():function(i){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},Vc.apply(this,arguments)}var ml;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(ml||(ml={}));const Jh="popstate";function Sg(i){i===void 0&&(i={});function a(o,c){let{pathname:l,search:m,hash:p}=o.location;return uf("",{pathname:l,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(o,c){return typeof c=="string"?c:$d(c)}return kg(a,r,null,i)}function ha(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function Pf(i,a){if(!i){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Ng(){return Math.random().toString(36).substr(2,8)}function Kh(i,a){return{usr:i.state,key:i.key,idx:a}}function uf(i,a,r,o){return r===void 0&&(r=null),Vc({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof a=="string"?wc(a):a,{state:r,key:a&&a.key||o||Ng()})}function $d(i){let{pathname:a="/",search:r="",hash:o=""}=i;return r&&r!=="?"&&(a+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(a+=o.charAt(0)==="#"?o:"#"+o),a}function wc(i){let a={};if(i){let r=i.indexOf("#");r>=0&&(a.hash=i.substr(r),i=i.substr(0,r));let o=i.indexOf("?");o>=0&&(a.search=i.substr(o),i=i.substr(0,o)),i&&(a.pathname=i)}return a}function kg(i,a,r,o){o===void 0&&(o={});let{window:c=document.defaultView,v5Compat:l=!1}=o,m=c.history,p=ml.Pop,g=null,v=w();v==null&&(v=0,m.replaceState(Vc({},m.state,{idx:v}),""));function w(){return(m.state||{idx:null}).idx}function A(){p=ml.Pop;let I=w(),P=I==null?null:I-v;v=I,g&&g({action:p,location:M.location,delta:P})}function R(I,P){p=ml.Push;let $=uf(M.location,I,P);v=w()+1;let Q=Kh($,v),q=M.createHref($);try{m.pushState(Q,"",q)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;c.location.assign(q)}l&&g&&g({action:p,location:M.location,delta:1})}function b(I,P){p=ml.Replace;let $=uf(M.location,I,P);v=w();let Q=Kh($,v),q=M.createHref($);m.replaceState(Q,"",q),l&&g&&g({action:p,location:M.location,delta:0})}function U(I){let P=c.location.origin!=="null"?c.location.origin:c.location.href,$=typeof I=="string"?I:$d(I);return $=$.replace(/ $/,"%20"),ha(P,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,P)}let M={get action(){return p},get location(){return i(c,m)},listen(I){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Jh,A),g=I,()=>{c.removeEventListener(Jh,A),g=null}},createHref(I){return a(c,I)},createURL:U,encodeLocation(I){let P=U(I);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:R,replace:b,go(I){return m.go(I)}};return M}var Xh;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(Xh||(Xh={}));function Ag(i,a,r){return r===void 0&&(r="/"),Cg(i,a,r)}function Cg(i,a,r,o){let c=typeof a=="string"?wc(a):a,l=Lf(c.pathname||"/",r);if(l==null)return null;let m=_m(i);Pg(m);let p=null;for(let g=0;p==null&&g<m.length;++g){let v=zg(l);p=Fg(m[g],v)}return p}function _m(i,a,r,o){a===void 0&&(a=[]),r===void 0&&(r=[]),o===void 0&&(o="");let c=(l,m,p)=>{let g={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:m,route:l};g.relativePath.startsWith("/")&&(ha(g.relativePath.startsWith(o),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(o.length));let v=xl([o,g.relativePath]),w=r.concat(g);l.children&&l.children.length>0&&(ha(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),_m(l.children,a,w,v)),!(l.path==null&&!l.index)&&a.push({path:v,score:Dg(v,l.index),routesMeta:w})};return i.forEach((l,m)=>{var p;if(l.path===""||!((p=l.path)!=null&&p.includes("?")))c(l,m);else for(let g of Im(l.path))c(l,m,g)}),a}function Im(i){let a=i.split("/");if(a.length===0)return[];let[r,...o]=a,c=r.endsWith("?"),l=r.replace(/\?$/,"");if(o.length===0)return c?[l,""]:[l];let m=Im(o.join("/")),p=[];return p.push(...m.map(g=>g===""?l:[l,g].join("/"))),c&&p.push(...m),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function Pg(i){i.sort((a,r)=>a.score!==r.score?r.score-a.score:Tg(a.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const Lg=/^:[\w-]+$/,_g=3,Ig=2,Eg=1,Mg=10,Rg=-2,Qh=i=>i==="*";function Dg(i,a){let r=i.split("/"),o=r.length;return r.some(Qh)&&(o+=Rg),a&&(o+=Ig),r.filter(c=>!Qh(c)).reduce((c,l)=>c+(Lg.test(l)?_g:l===""?Eg:Mg),o)}function Tg(i,a){return i.length===a.length&&i.slice(0,-1).every((o,c)=>o===a[c])?i[i.length-1]-a[a.length-1]:0}function Fg(i,a,r){let{routesMeta:o}=i,c={},l="/",m=[];for(let p=0;p<o.length;++p){let g=o[p],v=p===o.length-1,w=l==="/"?a:a.slice(l.length)||"/",A=Og({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},w),R=g.route;if(!A)return null;Object.assign(c,A.params),m.push({params:c,pathname:xl([l,A.pathname]),pathnameBase:Hg(xl([l,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(l=xl([l,A.pathnameBase]))}return m}function Og(i,a){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,o]=Bg(i.path,i.caseSensitive,i.end),c=a.match(r);if(!c)return null;let l=c[0],m=l.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:o.reduce((v,w,A)=>{let{paramName:R,isOptional:b}=w;if(R==="*"){let M=p[A]||"";m=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const U=p[A];return b&&!U?v[R]=void 0:v[R]=(U||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:m,pattern:i}}function Bg(i,a,r){a===void 0&&(a=!1),r===void 0&&(r=!0),Pf(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let o=[],c="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,p,g)=>(o.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),c+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":i!==""&&i!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),o]}function zg(i){try{return i.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Pf(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),i}}function Lf(i,a){if(a==="/")return i;if(!i.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,o=i.charAt(r);return o&&o!=="/"?null:i.slice(r)||"/"}const Ug=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wg=i=>Ug.test(i);function qg(i,a){a===void 0&&(a="/");let{pathname:r,search:o="",hash:c=""}=typeof i=="string"?wc(i):i,l;if(r)if(Wg(r))l=r;else{if(r.includes("//")){let m=r;r=r.replace(/\/\/+/g,"/"),Pf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(m+" -> "+r))}r.startsWith("/")?l=Zh(r.substring(1),"/"):l=Zh(r,a)}else l=a;return{pathname:l,search:Vg(o),hash:Yg(c)}}function Zh(i,a){let r=a.replace(/\/+$/,"").split("/");return i.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function zu(i,a,r,o){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $g(i){return i.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function _f(i,a){let r=$g(i);return a?r.map((o,c)=>c===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function If(i,a,r,o){o===void 0&&(o=!1);let c;typeof i=="string"?c=wc(i):(c=Vc({},i),ha(!c.pathname||!c.pathname.includes("?"),zu("?","pathname","search",c)),ha(!c.pathname||!c.pathname.includes("#"),zu("#","pathname","hash",c)),ha(!c.search||!c.search.includes("#"),zu("#","search","hash",c)));let l=i===""||c.pathname==="",m=l?"/":c.pathname,p;if(m==null)p=r;else{let A=a.length-1;if(!o&&m.startsWith("..")){let R=m.split("/");for(;R[0]==="..";)R.shift(),A-=1;c.pathname=R.join("/")}p=A>=0?a[A]:"/"}let g=qg(c,p),v=m&&m!=="/"&&m.endsWith("/"),w=(l||m===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(v||w)&&(g.pathname+="/"),g}const xl=i=>i.join("/").replace(/\/\/+/g,"/"),Hg=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Vg=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Yg=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Gg(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const Em=["post","put","patch","delete"];new Set(Em);const Jg=["get",...Em];new Set(Jg);function Yc(){return Yc=Object.assign?Object.assign.bind():function(i){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},Yc.apply(this,arguments)}const Ef=Z.createContext(null),Kg=Z.createContext(null),vl=Z.createContext(null),Jd=Z.createContext(null),bl=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),Mm=Z.createContext(null);function Xg(i,a){let{relative:r}=a===void 0?{}:a;jc()||ha(!1);let{basename:o,navigator:c}=Z.useContext(vl),{hash:l,pathname:m,search:p}=Dm(i,{relative:r}),g=m;return o!=="/"&&(g=m==="/"?o:xl([o,m])),c.createHref({pathname:g,search:p,hash:l})}function jc(){return Z.useContext(Jd)!=null}function Sc(){return jc()||ha(!1),Z.useContext(Jd).location}function Rm(i){Z.useContext(vl).static||Z.useLayoutEffect(i)}function fo(){let{isDataRoute:i}=Z.useContext(bl);return i?d1():Qg()}function Qg(){jc()||ha(!1);let i=Z.useContext(Ef),{basename:a,future:r,navigator:o}=Z.useContext(vl),{matches:c}=Z.useContext(bl),{pathname:l}=Sc(),m=JSON.stringify(_f(c,r.v7_relativeSplatPath)),p=Z.useRef(!1);return Rm(()=>{p.current=!0}),Z.useCallback(function(v,w){if(w===void 0&&(w={}),!p.current)return;if(typeof v=="number"){o.go(v);return}let A=If(v,JSON.parse(m),l,w.relative==="path");i==null&&a!=="/"&&(A.pathname=A.pathname==="/"?a:xl([a,A.pathname])),(w.replace?o.replace:o.push)(A,w.state,w)},[a,o,m,l,i])}function Dm(i,a){let{relative:r}=a===void 0?{}:a,{future:o}=Z.useContext(vl),{matches:c}=Z.useContext(bl),{pathname:l}=Sc(),m=JSON.stringify(_f(c,o.v7_relativeSplatPath));return Z.useMemo(()=>If(i,JSON.parse(m),l,r==="path"),[i,m,l,r])}function Zg(i,a){return e1(i,a)}function e1(i,a,r,o){jc()||ha(!1);let{navigator:c}=Z.useContext(vl),{matches:l}=Z.useContext(bl),m=l[l.length-1],p=m?m.params:{};m&&m.pathname;let g=m?m.pathnameBase:"/";m&&m.route;let v=Sc(),w;if(a){var A;let I=typeof a=="string"?wc(a):a;g==="/"||(A=I.pathname)!=null&&A.startsWith(g)||ha(!1),w=I}else w=v;let R=w.pathname||"/",b=R;if(g!=="/"){let I=g.replace(/^\//,"").split("/");b="/"+R.replace(/^\//,"").split("/").slice(I.length).join("/")}let U=Ag(i,{pathname:b}),M=i1(U&&U.map(I=>Object.assign({},I,{params:Object.assign({},p,I.params),pathname:xl([g,c.encodeLocation?c.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?g:xl([g,c.encodeLocation?c.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),l,r,o);return a&&M?Z.createElement(Jd.Provider,{value:{location:Yc({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:ml.Pop}},M):M}function t1(){let i=c1(),a=Gg(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},a),r?Z.createElement("pre",{style:c},r):null,null)}const n1=Z.createElement(t1,null);class r1 extends Z.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,r){return r.location!==a.location||r.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:r.error,location:r.location,revalidation:a.revalidation||r.revalidation}}componentDidCatch(a,r){console.error("React Router caught the following error during render",a,r)}render(){return this.state.error!==void 0?Z.createElement(bl.Provider,{value:this.props.routeContext},Z.createElement(Mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a1(i){let{routeContext:a,match:r,children:o}=i,c=Z.useContext(Ef);return c&&c.static&&c.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=r.route.id),Z.createElement(bl.Provider,{value:a},o)}function i1(i,a,r,o){var c;if(a===void 0&&(a=[]),r===void 0&&(r=null),o===void 0&&(o=null),i==null){var l;if(!r)return null;if(r.errors)i=r.matches;else if((l=o)!=null&&l.v7_partialHydration&&a.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let m=i,p=(c=r)==null?void 0:c.errors;if(p!=null){let w=m.findIndex(A=>A.route.id&&p?.[A.route.id]!==void 0);w>=0||ha(!1),m=m.slice(0,Math.min(m.length,w+1))}let g=!1,v=-1;if(r&&o&&o.v7_partialHydration)for(let w=0;w<m.length;w++){let A=m[w];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(v=w),A.route.id){let{loaderData:R,errors:b}=r,U=A.route.loader&&R[A.route.id]===void 0&&(!b||b[A.route.id]===void 0);if(A.route.lazy||U){g=!0,v>=0?m=m.slice(0,v+1):m=[m[0]];break}}}return m.reduceRight((w,A,R)=>{let b,U=!1,M=null,I=null;r&&(b=p&&A.route.id?p[A.route.id]:void 0,M=A.route.errorElement||n1,g&&(v<0&&R===0?(u1("route-fallback"),U=!0,I=null):v===R&&(U=!0,I=A.route.hydrateFallbackElement||null)));let P=a.concat(m.slice(0,R+1)),$=()=>{let Q;return b?Q=M:U?Q=I:A.route.Component?Q=Z.createElement(A.route.Component,null):A.route.element?Q=A.route.element:Q=w,Z.createElement(a1,{match:A,routeContext:{outlet:w,matches:P,isDataRoute:r!=null},children:Q})};return r&&(A.route.ErrorBoundary||A.route.errorElement||R===0)?Z.createElement(r1,{location:r.location,revalidation:r.revalidation,component:M,error:b,children:$(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):$()},null)}var Tm=(function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i})(Tm||{}),Fm=(function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i})(Fm||{});function s1(i){let a=Z.useContext(Ef);return a||ha(!1),a}function o1(i){let a=Z.useContext(Kg);return a||ha(!1),a}function l1(i){let a=Z.useContext(bl);return a||ha(!1),a}function Om(i){let a=l1(),r=a.matches[a.matches.length-1];return r.route.id||ha(!1),r.route.id}function c1(){var i;let a=Z.useContext(Mm),r=o1(),o=Om();return a!==void 0?a:(i=r.errors)==null?void 0:i[o]}function d1(){let{router:i}=s1(Tm.UseNavigateStable),a=Om(Fm.UseNavigateStable),r=Z.useRef(!1);return Rm(()=>{r.current=!0}),Z.useCallback(function(c,l){l===void 0&&(l={}),r.current&&(typeof c=="number"?i.navigate(c):i.navigate(c,Yc({fromRouteId:a},l)))},[i,a])}const ep={};function u1(i,a,r){ep[i]||(ep[i]=!0)}function f1(i,a){i?.v7_startTransition,i?.v7_relativeSplatPath}function tp(i){let{to:a,replace:r,state:o,relative:c}=i;jc()||ha(!1);let{future:l,static:m}=Z.useContext(vl),{matches:p}=Z.useContext(bl),{pathname:g}=Sc(),v=fo(),w=If(a,_f(p,l.v7_relativeSplatPath),g,c==="path"),A=JSON.stringify(w);return Z.useEffect(()=>v(JSON.parse(A),{replace:r,state:o,relative:c}),[v,A,c,r,o]),null}function Eo(i){ha(!1)}function h1(i){let{basename:a="/",children:r=null,location:o,navigationType:c=ml.Pop,navigator:l,static:m=!1,future:p}=i;jc()&&ha(!1);let g=a.replace(/^\/*/,"/"),v=Z.useMemo(()=>({basename:g,navigator:l,static:m,future:Yc({v7_relativeSplatPath:!1},p)}),[g,p,l,m]);typeof o=="string"&&(o=wc(o));let{pathname:w="/",search:A="",hash:R="",state:b=null,key:U="default"}=o,M=Z.useMemo(()=>{let I=Lf(w,g);return I==null?null:{location:{pathname:I,search:A,hash:R,state:b,key:U},navigationType:c}},[g,w,A,R,b,U,c]);return M==null?null:Z.createElement(vl.Provider,{value:v},Z.createElement(Jd.Provider,{children:r,value:M}))}function p1(i){let{children:a,location:r}=i;return Zg(ff(a),r)}new Promise(()=>{});function ff(i,a){a===void 0&&(a=[]);let r=[];return Z.Children.forEach(i,(o,c)=>{if(!Z.isValidElement(o))return;let l=[...a,c];if(o.type===Z.Fragment){r.push.apply(r,ff(o.props.children,l));return}o.type!==Eo&&ha(!1),!o.props.index||!o.props.children||ha(!1);let m={id:o.props.id||l.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=ff(o.props.children,l)),r.push(m)}),r}function hf(){return hf=Object.assign?Object.assign.bind():function(i){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},hf.apply(this,arguments)}function m1(i,a){if(i==null)return{};var r={},o=Object.keys(i),c,l;for(l=0;l<o.length;l++)c=o[l],!(a.indexOf(c)>=0)&&(r[c]=i[c]);return r}function g1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function x1(i,a){return i.button===0&&(!a||a==="_self")&&!g1(i)}function pf(i){return i===void 0&&(i=""),new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((a,r)=>{let o=i[r];return a.concat(Array.isArray(o)?o.map(c=>[r,c]):[[r,o]])},[]))}function y1(i,a){let r=pf(i);return a&&a.forEach((o,c)=>{r.has(c)||a.getAll(c).forEach(l=>{r.append(c,l)})}),r}const v1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],b1="6";try{window.__reactRouterVersion=b1}catch{}const w1="startTransition",np=gg[w1];function j1(i){let{basename:a,children:r,future:o,window:c}=i,l=Z.useRef();l.current==null&&(l.current=Sg({window:c,v5Compat:!0}));let m=l.current,[p,g]=Z.useState({action:m.action,location:m.location}),{v7_startTransition:v}=o||{},w=Z.useCallback(A=>{v&&np?np(()=>g(A)):g(A)},[g,v]);return Z.useLayoutEffect(()=>m.listen(w),[m,w]),Z.useEffect(()=>f1(o),[o]),Z.createElement(h1,{basename:a,children:r,location:p.location,navigationType:p.action,navigator:m,future:o})}const S1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",N1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xc=Z.forwardRef(function(a,r){let{onClick:o,relative:c,reloadDocument:l,replace:m,state:p,target:g,to:v,preventScrollReset:w,viewTransition:A}=a,R=m1(a,v1),{basename:b}=Z.useContext(vl),U,M=!1;if(typeof v=="string"&&N1.test(v)&&(U=v,S1))try{let Q=new URL(window.location.href),q=v.startsWith("//")?new URL(Q.protocol+v):new URL(v),de=Lf(q.pathname,b);q.origin===Q.origin&&de!=null?v=de+q.search+q.hash:M=!0}catch{}let I=Xg(v,{relative:c}),P=k1(v,{replace:m,state:p,target:g,preventScrollReset:w,relative:c,viewTransition:A});function $(Q){o&&o(Q),Q.defaultPrevented||P(Q)}return Z.createElement("a",hf({},R,{href:U||I,onClick:M||l?o:$,ref:r,target:g}))});var rp;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(rp||(rp={}));var ap;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(ap||(ap={}));function k1(i,a){let{target:r,replace:o,state:c,preventScrollReset:l,relative:m,viewTransition:p}=a===void 0?{}:a,g=fo(),v=Sc(),w=Dm(i,{relative:m});return Z.useCallback(A=>{if(x1(A,r)){A.preventDefault();let R=o!==void 0?o:$d(v)===$d(w);g(i,{replace:R,state:c,preventScrollReset:l,relative:m,viewTransition:p})}},[v,g,w,o,c,r,i,l,m,p])}function Bm(i){let a=Z.useRef(pf(i)),r=Z.useRef(!1),o=Sc(),c=Z.useMemo(()=>y1(o.search,r.current?null:a.current),[o.search]),l=fo(),m=Z.useCallback((p,g)=>{const v=pf(typeof p=="function"?p(c):p);r.current=!0,l("?"+v,g)},[l,c]);return[c,m]}function Gc({isOpen:i,message:a,type:r="success",onClose:o,title:c}){if(!i||!a)return null;const l=r==="success"?"success":"error",m=()=>{switch(l){case"success":return"fa-check-circle";case"error":return"fa-exclamation-circle";default:return"fa-exclamation-circle"}};return t.jsx("div",{className:"alert-modal-overlay",onClick:p=>{p.stopPropagation()},children:t.jsxs("div",{className:`alert-modal alert-modal--${l}`,onClick:p=>p.stopPropagation(),children:[t.jsxs("div",{className:"alert-modal-content",children:[t.jsxs("div",{className:"alert-modal-header",children:[t.jsx("div",{className:"alert-modal-icon",children:t.jsx("i",{className:`fas ${m()}`})}),c&&t.jsx("h3",{className:"alert-modal-title",children:c})]}),t.jsx("div",{className:"alert-modal-message",children:a})]}),t.jsx("div",{className:"alert-modal-divider"}),t.jsx("div",{className:"alert-modal-actions",children:t.jsx("button",{className:"primary-btn",onClick:o,children:"OK"})})]})})}function ql({message:i,type:a="success",onClose:r,duration:o=3e3}){const[c,l]=Z.useState(!1),[m,p]=Z.useState(i),[g,v]=Z.useState(a),w=Z.useRef(null),A=Z.useRef(null);if(Z.useEffect(()=>{i?(w.current&&clearTimeout(w.current),A.current&&clearTimeout(A.current),p(i),v(a),l(!1)):m&&!c&&(w.current&&clearTimeout(w.current),l(!0),A.current=setTimeout(()=>{p(null),l(!1)},350))},[i,a]),Z.useEffect(()=>(w.current&&clearTimeout(w.current),A.current&&clearTimeout(A.current),m&&!c&&o>0&&(w.current=setTimeout(()=>{l(!0),A.current=setTimeout(()=>{r&&r(),p(null),l(!1)},350)},o)),()=>{w.current&&clearTimeout(w.current),A.current&&clearTimeout(A.current)}),[m,o,r,c]),!m)return null;const R=g==="success"?"success":"error";return t.jsx("div",{className:`notie notie--${R} ${c?"notie--exiting":""}`,children:t.jsx("div",{className:"notie-content",children:m})})}const ip={totalMembers:312,collectedMonth:12450,collectedYear:220800,outstanding:18400,overdueMembers:27,expectedAnnual:249600},sp=[{member:"Fatima Hussain",period:"Oct 2025",amount:"$50",method:"PayMe",status:"Paid",date:"02 Oct  09:11"},{member:"Ahmed Al-Rashid",period:"Oct 2025",amount:"$50",method:"FPS",status:"Paid",date:"05 Oct  10:22"},{member:"Aisha Malik",period:"Sep 2025",amount:"$100",method:"Card",status:"Unpaid",date:"30 Sep  12:44"},{member:"Omar Rahman",period:"Sep 2025",amount:"$100",method:"PayMe",status:"Overdue",date:"20 Sep  14:10"}],A1=[{id:"HK1001",name:"Shan Yeager",email:"0741sanjai@gmail.com",phone:"+852 9000 1234",status:"Active",balance:"$250 Outstanding",nextDue:"20 Nov 2025",lastPayment:"15 Oct 2025"},{id:"HK1021",name:"Ahmed Al-Rashid",email:"ahmed.rashid@hk.org",phone:"+852 9123 4567",status:"Active",balance:"$150 Outstanding",nextDue:"05 Nov 2025",lastPayment:"05 Oct 2025"},{id:"HK1088",name:"Fatima Hussain",email:"fatima.hussain@hk.org",phone:"+852 6789 1234",status:"Active",balance:"$0",nextDue:"05 Nov 2025",lastPayment:"02 Oct 2025"},{id:"HK1104",name:"Omar Rahman",email:"omar.rahman@hk.org",phone:"+852 9555 2011",status:"Inactive",balance:"$250 Overdue",nextDue:"20 Sep 2025",lastPayment:"15 Jul 2025"},{id:"HK1112",name:"Aisha Malik",email:"aisha.malik@hk.org",phone:"+852 9988 7766",status:"Active",balance:"$100 Unpaid",nextDue:"30 Sep 2025",lastPayment:"05 Aug 2025"},{id:"HK1125",name:"Yusuf Ibrahim",email:"yusuf.ibrahim@hk.org",phone:"+852 9234 5678",status:"Active",balance:"$50 Outstanding",nextDue:"10 Nov 2025",lastPayment:"10 Oct 2025"},{id:"HK1136",name:"Mariam Abdullah",email:"mariam.abdullah@hk.org",phone:"+852 9345 6789",status:"Active",balance:"$0",nextDue:"15 Nov 2025",lastPayment:"15 Oct 2025"},{id:"HK1147",name:"Hassan Al-Farsi",email:"hassan.farsi@hk.org",phone:"+852 9456 7890",status:"Active",balance:"$0",nextDue:"20 Nov 2025",lastPayment:"20 Oct 2025"},{id:"HK1158",name:"Zainab Mustafa",email:"zainab.mustafa@hk.org",phone:"+852 9567 8901",status:"Inactive",balance:"$200 Overdue",nextDue:"01 Oct 2025",lastPayment:"01 Aug 2025"}],C1=[{id:1,name:"Ibrahim Khan",role:"Owner",status:"Active"},{id:2,name:"Yasmin Ahmed",role:"Finance Admin",status:"Active"},{id:3,name:"Khalid Hassan",role:"Viewer",status:"Pending"}],P1=[{id:"INV-2025-095",memberId:"HK1001",memberName:"Shan Yeager",period:"Nov 2025 Monthly",amount:"$50",status:"Unpaid",due:"20 Nov 2025",method:"-",reference:"-"},{id:"INV-2025-094",memberId:"HK1001",memberName:"Shan Yeager",period:"Oct 2025 Monthly",amount:"$50",status:"Overdue",due:"20 Oct 2025",method:"-",reference:"-"},{id:"INV-2025-093",memberId:"HK1001",memberName:"Shan Yeager",period:"Sep 2025 Eid 2",amount:"$100",status:"Overdue",due:"30 Sep 2025",method:"-",reference:"-"},{id:"INV-2025-092",memberId:"HK1001",memberName:"Shan Yeager",period:"Sep 2025 Monthly",amount:"$50",status:"Overdue",due:"20 Sep 2025",method:"-",reference:"-"},{id:"INV-2025-091",memberId:"HK1021",memberName:"Ahmed Al-Rashid",period:"Oct 2025",amount:"$50",status:"Paid",due:"05 Oct 2025",method:"FPS",reference:"FP89231"},{id:"INV-2025-072",memberId:"HK1112",memberName:"Aisha Malik",period:"Sep 2025 (Eid)",amount:"$100",status:"Unpaid",due:"30 Sep 2025",method:"PayMe",reference:"PM22011"},{id:"INV-2025-051",memberId:"HK1021",memberName:"Ahmed Al-Rashid",period:"Aug 2025",amount:"$50",status:"Paid",due:"05 Aug 2025",method:"Bank Transfer",reference:"BT99127"}],op=[{date:"05 Oct 2025",amount:"$50",method:"FPS",reference:"FP89231"},{date:"05 Sep 2025",amount:"$50",method:"PayMe",reference:"PM22110"},{date:"02 Apr 2025",amount:"$100",method:"Bank Transfer",reference:"BT44881"}],lp=[{channel:"Email",message:"Upcoming due reminder",status:"Delivered",date:"02 Oct 2025"},{channel:"WhatsApp",message:"Overdue alert",status:"Pending",date:"01 Oct 2025"}],Uu=[{label:"3 days before due date",channels:["Email","WhatsApp"]},{label:"On due date",channels:["Email","WhatsApp"]},{label:"5 days after due date",channels:["Email"]}],cp=[{name:"Direct Bank Transfer",visible:!0,details:["HSBC Hong Kong","123-456789-001","Subscription Manager HK"]},{name:"FPS",visible:!0,details:["FPS ID 1234567"]},{name:"Alipay",visible:!0,details:["Upload QR placeholder"]},{name:"PayMe",visible:!0,details:["Upload QR placeholder"]},{name:"Credit/Debit Cards",visible:!0,details:["Gateway: Stripe"]}];function L1(i={}){const{nonce:a,onScriptLoadSuccess:r,onScriptLoadError:o}=i,[c,l]=Z.useState(!1),m=Z.useRef(r);m.current=r;const p=Z.useRef(o);return p.current=o,Z.useEffect(()=>{const g=document.createElement("script");return g.src="https://accounts.google.com/gsi/client",g.async=!0,g.defer=!0,g.nonce=a,g.onload=()=>{var v;l(!0),(v=m.current)===null||v===void 0||v.call(m)},g.onerror=()=>{var v;l(!1),(v=p.current)===null||v===void 0||v.call(p)},document.body.appendChild(g),()=>{document.body.removeChild(g)}},[a]),c}const _1=Z.createContext(null);function I1({clientId:i,nonce:a,onScriptLoadSuccess:r,onScriptLoadError:o,children:c}){const l=L1({nonce:a,onScriptLoadSuccess:r,onScriptLoadError:o}),m=Z.useMemo(()=>({clientId:i,scriptLoadedSuccessfully:l}),[i,l]);return Cf.createElement(_1.Provider,{value:m},c)}function E1(){const[i,a]=Z.useState(null),[r,o]=Z.useState(null),[c,l]=Z.useState({email:"",password:""}),[m,p]=Z.useState(!1),[g,v]=Z.useState({email:"",password:""}),[w,A]=Z.useState(null),[R,b]=Z.useState("error"),U=fo();Z.useEffect(()=>{sessionStorage.getItem("logoutReason")==="inactivity"&&(sessionStorage.removeItem("logoutReason"),a({type:"error",text:"Session expired due to inactivity. Please login again."}))},[]),Z.useEffect(()=>{const Q=document.body.style.overflow,q=document.body.style.height;return document.body.style.overflow="hidden",document.body.style.height="100vh",()=>{document.body.style.overflow=Q,document.body.style.height=q}},[]);const M=Q=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Q),I=()=>{const Q={email:"",password:""};return c.email.trim()?M(c.email.trim())?c.password?(v(Q),!0):(Q.password="Password is required",v(Q),A("Password is required"),b("error"),setTimeout(()=>A(null),3e3),!1):(Q.email="Please enter a valid email address",v(Q),A("Please enter a valid email address"),b("error"),setTimeout(()=>A(null),3e3),!1):(Q.email="Email is required",v(Q),A("Email is required"),b("error"),setTimeout(()=>A(null),3e3),!1)},P=!1,$=async Q=>{{if(!I())return;o(Q),a(null),v({email:"",password:""});try{const de=await fetch("http://localhost:4000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email.trim(),password:c.password,role:Q})});let ue;try{ue=await de.json()}catch(_e){console.error("JSON parse error:",_e),a({type:"error",text:"Invalid response from server. Please try again."}),o(null);return}if(!de.ok||!ue.success){ue.locked?a({type:"error",text:ue.message||"Account temporarily locked due to multiple failed login attempts. Please try again later."}):a({type:"error",text:ue.message||"Invalid email or password. Please check your credentials and try again."}),o(null);return}sessionStorage.setItem("authToken",ue.token),ue.role==="Admin"?(sessionStorage.setItem("adminEmail",ue.email),sessionStorage.setItem("adminName",ue.name),ue.adminId&&sessionStorage.setItem("adminId",ue.adminId),ue.adminRole&&sessionStorage.setItem("adminRole",ue.adminRole),o(null),U("/admin",{replace:!0,state:{role:"Admin",token:ue.token,email:ue.email,name:ue.name,adminId:ue.adminId,adminRole:ue.adminRole}})):(sessionStorage.setItem("memberEmail",ue.email),sessionStorage.setItem("memberName",ue.name),sessionStorage.setItem("memberId",ue.memberId),o(null),U("/member",{replace:!0,state:{role:"Member",token:ue.token,email:ue.email,name:ue.name,memberId:ue.memberId,phone:ue.phone}}))}catch(q){console.error("Login error:",q),a({type:"error",text:"Unable to connect. Please check your connection and try again."}),o(null)}}};return t.jsx(t.Fragment,{children:t.jsx("main",{className:"login-main",children:t.jsxs("div",{className:"login-shell",children:[t.jsxs("aside",{className:"login-menu",children:[t.jsx("p",{className:"eyebrow light",children:"Welcome"}),t.jsx("h2",{children:"Subscription Manager HK"}),t.jsx("p",{children:"Streamlined portal for Hong Kong membership dues. Track monthly payments and automations from one place."}),t.jsxs("ul",{children:[t.jsx("li",{children:"Supports FPS, PayMe, bank transfers, cards"}),t.jsx("li",{children:"Automated reminders via email and WhatsApp"}),t.jsx("li",{children:"Clear dashboards for admins and members"})]})]}),t.jsxs("div",{className:"login-form-card",children:[t.jsx("div",{className:"login-form-card__header",children:t.jsxs("h1",{children:[t.jsx("i",{className:"fas fa-sign-in-alt",style:{marginRight:"12px",color:"#5a31ea"}}),"Sign in"]})}),t.jsxs("div",{style:{position:"absolute",left:"-9999px",opacity:0,pointerEvents:"none",height:0,overflow:"hidden"},children:[t.jsx("input",{type:"text",name:"username",autoComplete:"username",tabIndex:-1,readOnly:!0}),t.jsx("input",{type:"password",name:"password",autoComplete:"current-password",tabIndex:-1,readOnly:!0})]}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope",style:{marginRight:"8px",color:"#5a31ea"}}),"Email ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",inputMode:"email",value:c.email,autoComplete:"new-email",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","data-form-type":"other","data-lpignore":"true","data-1p-ignore":"true",title:"",onInvalid:Q=>Q.preventDefault(),onChange:Q=>{l({...c,email:Q.target.value}),g.email&&v({...g,email:""})},placeholder:"Enter your email address",className:`mono-input ${g.email?"input-error":""}`,disabled:r!==null})]}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock",style:{marginRight:"8px",color:"#5a31ea"}}),"Password ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:m?"text":"password",value:c.password,autoComplete:"new-password",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","data-form-type":"other","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",title:"",onInvalid:Q=>Q.preventDefault(),onChange:Q=>{l({...c,password:Q.target.value}),g.password&&v({...g,password:""})},placeholder:"Enter your password",className:`mono-input ${g.password?"input-error":""}`,style:{paddingRight:"45px"},disabled:r!==null}),t.jsx("button",{type:"button",onClick:()=>p(!m),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},"aria-label":m?"Hide password":"Show password",disabled:r!==null,children:m?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),t.jsx("div",{style:{marginTop:"8px",textAlign:"right"},children:t.jsx(Xc,{to:"/forgot-password",style:{color:"#5a31ea",textDecoration:"none",fontSize:"0.875rem",fontWeight:"500"},onClick:Q=>{r!==null&&Q.preventDefault()},children:"Forgot Password?"})})]}),t.jsxs("div",{className:"login-hints",children:[t.jsxs("p",{style:{marginTop:0,fontWeight:"600",color:"#1a1a1a",marginBottom:"12px"},children:[t.jsx("i",{className:"fas fa-info-circle",style:{marginRight:"8px",color:"#5a31ea"}}),"Demo Credentials"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Admin:"})," admin2002@gmail.com / #Admin2204"]}),P]}),t.jsxs("div",{className:"login-buttons",children:[t.jsx("button",{type:"button",className:"btn-admin",onClick:()=>$("admin"),disabled:r!==null,style:{position:"relative",opacity:r!==null?.7:1,cursor:r!==null?"not-allowed":"pointer"},children:r==="admin"?t.jsxs("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[t.jsxs("svg",{style:{animation:"spin 1s linear infinite",width:"16px",height:"16px"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),t.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}),"Authorising"]}):"Login"}),P]}),P,t.jsx(Gc,{isOpen:!!i,message:i?.text,type:i?.type||"error",onClose:()=>a(null)}),t.jsx(ql,{message:w,type:R,onClose:()=>A(null),duration:3e3})]})]})})})}function Nc({showCTA:i=!0,showLogout:a=!1,onLogout:r,showMobileMenu:o=!1,isMobileMenuOpen:c=!1,onMobileMenuToggle:l,isSticky:m=!1}){return t.jsxs("header",{className:`site-header ${m?"site-header--sticky":""}`,children:[o&&t.jsx("button",{className:"mobile-menu-toggle",onClick:p=>{p.stopPropagation(),l&&l()},"aria-label":"Toggle menu",type:"button",children:t.jsxs("span",{className:`hamburger ${c?"active":""}`,children:[t.jsx("span",{}),t.jsx("span",{}),t.jsx("span",{})]})}),t.jsxs("div",{className:"brand",children:[t.jsx("span",{className:"logo-mark",children:"SM"}),t.jsxs("div",{children:[t.jsx("p",{className:"logo-title",children:"Subscription Manager HK"}),t.jsx("p",{className:"logo-subtitle",children:"Recurring payments for Hong Kong memberships"})]})]}),i&&t.jsx(Xc,{className:"primary-btn",to:"/login",children:"Launch Demo"}),a&&t.jsx("button",{onClick:r,className:"ghost-btn",children:"Logout"})]})}function kc(){return t.jsxs("footer",{className:"site-footer",children:[t.jsx("p",{children:" 2025 Subscription Manager HK  Built for recurring memberships in Hong Kong."}),t.jsx("p",{})]})}const hi={Paid:"badge badge-paid",Unpaid:"badge badge-unpaid",Overdue:"badge badge-overdue","Due Soon":"badge badge-unpaid","Pending Verification":"badge badge-pending",Active:"badge badge-active",Inactive:"badge badge-inactive",Delivered:"badge badge-paid",Pending:"badge badge-pending",Completed:"badge badge-paid",Rejected:"badge badge-overdue"};function fi({columns:i,rows:a}){const[r,o]=Z.useState(!1),[c,l]=Z.useState(null),[m,p]=Z.useState({column:null,direction:"asc"});Z.useEffect(()=>{const I=()=>{o(window.innerWidth<=768)};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),Z.useEffect(()=>{const I=P=>{P.key==="Escape"&&c!==null&&l(null)};return c!==null?(document.addEventListener("keydown",I),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.removeEventListener("keydown",I),document.body.style.overflow=""}},[c]);const g=(I,P)=>{const $=["Name","Member","User","Donor Name","Source"];for(const Q of $)if(P.includes(Q)){const q=I[Q];if(q&&q!=="-"&&q!=="N/A"){if(typeof q=="object"&&q!==null&&q.render)continue;return q}}return null},v=(I,P)=>{if(!P.includes("Status"))return{status:null,borderClass:""};const $=I.Status;let Q=null;if(typeof $=="object"&&$!==null&&$.render){const ue=$.render();typeof ue=="string"?Q=ue:ue?.props?.children&&(Q=ue.props.children)}else $&&(Q=$);if(!Q||Q==="-"||Q==="N/A")return{status:null,borderClass:""};const q=Q.toLowerCase();let de="mobile-card-border-default";return q.includes("active")||q.includes("paid")||q.includes("completed")?de="mobile-card-border-success":q.includes("pending")?de="mobile-card-border-warning":(q.includes("inactive")||q.includes("overdue")||q.includes("rejected"))&&(de="mobile-card-border-danger"),{status:Q,borderClass:de,statusValue:$}},w=(I,P)=>{const $=["Balance","Amount"];for(const Q of $)if(P.includes(Q)){const q=I[Q];if(q&&q!=="-"&&q!=="N/A"&&q!=="$0"){if(typeof q=="object"&&q!==null&&q.render)continue;return{label:Q,value:q}}}return null},A=I=>{const P=["Amount","Balance","Outstanding","Total","Collected","Expected","Avg per Member","Transactions","Donation","Donations","Invoice #"];return I==="Status"||I==="Actions"?"center":P.includes(I)?"right":"left"},R=I=>{if(I==null)return"";if(typeof I=="number")return I;if(typeof I=="string"){const P=parseFloat(I.replace(/[^0-9.-]/g,"")||"NaN");return isNaN(P)?I.toLowerCase():P}return I},b=I=>{p(P=>P.column===I?{column:I,direction:P.direction==="asc"?"desc":"asc"}:{column:I,direction:"asc"})},U=Z.useMemo(()=>{if(!m.column)return a;const I=m.column,P=m.direction==="asc"?1:-1;return[...a].sort(($,Q)=>{const q=$[I],de=Q[I];if(typeof q=="object"&&q!==null&&q.render||typeof de=="object"&&de!==null&&de.render)return 0;const ue=R(q),_e=R(de);return ue<_e?-1*P:ue>_e?1*P:0})},[a,m]),M=(I,P,$,Q)=>{const q=g(I,$),de=w(I,$);return $.map(ue=>{if(["Name","Member","User","Donor Name","Source"].includes(ue)&&q)return null;const te=I[ue];let xe;if(typeof te=="object"&&te!==null&&te.render?xe=te.render():xe=typeof te=="string"&&hi[te]&&ue==="Status"?t.jsx("span",{className:hi[te],children:te}):te,!xe&&xe!==0&&xe!=="$0"||de&&ue===de.label)return null;if(ue==="Actions"){const ne=I[ue];if(typeof ne=="object"&&ne!==null&&ne.render)return t.jsxs("div",{className:"mobile-card-modal-row mobile-card-modal-row-actions",onClick:se=>{(se.target.tagName==="BUTTON"||se.target.closest("button"))&&setTimeout(()=>{Q()},150)},children:[t.jsx("div",{className:"mobile-card-modal-label",children:ue}),t.jsx("div",{className:"mobile-card-modal-value",children:ne.render()})]},`${ue}-${P}`)}const H=(ne=>({Email:"fa-envelope",WhatsApp:"fa-phone",Phone:"fa-phone",Balance:"fa-wallet",Amount:"fa-dollar-sign",Date:"fa-calendar","Due Date":"fa-calendar-alt",Period:"fa-calendar-week",Method:"fa-credit-card",Reference:"fa-hashtag",Status:"fa-info-circle",Type:"fa-tag",Details:"fa-file-alt",ID:"fa-id-card","Invoice #":"fa-file-invoice"})[ne]||null)(ue);return t.jsxs("div",{className:"mobile-card-modal-row",children:[t.jsxs("div",{className:"mobile-card-modal-label",children:[H&&t.jsx("i",{className:`fas ${H}`,style:{marginRight:"6px",color:"#5a31ea",fontSize:"0.75rem"}}),ue]}),t.jsx("div",{className:"mobile-card-modal-value",children:xe})]},`${ue}-${P}`)})};if(r){const I=c!==null?U[c]:null;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mobile-table-cards",children:U.map((P,$)=>{const Q=g(P,i)||"View Details",q=v(P,i),de=w(P,i);return t.jsx("div",{className:`mobile-table-card ${q.borderClass}`,style:P._rowStyle||{},onClick:()=>l($),children:t.jsx("div",{className:"mobile-table-card-header",children:t.jsxs("div",{className:"mobile-table-card-header-content",children:[t.jsxs("div",{className:"mobile-table-card-title-section",children:[t.jsx("div",{className:"mobile-table-card-title",children:Q}),de&&t.jsxs("div",{className:"mobile-table-card-metric",children:[de.label==="Balance"&&t.jsx("i",{className:"fas fa-wallet",style:{fontSize:"0.75rem",marginRight:"4px",color:"#666"}}),de.label==="Amount"&&t.jsx("i",{className:"fas fa-dollar-sign",style:{fontSize:"0.75rem",marginRight:"4px",color:"#666"}}),t.jsx("span",{children:de.value})]})]}),t.jsxs("div",{className:"mobile-table-card-header-right",children:[q.status&&t.jsx("div",{className:"mobile-table-card-status",children:typeof q.statusValue=="object"&&q.statusValue!==null&&q.statusValue.render?q.statusValue.render():t.jsx("span",{className:hi[q.status]||"badge",children:q.status})}),t.jsx("div",{className:"mobile-table-card-arrow",children:t.jsx("i",{className:"fa-solid fa-chevron-right"})})]})]})})},`mobile-row-${$}`)})}),c!==null&&I&&t.jsx("div",{className:"mobile-card-modal-overlay",onClick:()=>l(null),children:t.jsxs("div",{className:"mobile-card-modal",onClick:P=>P.stopPropagation(),children:[t.jsxs("div",{className:"mobile-card-modal-header",children:[t.jsxs("div",{className:"mobile-card-modal-title-section",children:[t.jsx("div",{className:"mobile-card-modal-title",children:g(I,i)||"Details"}),w(I,i)&&t.jsxs("div",{className:"mobile-card-modal-metric",children:[w(I,i).label==="Balance"&&t.jsx("i",{className:"fas fa-wallet",style:{fontSize:"0.75rem",marginRight:"4px",color:"#666"}}),w(I,i).label==="Amount"&&t.jsx("i",{className:"fas fa-dollar-sign",style:{fontSize:"0.75rem",marginRight:"4px",color:"#666"}}),t.jsx("span",{children:w(I,i).value})]})]}),t.jsx("button",{className:"mobile-card-modal-close",onClick:()=>l(null),"aria-label":"Close",children:t.jsx("i",{className:"fa-solid fa-times"})})]}),t.jsx("div",{className:"mobile-card-modal-content",children:M(I,c,i,()=>l(null))})]})})]})}return t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsx("tr",{children:i.map(I=>{const P=A(I),$=m.column===I,Q=$?m.direction==="asc"?"":"":"";return t.jsx("th",{style:{textAlign:P,cursor:"pointer",whiteSpace:"nowrap"},onClick:()=>b(I),"aria-sort":$?m.direction==="asc"?"ascending":"descending":"none",children:t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px"},children:[t.jsx("span",{children:I}),t.jsx("span",{style:{fontSize:"0.7rem",opacity:.7},children:Q})]})},I)})})}),t.jsx("tbody",{children:U.map((I,P)=>{let $=!1;const Q=I.Status;if(Q)if(typeof Q=="object"&&Q!==null&&Q.render){const q=Q.render();if(typeof q=="object"&&q?.props){const de=q.props.className||"",ue=q.props.children;$=de.includes("badge-overdue")||de.includes("badge-unpaid")||typeof ue=="string"&&(ue.toLowerCase().includes("overdue")||ue.toLowerCase().includes("unpaid")||ue.toLowerCase().includes("rejected"))}}else typeof Q=="string"&&($=Q==="Overdue"||Q==="Unpaid"||Q==="Rejected"||hi[Q]?.includes("badge-overdue")||hi[Q]?.includes("badge-unpaid"));return t.jsx("tr",{style:{...I._rowStyle||{},background:$?"#fef2f2":void 0},children:i.map(q=>{const de=I[q],ue=A(q);if(typeof de=="object"&&de!==null&&de.render){const ge=de.render();return t.jsx("td",{"data-label":q,style:{textAlign:ue,verticalAlign:"middle"},children:ge},`${q}-render-${P}`)}const _e=typeof de=="string"&&hi[de]&&q==="Status";return t.jsx("td",{"data-label":q,style:{textAlign:ue,verticalAlign:"middle"},children:_e?t.jsx("span",{className:hi[de],children:de}):de},`${q}-${P}`)})},`${I.id??P}-${P}`)})})]})}function dc({currentPage:i,totalPages:a,onPageChange:r,pageSize:o,onPageSizeChange:c,totalItems:l,pageSizeOptions:m=[5,10,20,50,100]}){if(a<=1&&o>=l)return null;const p=(i-1)*o+1,g=Math.min(i*o,l);return t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"16px",padding:"16px",borderTop:"1px solid #e0e0e0",background:"#f9fafb"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:[t.jsxs("span",{style:{fontSize:"0.875rem",color:"#666"},children:["Showing ",p," to ",g," of ",l," items"]}),t.jsxs("label",{style:{fontSize:"0.875rem",color:"#666",display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap"},children:[t.jsx("span",{children:"Items per page:"}),t.jsx("select",{value:o,onChange:v=>{c(Number(v.target.value)),r(1)},style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #e0e0e0",fontSize:"0.875rem",background:"#fff",cursor:"pointer",minWidth:"70px"},children:m.map(v=>t.jsx("option",{value:v,children:v},v))})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("button",{onClick:()=>r(1),disabled:i===1,style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #e0e0e0",background:i===1?"#f5f5f5":"#fff",cursor:i===1?"not-allowed":"pointer",fontSize:"0.875rem",color:i===1?"#999":"#333",opacity:i===1?.5:1},children:" First"}),t.jsx("button",{onClick:()=>r(i-1),disabled:i===1,style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #e0e0e0",background:i===1?"#f5f5f5":"#fff",cursor:i===1?"not-allowed":"pointer",fontSize:"0.875rem",color:i===1?"#999":"#333",opacity:i===1?.5:1},children:" Prev"}),t.jsxs("span",{style:{fontSize:"0.875rem",color:"#666",padding:"0 8px"},children:["Page ",i," of ",a]}),t.jsx("button",{onClick:()=>r(i+1),disabled:i===a,style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #e0e0e0",background:i===a?"#f5f5f5":"#fff",cursor:i===a?"not-allowed":"pointer",fontSize:"0.875rem",color:i===a?"#999":"#333",opacity:i===a?.5:1},children:"Next "}),t.jsx("button",{onClick:()=>r(a),disabled:i===a,style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #e0e0e0",background:i===a?"#f5f5f5":"#fff",cursor:i===a?"not-allowed":"pointer",fontSize:"0.875rem",color:i===a?"#999":"#333",opacity:i===a?.5:1},children:"Last "})]})]})}function M1({text:i,children:a,position:r="top",delay:o=200}){const[c,l]=Z.useState(!1),[m,p]=Z.useState({top:0,left:0}),g=Z.useRef(null),v=Z.useRef(null),w=Z.useRef(null);Z.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]);const A=()=>{if(!v.current||!g.current)return;const U=v.current.getBoundingClientRect(),M=g.current.getBoundingClientRect(),I=8;let P=0,$=0;switch(r){case"top":P=U.top-M.height-I,$=U.left+U.width/2-M.width/2;break;case"bottom":P=U.bottom+I,$=U.left+U.width/2-M.width/2;break;case"left":P=U.top+U.height/2-M.height/2,$=U.left-M.width-I;break;case"right":P=U.top+U.height/2-M.height/2,$=U.right+I;break;default:P=U.top-M.height-I,$=U.left+U.width/2-M.width/2}const Q=window.innerWidth,q=window.innerHeight;$<8&&($=8),$+M.width>Q-8&&($=Q-M.width-8),P<8&&(P=8),P+M.height>q-8&&(P=q-M.height-8),p({top:P,left:$})},R=()=>{w.current=setTimeout(()=>{l(!0),setTimeout(()=>{A()},10)},o)},b=()=>{w.current&&clearTimeout(w.current),l(!1)};return i?t.jsxs("span",{ref:v,className:"tooltip-trigger",onMouseEnter:R,onMouseLeave:b,style:{display:"inline-block",position:"relative"},children:[a,c&&t.jsxs("div",{ref:g,className:`tooltip tooltip--${r}`,style:{top:`${m.top}px`,left:`${m.left}px`},children:[t.jsx("div",{className:"tooltip-content",children:i}),t.jsx("div",{className:`tooltip-arrow tooltip-arrow--${r}`})]})]}):a}const Fd=[{code:"HK",name:"Hong Kong",dialCode:"+852",flag:"",minLength:8,maxLength:8},{code:"CN",name:"China",dialCode:"+86",flag:"",minLength:11,maxLength:11},{code:"US",name:"United States",dialCode:"+1",flag:"",minLength:10,maxLength:10},{code:"GB",name:"United Kingdom",dialCode:"+44",flag:"",minLength:10,maxLength:10},{code:"IN",name:"India",dialCode:"+91",flag:"",minLength:10,maxLength:10},{code:"SG",name:"Singapore",dialCode:"+65",flag:"",minLength:8,maxLength:8},{code:"MY",name:"Malaysia",dialCode:"+60",flag:"",minLength:9,maxLength:10},{code:"TH",name:"Thailand",dialCode:"+66",flag:"",minLength:9,maxLength:9},{code:"PH",name:"Philippines",dialCode:"+63",flag:"",minLength:10,maxLength:10},{code:"ID",name:"Indonesia",dialCode:"+62",flag:"",minLength:9,maxLength:12},{code:"AU",name:"Australia",dialCode:"+61",flag:"",minLength:9,maxLength:9},{code:"NZ",name:"New Zealand",dialCode:"+64",flag:"",minLength:8,maxLength:10},{code:"JP",name:"Japan",dialCode:"+81",flag:"",minLength:10,maxLength:11},{code:"KR",name:"South Korea",dialCode:"+82",flag:"",minLength:9,maxLength:11},{code:"TW",name:"Taiwan",dialCode:"+886",flag:"",minLength:9,maxLength:9},{code:"VN",name:"Vietnam",dialCode:"+84",flag:"",minLength:9,maxLength:10},{code:"CA",name:"Canada",dialCode:"+1",flag:"",minLength:10,maxLength:10},{code:"DE",name:"Germany",dialCode:"+49",flag:"",minLength:10,maxLength:11},{code:"FR",name:"France",dialCode:"+33",flag:"",minLength:9,maxLength:9},{code:"IT",name:"Italy",dialCode:"+39",flag:"",minLength:9,maxLength:10},{code:"ES",name:"Spain",dialCode:"+34",flag:"",minLength:9,maxLength:9},{code:"NL",name:"Netherlands",dialCode:"+31",flag:"",minLength:9,maxLength:9},{code:"BE",name:"Belgium",dialCode:"+32",flag:"",minLength:9,maxLength:9},{code:"CH",name:"Switzerland",dialCode:"+41",flag:"",minLength:9,maxLength:9},{code:"AT",name:"Austria",dialCode:"+43",flag:"",minLength:10,maxLength:13},{code:"SE",name:"Sweden",dialCode:"+46",flag:"",minLength:9,maxLength:9},{code:"NO",name:"Norway",dialCode:"+47",flag:"",minLength:8,maxLength:8},{code:"DK",name:"Denmark",dialCode:"+45",flag:"",minLength:8,maxLength:8},{code:"FI",name:"Finland",dialCode:"+358",flag:"",minLength:9,maxLength:10},{code:"PL",name:"Poland",dialCode:"+48",flag:"",minLength:9,maxLength:9},{code:"BR",name:"Brazil",dialCode:"+55",flag:"",minLength:10,maxLength:11},{code:"MX",name:"Mexico",dialCode:"+52",flag:"",minLength:10,maxLength:10},{code:"AR",name:"Argentina",dialCode:"+54",flag:"",minLength:10,maxLength:10},{code:"ZA",name:"South Africa",dialCode:"+27",flag:"",minLength:9,maxLength:9},{code:"AE",name:"UAE",dialCode:"+971",flag:"",minLength:9,maxLength:9},{code:"SA",name:"Saudi Arabia",dialCode:"+966",flag:"",minLength:9,maxLength:9},{code:"IL",name:"Israel",dialCode:"+972",flag:"",minLength:9,maxLength:9},{code:"TR",name:"Turkey",dialCode:"+90",flag:"",minLength:10,maxLength:10},{code:"RU",name:"Russia",dialCode:"+7",flag:"",minLength:10,maxLength:10},{code:"EG",name:"Egypt",dialCode:"+20",flag:"",minLength:10,maxLength:10},{code:"NG",name:"Nigeria",dialCode:"+234",flag:"",minLength:10,maxLength:10},{code:"KE",name:"Kenya",dialCode:"+254",flag:"",minLength:9,maxLength:9}],dp=i=>{if(!i)return{country:Fd[0],number:""};const a=i.replace(/[^\d+]/g,"");for(const r of Fd)if(a.startsWith(r.dialCode)){const o=a.substring(r.dialCode.length);return{country:r,number:o}}return{country:Fd[0],number:a.replace(/[^\d]/g,"")}},Kd=({value:i="",onChange:a,onBlur:r,required:o=!1,placeholder:c="Enter phone number",className:l="",style:m={},error:p=null,label:g=null,id:v=null,"aria-invalid":w=!1,onError:A=null})=>{const R=dp(i),[b,U]=Z.useState(R.country),[M,I]=Z.useState(R.number),[P,$]=Z.useState(!1),[Q,q]=Z.useState(""),de=Z.useRef(null),ue=Z.useRef(null);Z.useEffect(()=>{const ne=dp(i);U(ne.country),I(ne.number)},[i]),Z.useEffect(()=>{const ne=se=>{de.current&&!de.current.contains(se.target)&&($(!1),q(""))};return document.addEventListener("mousedown",ne),()=>document.removeEventListener("mousedown",ne)},[]);const _e=Fd.filter(ne=>ne.name.toLowerCase().includes(Q.toLowerCase())||ne.dialCode.includes(Q)||ne.code.toLowerCase().includes(Q.toLowerCase())),ge=ne=>{U(ne),$(!1),q("");const se=M?`${ne.dialCode}${M}`:"";a?.({target:{value:se}}),setTimeout(()=>ue.current?.focus(),0)},te=ne=>{const ke=ne.target.value.replace(/\D/g,"");I(ke);const Re=ke?`${b.dialCode}${ke}`:"";a?.({target:{value:Re}})},xe=()=>M?M.replace(/\D/g,"").length<b.minLength?`Phone number must be at least ${b.minLength} digits for ${b.name}`:null:o?"Phone number is required":null,z=xe(),H=ne=>{const se=xe();se&&A&&A(se),se?ne.target.style.borderColor="#ef4444":ne.target.style.borderColor="#ddd",r&&r(ne)};return t.jsxs("div",{style:{width:"100%"},children:[g&&t.jsx("div",{style:{marginBottom:"8px"},children:typeof g=="string"?t.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#333"},children:g}):g}),t.jsxs("div",{style:{display:"flex",position:"relative",width:"100%"},children:[t.jsxs("div",{style:{position:"relative"},ref:de,children:[t.jsxs("button",{type:"button",onClick:()=>$(!P),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 12px",border:`1px solid ${z||m?.border&&m.border.includes("#ef4444")?"#ef4444":"#ddd"}`,borderRight:"none",borderTopLeftRadius:"8px",borderBottomLeftRadius:"8px",backgroundColor:"#fff",cursor:"pointer",fontSize:"1rem",transition:"border-color 0.2s",minWidth:"120px"},onFocus:ne=>{z||(ne.target.style.borderColor="#5a31ea")},onBlur:ne=>{z||(ne.target.style.borderColor="#ddd")},children:[t.jsx("span",{style:{fontSize:"1.2rem"},children:b.flag}),t.jsx("span",{style:{fontSize:"0.875rem",color:"#333"},children:b.dialCode}),t.jsx("i",{className:"fas fa-chevron-down",style:{fontSize:"0.75rem",color:"#666",marginLeft:"auto",transition:"transform 0.2s",transform:P?"rotate(180deg)":"rotate(0deg)"}})]}),P&&t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,zIndex:1e3,backgroundColor:"#fff",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",marginTop:"4px",minWidth:"280px",maxHeight:"300px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[t.jsx("div",{style:{padding:"8px",borderBottom:"1px solid #eee"},children:t.jsx("input",{type:"text",placeholder:"Search country...",value:Q,onChange:ne=>q(ne.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"0.875rem"},autoFocus:!0})}),t.jsx("div",{style:{maxHeight:"240px",overflowY:"auto"},children:_e.length===0?t.jsx("div",{style:{padding:"12px",textAlign:"center",color:"#666",fontSize:"0.875rem"},children:"No countries found"}):_e.map(ne=>t.jsxs("button",{type:"button",onClick:()=>ge(ne),style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px",border:"none",backgroundColor:b.code===ne.code?"#f3f4f6":"transparent",cursor:"pointer",fontSize:"0.875rem",textAlign:"left",transition:"background-color 0.2s"},onMouseEnter:se=>{b.code!==ne.code&&(se.target.style.backgroundColor="#f9fafb")},onMouseLeave:se=>{b.code!==ne.code&&(se.target.style.backgroundColor="transparent")},children:[t.jsx("span",{style:{fontSize:"1.2rem"},children:ne.flag}),t.jsx("span",{style:{flex:1,color:"#333"},children:ne.name}),t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:ne.dialCode})]},ne.code))})]})]}),t.jsx("input",{ref:ue,id:v,type:"tel",inputMode:"numeric",required:o,value:M,onChange:te,onBlur:H,placeholder:c,className:l,"aria-invalid":w||!!z,style:{flex:1,padding:"12px 16px",border:m?.border||`1px solid ${z?"#ef4444":"#ddd"}`,borderTopRightRadius:"8px",borderBottomRightRadius:"8px",borderLeft:"none",fontSize:"1rem",transition:"border-color 0.2s",...m?.border?{border:m.border}:{}},onFocus:ne=>{z||(ne.target.style.borderColor="#5a31ea")},onInvalid:ne=>ne.preventDefault()})]})]})},zm=Z.createContext();function R1({children:i}){const[a,r]=Z.useState([]),[o,c]=Z.useState([]),[l,m]=Z.useState([]),[p,g]=Z.useState([]),[v,w]=Z.useState([]),[A,R]=Z.useState(!0),[b,U]=Z.useState(()=>{const oe=localStorage.getItem("recentPayments");return oe?JSON.parse(oe):sp}),[M,I]=Z.useState(()=>{const oe=localStorage.getItem("paymentHistory");return oe?JSON.parse(oe):op}),[P,$]=Z.useState(()=>{const oe=localStorage.getItem("communicationLog");return oe?JSON.parse(oe):lp}),[Q,q]=Z.useState([]),[de,ue]=Z.useState(cp),[_e,ge]=Z.useState(()=>{const oe=localStorage.getItem("metrics");return oe?JSON.parse(oe):ip}),[te,xe]=Z.useState(()=>{try{const oe=localStorage.getItem("reminderRules");return oe?JSON.parse(oe):Uu}catch{return Uu}}),[z,H]=Z.useState(!0),[ne,se]=Z.useState(()=>{const oe=localStorage.getItem("reminderTemplates");return oe?JSON.parse(oe):{upcomingDue:"Hi {{member_name}}, friendly reminder your {{period}} subscription of ${{amount}} is due on {{due_date}}. You can pay via FPS, PayMe, or card. Thank you!",overdue:"Hi {{member_name}}, your {{period}} contribution of ${{amount}} is now overdue. Please settle via the member portal or reply once paid."}}),[ke,Re]=Z.useState(()=>{const oe=localStorage.getItem("organizationInfo");return oe?JSON.parse(oe):{name:"Subscription Manager HK",email:"support@subscriptionhk.org",phone:"+852 2800 1122",address:"123 Central Street, Hong Kong"}}),[Me,fe]=Z.useState(()=>{try{const oe=localStorage.getItem("userLocale");return oe||navigator.language||navigator.userLanguage||"en-US"}catch(oe){return console.error("Error getting user locale:",oe),"en-US"}}),Le=oe=>{try{localStorage.setItem("userLocale",oe),fe(oe),window.dispatchEvent(new CustomEvent("localeChanged",{detail:{locale:oe}}))}catch(je){console.error("Error setting user locale:",je)}},[Ie,ee]=Z.useState(null),C="http://localhost:4000",J=async()=>{try{const oe=await fetch(`${C}/api/members`);if(!oe.ok)throw new Error("Failed to fetch members");const je=await oe.json();r(je),console.log(" Loaded",je.length,"members from server")}catch(oe){throw console.error("Error fetching members:",oe),r([]),oe}},K=async()=>{try{const oe=await fetch(`${C}/api/admins`);if(!oe.ok)throw new Error("Failed to fetch admins");const je=await oe.json();c(je),console.log(" Loaded",je.length,"Admins from server")}catch(oe){throw console.error("Error fetching Admins:",oe),c([]),oe}},le=async()=>{try{const oe=await fetch(`${C}/api/invoices`);if(!oe.ok)throw new Error("Failed to fetch invoices");const je=await oe.json();m(je),console.log(" Loaded",je.length,"invoices from MongoDB")}catch(oe){throw console.error("Error fetching invoices:",oe),m([]),oe}},pe=async()=>{try{const oe=await fetch(`${C}/api/payments`);if(!oe.ok)throw new Error("Failed to fetch payments");const je=await oe.json();g(je),I(je),U(je.slice(0,10)),console.log(" Loaded",je.length,"payments from MongoDB")}catch(oe){throw console.error("Error fetching payments:",oe),g([]),I([]),U([]),oe}},be=async()=>{try{const oe=await fetch(`${C}/api/donations`);if(!oe.ok)throw new Error("Failed to fetch donations");const je=await oe.json();w(je),console.log(" Loaded",je.length,"donations from MongoDB")}catch(oe){console.error("Error fetching donations:",oe),w([])}},De=async()=>{try{const oe=await fetch(`${C}/api/payment-methods`);if(!oe.ok)throw new Error("Failed to fetch payment methods");const je=await oe.json();if(je.length===0){console.log(" No payment methods in database, initializing defaults...");const nt=[{name:"Alipay",visible:!1,qrImageUrl:"",details:[]},{name:"PayMe",visible:!1,qrImageUrl:"",details:[]},{name:"FPS",visible:!0,details:["FPS ID 1234567"]},{name:"Direct Bank Transfer",visible:!0,details:["HSBC Hong Kong","123-456789-001","Subscription Manager HK"]},{name:"Credit/Debit Cards",visible:!0,details:["Gateway: Stripe"]}];for(const pt of nt)try{await fetch(`${C}/api/payment-methods`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(pt)})}catch(qe){console.error(`Error initializing payment method ${pt.name}:`,qe)}ue(nt),console.log(" Initialized default payment methods in database")}else ue(je),console.log(" Loaded",je.length,"payment methods from MongoDB")}catch(oe){throw console.error("Error fetching payment methods:",oe),ue([]),oe}},Te=async()=>{try{const oe=await fetch(`${C}/api/reminders/logs`);if(!oe.ok)throw new Error("Failed to fetch reminder logs");const je=await oe.json();q(je),console.log(" Loaded",je.length,"reminder logs from MongoDB")}catch(oe){console.error("Error fetching reminder logs:",oe),q([])}};Z.useEffect(()=>{(async()=>{try{const je=Promise.allSettled([J(),K(),le()]),nt=Promise.allSettled([pe(),be(),De(),Te()]);await Promise.allSettled([je,nt])}catch(je){console.error("Error fetching initial data:",je)}})()},[]),Z.useEffect(()=>{localStorage.setItem("recentPayments",JSON.stringify(b))},[b]),Z.useEffect(()=>{localStorage.setItem("paymentHistory",JSON.stringify(M))},[M]),Z.useEffect(()=>{localStorage.setItem("communicationLog",JSON.stringify(P))},[P]),Z.useEffect(()=>{localStorage.setItem("metrics",JSON.stringify(_e))},[_e]),Z.useEffect(()=>{localStorage.setItem("reminderRules",JSON.stringify(te))},[te]),Z.useEffect(()=>{localStorage.setItem("reminderTemplates",JSON.stringify(ne))},[ne]),Z.useEffect(()=>{localStorage.setItem("organizationInfo",JSON.stringify(ke))},[ke]),Z.useEffect(()=>{},[]);const ze=async oe=>{try{const je=await fetch(`${C}/api/members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)});if(!je.ok)throw new Error("Failed to add member");const nt=await je.json();return r([...a,nt]),Qe({totalMembers:_e.totalMembers+1}),console.log(" Member added to server:",nt),nt}catch(je){throw console.error("Error adding member:",je),je}},Ee=async(oe,je)=>{try{const nt=await fetch(`${C}/api/members/${oe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(je)});if(!nt.ok)throw new Error("Failed to update member");const pt=await nt.json();r(a.map(qe=>qe.id===oe?pt:qe)),console.log(" Member updated on server:",pt)}catch(nt){throw console.error("Error updating member:",nt),nt}},it=async oe=>{try{if(!(await fetch(`${C}/api/members/${oe}`,{method:"DELETE"})).ok)throw new Error("Failed to delete member");r(a.filter(nt=>nt.id!==oe)),m(l.filter(nt=>nt.memberId!==oe)),Qe({totalMembers:_e.totalMembers-1}),console.log(" Member deleted from server:",oe)}catch(je){throw console.error("Error deleting member:",je),je}},ot=async oe=>{try{const je=await fetch(`${C}/api/invoices`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)});if(!je.ok)throw new Error("Failed to add invoice");const nt=await je.json();return m([nt,...l]),console.log(" Invoice added to server:",nt),nt}catch(je){throw console.error("Error adding invoice:",je),je}},at=async(oe,je)=>{try{const nt=await fetch(`${C}/api/invoices/${oe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(je)});if(!nt.ok)throw new Error("Failed to update invoice");const pt=await nt.json();if(m(l.map(qe=>qe.id===oe?pt:qe)),je.status==="Paid"){const qe=l.find(ct=>ct.id===oe);if(qe&&qe.status!=="Paid"){const ct=parseFloat(qe.amount.replace("$",""));Qe({collectedMonth:_e.collectedMonth+ct,collectedYear:_e.collectedYear+ct,outstanding:_e.outstanding-ct})}}console.log(" Invoice updated on server:",pt)}catch(nt){throw console.error("Error updating invoice:",nt),nt}},G=async oe=>{try{if(!(await fetch(`${C}/api/invoices/${oe}`,{method:"DELETE"})).ok)throw new Error("Failed to delete invoice");m(l.filter(nt=>nt.id!==oe)),console.log(" Invoice deleted from server:",oe)}catch(je){throw console.error("Error deleting invoice:",je),je}},mt=async oe=>{try{const je={...oe,date:oe.date||new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})},nt=await fetch(`${C}/api/payments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(je)});if(!nt.ok){const ct=await nt.json().catch(()=>({}));throw new Error(ct.error||"Failed to save payment")}const pt=await nt.json();g([pt,...p]),U([pt,...b]),I([pt,...M]),oe.invoiceId&&await at(oe.invoiceId,{status:"Paid",method:oe.method,reference:oe.reference,screenshot:oe.screenshot||oe.screenshotUrl,paidToAdmin:oe.paidToAdmin,paidToAdminName:oe.paidToAdminName});const qe=parseFloat(oe.amount.replace("$",""));return Qe({collectedMonth:_e.collectedMonth+qe,collectedYear:_e.collectedYear+qe,outstanding:Math.max(0,_e.outstanding-qe)}),console.log(" Payment saved to MongoDB:",pt),pt}catch(je){console.error("Error adding payment:",je);const nt={...oe,date:oe.date||new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})};throw U([nt,...b]),I([nt,...M]),je}},It=oe=>{const je={...oe,date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Delivered"};return $([je,...P]),je},Ct=async(oe,je)=>{try{const nt=await fetch(`${C}/api/payment-methods/${oe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(je)});if(!nt.ok)throw new Error("Failed to update payment method");const pt=await nt.json();return ue(de.map(qe=>qe.name===oe?pt:qe)),console.log(" Payment method updated in database:",pt),pt}catch(nt){throw console.error("Error updating payment method:",nt),ue(de.map(pt=>pt.name===oe?{...pt,...je}:pt)),nt}},Qe=oe=>{ge({..._e,...oe})},$e={members:a,invoices:l,payments:p,donations:v,loading:A,fetchMembers:J,fetchAdmins:K,fetchInvoices:le,fetchPayments:pe,fetchDonations:be,fetchPaymentMethods:De,fetchReminderLogs:Te,recentPayments:b,paymentHistory:M,communicationLog:P,reminderLogs:Q,paymentMethods:de,metrics:_e,reminderRules:te,automationEnabled:z,setAutomationEnabled:H,reminderTemplates:ne,organizationInfo:ke,admins:o,selectedMember:Ie,setSelectedMember:ee,addMember:ze,updateMember:Ee,deleteMember:it,addInvoice:ot,updateInvoice:at,deleteInvoice:G,addPayment:mt,addDonation:async oe=>{try{const je=await fetch(`${C}/api/donations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)});if(!je.ok){const pt=await je.json().catch(()=>({}));throw new Error(pt.error||"Failed to add donation")}const nt=await je.json();return w([nt,...v]),console.log(" Donation added to server:",nt),nt}catch(je){throw console.error("Error adding donation:",je),je}},deleteDonation:async oe=>{try{const je=await fetch(`${C}/api/donations/${oe}`,{method:"DELETE"});if(!je.ok){const nt=await je.json().catch(()=>({}));throw new Error(nt.error||"Failed to delete donation")}w(v.filter(nt=>nt._id!==oe)),console.log(" Donation deleted from server:",oe)}catch(je){throw console.error("Error deleting donation:",je),je}},addCommunication:It,updatePaymentMethod:Ct,updateMetrics:Qe,updateReminderRule:(oe,je)=>{xe(te.map(nt=>nt.label===oe?{...nt,channels:je}:nt))},updateReminderTemplate:(oe,je)=>{se({...ne,[oe]:je})},updateOrganizationInfo:oe=>{Re({...ke,...oe})},userLocale:Me,updateUserLocale:Le,addAdminUser:async oe=>{try{const je=await fetch(`${C}/api/admins`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:oe.name,email:oe.email||"",role:oe.role||"Viewer",status:oe.status||"Active",password:oe.password||""})});if(!je.ok){const pt=await je.json().catch(()=>({}));throw new Error(pt.message||"Failed to create admin")}const nt=await je.json();return c([...o,nt]),await K(),nt}catch(je){throw console.error("Error adding admin:",je),je}},updateAdminUser:async(oe,je)=>{try{const nt=await fetch(`${C}/api/admins/${oe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(je)});if(!nt.ok){const qe=await nt.json().catch(()=>({}));throw new Error(qe.message||"Failed to update admin")}const pt=await nt.json();return c(o.map(qe=>qe.id===oe?pt:qe)),await K(),pt}catch(nt){throw console.error("Error updating admin:",nt),nt}},deleteAdminUser:async oe=>{try{const je=await fetch(`${C}/api/admins/${oe}`,{method:"DELETE"});if(!je.ok){const nt=await je.json().catch(()=>({}));throw new Error(nt.message||"Failed to delete admin")}c(o.filter(nt=>nt.id!==oe)),await K()}catch(je){throw console.error("Error deleting admin:",je),je}},resetAllData:()=>{localStorage.clear(),r(A1),c(C1),m(P1),U(sp),I(op),$(lp),ue(cp),ge(ip),xe(Uu),H(!0),localStorage.setItem("dataVersion","v2.0")}};return t.jsx(zm.Provider,{value:$e,children:i})}function Xd(){const i=Z.useContext(zm);if(!i)throw new Error("useApp must be used within AppProvider");return i}function Um(i=15){const a=fo(),r=Z.useRef(null),o=Z.useRef(Date.now()),c=()=>{o.current=Date.now(),r.current&&clearTimeout(r.current);const l=i*60*1e3;r.current=setTimeout(()=>{sessionStorage.clear(),sessionStorage.setItem("logoutReason","inactivity"),a("/login",{replace:!0})},l)};Z.useEffect(()=>{const l=["mousedown","mousemove","keypress","scroll","touchstart","click","keydown"],m=()=>{c()};return c(),l.forEach(p=>{document.addEventListener(p,m,!0)}),()=>{l.forEach(p=>{document.removeEventListener(p,m,!0)}),r.current&&clearTimeout(r.current)}},[a,i])}const D1="modulepreload",T1=function(i){return"/"+i},up={},Wu=function(a,r,o){let c=Promise.resolve();if(r&&r.length>0){let g=function(v){return Promise.all(v.map(w=>Promise.resolve(w).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");c=g(r.map(v=>{if(v=T1(v),v in up)return;up[v]=!0;const w=v.endsWith(".css"),A=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${A}`))return;const R=document.createElement("link");if(R.rel=w?"stylesheet":D1,w||(R.as="script"),R.crossOrigin="",R.href=v,p&&R.setAttribute("nonce",p),document.head.appendChild(R),w)return new Promise((b,U)=>{R.addEventListener("load",b),R.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return c.then(m=>{for(const p of m||[])p.status==="rejected"&&l(p.reason);return a().catch(l)})};function ar(i){"@babel/helpers - typeof";return ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ar(i)}var uo=Uint8Array,ys=Uint16Array,Mf=Int32Array,Rf=new uo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Df=new uo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),fp=new uo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Wm=function(i,a){for(var r=new ys(31),o=0;o<31;++o)r[o]=a+=1<<i[o-1];for(var c=new Mf(r[30]),o=1;o<30;++o)for(var l=r[o];l<r[o+1];++l)c[l]=l-r[o]<<5|o;return{b:r,r:c}},qm=Wm(Rf,2),F1=qm.b,mf=qm.r;F1[28]=258,mf[258]=28;var O1=Wm(Df,0),hp=O1.r,gf=new ys(32768);for(var Pr=0;Pr<32768;++Pr){var hl=(Pr&43690)>>1|(Pr&21845)<<1;hl=(hl&52428)>>2|(hl&13107)<<2,hl=(hl&61680)>>4|(hl&3855)<<4,gf[Pr]=((hl&65280)>>8|(hl&255)<<8)>>1}var $c=(function(i,a,r){for(var o=i.length,c=0,l=new ys(a);c<o;++c)i[c]&&++l[i[c]-1];var m=new ys(a);for(c=1;c<a;++c)m[c]=m[c-1]+l[c-1]<<1;var p;if(r){p=new ys(1<<a);var g=15-a;for(c=0;c<o;++c)if(i[c])for(var v=c<<4|i[c],w=a-i[c],A=m[i[c]-1]++<<w,R=A|(1<<w)-1;A<=R;++A)p[gf[A]>>g]=v}else for(p=new ys(o),c=0;c<o;++c)i[c]&&(p[c]=gf[m[i[c]-1]++]>>15-i[c]);return p}),Ul=new uo(288);for(var Pr=0;Pr<144;++Pr)Ul[Pr]=8;for(var Pr=144;Pr<256;++Pr)Ul[Pr]=9;for(var Pr=256;Pr<280;++Pr)Ul[Pr]=7;for(var Pr=280;Pr<288;++Pr)Ul[Pr]=8;var Hd=new uo(32);for(var Pr=0;Pr<32;++Pr)Hd[Pr]=5;var B1=$c(Ul,9,0),z1=$c(Hd,5,0),$m=function(i){return(i+7)/8|0},U1=function(i,a,r){return(r==null||r>i.length)&&(r=i.length),new uo(i.subarray(a,r))},Yo=function(i,a,r){r<<=a&7;var o=a/8|0;i[o]|=r,i[o+1]|=r>>8},Wc=function(i,a,r){r<<=a&7;var o=a/8|0;i[o]|=r,i[o+1]|=r>>8,i[o+2]|=r>>16},qu=function(i,a){for(var r=[],o=0;o<i.length;++o)i[o]&&r.push({s:o,f:i[o]});var c=r.length,l=r.slice();if(!c)return{t:Vm,l:0};if(c==1){var m=new uo(r[0].s+1);return m[r[0].s]=1,{t:m,l:1}}r.sort(function(de,ue){return de.f-ue.f}),r.push({s:-1,f:25001});var p=r[0],g=r[1],v=0,w=1,A=2;for(r[0]={s:-1,f:p.f+g.f,l:p,r:g};w!=c-1;)p=r[r[v].f<r[A].f?v++:A++],g=r[v!=w&&r[v].f<r[A].f?v++:A++],r[w++]={s:-1,f:p.f+g.f,l:p,r:g};for(var R=l[0].s,o=1;o<c;++o)l[o].s>R&&(R=l[o].s);var b=new ys(R+1),U=xf(r[w-1],b,0);if(U>a){var o=0,M=0,I=U-a,P=1<<I;for(l.sort(function(ue,_e){return b[_e.s]-b[ue.s]||ue.f-_e.f});o<c;++o){var $=l[o].s;if(b[$]>a)M+=P-(1<<U-b[$]),b[$]=a;else break}for(M>>=I;M>0;){var Q=l[o].s;b[Q]<a?M-=1<<a-b[Q]++-1:++o}for(;o>=0&&M;--o){var q=l[o].s;b[q]==a&&(--b[q],++M)}U=a}return{t:new uo(b),l:U}},xf=function(i,a,r){return i.s==-1?Math.max(xf(i.l,a,r+1),xf(i.r,a,r+1)):a[i.s]=r},pp=function(i){for(var a=i.length;a&&!i[--a];);for(var r=new ys(++a),o=0,c=i[0],l=1,m=function(g){r[o++]=g},p=1;p<=a;++p)if(i[p]==c&&p!=a)++l;else{if(!c&&l>2){for(;l>138;l-=138)m(32754);l>2&&(m(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(m(c),--l;l>6;l-=6)m(8304);l>2&&(m(l-3<<5|8208),l=0)}for(;l--;)m(c);l=1,c=i[p]}return{c:r.subarray(0,o),n:a}},qc=function(i,a){for(var r=0,o=0;o<a.length;++o)r+=i[o]*a[o];return r},Hm=function(i,a,r){var o=r.length,c=$m(a+2);i[c]=o&255,i[c+1]=o>>8,i[c+2]=i[c]^255,i[c+3]=i[c+1]^255;for(var l=0;l<o;++l)i[c+l+4]=r[l];return(c+4+o)*8},mp=function(i,a,r,o,c,l,m,p,g,v,w){Yo(a,w++,r),++c[256];for(var A=qu(c,15),R=A.t,b=A.l,U=qu(l,15),M=U.t,I=U.l,P=pp(R),$=P.c,Q=P.n,q=pp(M),de=q.c,ue=q.n,_e=new ys(19),ge=0;ge<$.length;++ge)++_e[$[ge]&31];for(var ge=0;ge<de.length;++ge)++_e[de[ge]&31];for(var te=qu(_e,7),xe=te.t,z=te.l,H=19;H>4&&!xe[fp[H-1]];--H);var ne=v+5<<3,se=qc(c,Ul)+qc(l,Hd)+m,ke=qc(c,R)+qc(l,M)+m+14+3*H+qc(_e,xe)+2*_e[16]+3*_e[17]+7*_e[18];if(g>=0&&ne<=se&&ne<=ke)return Hm(a,w,i.subarray(g,g+v));var Re,Me,fe,Le;if(Yo(a,w,1+(ke<se)),w+=2,ke<se){Re=$c(R,b,0),Me=R,fe=$c(M,I,0),Le=M;var Ie=$c(xe,z,0);Yo(a,w,Q-257),Yo(a,w+5,ue-1),Yo(a,w+10,H-4),w+=14;for(var ge=0;ge<H;++ge)Yo(a,w+3*ge,xe[fp[ge]]);w+=3*H;for(var ee=[$,de],C=0;C<2;++C)for(var J=ee[C],ge=0;ge<J.length;++ge){var K=J[ge]&31;Yo(a,w,Ie[K]),w+=xe[K],K>15&&(Yo(a,w,J[ge]>>5&127),w+=J[ge]>>12)}}else Re=B1,Me=Ul,fe=z1,Le=Hd;for(var ge=0;ge<p;++ge){var le=o[ge];if(le>255){var K=le>>18&31;Wc(a,w,Re[K+257]),w+=Me[K+257],K>7&&(Yo(a,w,le>>23&31),w+=Rf[K]);var pe=le&31;Wc(a,w,fe[pe]),w+=Le[pe],pe>3&&(Wc(a,w,le>>5&8191),w+=Df[pe])}else Wc(a,w,Re[le]),w+=Me[le]}return Wc(a,w,Re[256]),w+Me[256]},W1=new Mf([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Vm=new uo(0),q1=function(i,a,r,o,c,l){var m=l.z||i.length,p=new uo(o+m+5*(1+Math.ceil(m/7e3))+c),g=p.subarray(o,p.length-c),v=l.l,w=(l.r||0)&7;if(a){w&&(g[0]=l.r>>3);for(var A=W1[a-1],R=A>>13,b=A&8191,U=(1<<r)-1,M=l.p||new ys(32768),I=l.h||new ys(U+1),P=Math.ceil(r/3),$=2*P,Q=function(at){return(i[at]^i[at+1]<<P^i[at+2]<<$)&U},q=new Mf(25e3),de=new ys(288),ue=new ys(32),_e=0,ge=0,te=l.i||0,xe=0,z=l.w||0,H=0;te+2<m;++te){var ne=Q(te),se=te&32767,ke=I[ne];if(M[se]=ke,I[ne]=se,z<=te){var Re=m-te;if((_e>7e3||xe>24576)&&(Re>423||!v)){w=mp(i,g,0,q,de,ue,ge,xe,H,te-H,w),xe=_e=ge=0,H=te;for(var Me=0;Me<286;++Me)de[Me]=0;for(var Me=0;Me<30;++Me)ue[Me]=0}var fe=2,Le=0,Ie=b,ee=se-ke&32767;if(Re>2&&ne==Q(te-ee))for(var C=Math.min(R,Re)-1,J=Math.min(32767,te),K=Math.min(258,Re);ee<=J&&--Ie&&se!=ke;){if(i[te+fe]==i[te+fe-ee]){for(var le=0;le<K&&i[te+le]==i[te+le-ee];++le);if(le>fe){if(fe=le,Le=ee,le>C)break;for(var pe=Math.min(ee,le-2),be=0,Me=0;Me<pe;++Me){var De=te-ee+Me&32767,Te=M[De],ze=De-Te&32767;ze>be&&(be=ze,ke=De)}}}se=ke,ke=M[se],ee+=se-ke&32767}if(Le){q[xe++]=268435456|mf[fe]<<18|hp[Le];var Ee=mf[fe]&31,it=hp[Le]&31;ge+=Rf[Ee]+Df[it],++de[257+Ee],++ue[it],z=te+fe,++_e}else q[xe++]=i[te],++de[i[te]]}}for(te=Math.max(te,z);te<m;++te)q[xe++]=i[te],++de[i[te]];w=mp(i,g,v,q,de,ue,ge,xe,H,te-H,w),v||(l.r=w&7|g[w/8|0]<<3,w-=7,l.h=I,l.p=M,l.i=te,l.w=z)}else{for(var te=l.w||0;te<m+v;te+=65535){var ot=te+65535;ot>=m&&(g[w/8|0]=v,ot=m),w=Hm(g,w+1,i.subarray(te,ot))}l.i=m}return U1(p,0,o+$m(w)+c)},Ym=function(){var i=1,a=0;return{p:function(r){for(var o=i,c=a,l=r.length|0,m=0;m!=l;){for(var p=Math.min(m+2655,l);m<p;++m)c+=o+=r[m];o=(o&65535)+15*(o>>16),c=(c&65535)+15*(c>>16)}i=o,a=c},d:function(){return i%=65521,a%=65521,(i&255)<<24|(i&65280)<<8|(a&255)<<8|a>>8}}},$1=function(i,a,r,o,c){if(!c&&(c={l:1},a.dictionary)){var l=a.dictionary.subarray(-32768),m=new uo(l.length+i.length);m.set(l),m.set(i,l.length),i=m,c.w=l.length}return q1(i,a.level==null?6:a.level,a.mem==null?c.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+a.mem,r,o,c)},Gm=function(i,a,r){for(;r;++a)i[a]=r,r>>>=8},H1=function(i,a){var r=a.level,o=r==0?0:r<6?1:r==9?3:2;if(i[0]=120,i[1]=o<<6|(a.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,a.dictionary){var c=Ym();c.p(a.dictionary),Gm(i,2,c.d())}};function yf(i,a){a||(a={});var r=Ym();r.p(i);var o=$1(i,a,a.dictionary?6:2,4);return H1(o,a),Gm(o,o.length-4,r.d()),o}var V1=typeof TextDecoder<"u"&&new TextDecoder,Y1=0;try{V1.decode(Vm,{stream:!0}),Y1=1}catch{}function G1(i){if(Array.isArray(i))return i}function J1(i,a){var r=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(r!=null){var o,c,l,m,p=[],g=!0,v=!1;try{if(l=(r=r.call(i)).next,a!==0)for(;!(g=(o=l.call(r)).done)&&(p.push(o.value),p.length!==a);g=!0);}catch(w){v=!0,c=w}finally{try{if(!g&&r.return!=null&&(m=r.return(),Object(m)!==m))return}finally{if(v)throw c}}return p}}function gp(i,a){(a==null||a>i.length)&&(a=i.length);for(var r=0,o=Array(a);r<a;r++)o[r]=i[r];return o}function K1(i,a){if(i){if(typeof i=="string")return gp(i,a);var r={}.toString.call(i).slice(8,-1);return r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set"?Array.from(i):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gp(i,a):void 0}}function X1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xp(i,a){return G1(i)||J1(i,a)||K1(i,a)||X1()}function yp(i,a="utf8"){return new TextDecoder(a).decode(i)}const Q1=new TextEncoder;function Z1(i){return Q1.encode(i)}const e2=1024*8,t2=(()=>{const i=new Uint8Array(4),a=new Uint32Array(i.buffer);return!((a[0]=1)&i[0])})(),$u={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Tf{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(a=e2,r={}){let o=!1;typeof a=="number"?a=new ArrayBuffer(a):(o=!0,this.lastWrittenByte=a.byteLength);const c=r.offset?r.offset>>>0:0,l=a.byteLength-c;let m=c;(ArrayBuffer.isView(a)||a instanceof Tf)&&(a.byteLength!==a.buffer.byteLength&&(m=a.byteOffset+c),a=a.buffer),o?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=a,this.length=l,this.byteLength=l,this.byteOffset=m,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,m,l),this._mark=0,this._marks=[]}available(a=1){return this.offset+a<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(a=1){return this.offset+=a,this}back(a=1){return this.offset-=a,this}seek(a){return this.offset=a,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const a=this._marks.pop();if(a===void 0)throw new Error("Mark stack empty");return this.seek(a),this}rewind(){return this.offset=0,this}ensureAvailable(a=1){if(!this.available(a)){const o=(this.offset+a)*2,c=new Uint8Array(o);c.set(new Uint8Array(this.buffer)),this.buffer=c.buffer,this.length=o,this.byteLength=o,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(a=1){return this.readArray(a,"uint8")}readArray(a,r){const o=$u[r].BYTES_PER_ELEMENT*a,c=this.byteOffset+this.offset,l=this.buffer.slice(c,c+o);if(this.littleEndian===t2&&r!=="uint8"&&r!=="int8"){const p=new Uint8Array(this.buffer.slice(c,c+o));p.reverse();const g=new $u[r](p.buffer);return this.offset+=o,g.reverse(),g}const m=new $u[r](l);return this.offset+=o,m}readInt16(){const a=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,a}readUint16(){const a=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,a}readInt32(){const a=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,a}readUint32(){const a=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,a}readFloat32(){const a=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,a}readFloat64(){const a=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,a}readBigInt64(){const a=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,a}readBigUint64(){const a=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,a}readChar(){return String.fromCharCode(this.readInt8())}readChars(a=1){let r="";for(let o=0;o<a;o++)r+=this.readChar();return r}readUtf8(a=1){return yp(this.readBytes(a))}decodeText(a=1,r="utf8"){return yp(this.readBytes(a),r)}writeBoolean(a){return this.writeUint8(a?255:0),this}writeInt8(a){return this.ensureAvailable(1),this._data.setInt8(this.offset++,a),this._updateLastWrittenByte(),this}writeUint8(a){return this.ensureAvailable(1),this._data.setUint8(this.offset++,a),this._updateLastWrittenByte(),this}writeByte(a){return this.writeUint8(a)}writeBytes(a){this.ensureAvailable(a.length);for(let r=0;r<a.length;r++)this._data.setUint8(this.offset++,a[r]);return this._updateLastWrittenByte(),this}writeInt16(a){return this.ensureAvailable(2),this._data.setInt16(this.offset,a,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(a){return this.ensureAvailable(2),this._data.setUint16(this.offset,a,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(a){return this.ensureAvailable(4),this._data.setInt32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(a){return this.ensureAvailable(4),this._data.setUint32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(a){return this.ensureAvailable(4),this._data.setFloat32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(a){return this.ensureAvailable(8),this._data.setFloat64(this.offset,a,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(a){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,a,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(a){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,a,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(a){return this.writeUint8(a.charCodeAt(0))}writeChars(a){for(let r=0;r<a.length;r++)this.writeUint8(a.charCodeAt(r));return this}writeUtf8(a){return this.writeBytes(Z1(a))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ac(i){let a=i.length;for(;--a>=0;)i[a]=0}const n2=3,r2=258,Jm=29,a2=256,i2=a2+1+Jm,Km=30,s2=512,o2=new Array((i2+2)*2);Ac(o2);const l2=new Array(Km*2);Ac(l2);const c2=new Array(s2);Ac(c2);const d2=new Array(r2-n2+1);Ac(d2);const u2=new Array(Jm);Ac(u2);const f2=new Array(Km);Ac(f2);const h2=(i,a,r,o)=>{let c=i&65535|0,l=i>>>16&65535|0,m=0;for(;r!==0;){m=r>2e3?2e3:r,r-=m;do c=c+a[o++]|0,l=l+c|0;while(--m);c%=65521,l%=65521}return c|l<<16|0};var vf=h2;const p2=()=>{let i,a=[];for(var r=0;r<256;r++){i=r;for(var o=0;o<8;o++)i=i&1?3988292384^i>>>1:i>>>1;a[r]=i}return a},m2=new Uint32Array(p2()),g2=(i,a,r,o)=>{const c=m2,l=o+r;i^=-1;for(let m=o;m<l;m++)i=i>>>8^c[(i^a[m])&255];return i^-1};var Io=g2,bf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Xm={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const x2=(i,a)=>Object.prototype.hasOwnProperty.call(i,a);var y2=function(i){const a=Array.prototype.slice.call(arguments,1);for(;a.length;){const r=a.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const o in r)x2(r,o)&&(i[o]=r[o])}}return i},v2=i=>{let a=0;for(let o=0,c=i.length;o<c;o++)a+=i[o].length;const r=new Uint8Array(a);for(let o=0,c=0,l=i.length;o<l;o++){let m=i[o];r.set(m,c),c+=m.length}return r},Qm={assign:y2,flattenChunks:v2};let Zm=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Zm=!1}const Jc=new Uint8Array(256);for(let i=0;i<256;i++)Jc[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;Jc[254]=Jc[254]=1;var b2=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let a,r,o,c,l,m=i.length,p=0;for(c=0;c<m;c++)r=i.charCodeAt(c),(r&64512)===55296&&c+1<m&&(o=i.charCodeAt(c+1),(o&64512)===56320&&(r=65536+(r-55296<<10)+(o-56320),c++)),p+=r<128?1:r<2048?2:r<65536?3:4;for(a=new Uint8Array(p),l=0,c=0;l<p;c++)r=i.charCodeAt(c),(r&64512)===55296&&c+1<m&&(o=i.charCodeAt(c+1),(o&64512)===56320&&(r=65536+(r-55296<<10)+(o-56320),c++)),r<128?a[l++]=r:r<2048?(a[l++]=192|r>>>6,a[l++]=128|r&63):r<65536?(a[l++]=224|r>>>12,a[l++]=128|r>>>6&63,a[l++]=128|r&63):(a[l++]=240|r>>>18,a[l++]=128|r>>>12&63,a[l++]=128|r>>>6&63,a[l++]=128|r&63);return a};const w2=(i,a)=>{if(a<65534&&i.subarray&&Zm)return String.fromCharCode.apply(null,i.length===a?i:i.subarray(0,a));let r="";for(let o=0;o<a;o++)r+=String.fromCharCode(i[o]);return r};var j2=(i,a)=>{const r=a||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,a));let o,c;const l=new Array(r*2);for(c=0,o=0;o<r;){let m=i[o++];if(m<128){l[c++]=m;continue}let p=Jc[m];if(p>4){l[c++]=65533,o+=p-1;continue}for(m&=p===2?31:p===3?15:7;p>1&&o<r;)m=m<<6|i[o++]&63,p--;if(p>1){l[c++]=65533;continue}m<65536?l[c++]=m:(m-=65536,l[c++]=55296|m>>10&1023,l[c++]=56320|m&1023)}return w2(l,c)},S2=(i,a)=>{a=a||i.length,a>i.length&&(a=i.length);let r=a-1;for(;r>=0&&(i[r]&192)===128;)r--;return r<0||r===0?a:r+Jc[i[r]]>a?r:a},wf={string2buf:b2,buf2string:j2,utf8border:S2};function N2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var k2=N2;const Pd=16209,A2=16191;var C2=function(a,r){let o,c,l,m,p,g,v,w,A,R,b,U,M,I,P,$,Q,q,de,ue,_e,ge,te,xe;const z=a.state;o=a.next_in,te=a.input,c=o+(a.avail_in-5),l=a.next_out,xe=a.output,m=l-(r-a.avail_out),p=l+(a.avail_out-257),g=z.dmax,v=z.wsize,w=z.whave,A=z.wnext,R=z.window,b=z.hold,U=z.bits,M=z.lencode,I=z.distcode,P=(1<<z.lenbits)-1,$=(1<<z.distbits)-1;e:do{U<15&&(b+=te[o++]<<U,U+=8,b+=te[o++]<<U,U+=8),Q=M[b&P];t:for(;;){if(q=Q>>>24,b>>>=q,U-=q,q=Q>>>16&255,q===0)xe[l++]=Q&65535;else if(q&16){de=Q&65535,q&=15,q&&(U<q&&(b+=te[o++]<<U,U+=8),de+=b&(1<<q)-1,b>>>=q,U-=q),U<15&&(b+=te[o++]<<U,U+=8,b+=te[o++]<<U,U+=8),Q=I[b&$];n:for(;;){if(q=Q>>>24,b>>>=q,U-=q,q=Q>>>16&255,q&16){if(ue=Q&65535,q&=15,U<q&&(b+=te[o++]<<U,U+=8,U<q&&(b+=te[o++]<<U,U+=8)),ue+=b&(1<<q)-1,ue>g){a.msg="invalid distance too far back",z.mode=Pd;break e}if(b>>>=q,U-=q,q=l-m,ue>q){if(q=ue-q,q>w&&z.sane){a.msg="invalid distance too far back",z.mode=Pd;break e}if(_e=0,ge=R,A===0){if(_e+=v-q,q<de){de-=q;do xe[l++]=R[_e++];while(--q);_e=l-ue,ge=xe}}else if(A<q){if(_e+=v+A-q,q-=A,q<de){de-=q;do xe[l++]=R[_e++];while(--q);if(_e=0,A<de){q=A,de-=q;do xe[l++]=R[_e++];while(--q);_e=l-ue,ge=xe}}}else if(_e+=A-q,q<de){de-=q;do xe[l++]=R[_e++];while(--q);_e=l-ue,ge=xe}for(;de>2;)xe[l++]=ge[_e++],xe[l++]=ge[_e++],xe[l++]=ge[_e++],de-=3;de&&(xe[l++]=ge[_e++],de>1&&(xe[l++]=ge[_e++]))}else{_e=l-ue;do xe[l++]=xe[_e++],xe[l++]=xe[_e++],xe[l++]=xe[_e++],de-=3;while(de>2);de&&(xe[l++]=xe[_e++],de>1&&(xe[l++]=xe[_e++]))}}else if((q&64)===0){Q=I[(Q&65535)+(b&(1<<q)-1)];continue n}else{a.msg="invalid distance code",z.mode=Pd;break e}break}}else if((q&64)===0){Q=M[(Q&65535)+(b&(1<<q)-1)];continue t}else if(q&32){z.mode=A2;break e}else{a.msg="invalid literal/length code",z.mode=Pd;break e}break}}while(o<c&&l<p);de=U>>3,o-=de,U-=de<<3,b&=(1<<U)-1,a.next_in=o,a.next_out=l,a.avail_in=o<c?5+(c-o):5-(o-c),a.avail_out=l<p?257+(p-l):257-(l-p),z.hold=b,z.bits=U};const uc=15,vp=852,bp=592,wp=0,Hu=1,jp=2,P2=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),L2=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_2=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),I2=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),E2=(i,a,r,o,c,l,m,p)=>{const g=p.bits;let v=0,w=0,A=0,R=0,b=0,U=0,M=0,I=0,P=0,$=0,Q,q,de,ue,_e,ge=null,te;const xe=new Uint16Array(uc+1),z=new Uint16Array(uc+1);let H=null,ne,se,ke;for(v=0;v<=uc;v++)xe[v]=0;for(w=0;w<o;w++)xe[a[r+w]]++;for(b=g,R=uc;R>=1&&xe[R]===0;R--);if(b>R&&(b=R),R===0)return c[l++]=1<<24|64<<16|0,c[l++]=1<<24|64<<16|0,p.bits=1,0;for(A=1;A<R&&xe[A]===0;A++);for(b<A&&(b=A),I=1,v=1;v<=uc;v++)if(I<<=1,I-=xe[v],I<0)return-1;if(I>0&&(i===wp||R!==1))return-1;for(z[1]=0,v=1;v<uc;v++)z[v+1]=z[v]+xe[v];for(w=0;w<o;w++)a[r+w]!==0&&(m[z[a[r+w]]++]=w);if(i===wp?(ge=H=m,te=20):i===Hu?(ge=P2,H=L2,te=257):(ge=_2,H=I2,te=0),$=0,w=0,v=A,_e=l,U=b,M=0,de=-1,P=1<<b,ue=P-1,i===Hu&&P>vp||i===jp&&P>bp)return 1;for(;;){ne=v-M,m[w]+1<te?(se=0,ke=m[w]):m[w]>=te?(se=H[m[w]-te],ke=ge[m[w]-te]):(se=96,ke=0),Q=1<<v-M,q=1<<U,A=q;do q-=Q,c[_e+($>>M)+q]=ne<<24|se<<16|ke|0;while(q!==0);for(Q=1<<v-1;$&Q;)Q>>=1;if(Q!==0?($&=Q-1,$+=Q):$=0,w++,--xe[v]===0){if(v===R)break;v=a[r+m[w]]}if(v>b&&($&ue)!==de){for(M===0&&(M=b),_e+=A,U=v-M,I=1<<U;U+M<R&&(I-=xe[U+M],!(I<=0));)U++,I<<=1;if(P+=1<<U,i===Hu&&P>vp||i===jp&&P>bp)return 1;de=$&ue,c[de]=b<<24|U<<16|_e-l|0}}return $!==0&&(c[_e+$]=v-M<<24|64<<16|0),p.bits=b,0};var Hc=E2;const M2=0,e0=1,t0=2,{Z_FINISH:Sp,Z_BLOCK:R2,Z_TREES:Ld,Z_OK:Wl,Z_STREAM_END:D2,Z_NEED_DICT:T2,Z_STREAM_ERROR:Ts,Z_DATA_ERROR:n0,Z_MEM_ERROR:r0,Z_BUF_ERROR:F2,Z_DEFLATED:Np}=Xm,Qd=16180,kp=16181,Ap=16182,Cp=16183,Pp=16184,Lp=16185,_p=16186,Ip=16187,Ep=16188,Mp=16189,Vd=16190,Go=16191,Vu=16192,Rp=16193,Yu=16194,Dp=16195,Tp=16196,Fp=16197,Op=16198,_d=16199,Id=16200,Bp=16201,zp=16202,Up=16203,Wp=16204,qp=16205,Gu=16206,$p=16207,Hp=16208,Dr=16209,a0=16210,i0=16211,O2=852,B2=592,z2=15,U2=z2,Vp=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function W2(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const $l=i=>{if(!i)return 1;const a=i.state;return!a||a.strm!==i||a.mode<Qd||a.mode>i0?1:0},s0=i=>{if($l(i))return Ts;const a=i.state;return i.total_in=i.total_out=a.total=0,i.msg="",a.wrap&&(i.adler=a.wrap&1),a.mode=Qd,a.last=0,a.havedict=0,a.flags=-1,a.dmax=32768,a.head=null,a.hold=0,a.bits=0,a.lencode=a.lendyn=new Int32Array(O2),a.distcode=a.distdyn=new Int32Array(B2),a.sane=1,a.back=-1,Wl},o0=i=>{if($l(i))return Ts;const a=i.state;return a.wsize=0,a.whave=0,a.wnext=0,s0(i)},l0=(i,a)=>{let r;if($l(i))return Ts;const o=i.state;return a<0?(r=0,a=-a):(r=(a>>4)+5,a<48&&(a&=15)),a&&(a<8||a>15)?Ts:(o.window!==null&&o.wbits!==a&&(o.window=null),o.wrap=r,o.wbits=a,o0(i))},c0=(i,a)=>{if(!i)return Ts;const r=new W2;i.state=r,r.strm=i,r.window=null,r.mode=Qd;const o=l0(i,a);return o!==Wl&&(i.state=null),o},q2=i=>c0(i,U2);let Yp=!0,Ju,Ku;const $2=i=>{if(Yp){Ju=new Int32Array(512),Ku=new Int32Array(32);let a=0;for(;a<144;)i.lens[a++]=8;for(;a<256;)i.lens[a++]=9;for(;a<280;)i.lens[a++]=7;for(;a<288;)i.lens[a++]=8;for(Hc(e0,i.lens,0,288,Ju,0,i.work,{bits:9}),a=0;a<32;)i.lens[a++]=5;Hc(t0,i.lens,0,32,Ku,0,i.work,{bits:5}),Yp=!1}i.lencode=Ju,i.lenbits=9,i.distcode=Ku,i.distbits=5},d0=(i,a,r,o)=>{let c;const l=i.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),o>=l.wsize?(l.window.set(a.subarray(r-l.wsize,r),0),l.wnext=0,l.whave=l.wsize):(c=l.wsize-l.wnext,c>o&&(c=o),l.window.set(a.subarray(r-o,r-o+c),l.wnext),o-=c,o?(l.window.set(a.subarray(r-o,r),0),l.wnext=o,l.whave=l.wsize):(l.wnext+=c,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=c))),0},H2=(i,a)=>{let r,o,c,l,m,p,g,v,w,A,R,b,U,M,I=0,P,$,Q,q,de,ue,_e,ge;const te=new Uint8Array(4);let xe,z;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if($l(i)||!i.output||!i.input&&i.avail_in!==0)return Ts;r=i.state,r.mode===Go&&(r.mode=Vu),m=i.next_out,c=i.output,g=i.avail_out,l=i.next_in,o=i.input,p=i.avail_in,v=r.hold,w=r.bits,A=p,R=g,ge=Wl;e:for(;;)switch(r.mode){case Qd:if(r.wrap===0){r.mode=Vu;break}for(;w<16;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}if(r.wrap&2&&v===35615){r.wbits===0&&(r.wbits=15),r.check=0,te[0]=v&255,te[1]=v>>>8&255,r.check=Io(r.check,te,2,0),v=0,w=0,r.mode=kp;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((v&255)<<8)+(v>>8))%31){i.msg="incorrect header check",r.mode=Dr;break}if((v&15)!==Np){i.msg="unknown compression method",r.mode=Dr;break}if(v>>>=4,w-=4,_e=(v&15)+8,r.wbits===0&&(r.wbits=_e),_e>15||_e>r.wbits){i.msg="invalid window size",r.mode=Dr;break}r.dmax=1<<r.wbits,r.flags=0,i.adler=r.check=1,r.mode=v&512?Mp:Go,v=0,w=0;break;case kp:for(;w<16;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}if(r.flags=v,(r.flags&255)!==Np){i.msg="unknown compression method",r.mode=Dr;break}if(r.flags&57344){i.msg="unknown header flags set",r.mode=Dr;break}r.head&&(r.head.text=v>>8&1),r.flags&512&&r.wrap&4&&(te[0]=v&255,te[1]=v>>>8&255,r.check=Io(r.check,te,2,0)),v=0,w=0,r.mode=Ap;case Ap:for(;w<32;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}r.head&&(r.head.time=v),r.flags&512&&r.wrap&4&&(te[0]=v&255,te[1]=v>>>8&255,te[2]=v>>>16&255,te[3]=v>>>24&255,r.check=Io(r.check,te,4,0)),v=0,w=0,r.mode=Cp;case Cp:for(;w<16;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}r.head&&(r.head.xflags=v&255,r.head.os=v>>8),r.flags&512&&r.wrap&4&&(te[0]=v&255,te[1]=v>>>8&255,r.check=Io(r.check,te,2,0)),v=0,w=0,r.mode=Pp;case Pp:if(r.flags&1024){for(;w<16;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}r.length=v,r.head&&(r.head.extra_len=v),r.flags&512&&r.wrap&4&&(te[0]=v&255,te[1]=v>>>8&255,r.check=Io(r.check,te,2,0)),v=0,w=0}else r.head&&(r.head.extra=null);r.mode=Lp;case Lp:if(r.flags&1024&&(b=r.length,b>p&&(b=p),b&&(r.head&&(_e=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(o.subarray(l,l+b),_e)),r.flags&512&&r.wrap&4&&(r.check=Io(r.check,o,b,l)),p-=b,l+=b,r.length-=b),r.length))break e;r.length=0,r.mode=_p;case _p:if(r.flags&2048){if(p===0)break e;b=0;do _e=o[l+b++],r.head&&_e&&r.length<65536&&(r.head.name+=String.fromCharCode(_e));while(_e&&b<p);if(r.flags&512&&r.wrap&4&&(r.check=Io(r.check,o,b,l)),p-=b,l+=b,_e)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Ip;case Ip:if(r.flags&4096){if(p===0)break e;b=0;do _e=o[l+b++],r.head&&_e&&r.length<65536&&(r.head.comment+=String.fromCharCode(_e));while(_e&&b<p);if(r.flags&512&&r.wrap&4&&(r.check=Io(r.check,o,b,l)),p-=b,l+=b,_e)break e}else r.head&&(r.head.comment=null);r.mode=Ep;case Ep:if(r.flags&512){for(;w<16;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}if(r.wrap&4&&v!==(r.check&65535)){i.msg="header crc mismatch",r.mode=Dr;break}v=0,w=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),i.adler=r.check=0,r.mode=Go;break;case Mp:for(;w<32;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}i.adler=r.check=Vp(v),v=0,w=0,r.mode=Vd;case Vd:if(r.havedict===0)return i.next_out=m,i.avail_out=g,i.next_in=l,i.avail_in=p,r.hold=v,r.bits=w,T2;i.adler=r.check=1,r.mode=Go;case Go:if(a===R2||a===Ld)break e;case Vu:if(r.last){v>>>=w&7,w-=w&7,r.mode=Gu;break}for(;w<3;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}switch(r.last=v&1,v>>>=1,w-=1,v&3){case 0:r.mode=Rp;break;case 1:if($2(r),r.mode=_d,a===Ld){v>>>=2,w-=2;break e}break;case 2:r.mode=Tp;break;case 3:i.msg="invalid block type",r.mode=Dr}v>>>=2,w-=2;break;case Rp:for(v>>>=w&7,w-=w&7;w<32;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}if((v&65535)!==(v>>>16^65535)){i.msg="invalid stored block lengths",r.mode=Dr;break}if(r.length=v&65535,v=0,w=0,r.mode=Yu,a===Ld)break e;case Yu:r.mode=Dp;case Dp:if(b=r.length,b){if(b>p&&(b=p),b>g&&(b=g),b===0)break e;c.set(o.subarray(l,l+b),m),p-=b,l+=b,g-=b,m+=b,r.length-=b;break}r.mode=Go;break;case Tp:for(;w<14;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}if(r.nlen=(v&31)+257,v>>>=5,w-=5,r.ndist=(v&31)+1,v>>>=5,w-=5,r.ncode=(v&15)+4,v>>>=4,w-=4,r.nlen>286||r.ndist>30){i.msg="too many length or distance symbols",r.mode=Dr;break}r.have=0,r.mode=Fp;case Fp:for(;r.have<r.ncode;){for(;w<3;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}r.lens[H[r.have++]]=v&7,v>>>=3,w-=3}for(;r.have<19;)r.lens[H[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,xe={bits:r.lenbits},ge=Hc(M2,r.lens,0,19,r.lencode,0,r.work,xe),r.lenbits=xe.bits,ge){i.msg="invalid code lengths set",r.mode=Dr;break}r.have=0,r.mode=Op;case Op:for(;r.have<r.nlen+r.ndist;){for(;I=r.lencode[v&(1<<r.lenbits)-1],P=I>>>24,$=I>>>16&255,Q=I&65535,!(P<=w);){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}if(Q<16)v>>>=P,w-=P,r.lens[r.have++]=Q;else{if(Q===16){for(z=P+2;w<z;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}if(v>>>=P,w-=P,r.have===0){i.msg="invalid bit length repeat",r.mode=Dr;break}_e=r.lens[r.have-1],b=3+(v&3),v>>>=2,w-=2}else if(Q===17){for(z=P+3;w<z;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}v>>>=P,w-=P,_e=0,b=3+(v&7),v>>>=3,w-=3}else{for(z=P+7;w<z;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}v>>>=P,w-=P,_e=0,b=11+(v&127),v>>>=7,w-=7}if(r.have+b>r.nlen+r.ndist){i.msg="invalid bit length repeat",r.mode=Dr;break}for(;b--;)r.lens[r.have++]=_e}}if(r.mode===Dr)break;if(r.lens[256]===0){i.msg="invalid code -- missing end-of-block",r.mode=Dr;break}if(r.lenbits=9,xe={bits:r.lenbits},ge=Hc(e0,r.lens,0,r.nlen,r.lencode,0,r.work,xe),r.lenbits=xe.bits,ge){i.msg="invalid literal/lengths set",r.mode=Dr;break}if(r.distbits=6,r.distcode=r.distdyn,xe={bits:r.distbits},ge=Hc(t0,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,xe),r.distbits=xe.bits,ge){i.msg="invalid distances set",r.mode=Dr;break}if(r.mode=_d,a===Ld)break e;case _d:r.mode=Id;case Id:if(p>=6&&g>=258){i.next_out=m,i.avail_out=g,i.next_in=l,i.avail_in=p,r.hold=v,r.bits=w,C2(i,R),m=i.next_out,c=i.output,g=i.avail_out,l=i.next_in,o=i.input,p=i.avail_in,v=r.hold,w=r.bits,r.mode===Go&&(r.back=-1);break}for(r.back=0;I=r.lencode[v&(1<<r.lenbits)-1],P=I>>>24,$=I>>>16&255,Q=I&65535,!(P<=w);){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}if($&&($&240)===0){for(q=P,de=$,ue=Q;I=r.lencode[ue+((v&(1<<q+de)-1)>>q)],P=I>>>24,$=I>>>16&255,Q=I&65535,!(q+P<=w);){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}v>>>=q,w-=q,r.back+=q}if(v>>>=P,w-=P,r.back+=P,r.length=Q,$===0){r.mode=qp;break}if($&32){r.back=-1,r.mode=Go;break}if($&64){i.msg="invalid literal/length code",r.mode=Dr;break}r.extra=$&15,r.mode=Bp;case Bp:if(r.extra){for(z=r.extra;w<z;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}r.length+=v&(1<<r.extra)-1,v>>>=r.extra,w-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=zp;case zp:for(;I=r.distcode[v&(1<<r.distbits)-1],P=I>>>24,$=I>>>16&255,Q=I&65535,!(P<=w);){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}if(($&240)===0){for(q=P,de=$,ue=Q;I=r.distcode[ue+((v&(1<<q+de)-1)>>q)],P=I>>>24,$=I>>>16&255,Q=I&65535,!(q+P<=w);){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}v>>>=q,w-=q,r.back+=q}if(v>>>=P,w-=P,r.back+=P,$&64){i.msg="invalid distance code",r.mode=Dr;break}r.offset=Q,r.extra=$&15,r.mode=Up;case Up:if(r.extra){for(z=r.extra;w<z;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}r.offset+=v&(1<<r.extra)-1,v>>>=r.extra,w-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){i.msg="invalid distance too far back",r.mode=Dr;break}r.mode=Wp;case Wp:if(g===0)break e;if(b=R-g,r.offset>b){if(b=r.offset-b,b>r.whave&&r.sane){i.msg="invalid distance too far back",r.mode=Dr;break}b>r.wnext?(b-=r.wnext,U=r.wsize-b):U=r.wnext-b,b>r.length&&(b=r.length),M=r.window}else M=c,U=m-r.offset,b=r.length;b>g&&(b=g),g-=b,r.length-=b;do c[m++]=M[U++];while(--b);r.length===0&&(r.mode=Id);break;case qp:if(g===0)break e;c[m++]=r.length,g--,r.mode=Id;break;case Gu:if(r.wrap){for(;w<32;){if(p===0)break e;p--,v|=o[l++]<<w,w+=8}if(R-=g,i.total_out+=R,r.total+=R,r.wrap&4&&R&&(i.adler=r.check=r.flags?Io(r.check,c,R,m-R):vf(r.check,c,R,m-R)),R=g,r.wrap&4&&(r.flags?v:Vp(v))!==r.check){i.msg="incorrect data check",r.mode=Dr;break}v=0,w=0}r.mode=$p;case $p:if(r.wrap&&r.flags){for(;w<32;){if(p===0)break e;p--,v+=o[l++]<<w,w+=8}if(r.wrap&4&&v!==(r.total&4294967295)){i.msg="incorrect length check",r.mode=Dr;break}v=0,w=0}r.mode=Hp;case Hp:ge=D2;break e;case Dr:ge=n0;break e;case a0:return r0;case i0:default:return Ts}return i.next_out=m,i.avail_out=g,i.next_in=l,i.avail_in=p,r.hold=v,r.bits=w,(r.wsize||R!==i.avail_out&&r.mode<Dr&&(r.mode<Gu||a!==Sp))&&d0(i,i.output,i.next_out,R-i.avail_out),A-=i.avail_in,R-=i.avail_out,i.total_in+=A,i.total_out+=R,r.total+=R,r.wrap&4&&R&&(i.adler=r.check=r.flags?Io(r.check,c,R,i.next_out-R):vf(r.check,c,R,i.next_out-R)),i.data_type=r.bits+(r.last?64:0)+(r.mode===Go?128:0)+(r.mode===_d||r.mode===Yu?256:0),(A===0&&R===0||a===Sp)&&ge===Wl&&(ge=F2),ge},V2=i=>{if($l(i))return Ts;let a=i.state;return a.window&&(a.window=null),i.state=null,Wl},Y2=(i,a)=>{if($l(i))return Ts;const r=i.state;return(r.wrap&2)===0?Ts:(r.head=a,a.done=!1,Wl)},G2=(i,a)=>{const r=a.length;let o,c,l;return $l(i)||(o=i.state,o.wrap!==0&&o.mode!==Vd)?Ts:o.mode===Vd&&(c=1,c=vf(c,a,r,0),c!==o.check)?n0:(l=d0(i,a,r,r),l?(o.mode=a0,r0):(o.havedict=1,Wl))};var J2=o0,K2=l0,X2=s0,Q2=q2,Z2=c0,ex=H2,tx=V2,nx=Y2,rx=G2,ax="pako inflate (from Nodeca project)",Jo={inflateReset:J2,inflateReset2:K2,inflateResetKeep:X2,inflateInit:Q2,inflateInit2:Z2,inflate:ex,inflateEnd:tx,inflateGetHeader:nx,inflateSetDictionary:rx,inflateInfo:ax};function ix(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var sx=ix;const u0=Object.prototype.toString,{Z_NO_FLUSH:ox,Z_FINISH:lx,Z_OK:Kc,Z_STREAM_END:Xu,Z_NEED_DICT:Qu,Z_STREAM_ERROR:cx,Z_DATA_ERROR:Gp,Z_MEM_ERROR:dx}=Xm;function Qc(i){this.options=Qm.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const a=this.options;a.raw&&a.windowBits>=0&&a.windowBits<16&&(a.windowBits=-a.windowBits,a.windowBits===0&&(a.windowBits=-15)),a.windowBits>=0&&a.windowBits<16&&!(i&&i.windowBits)&&(a.windowBits+=32),a.windowBits>15&&a.windowBits<48&&(a.windowBits&15)===0&&(a.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k2,this.strm.avail_out=0;let r=Jo.inflateInit2(this.strm,a.windowBits);if(r!==Kc)throw new Error(bf[r]);if(this.header=new sx,Jo.inflateGetHeader(this.strm,this.header),a.dictionary&&(typeof a.dictionary=="string"?a.dictionary=wf.string2buf(a.dictionary):u0.call(a.dictionary)==="[object ArrayBuffer]"&&(a.dictionary=new Uint8Array(a.dictionary)),a.raw&&(r=Jo.inflateSetDictionary(this.strm,a.dictionary),r!==Kc)))throw new Error(bf[r])}Qc.prototype.push=function(i,a){const r=this.strm,o=this.options.chunkSize,c=this.options.dictionary;let l,m,p;if(this.ended)return!1;for(a===~~a?m=a:m=a===!0?lx:ox,u0.call(i)==="[object ArrayBuffer]"?r.input=new Uint8Array(i):r.input=i,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(o),r.next_out=0,r.avail_out=o),l=Jo.inflate(r,m),l===Qu&&c&&(l=Jo.inflateSetDictionary(r,c),l===Kc?l=Jo.inflate(r,m):l===Gp&&(l=Qu));r.avail_in>0&&l===Xu&&r.state.wrap>0&&i[r.next_in]!==0;)Jo.inflateReset(r),l=Jo.inflate(r,m);switch(l){case cx:case Gp:case Qu:case dx:return this.onEnd(l),this.ended=!0,!1}if(p=r.avail_out,r.next_out&&(r.avail_out===0||l===Xu))if(this.options.to==="string"){let g=wf.utf8border(r.output,r.next_out),v=r.next_out-g,w=wf.buf2string(r.output,g);r.next_out=v,r.avail_out=o-v,v&&r.output.set(r.output.subarray(g,g+v),0),this.onData(w)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(l===Kc&&p===0)){if(l===Xu)return l=Jo.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Qc.prototype.onData=function(i){this.chunks.push(i)};Qc.prototype.onEnd=function(i){i===Kc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Qm.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function ux(i,a){const r=new Qc(a);if(r.push(i),r.err)throw r.msg||bf[r.err];return r.result}var fx=Qc,hx=ux,px={Inflate:fx,inflate:hx};const{Inflate:mx,inflate:gx}=px;var Jp=mx,xx=gx;const f0=[];for(let i=0;i<256;i++){let a=i;for(let r=0;r<8;r++)a&1?a=3988292384^a>>>1:a=a>>>1;f0[i]=a}const Kp=4294967295;function yx(i,a,r){let o=i;for(let c=0;c<r;c++)o=f0[(o^a[c])&255]^o>>>8;return o}function vx(i,a){return(yx(Kp,i,a)^Kp)>>>0}function Xp(i,a,r){const o=i.readUint32(),c=vx(new Uint8Array(i.buffer,i.byteOffset+i.offset-a-4,a),a);if(c!==o)throw new Error(`CRC mismatch for chunk ${r}. Expected ${o}, found ${c}`)}function h0(i,a,r){for(let o=0;o<r;o++)a[o]=i[o]}function p0(i,a,r,o){let c=0;for(;c<o;c++)a[c]=i[c];for(;c<r;c++)a[c]=i[c]+a[c-o]&255}function m0(i,a,r,o){let c=0;if(r.length===0)for(;c<o;c++)a[c]=i[c];else for(;c<o;c++)a[c]=i[c]+r[c]&255}function g0(i,a,r,o,c){let l=0;if(r.length===0){for(;l<c;l++)a[l]=i[l];for(;l<o;l++)a[l]=i[l]+(a[l-c]>>1)&255}else{for(;l<c;l++)a[l]=i[l]+(r[l]>>1)&255;for(;l<o;l++)a[l]=i[l]+(a[l-c]+r[l]>>1)&255}}function x0(i,a,r,o,c){let l=0;if(r.length===0){for(;l<c;l++)a[l]=i[l];for(;l<o;l++)a[l]=i[l]+a[l-c]&255}else{for(;l<c;l++)a[l]=i[l]+r[l]&255;for(;l<o;l++)a[l]=i[l]+bx(a[l-c],r[l],r[l-c])&255}}function bx(i,a,r){const o=i+a-r,c=Math.abs(o-i),l=Math.abs(o-a),m=Math.abs(o-r);return c<=l&&c<=m?i:l<=m?a:r}function wx(i,a,r,o,c,l){switch(i){case 0:h0(a,r,c);break;case 1:p0(a,r,c,l);break;case 2:m0(a,r,o,c);break;case 3:g0(a,r,o,c,l);break;case 4:x0(a,r,o,c,l);break;default:throw new Error(`Unsupported filter: ${i}`)}}const jx=new Uint16Array([255]),Sx=new Uint8Array(jx.buffer),Nx=Sx[0]===255;function kx(i){const{data:a,width:r,height:o,channels:c,depth:l}=i,m=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],p=Math.ceil(l/8)*c,g=new Uint8Array(o*r*p);let v=0;for(let w=0;w<7;w++){const A=m[w],R=Math.ceil((r-A.x)/A.xStep),b=Math.ceil((o-A.y)/A.yStep);if(R<=0||b<=0)continue;const U=R*p,M=new Uint8Array(U);for(let I=0;I<b;I++){const P=a[v++],$=a.subarray(v,v+U);v+=U;const Q=new Uint8Array(U);wx(P,$,Q,M,U,p),M.set(Q);for(let q=0;q<R;q++){const de=A.x+q*A.xStep,ue=A.y+I*A.yStep;if(!(de>=r||ue>=o))for(let _e=0;_e<p;_e++)g[(ue*r+de)*p+_e]=Q[q*p+_e]}}}if(l===16){const w=new Uint16Array(g.buffer);if(Nx)for(let A=0;A<w.length;A++)w[A]=Ax(w[A]);return w}else return g}function Ax(i){return(i&255)<<8|i>>8&255}const Cx=new Uint16Array([255]),Px=new Uint8Array(Cx.buffer),Lx=Px[0]===255,_x=new Uint8Array(0);function Qp(i){const{data:a,width:r,height:o,channels:c,depth:l}=i,m=Math.ceil(l/8)*c,p=Math.ceil(l/8*c*r),g=new Uint8Array(o*p);let v=_x,w=0,A,R;for(let b=0;b<o;b++){switch(A=a.subarray(w+1,w+1+p),R=g.subarray(b*p,(b+1)*p),a[w]){case 0:h0(A,R,p);break;case 1:p0(A,R,p,m);break;case 2:m0(A,R,v,p);break;case 3:g0(A,R,v,p,m);break;case 4:x0(A,R,v,p,m);break;default:throw new Error(`Unsupported filter: ${a[w]}`)}v=R,w+=p+1}if(l===16){const b=new Uint16Array(g.buffer);if(Lx)for(let U=0;U<b.length;U++)b[U]=Ix(b[U]);return b}else return g}function Ix(i){return(i&255)<<8|i>>8&255}const Od=Uint8Array.of(137,80,78,71,13,10,26,10);function Zp(i){if(!Ex(i.readBytes(Od.length)))throw new Error("wrong PNG signature")}function Ex(i){if(i.length<Od.length)return!1;for(let a=0;a<Od.length;a++)if(i[a]!==Od[a])return!1;return!0}const Mx="tEXt",Rx=0,y0=new TextDecoder("latin1");function Dx(i){if(Fx(i),i.length===0||i.length>79)throw new Error("keyword length must be between 1 and 79")}const Tx=/^[\u0000-\u00FF]*$/;function Fx(i){if(!Tx.test(i))throw new Error("invalid latin1 text")}function Ox(i,a,r){const o=v0(a);i[o]=Bx(a,r-o.length-1)}function v0(i){for(i.mark();i.readByte()!==Rx;);const a=i.offset;i.reset();const r=y0.decode(i.readBytes(a-i.offset-1));return i.skip(1),Dx(r),r}function Bx(i,a){return y0.decode(i.readBytes(a))}const xs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Zu={UNKNOWN:-1,DEFLATE:0},em={UNKNOWN:-1,ADAPTIVE:0},ef={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ed={NONE:0,BACKGROUND:1,PREVIOUS:2},tf={SOURCE:0,OVER:1};class zx extends Tf{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(a,r={}){super(a);const{checkCrc:o=!1}=r;this._checkCrc=o,this._inflator=new Jp,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Zu.UNKNOWN,this._filterMethod=em.UNKNOWN,this._interlaceMethod=ef.UNKNOWN,this._colorType=xs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Zp(this);!this._end;){const a=this.readUint32(),r=this.readChars(4);this.decodeChunk(a,r)}return this.decodeImage(),this._png}decodeApng(){for(Zp(this);!this._end;){const a=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(a,r)}return this.decodeApngImage(),this._apng}decodeChunk(a,r){const o=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(a);break;case"IDAT":this.decodeIDAT(a);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(a);break;case"iCCP":this.decodeiCCP(a);break;case Mx:Ox(this._png.text,this,a);break;case"pHYs":this.decodepHYs();break;default:this.skip(a);break}if(this.offset-o!==a)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Xp(this,a+4,r):this.skip(4)}decodeApngChunk(a,r){const o=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(a);break;default:this.decodeChunk(a,r),this.offset=o+a;break}if(this.offset-o!==a)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Xp(this,a+4,r):this.skip(4)}decodeIHDR(){const a=this._png;a.width=this.readUint32(),a.height=this.readUint32(),a.depth=Ux(this.readUint8());const r=this.readUint8();this._colorType=r;let o;switch(r){case xs.GREYSCALE:o=1;break;case xs.TRUECOLOUR:o=3;break;case xs.INDEXED_COLOUR:o=1;break;case xs.GREYSCALE_ALPHA:o=2;break;case xs.TRUECOLOUR_ALPHA:o=4;break;case xs.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=o,this._compressionMethod=this.readUint8(),this._compressionMethod!==Zu.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const a={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(a)}decodePLTE(a){if(a%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${a}`);const r=a/3;this._hasPalette=!0;const o=[];this._palette=o;for(let c=0;c<r;c++)o.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(a){this._writingDataChunks=!0;const r=a,o=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,o,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(a)}decodeFDAT(a){this._writingDataChunks=!0;let r=a,o=this.offset+this.byteOffset;if(o+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,o,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(a)}decodetRNS(a){switch(this._colorType){case xs.GREYSCALE:case xs.TRUECOLOUR:{if(a%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${a}`);if(a/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${a/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(a/2);for(let r=0;r<a/2;r++)this._transparency[r]=this.readUint16();break}case xs.INDEXED_COLOUR:{if(a>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${a} vs ${this._palette.length})`);let r=0;for(;r<a;r++){const o=this.readByte();this._palette[r].push(o)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case xs.UNKNOWN:case xs.GREYSCALE_ALPHA:case xs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(a){const r=v0(this),o=this.readUint8();if(o!==Zu.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${o}`);const c=this.readBytes(a-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:xx(c)}}decodepHYs(){const a=this.readUint32(),r=this.readUint32(),o=this.readByte();this._png.resolution={x:a,y:r,unit:o}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let a=0;a<this._numberOfFrames;a++){const r={sequenceNumber:this._frames[a].sequenceNumber,delayNumber:this._frames[a].delayNumber,delayDenominator:this._frames[a].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},o=this._frames.at(a);if(o){if(o.data=Qp({data:o.data,width:o.width,height:o.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),a===0||o.xOffset===0&&o.yOffset===0&&o.width===this._png.width&&o.height===this._png.height)r.data=o.data;else{const c=this._apng.frames.at(a-1);this.disposeFrame(o,c,r),this.addFrameDataToCanvas(r,o)}this._apng.frames.push(r)}}return this._apng}disposeFrame(a,r,o){switch(a.disposeOp){case Ed.NONE:break;case Ed.BACKGROUND:for(let c=0;c<this._png.height;c++)for(let l=0;l<this._png.width;l++){const m=(c*a.width+l)*this._png.channels;for(let p=0;p<this._png.channels;p++)o.data[m+p]=0}break;case Ed.PREVIOUS:o.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(a,r){const o=1<<this._png.depth,c=(l,m)=>{const p=((l+r.yOffset)*this._png.width+r.xOffset+m)*this._png.channels,g=(l*r.width+m)*this._png.channels;return{index:p,frameIndex:g}};switch(r.blendOp){case tf.SOURCE:for(let l=0;l<r.height;l++)for(let m=0;m<r.width;m++){const{index:p,frameIndex:g}=c(l,m);for(let v=0;v<this._png.channels;v++)a.data[p+v]=r.data[g+v]}break;case tf.OVER:for(let l=0;l<r.height;l++)for(let m=0;m<r.width;m++){const{index:p,frameIndex:g}=c(l,m);for(let v=0;v<this._png.channels;v++){const w=r.data[g+this._png.channels-1]/o,A=v%(this._png.channels-1)===0?1:r.data[g+v],R=Math.floor(w*A+(1-w)*a.data[p+v]);a.data[p+v]+=R}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const a=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==em.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===ef.NO_INTERLACE)this._png.data=Qp({data:a,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===ef.ADAM7)this._png.data=kx({data:a,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const a=this._inflator.result,r=this._frames.at(-1);r?r.data=a:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ed.NONE,blendOp:tf.SOURCE,data:a}),this._inflator=new Jp,this._writingDataChunks=!1}}function Ux(i){if(i!==1&&i!==2&&i!==4&&i!==8&&i!==16)throw new Error(`invalid bit depth: ${i}`);return i}var tm;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.METRE=1]="METRE"})(tm||(tm={}));function Wx(i,a){return new zx(i,a).decode()}var un=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function nf(){un.console&&typeof un.console.log=="function"&&un.console.log.apply(un.console,arguments)}var fr={log:nf,warn:function(i){un.console&&(typeof un.console.warn=="function"?un.console.warn.apply(un.console,arguments):nf.call(null,arguments))},error:function(i){un.console&&(typeof un.console.error=="function"?un.console.error.apply(un.console,arguments):nf(i))}};function rf(i,a,r){var o=new XMLHttpRequest;o.open("GET",i),o.responseType="blob",o.onload=function(){Ol(o.response,a,r)},o.onerror=function(){fr.error("could not download file")},o.send()}function nm(i){var a=new XMLHttpRequest;a.open("HEAD",i,!1);try{a.send()}catch{}return a.status>=200&&a.status<=299}function Md(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(a)}}var Ol=un.saveAs||((typeof window>"u"?"undefined":ar(window))!=="object"||window!==un?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,a,r){var o=un.URL||un.webkitURL,c=document.createElement("a");a=a||i.name||"download",c.download=a,c.rel="noopener",typeof i=="string"?(c.href=i,c.origin!==location.origin?nm(c.href)?rf(i,a,r):Md(c,c.target="_blank"):Md(c)):(c.href=o.createObjectURL(i),setTimeout(function(){o.revokeObjectURL(c.href)},4e4),setTimeout(function(){Md(c)},0))}:"msSaveOrOpenBlob"in navigator?function(i,a,r){if(a=a||i.name||"download",typeof i=="string")if(nm(i))rf(i,a,r);else{var o=document.createElement("a");o.href=i,o.target="_blank",setTimeout(function(){Md(o)})}else navigator.msSaveOrOpenBlob((function(c,l){return l===void 0?l={autoBom:!1}:ar(l)!=="object"&&(fr.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c})(i,r),a)}:function(i,a,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),typeof i=="string")return rf(i,a,r);var c=i.type==="application/octet-stream",l=/constructor/i.test(un.HTMLElement)||un.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||c&&l)&&(typeof FileReader>"u"?"undefined":ar(FileReader))==="object"){var p=new FileReader;p.onloadend=function(){var w=p.result;w=m?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=w:location=w,o=null},p.readAsDataURL(i)}else{var g=un.URL||un.webkitURL,v=g.createObjectURL(i);o?o.location=v:location.href=v,o=null,setTimeout(function(){g.revokeObjectURL(v)},4e4)}});function b0(i){var a;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(p){return[parseInt(p[1]),parseInt(p[2]),parseInt(p[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(p){return[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(p){return[parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16),parseInt(p[3]+p[3],16)]}}],o=0;o<r.length;o++){var c=r[o].re,l=r[o].process,m=c.exec(i);m&&(a=l(m),this.r=a[0],this.g=a[1],this.b=a[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var p=this.r.toString(16),g=this.g.toString(16),v=this.b.toString(16);return p.length==1&&(p="0"+p),g.length==1&&(g="0"+g),v.length==1&&(v="0"+v),"#"+p+g+v}}var Bd=un.atob.bind(un),rm=un.btoa.bind(un);function af(i,a){var r=i[0],o=i[1],c=i[2],l=i[3];r=Ii(r,o,c,l,a[0],7,-680876936),l=Ii(l,r,o,c,a[1],12,-389564586),c=Ii(c,l,r,o,a[2],17,606105819),o=Ii(o,c,l,r,a[3],22,-1044525330),r=Ii(r,o,c,l,a[4],7,-176418897),l=Ii(l,r,o,c,a[5],12,1200080426),c=Ii(c,l,r,o,a[6],17,-1473231341),o=Ii(o,c,l,r,a[7],22,-45705983),r=Ii(r,o,c,l,a[8],7,1770035416),l=Ii(l,r,o,c,a[9],12,-1958414417),c=Ii(c,l,r,o,a[10],17,-42063),o=Ii(o,c,l,r,a[11],22,-1990404162),r=Ii(r,o,c,l,a[12],7,1804603682),l=Ii(l,r,o,c,a[13],12,-40341101),c=Ii(c,l,r,o,a[14],17,-1502002290),r=Ei(r,o=Ii(o,c,l,r,a[15],22,1236535329),c,l,a[1],5,-165796510),l=Ei(l,r,o,c,a[6],9,-1069501632),c=Ei(c,l,r,o,a[11],14,643717713),o=Ei(o,c,l,r,a[0],20,-373897302),r=Ei(r,o,c,l,a[5],5,-701558691),l=Ei(l,r,o,c,a[10],9,38016083),c=Ei(c,l,r,o,a[15],14,-660478335),o=Ei(o,c,l,r,a[4],20,-405537848),r=Ei(r,o,c,l,a[9],5,568446438),l=Ei(l,r,o,c,a[14],9,-1019803690),c=Ei(c,l,r,o,a[3],14,-187363961),o=Ei(o,c,l,r,a[8],20,1163531501),r=Ei(r,o,c,l,a[13],5,-1444681467),l=Ei(l,r,o,c,a[2],9,-51403784),c=Ei(c,l,r,o,a[7],14,1735328473),r=Mi(r,o=Ei(o,c,l,r,a[12],20,-1926607734),c,l,a[5],4,-378558),l=Mi(l,r,o,c,a[8],11,-2022574463),c=Mi(c,l,r,o,a[11],16,1839030562),o=Mi(o,c,l,r,a[14],23,-35309556),r=Mi(r,o,c,l,a[1],4,-1530992060),l=Mi(l,r,o,c,a[4],11,1272893353),c=Mi(c,l,r,o,a[7],16,-155497632),o=Mi(o,c,l,r,a[10],23,-1094730640),r=Mi(r,o,c,l,a[13],4,681279174),l=Mi(l,r,o,c,a[0],11,-358537222),c=Mi(c,l,r,o,a[3],16,-722521979),o=Mi(o,c,l,r,a[6],23,76029189),r=Mi(r,o,c,l,a[9],4,-640364487),l=Mi(l,r,o,c,a[12],11,-421815835),c=Mi(c,l,r,o,a[15],16,530742520),r=Ri(r,o=Mi(o,c,l,r,a[2],23,-995338651),c,l,a[0],6,-198630844),l=Ri(l,r,o,c,a[7],10,1126891415),c=Ri(c,l,r,o,a[14],15,-1416354905),o=Ri(o,c,l,r,a[5],21,-57434055),r=Ri(r,o,c,l,a[12],6,1700485571),l=Ri(l,r,o,c,a[3],10,-1894986606),c=Ri(c,l,r,o,a[10],15,-1051523),o=Ri(o,c,l,r,a[1],21,-2054922799),r=Ri(r,o,c,l,a[8],6,1873313359),l=Ri(l,r,o,c,a[15],10,-30611744),c=Ri(c,l,r,o,a[6],15,-1560198380),o=Ri(o,c,l,r,a[13],21,1309151649),r=Ri(r,o,c,l,a[4],6,-145523070),l=Ri(l,r,o,c,a[11],10,-1120210379),c=Ri(c,l,r,o,a[2],15,718787259),o=Ri(o,c,l,r,a[9],21,-343485551),i[0]=gl(r,i[0]),i[1]=gl(o,i[1]),i[2]=gl(c,i[2]),i[3]=gl(l,i[3])}function Zd(i,a,r,o,c,l){return a=gl(gl(a,i),gl(o,l)),gl(a<<c|a>>>32-c,r)}function Ii(i,a,r,o,c,l,m){return Zd(a&r|~a&o,i,a,c,l,m)}function Ei(i,a,r,o,c,l,m){return Zd(a&o|r&~o,i,a,c,l,m)}function Mi(i,a,r,o,c,l,m){return Zd(a^r^o,i,a,c,l,m)}function Ri(i,a,r,o,c,l,m){return Zd(r^(a|~o),i,a,c,l,m)}function w0(i){var a,r=i.length,o=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=i.length;a+=64)af(o,qx(i.substring(a-64,a)));i=i.substring(a-64);var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(a=0;a<i.length;a++)c[a>>2]|=i.charCodeAt(a)<<(a%4<<3);if(c[a>>2]|=128<<(a%4<<3),a>55)for(af(o,c),a=0;a<16;a++)c[a]=0;return c[14]=8*r,af(o,c),o}function qx(i){var a,r=[];for(a=0;a<64;a+=4)r[a>>2]=i.charCodeAt(a)+(i.charCodeAt(a+1)<<8)+(i.charCodeAt(a+2)<<16)+(i.charCodeAt(a+3)<<24);return r}var am="0123456789abcdef".split("");function $x(i){for(var a="",r=0;r<4;r++)a+=am[i>>8*r+4&15]+am[i>>8*r&15];return a}function Hx(i){return String.fromCharCode(255&i,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function jf(i){return w0(i).map(Hx).join("")}var Vx=(function(i){for(var a=0;a<i.length;a++)i[a]=$x(i[a]);return i.join("")})(w0("hello"))!="5d41402abc4b2a76b9719d911017c592";function gl(i,a){if(Vx){var r=(65535&i)+(65535&a);return(i>>16)+(a>>16)+(r>>16)<<16|65535&r}return i+a&4294967295}function Sf(i,a){var r,o,c,l;if(i!==r){for(var m=(c=i,l=1+(256/i.length|0),new Array(l+1).join(c)),p=[],g=0;g<256;g++)p[g]=g;var v=0;for(g=0;g<256;g++){var w=p[g];v=(v+w+m.charCodeAt(g))%256,p[g]=p[v],p[v]=w}r=i,o=p}else p=o;var A=a.length,R=0,b=0,U="";for(g=0;g<A;g++)b=(b+(w=p[R=(R+1)%256]))%256,p[R]=p[b],p[b]=w,m=p[(p[R]+p[b])%256],U+=String.fromCharCode(a.charCodeAt(g)^m);return U}var im={print:4,modify:8,copy:16,"annot-forms":32};function pc(i,a,r,o){this.v=1,this.r=2;var c=192;i.forEach(function(p){if(im.perm!==void 0)throw new Error("Invalid permission: "+p);c+=im[p]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(a+this.padding).substr(0,32),m=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,m),this.P=-(1+(255^c)),this.encryptionKey=jf(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(o)).substr(0,5),this.U=Sf(this.encryptionKey,this.padding)}function mc(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var a="",r=i.length,o=0;o<r;o++){var c=i.charCodeAt(o);a+=c<33||c===35||c===37||c===40||c===41||c===47||c===60||c===62||c===91||c===93||c===123||c===125||c>126?"#"+("0"+c.toString(16)).slice(-2):i[o]}return a}function sm(i){if(ar(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var a={};this.subscribe=function(r,o,c){if(c=c||!1,typeof r!="string"||typeof o!="function"||typeof c!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");a.hasOwnProperty(r)||(a[r]={});var l=Math.random().toString(35);return a[r][l]=[o,!!c],l},this.unsubscribe=function(r){for(var o in a)if(a[o][r])return delete a[o][r],Object.keys(a[o]).length===0&&delete a[o],!0;return!1},this.publish=function(r){if(a.hasOwnProperty(r)){var o=Array.prototype.slice.call(arguments,1),c=[];for(var l in a[r]){var m=a[r][l];try{m[0].apply(i,o)}catch(p){un.console&&fr.error("jsPDF PubSub Error",p.message,p)}m[1]&&c.push(l)}c.length&&c.forEach(this.unsubscribe)}},this.getTopics=function(){return a}}function Yd(i){if(!(this instanceof Yd))return new Yd(i);var a="opacity,stroke-opacity".split(",");for(var r in i)i.hasOwnProperty(r)&&a.indexOf(r)>=0&&(this[r]=i[r]);this.id="",this.objectNumber=-1}function j0(i,a){this.gState=i,this.matrix=a,this.id="",this.objectNumber=-1}function Bl(i,a,r,o,c){if(!(this instanceof Bl))return new Bl(i,a,r,o,c);this.type=i==="axial"?2:3,this.coords=a,this.colors=r,j0.call(this,o,c)}function gc(i,a,r,o,c){if(!(this instanceof gc))return new gc(i,a,r,o,c);this.boundingBox=i,this.xStep=a,this.yStep=r,this.stream="",this.cloneIndex=0,j0.call(this,o,c)}function Jt(i){var a,r=typeof arguments[0]=="string"?arguments[0]:"p",o=arguments[1],c=arguments[2],l=arguments[3],m=[],p=1,g=16,v="S",w=null;ar(i=i||{})==="object"&&(r=i.orientation,o=i.unit||o,c=i.format||c,l=i.compress||i.compressPdf||l,(w=i.encryption||null)!==null&&(w.userPassword=w.userPassword||"",w.ownerPassword=w.ownerPassword||"",w.userPermissions=w.userPermissions||[]),p=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(a=i.precision),i.floatPrecision!==void 0&&(g=i.floatPrecision),v=i.defaultPathOperation||"S"),m=i.filters||(l===!0?["FlateEncode"]:m),o=o||"mm",r=(""+(r||"P")).toLowerCase();var A=i.putOnlyUsedFonts||!1,R={},b={internal:{},__private__:{}};b.__private__.PubSub=sm;var U="1.3",M=b.__private__.getPdfVersion=function(){return U};b.__private__.setPdfVersion=function(x){U=x};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return I};var P=b.__private__.getPageFormat=function(x){return I[x]};c=c||"a4";var $="compat",Q="advanced",q=$;function de(){this.saveGraphicsState(),G(new St(oe,0,0,-oe,0,bi()*oe).toString()+" cm"),this.setFontSize(this.getFontSize()/oe),v="n",q=Q}function ue(){this.restoreGraphicsState(),v="S",q=$}var _e=b.__private__.combineFontStyleAndFontWeight=function(x,L){if(x=="bold"&&L=="normal"||x=="bold"&&L==400||x=="normal"&&L=="italic"||x=="bold"&&L=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return L&&(x=L==400||L==="normal"?x==="italic"?"italic":"normal":L!=700&&L!=="bold"||x!=="normal"?(L==700?"bold":L)+""+x:"bold"),x};b.advancedAPI=function(x){var L=q===$;return L&&de.call(this),typeof x!="function"||(x(this),L&&ue.call(this)),this},b.compatAPI=function(x){var L=q===Q;return L&&ue.call(this),typeof x!="function"||(x(this),L&&de.call(this)),this},b.isAdvancedAPI=function(){return q===Q};var ge,te=function(x){if(q!==Q)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},xe=b.roundToPrecision=b.__private__.roundToPrecision=function(x,L){var ie=a||L;if(isNaN(x)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(ie).replace(/0+$/,"")};ge=b.hpf=b.__private__.hpf=typeof g=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return xe(x,g)}:g==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return xe(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return xe(x,16)};var z=b.f2=b.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return xe(x,2)},H=b.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return xe(x,3)},ne=b.scale=b.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return q===$?x*oe:q===Q?x:void 0},se=function(x){return ne((function(L){return q===$?bi()-L:q===Q?L:void 0})(x))};b.__private__.setPrecision=b.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(a=parseInt(x,10))};var ke,Re="00000000000000000000000000000000",Me=b.__private__.getFileId=function(){return Re},fe=b.__private__.setFileId=function(x){return Re=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():Re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),w!==null&&(Hr=new pc(w.userPermissions,w.userPassword,w.ownerPassword,Re)),Re};b.setFileId=function(x){return fe(x),this},b.getFileId=function(){return Me()};var Le=b.__private__.convertDateToPDFDate=function(x){var L=x.getTimezoneOffset(),ie=L<0?"+":"-",me=Math.floor(Math.abs(L/60)),Pe=Math.abs(L%60),Ke=[ie,K(me),"'",K(Pe),"'"].join("");return["D:",x.getFullYear(),K(x.getMonth()+1),K(x.getDate()),K(x.getHours()),K(x.getMinutes()),K(x.getSeconds()),Ke].join("")},Ie=b.__private__.convertPDFDateToDate=function(x){var L=parseInt(x.substr(2,4),10),ie=parseInt(x.substr(6,2),10)-1,me=parseInt(x.substr(8,2),10),Pe=parseInt(x.substr(10,2),10),Ke=parseInt(x.substr(12,2),10),tt=parseInt(x.substr(14,2),10);return new Date(L,ie,me,Pe,Ke,tt,0)},ee=b.__private__.setCreationDate=function(x){var L;if(x===void 0&&(x=new Date),x instanceof Date)L=Le(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");L=x}return ke=L},C=b.__private__.getCreationDate=function(x){var L=ke;return x==="jsDate"&&(L=Ie(ke)),L};b.setCreationDate=function(x){return ee(x),this},b.getCreationDate=function(x){return C(x)};var J,K=b.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},le=b.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},pe=0,be=[],De=[],Te=0,ze=[],Ee=[],it=!1,ot=De;b.__private__.setCustomOutputDestination=function(x){it=!0,ot=x};var at=function(x){it||(ot=x)};b.__private__.resetCustomOutputDestination=function(){it=!1,ot=De};var G=b.__private__.out=function(x){return x=x.toString(),Te+=x.length+1,ot.push(x),ot},mt=b.__private__.write=function(x){return G(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},It=b.__private__.getArrayBuffer=function(x){for(var L=x.length,ie=new ArrayBuffer(L),me=new Uint8Array(ie);L--;)me[L]=x.charCodeAt(L);return ie},Ct=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Ct};var Qe=i.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(x){return Qe=q===Q?x/oe:x,this};var bt,gt=b.__private__.getFontSize=b.getFontSize=function(){return q===$?Qe:Qe*oe},Mt=i.R2L||!1;b.__private__.setR2L=b.setR2L=function(x){return Mt=x,this},b.__private__.getR2L=b.getR2L=function(){return Mt};var Rt,wt=b.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))bt=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');bt=x}else bt=parseInt(x,10)};b.__private__.getZoomMode=function(){return bt};var Kt,Wt=b.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');Rt=x};b.__private__.getPageMode=function(){return Rt};var Xt=b.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Kt=x};b.__private__.getLayoutMode=function(){return Kt},b.__private__.setDisplayMode=b.setDisplayMode=function(x,L,ie){return wt(x),Xt(L),Wt(ie),this};var Ae={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(x){if(Object.keys(Ae).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ae[x]},b.__private__.getDocumentProperties=function(){return Ae},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(x){for(var L in Ae)Ae.hasOwnProperty(L)&&x[L]&&(Ae[L]=x[L]);return this},b.__private__.setDocumentProperty=function(x,L){if(Object.keys(Ae).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ae[x]=L};var $e,oe,je,nt,pt,qe={},ct={},Zt=[],vt={},bn={},qt={},zt={},he=null,ft=0,Dt=[],hn=new sm(b),pa=i.hotfixes||[],ln={},Tr={},rn=[],St=function x(L,ie,me,Pe,Ke,tt){if(!(this instanceof x))return new x(L,ie,me,Pe,Ke,tt);isNaN(L)&&(L=1),isNaN(ie)&&(ie=0),isNaN(me)&&(me=0),isNaN(Pe)&&(Pe=1),isNaN(Ke)&&(Ke=0),isNaN(tt)&&(tt=0),this._matrix=[L,ie,me,Pe,Ke,tt]};Object.defineProperty(St.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(St.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(St.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(St.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(St.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(St.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(St.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(St.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(St.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(St.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(St.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(St.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(St.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(St.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(St.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(St.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),St.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ge).join(x)},St.prototype.multiply=function(x){var L=x.sx*this.sx+x.shy*this.shx,ie=x.sx*this.shy+x.shy*this.sy,me=x.shx*this.sx+x.sy*this.shx,Pe=x.shx*this.shy+x.sy*this.sy,Ke=x.tx*this.sx+x.ty*this.shx+this.tx,tt=x.tx*this.shy+x.ty*this.sy+this.ty;return new St(L,ie,me,Pe,Ke,tt)},St.prototype.decompose=function(){var x=this.sx,L=this.shy,ie=this.shx,me=this.sy,Pe=this.tx,Ke=this.ty,tt=Math.sqrt(x*x+L*L),Nt=(x/=tt)*ie+(L/=tt)*me;ie-=x*Nt,me-=L*Nt;var Bt=Math.sqrt(ie*ie+me*me);return Nt/=Bt,x*(me/=Bt)<L*(ie/=Bt)&&(x=-x,L=-L,Nt=-Nt,tt=-tt),{scale:new St(tt,0,0,Bt,0,0),translate:new St(1,0,0,1,Pe,Ke),rotate:new St(x,L,-L,x,0,0),skew:new St(1,0,Nt,1,0,0)}},St.prototype.toString=function(x){return this.join(" ")},St.prototype.inversed=function(){var x=this.sx,L=this.shy,ie=this.shx,me=this.sy,Pe=this.tx,Ke=this.ty,tt=1/(x*me-L*ie),Nt=me*tt,Bt=-L*tt,Yt=-ie*tt,an=x*tt;return new St(Nt,Bt,Yt,an,-Nt*Pe-Yt*Ke,-Bt*Pe-an*Ke)},St.prototype.applyToPoint=function(x){var L=x.x*this.sx+x.y*this.shx+this.tx,ie=x.x*this.shy+x.y*this.sy+this.ty;return new yi(L,ie)},St.prototype.applyToRectangle=function(x){var L=this.applyToPoint(x),ie=this.applyToPoint(new yi(x.x+x.w,x.y+x.h));return new Yi(L.x,L.y,ie.x-L.x,ie.y-L.y)},St.prototype.clone=function(){var x=this.sx,L=this.shy,ie=this.shx,me=this.sy,Pe=this.tx,Ke=this.ty;return new St(x,L,ie,me,Pe,Ke)},b.Matrix=St;var Ht=b.matrixMult=function(x,L){return L.multiply(x)},Jn=new St(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Jn;var ta=function(x,L){if(!bn[x]){var ie=(L instanceof Bl?"Sh":"P")+(Object.keys(vt).length+1).toString(10);L.id=ie,bn[x]=ie,vt[ie]=L,hn.publish("addPattern",L)}};b.ShadingPattern=Bl,b.TilingPattern=gc,b.addShadingPattern=function(x,L){return te("addShadingPattern()"),ta(x,L),this},b.beginTilingPattern=function(x){te("beginTilingPattern()"),ga(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},b.endTilingPattern=function(x,L){te("endTilingPattern()"),L.stream=Ee[J].join(`
`),ta(x,L),hn.publish("endTilingPattern",L),rn.pop().restore()};var Ka,On=b.__private__.newObject=function(){var x=hr();return qn(x,!0),x},hr=b.__private__.newObjectDeferred=function(){return pe++,be[pe]=function(){return Te},pe},qn=function(x,L){return L=typeof L=="boolean"&&L,be[x]=Te,L&&G(x+" 0 obj"),x},vs=b.__private__.newAdditionalObject=function(){var x={objId:hr(),content:""};return ze.push(x),x},Fs=hr(),Xa=hr(),Pt=b.__private__.decodeColorString=function(x){var L=x.split(" ");if(L.length!==2||L[1]!=="g"&&L[1]!=="G")L.length!==5||L[4]!=="k"&&L[4]!=="K"||(L=[(1-L[0])*(1-L[3]),(1-L[1])*(1-L[3]),(1-L[2])*(1-L[3]),"r"]);else{var ie=parseFloat(L[0]);L=[ie,ie,ie,"r"]}for(var me="#",Pe=0;Pe<3;Pe++)me+=("0"+Math.floor(255*parseFloat(L[Pe])).toString(16)).slice(-2);return me},Mn=b.__private__.encodeColorString=function(x){var L;typeof x=="string"&&(x={ch1:x});var ie=x.ch1,me=x.ch2,Pe=x.ch3,Ke=x.ch4,tt=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var Nt=new b0(ie);if(Nt.ok)ie=Nt.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var Bt=parseInt(ie.substr(1),16);ie=Bt>>16&255,me=Bt>>8&255,Pe=255&Bt}if(me===void 0||Ke===void 0&&ie===me&&me===Pe)L=typeof ie=="string"?ie+" "+tt[0]:x.precision===2?z(ie/255)+" "+tt[0]:H(ie/255)+" "+tt[0];else if(Ke===void 0||ar(Ke)==="object"){if(Ke&&!isNaN(Ke.a)&&Ke.a===0)return["1.","1.","1.",tt[1]].join(" ");L=typeof ie=="string"?[ie,me,Pe,tt[1]].join(" "):x.precision===2?[z(ie/255),z(me/255),z(Pe/255),tt[1]].join(" "):[H(ie/255),H(me/255),H(Pe/255),tt[1]].join(" ")}else L=typeof ie=="string"?[ie,me,Pe,Ke,tt[2]].join(" "):x.precision===2?[z(ie),z(me),z(Pe),z(Ke),tt[2]].join(" "):[H(ie),H(me),H(Pe),H(Ke),tt[2]].join(" ");return L},Ta=b.__private__.getFilters=function(){return m},Fa=b.__private__.putStream=function(x){var L=(x=x||{}).data||"",ie=x.filters||Ta(),me=x.alreadyAppliedFilters||[],Pe=x.addLength1||!1,Ke=L.length,tt=x.objectId,Nt=function(Sr){return Sr};if(w!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");w!==null&&(Nt=Hr.encryptor(tt,0));var Bt={};ie===!0&&(ie=["FlateEncode"]);var Yt=x.additionalKeyValues||[],an=(Bt=Jt.API.processDataByFilters!==void 0?Jt.API.processDataByFilters(L,ie):{data:L,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(Bt.data.length!==0&&(Yt.push({key:"Length",value:Bt.data.length}),Pe===!0&&Yt.push({key:"Length1",value:Ke})),an.length!=0)if(an.split("/").length-1==1)Yt.push({key:"Filter",value:an});else{Yt.push({key:"Filter",value:"["+an+"]"});for(var xn=0;xn<Yt.length;xn+=1)if(Yt[xn].key==="DecodeParms"){for(var cr=[],dr=0;dr<Bt.reverseChain.split("/").length-1;dr+=1)cr.push("null");cr.push(Yt[xn].value),Yt[xn].value="["+cr.join(" ")+"]"}}G("<<");for(var Vn=0;Vn<Yt.length;Vn++)G("/"+Yt[Vn].key+" "+Yt[Vn].value);G(">>"),Bt.data.length!==0&&(G("stream"),G(Nt(Bt.data)),G("endstream"))},$n=b.__private__.putPage=function(x){var L=x.number,ie=x.data,me=x.objId,Pe=x.contentsObjId;qn(me,!0),G("<</Type /Page"),G("/Parent "+x.rootDictionaryObjId+" 0 R"),G("/Resources "+x.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(ge(x.mediaBox.bottomLeftX))+" "+parseFloat(ge(x.mediaBox.bottomLeftY))+" "+ge(x.mediaBox.topRightX)+" "+ge(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&G("/CropBox ["+ge(x.cropBox.bottomLeftX)+" "+ge(x.cropBox.bottomLeftY)+" "+ge(x.cropBox.topRightX)+" "+ge(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&G("/BleedBox ["+ge(x.bleedBox.bottomLeftX)+" "+ge(x.bleedBox.bottomLeftY)+" "+ge(x.bleedBox.topRightX)+" "+ge(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&G("/TrimBox ["+ge(x.trimBox.bottomLeftX)+" "+ge(x.trimBox.bottomLeftY)+" "+ge(x.trimBox.topRightX)+" "+ge(x.trimBox.topRightY)+"]"),x.artBox!==null&&G("/ArtBox ["+ge(x.artBox.bottomLeftX)+" "+ge(x.artBox.bottomLeftY)+" "+ge(x.artBox.topRightX)+" "+ge(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&G("/UserUnit "+x.userUnit),hn.publish("putPage",{objId:me,pageContext:Dt[L],pageNumber:L,page:ie}),G("/Contents "+Pe+" 0 R"),G(">>"),G("endobj");var Ke=ie.join(`
`);return q===Q&&(Ke+=`
Q`),qn(Pe,!0),Fa({data:Ke,filters:Ta(),objectId:Pe}),G("endobj"),me},Kn=b.__private__.putPages=function(){var x,L,ie=[];for(x=1;x<=ft;x++)Dt[x].objId=hr(),Dt[x].contentsObjId=hr();for(x=1;x<=ft;x++)ie.push($n({number:x,data:Ee[x],objId:Dt[x].objId,contentsObjId:Dt[x].contentsObjId,mediaBox:Dt[x].mediaBox,cropBox:Dt[x].cropBox,bleedBox:Dt[x].bleedBox,trimBox:Dt[x].trimBox,artBox:Dt[x].artBox,userUnit:Dt[x].userUnit,rootDictionaryObjId:Fs,resourceDictionaryObjId:Xa}));qn(Fs,!0),G("<</Type /Pages");var me="/Kids [";for(L=0;L<ft;L++)me+=ie[L]+" 0 R ";G(me+"]"),G("/Count "+ft),G(">>"),G("endobj"),hn.publish("postPutPages")},Xn=function(x){hn.publish("putFont",{font:x,out:G,newObject:On,putStream:Fa}),x.isAlreadyPutted!==!0&&(x.objectNumber=On(),G("<<"),G("/Type /Font"),G("/BaseFont /"+mc(x.postScriptName)),G("/Subtype /Type1"),typeof x.encoding=="string"&&G("/Encoding /"+x.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},Fr=function(x){x.objectNumber=On();var L=[];L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Form"}),L.push({key:"BBox",value:"["+[ge(x.x),ge(x.y),ge(x.x+x.width),ge(x.y+x.height)].join(" ")+"]"}),L.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var ie=x.pages[1].join(`
`);Fa({data:ie,additionalKeyValues:L,objectId:x.objectNumber}),G("endobj")},Os=function(x,L){L||(L=21);var ie=On(),me=(function(tt,Nt){var Bt,Yt=[],an=1/(Nt-1);for(Bt=0;Bt<1;Bt+=an)Yt.push(Bt);if(Yt.push(1),tt[0].offset!=0){var xn={offset:0,color:tt[0].color};tt.unshift(xn)}if(tt[tt.length-1].offset!=1){var cr={offset:1,color:tt[tt.length-1].color};tt.push(cr)}for(var dr="",Vn=0,Sr=0;Sr<Yt.length;Sr++){for(Bt=Yt[Sr];Bt>tt[Vn+1].offset;)Vn++;var Nr=tt[Vn].offset,Yr=(Bt-Nr)/(tt[Vn+1].offset-Nr),Gi=tt[Vn].color,Zn=tt[Vn+1].color;dr+=le(Math.round((1-Yr)*Gi[0]+Yr*Zn[0]).toString(16))+le(Math.round((1-Yr)*Gi[1]+Yr*Zn[1]).toString(16))+le(Math.round((1-Yr)*Gi[2]+Yr*Zn[2]).toString(16))}return dr.trim()})(x.colors,L),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+L+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fa({data:me,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),G("endobj"),x.objectNumber=On(),G("<< /ShadingType "+x.type),G("/ColorSpace /DeviceRGB");var Ke="/Coords ["+ge(parseFloat(x.coords[0]))+" "+ge(parseFloat(x.coords[1]))+" ";x.type===2?Ke+=ge(parseFloat(x.coords[2]))+" "+ge(parseFloat(x.coords[3])):Ke+=ge(parseFloat(x.coords[2]))+" "+ge(parseFloat(x.coords[3]))+" "+ge(parseFloat(x.coords[4]))+" "+ge(parseFloat(x.coords[5])),G(Ke+="]"),x.matrix&&G("/Matrix ["+x.matrix.toString()+"]"),G("/Function "+ie+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},Di=function(x,L){var ie=hr(),me=On();L.push({resourcesOid:ie,objectOid:me}),x.objectNumber=me;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+x.boundingBox.map(ge).join(" ")+"]"}),Pe.push({key:"XStep",value:ge(x.xStep)}),Pe.push({key:"YStep",value:ge(x.yStep)}),Pe.push({key:"Resources",value:ie+" 0 R"}),x.matrix&&Pe.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Fa({data:x.stream,additionalKeyValues:Pe,objectId:x.objectNumber}),G("endobj")},ut=function(x){for(var L in x.objectNumber=On(),G("<<"),x)switch(L){case"opacity":G("/ca "+z(x[L]));break;case"stroke-opacity":G("/CA "+z(x[L]))}G(">>"),G("endobj")},gn=function(x){qn(x.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var L in G("/Font <<"),qe)qe.hasOwnProperty(L)&&(A===!1||A===!0&&R.hasOwnProperty(L))&&G("/"+L+" "+qe[L].objectNumber+" 0 R");G(">>")})(),(function(){if(Object.keys(vt).length>0){for(var L in G("/Shading <<"),vt)vt.hasOwnProperty(L)&&vt[L]instanceof Bl&&vt[L].objectNumber>=0&&G("/"+L+" "+vt[L].objectNumber+" 0 R");hn.publish("putShadingPatternDict"),G(">>")}})(),(function(L){if(Object.keys(vt).length>0){for(var ie in G("/Pattern <<"),vt)vt.hasOwnProperty(ie)&&vt[ie]instanceof b.TilingPattern&&vt[ie].objectNumber>=0&&vt[ie].objectNumber<L&&G("/"+ie+" "+vt[ie].objectNumber+" 0 R");hn.publish("putTilingPatternDict"),G(">>")}})(x.objectOid),(function(){if(Object.keys(qt).length>0){var L;for(L in G("/ExtGState <<"),qt)qt.hasOwnProperty(L)&&qt[L].objectNumber>=0&&G("/"+L+" "+qt[L].objectNumber+" 0 R");hn.publish("putGStateDict"),G(">>")}})(),(function(){for(var L in G("/XObject <<"),ln)ln.hasOwnProperty(L)&&ln[L].objectNumber>=0&&G("/"+L+" "+ln[L].objectNumber+" 0 R");hn.publish("putXobjectDict"),G(">>")})(),G(">>"),G("endobj")},ls=function(x){ct[x.fontName]=ct[x.fontName]||{},ct[x.fontName][x.fontStyle]=x.id},Qa=function(x,L,ie,me,Pe){var Ke={id:"F"+(Object.keys(qe).length+1).toString(10),postScriptName:x,fontName:L,fontStyle:ie,encoding:me,isStandardFont:Pe||!1,metadata:{}};return hn.publish("addFont",{font:Ke,instance:this}),qe[Ke.id]=Ke,ls(Ke),Ke.id},Lr=b.__private__.pdfEscape=b.pdfEscape=function(x,L){return(function(ie,me){var Pe,Ke,tt,Nt,Bt,Yt,an,xn,cr;if(tt=(me=me||{}).sourceEncoding||"Unicode",Bt=me.outputEncoding,(me.autoencode||Bt)&&qe[$e].metadata&&qe[$e].metadata[tt]&&qe[$e].metadata[tt].encoding&&(Nt=qe[$e].metadata[tt].encoding,!Bt&&qe[$e].encoding&&(Bt=qe[$e].encoding),!Bt&&Nt.codePages&&(Bt=Nt.codePages[0]),typeof Bt=="string"&&(Bt=Nt[Bt]),Bt)){for(an=!1,Yt=[],Pe=0,Ke=ie.length;Pe<Ke;Pe++)(xn=Bt[ie.charCodeAt(Pe)])?Yt.push(String.fromCharCode(xn)):Yt.push(ie[Pe]),Yt[Pe].charCodeAt(0)>>8&&(an=!0);ie=Yt.join("")}for(Pe=ie.length;an===void 0&&Pe!==0;)ie.charCodeAt(Pe-1)>>8&&(an=!0),Pe--;if(!an)return ie;for(Yt=me.noBOM?[]:[254,255],Pe=0,Ke=ie.length;Pe<Ke;Pe++){if((cr=(xn=ie.charCodeAt(Pe))>>8)>>8)throw new Error("Character at position "+Pe+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Yt.push(cr),Yt.push(xn-(cr<<8))}return String.fromCharCode.apply(void 0,Yt)})(x,L).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ka=b.__private__.beginPage=function(x){Ee[++ft]=[],Dt[ft]={objId:0,contentsObjId:0,userUnit:Number(p),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Bs(ft),at(Ee[J])},Za=function(x,L){var ie,me,Pe;switch(r=L||r,typeof x=="string"&&(ie=P(x.toLowerCase()),Array.isArray(ie)&&(me=ie[0],Pe=ie[1])),Array.isArray(x)&&(me=x[0]*oe,Pe=x[1]*oe),isNaN(me)&&(me=c[0],Pe=c[1]),(me>14400||Pe>14400)&&(fr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),Pe=Math.min(14400,Pe)),c=[me,Pe],r.substr(0,1)){case"l":Pe>me&&(c=[Pe,me]);break;case"p":me>Pe&&(c=[Pe,me])}ka(c),en(Hn),G(Pa),Ws!==0&&G(Ws+" J"),pr!==0&&G(pr+" j"),hn.publish("addPage",{pageNumber:ft})},cs=function(x){x>0&&x<=ft&&(Ee.splice(x,1),Dt.splice(x,1),ft--,J>ft&&(J=ft),this.setPage(J))},Bs=function(x){x>0&&x<=ft&&(J=x)},na=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Ee.length-1},Aa=function(x,L,ie){var me,Pe=void 0;return ie=ie||{},x=x!==void 0?x:qe[$e].fontName,L=L!==void 0?L:qe[$e].fontStyle,me=x.toLowerCase(),ct[me]!==void 0&&ct[me][L]!==void 0?Pe=ct[me][L]:ct[x]!==void 0&&ct[x][L]!==void 0?Pe=ct[x][L]:ie.disableWarning===!1&&fr.warn("Unable to look up font label for font '"+x+"', '"+L+"'. Refer to getFontList() for available fonts."),Pe||ie.noFallback||(Pe=ct.times[L])==null&&(Pe=ct.times.normal),Pe},Qn=b.__private__.putInfo=function(){var x=On(),L=function(me){return me};for(var ie in w!==null&&(L=Hr.encryptor(x,0)),G("<<"),G("/Producer ("+Lr(L("jsPDF "+Jt.version))+")"),Ae)Ae.hasOwnProperty(ie)&&Ae[ie]&&G("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Lr(L(Ae[ie]))+")");G("/CreationDate ("+Lr(L(ke))+")"),G(">>"),G("endobj")},pi=b.__private__.putCatalog=function(x){var L=(x=x||{}).rootDictionaryObjId||Fs;switch(On(),G("<<"),G("/Type /Catalog"),G("/Pages "+L+" 0 R"),bt||(bt="fullwidth"),bt){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+bt;ie.substr(ie.length-1)==="%"&&(bt=parseInt(bt)/100),typeof bt=="number"&&G("/OpenAction [3 0 R /XYZ null null "+z(bt)+"]")}switch(Kt||(Kt="continuous"),Kt){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}Rt&&G("/PageMode /"+Rt),hn.publish("putCatalog"),G(">>"),G("endobj")},To=b.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(pe+1)),G("/Root "+pe+" 0 R"),G("/Info "+(pe-1)+" 0 R"),w!==null&&G("/Encrypt "+Hr.oid+" 0 R"),G("/ID [ <"+Re+"> <"+Re+"> ]"),G(">>")},Qt=b.__private__.putHeader=function(){G("%PDF-"+U),G("%")},ei=b.__private__.putXRef=function(){var x="0000000000";G("xref"),G("0 "+(pe+1)),G("0000000000 65535 f ");for(var L=1;L<=pe;L++)typeof be[L]=="function"?G((x+be[L]()).slice(-10)+" 00000 n "):be[L]!==void 0?G((x+be[L]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},ti=b.__private__.buildDocument=function(){var x;pe=0,Te=0,De=[],be=[],ze=[],Fs=hr(),Xa=hr(),at(De),hn.publish("buildDocument"),Qt(),Kn(),(function(){hn.publish("putAdditionalObjects");for(var ie=0;ie<ze.length;ie++){var me=ze[ie];qn(me.objId,!0),G(me.content),G("endobj")}hn.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var ie in qe)qe.hasOwnProperty(ie)&&(A===!1||A===!0&&R.hasOwnProperty(ie))&&Xn(qe[ie])})(),(function(){var ie;for(ie in qt)qt.hasOwnProperty(ie)&&ut(qt[ie])})(),(function(){for(var ie in ln)ln.hasOwnProperty(ie)&&Fr(ln[ie])})(),(function(ie){var me;for(me in vt)vt.hasOwnProperty(me)&&(vt[me]instanceof Bl?Os(vt[me]):vt[me]instanceof gc&&Di(vt[me],ie))})(x),hn.publish("putResources"),x.forEach(gn),gn({resourcesOid:Xa,objectOid:Number.MAX_SAFE_INTEGER}),hn.publish("postPutResources"),w!==null&&(Hr.oid=On(),G("<<"),G("/Filter /Standard"),G("/V "+Hr.v),G("/R "+Hr.r),G("/U <"+Hr.toHexString(Hr.U)+">"),G("/O <"+Hr.toHexString(Hr.O)+">"),G("/P "+Hr.P),G(">>"),G("endobj")),Qn(),pi();var L=Te;return ei(),To(),G("startxref"),G(""+L),G("%%EOF"),at(Ee[J]),De.join(`
`)},mi=b.__private__.getBlob=function(x){return new Blob([It(x)],{type:"application/pdf"})},$i=b.output=b.__private__.output=(Ka=function(x,L){switch(typeof(L=L||{})=="string"?L={filename:L}:L.filename=L.filename||"generated.pdf",x){case void 0:return ti();case"save":b.save(L.filename);break;case"arraybuffer":return It(ti());case"blob":return mi(ti());case"bloburi":case"bloburl":if(un.URL!==void 0&&typeof un.URL.createObjectURL=="function")return un.URL&&un.URL.createObjectURL(mi(ti()))||void 0;fr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",me=ti();try{ie=rm(me)}catch{ie=rm(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+L.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(un)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';L.pdfObjectUrl&&(Pe=L.pdfObjectUrl,Ke="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+Ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(L)+");<\/script></body></html>",Nt=un.open();return Nt!==null&&Nt.document.write(tt),Nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(un)==="[object Window]"){var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(L.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+L.filename+'" width="500px" height="400px" /></body></html>',Yt=un.open();if(Yt!==null){Yt.document.write(Bt);var an=this;Yt.document.documentElement.querySelector("#pdfViewer").onload=function(){Yt.document.title=L.filename,Yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(an.output("bloburl"))}}return Yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(un)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",L)+'"></iframe></body></html>',cr=un.open();if(cr!==null&&(cr.document.write(xn),cr.document.title=L.filename),cr||typeof safari>"u")return cr;break;case"datauri":case"dataurl":return un.document.location.href=this.output("datauristring",L);default:return null}},Ka.foo=function(){try{return Ka.apply(this,arguments)}catch(ie){var x=ie.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var L="Error in function "+x.split(`
`)[0].split("<")[0]+": "+ie.message;if(!un.console)throw new Error(L);un.console.error(L,ie),un.alert&&alert(L)}},Ka.foo.bar=Ka,Ka.foo),ni=function(x){return Array.isArray(pa)===!0&&pa.indexOf(x)>-1};switch(o){case"pt":oe=1;break;case"mm":oe=72/25.4;break;case"cm":oe=72/2.54;break;case"in":oe=72;break;case"px":oe=ni("px_scaling")==1?.75:96/72;break;case"pc":case"em":oe=12;break;case"ex":oe=6;break;default:if(typeof o!="number")throw new Error("Invalid unit: "+o);oe=o}var Hr=null;ee(),fe();var ri=b.__private__.getPageInfo=b.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Dt[x].objId,pageNumber:x,pageContext:Dt[x]}},bs=b.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var L in Dt)if(Dt[L].objId===x)break;return ri(L)},Fo=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Dt[J].objId,pageNumber:J,pageContext:Dt[J]}};b.addPage=function(){return Za.apply(this,arguments),this},b.setPage=function(){return Bs.apply(this,arguments),at.call(this,Ee[J]),this},b.insertPage=function(x){return this.addPage(),this.movePage(J,x),this},b.movePage=function(x,L){var ie,me;if(x>L){ie=Ee[x],me=Dt[x];for(var Pe=x;Pe>L;Pe--)Ee[Pe]=Ee[Pe-1],Dt[Pe]=Dt[Pe-1];Ee[L]=ie,Dt[L]=me,this.setPage(L)}else if(x<L){ie=Ee[x],me=Dt[x];for(var Ke=x;Ke<L;Ke++)Ee[Ke]=Ee[Ke+1],Dt[Ke]=Dt[Ke+1];Ee[L]=ie,Dt[L]=me,this.setPage(L)}return this},b.deletePage=function(){return cs.apply(this,arguments),this},b.__private__.text=b.text=function(x,L,ie,me,Pe){var Ke,tt,Nt,Bt,Yt,an,xn,cr,dr,Vn=(me=me||{}).scope||this;if(typeof x=="number"&&typeof L=="number"&&(typeof ie=="string"||Array.isArray(ie))){var Sr=ie;ie=L,L=x,x=Sr}if(arguments[3]instanceof St==0?(Nt=arguments[4],Bt=arguments[5],ar(xn=arguments[3])==="object"&&xn!==null||(typeof Nt=="string"&&(Bt=Nt,Nt=null),typeof xn=="string"&&(Bt=xn,xn=null),typeof xn=="number"&&(Nt=xn,xn=null),me={flags:xn,angle:Nt,align:Bt})):(te("The transform parameter of text() with a Matrix value"),dr=Pe),isNaN(L)||isNaN(ie)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return Vn;var Nr,Yr="",Gi=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:Ca,Zn=Vn.internal.scaleFactor;function Fi(En){return En=En.split("	").join(Array(me.TabLen||9).join(" ")),Lr(En,xn)}function kr(En){for(var Sn,yr=En.concat(),Ir=[],Ai=yr.length;Ai--;)typeof(Sn=yr.shift())=="string"?Ir.push(Sn):Array.isArray(En)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?Ir.push(Sn[0]):Ir.push([Sn[0],Sn[1],Sn[2]]);return Ir}function wi(En,Sn){var yr;if(typeof En=="string")yr=Sn(En)[0];else if(Array.isArray(En)){for(var Ir,Ai,vr=En.concat(),xo=[],Ps=vr.length;Ps--;)typeof(Ir=vr.shift())=="string"?xo.push(Sn(Ir)[0]):Array.isArray(Ir)&&typeof Ir[0]=="string"&&(Ai=Sn(Ir[0],Ir[1],Ir[2]),xo.push([Ai[0],Ai[1],Ai[2]]));yr=xo}return yr}var Ji=!1,Ns=!0;if(typeof x=="string")Ji=!0;else if(Array.isArray(x)){var Ki=x.concat();tt=[];for(var ii,mr=Ki.length;mr--;)(typeof(ii=Ki.shift())!="string"||Array.isArray(ii)&&typeof ii[0]!="string")&&(Ns=!1);Ji=Ns}if(Ji===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var Oi=Qe/Vn.internal.scaleFactor,ks=Oi*(Gi-1);switch(me.baseline){case"bottom":ie-=ks;break;case"top":ie+=Oi-ks;break;case"hanging":ie+=Oi-2*ks;break;case"middle":ie+=Oi/2-ks}if((an=me.maxWidth||0)>0&&(typeof x=="string"?x=Vn.splitTextToSize(x,an):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(En,Sn){return En.concat(Vn.splitTextToSize(Sn,an))},[]))),Ke={text:x,x:L,y:ie,options:me,mutex:{pdfEscape:Lr,activeFontKey:$e,fonts:qe,activeFontSize:Qe}},hn.publish("preProcessText",Ke),x=Ke.text,Nt=(me=Ke.options).angle,dr instanceof St==0&&Nt&&typeof Nt=="number"){Nt*=Math.PI/180,me.rotationDirection===0&&(Nt=-Nt),q===Q&&(Nt=-Nt);var si=Math.cos(Nt),oi=Math.sin(Nt);dr=new St(si,oi,-oi,si,0,0)}else Nt&&Nt instanceof St&&(dr=Nt);q!==Q||dr||(dr=Jn),(Yt=me.charSpace||La)!==void 0&&(Yr+=ge(ne(Yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(cr=me.horizontalScale)!==void 0&&(Yr+=ge(100*cr)+` Tz
`),me.lang;var gr=-1,Xi=me.renderingMode!==void 0?me.renderingMode:me.stroke,Ia=Vn.internal.getCurrentPageInfo().pageContext;switch(Xi){case 0:case!1:case"fill":gr=0;break;case 1:case!0:case"stroke":gr=1;break;case 2:case"fillThenStroke":gr=2;break;case 3:case"invisible":gr=3;break;case 4:case"fillAndAddForClipping":gr=4;break;case 5:case"strokeAndAddPathForClipping":gr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gr=6;break;case 7:case"addToPathForClipping":gr=7}var Qi=Ia.usedRenderingMode!==void 0?Ia.usedRenderingMode:-1;gr!==-1?Yr+=gr+` Tr
`:Qi!==-1&&(Yr+=`0 Tr
`),gr!==-1&&(Ia.usedRenderingMode=gr),Bt=me.align||"left";var ya,jt=Qe*Gi,_n=Vn.internal.pageSize.getWidth(),As=qe[$e];Yt=me.charSpace||La,an=me.maxWidth||0,xn=Object.assign({autoencode:!0,noBOM:!0},me.flags);var ji=[],ia=function(En){return Vn.getStringUnitWidth(En,{font:As,charSpace:Yt,fontSize:Qe,doKerning:!1})*Qe/Zn};if(Object.prototype.toString.call(x)==="[object Array]"){var li;tt=kr(x),Bt!=="left"&&(ya=tt.map(ia));var va,Si=0;if(Bt==="right"){L-=ya[0],x=[],mr=tt.length;for(var Or=0;Or<mr;Or++)Or===0?(va=_r(L),li=Vi(ie)):(va=ne(Si-ya[Or]),li=-jt),x.push([tt[Or],va,li]),Si=ya[Or]}else if(Bt==="center"){L-=ya[0]/2,x=[],mr=tt.length;for(var Zi=0;Zi<mr;Zi++)Zi===0?(va=_r(L),li=Vi(ie)):(va=ne((Si-ya[Zi])/2),li=-jt),x.push([tt[Zi],va,li]),Si=ya[Zi]}else if(Bt==="left"){x=[],mr=tt.length;for(var Bi=0;Bi<mr;Bi++)x.push(tt[Bi])}else if(Bt==="justify"&&As.encoding==="Identity-H"){x=[],mr=tt.length,an=an!==0?an:_n;for(var Ni=0,Yn=0;Yn<mr;Yn++)if(li=Yn===0?Vi(ie):-jt,va=Yn===0?_r(L):Ni,Yn<mr-1){var Hs=ne((an-ya[Yn])/(tt[Yn].split(" ").length-1)),es=tt[Yn].split(" ");x.push([es[0]+" ",va,li]),Ni=0;for(var za=1;za<es.length;za++){var Vs=(ia(es[za-1]+" "+es[za])-ia(es[za]))*Zn+Hs;za==es.length-1?x.push([es[za],Vs,0]):x.push([es[za]+" ",Vs,0]),Ni-=Vs}}else x.push([tt[Yn],va,li]);x.push(["",Ni,0])}else{if(Bt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],mr=tt.length,an=an!==0?an:_n,Yn=0;Yn<mr;Yn++){li=Yn===0?Vi(ie):-jt,va=Yn===0?_r(L):0;var mo=tt[Yn].split(" ").length-1,Ys=mo>0?(an-ya[Yn])/mo:0;Yn<mr-1?ji.push(ge(ne(Ys))):ji.push(0),x.push([tt[Yn],va,li])}}}(typeof me.R2L=="boolean"?me.R2L:Mt)===!0&&(x=wi(x,function(En,Sn,yr){return[En.split("").reverse().join(""),Sn,yr]})),Ke={text:x,x:L,y:ie,options:me,mutex:{pdfEscape:Lr,activeFontKey:$e,fonts:qe,activeFontSize:Qe}},hn.publish("postProcessText",Ke),x=Ke.text,Nr=Ke.mutex.isHex||!1;var go=qe[$e].encoding;go!=="WinAnsiEncoding"&&go!=="StandardEncoding"||(x=wi(x,function(En,Sn,yr){return[Fi(En),Sn,yr]})),tt=kr(x),x=[];for(var ki,Cs,Gr,Gs=Array.isArray(tt[0])?1:0,Jr="",Js=function(En,Sn,yr){var Ir="";return yr instanceof St?(yr=typeof me.angle=="number"?Ht(yr,new St(1,0,0,1,En,Sn)):Ht(new St(1,0,0,1,En,Sn),yr),q===Q&&(yr=Ht(new St(1,0,0,-1,0,0),yr)),Ir=yr.join(" ")+` Tm
`):Ir=ge(En)+" "+ge(Sn)+` Td
`,Ir},xr=0;xr<tt.length;xr++){switch(Jr="",Gs){case 1:Gr=(Nr?"<":"(")+tt[xr][0]+(Nr?">":")"),ki=parseFloat(tt[xr][1]),Cs=parseFloat(tt[xr][2]);break;case 0:Gr=(Nr?"<":"(")+tt[xr]+(Nr?">":")"),ki=_r(L),Cs=Vi(ie)}ji!==void 0&&ji[xr]!==void 0&&(Jr=ji[xr]+` Tw
`),xr===0?x.push(Jr+Js(ki,Cs,dr)+Gr):Gs===0?x.push(Jr+Gr):Gs===1&&x.push(Jr+Js(ki,Cs,dr)+Gr)}x=Gs===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Ua=`BT
/`;return Ua+=$e+" "+Qe+` Tf
`,Ua+=ge(Qe*Gi)+` TL
`,Ua+=xi+`
`,Ua+=Yr,Ua+=x,G(Ua+="ET"),R[$e]=!0,Vn};var Bn=b.__private__.clip=b.clip=function(x){return G(x==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Bn("evenodd")},b.__private__.discardPath=b.discardPath=function(){return G("n"),this};var Oa=b.__private__.isValidStyle=function(x){var L=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(L=!0),L};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(x){return Oa(x)&&(v=x),this};var ra=b.__private__.getStyle=b.getStyle=function(x){var L=v;switch(x){case"D":case"S":L="S";break;case"F":L="f";break;case"FD":case"DF":L="B";break;case"f":case"f*":case"B":case"B*":L=x}return L},Pn=b.close=function(){return G("h"),this};b.stroke=function(){return G("S"),this},b.fill=function(x){return gi("f",x),this},b.fillEvenOdd=function(x){return gi("f*",x),this},b.fillStroke=function(x){return gi("B",x),this},b.fillStrokeEvenOdd=function(x){return gi("B*",x),this};var gi=function(x,L){ar(L)==="object"?js(L,x):G(x)},ws=function(x){x===null||q===Q&&x===void 0||(x=ra(x),G(x))};function Oo(x,L,ie,me,Pe){var Ke=new gc(L||this.boundingBox,ie||this.xStep,me||this.yStep,this.gState,Pe||this.matrix);Ke.stream=this.stream;var tt=x+"$$"+this.cloneIndex+++"$$";return ta(tt,Ke),Ke}var js=function(x,L){var ie=bn[x.key],me=vt[ie];if(me instanceof Bl)G("q"),G(aa(L)),me.gState&&b.setGState(me.gState),G(x.matrix.toString()+" cm"),G("/"+ie+" sh"),G("Q");else if(me instanceof gc){var Pe=new St(1,0,0,-1,0,bi());x.matrix&&(Pe=Pe.multiply(x.matrix||Jn),ie=Oo.call(me,x.key,x.boundingBox,x.xStep,x.yStep,Pe).id),G("q"),G("/Pattern cs"),G("/"+ie+" scn"),me.gState&&b.setGState(me.gState),G(L),G("Q")}},aa=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Hi=b.moveTo=function(x,L){return G(ge(ne(x))+" "+ge(se(L))+" m"),this},wn=b.lineTo=function(x,L){return G(ge(ne(x))+" "+ge(se(L))+" l"),this},lr=b.curveTo=function(x,L,ie,me,Pe,Ke){return G([ge(ne(x)),ge(se(L)),ge(ne(ie)),ge(se(me)),ge(ne(Pe)),ge(se(Ke)),"c"].join(" ")),this};b.__private__.line=b.line=function(x,L,ie,me,Pe){if(isNaN(x)||isNaN(L)||isNaN(ie)||isNaN(me)||!Oa(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return q===$?this.lines([[ie-x,me-L]],x,L,[1,1],Pe||"S"):this.lines([[ie-x,me-L]],x,L,[1,1]).stroke()},b.__private__.lines=b.lines=function(x,L,ie,me,Pe,Ke){var tt,Nt,Bt,Yt,an,xn,cr,dr,Vn,Sr,Nr,Yr;if(typeof x=="number"&&(Yr=ie,ie=L,L=x,x=Yr),me=me||[1,1],Ke=Ke||!1,isNaN(L)||isNaN(ie)||!Array.isArray(x)||!Array.isArray(me)||!Oa(Pe)||typeof Ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Hi(L,ie),tt=me[0],Nt=me[1],Yt=x.length,Sr=L,Nr=ie,Bt=0;Bt<Yt;Bt++)(an=x[Bt]).length===2?(Sr=an[0]*tt+Sr,Nr=an[1]*Nt+Nr,wn(Sr,Nr)):(xn=an[0]*tt+Sr,cr=an[1]*Nt+Nr,dr=an[2]*tt+Sr,Vn=an[3]*Nt+Nr,Sr=an[4]*tt+Sr,Nr=an[5]*Nt+Nr,lr(xn,cr,dr,Vn,Sr,Nr));return Ke&&Pn(),ws(Pe),this},b.path=function(x){for(var L=0;L<x.length;L++){var ie=x[L],me=ie.c;switch(ie.op){case"m":Hi(me[0],me[1]);break;case"l":wn(me[0],me[1]);break;case"c":lr.apply(this,me);break;case"h":Pn()}}return this},b.__private__.rect=b.rect=function(x,L,ie,me,Pe){if(isNaN(x)||isNaN(L)||isNaN(ie)||isNaN(me)||!Oa(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return q===$&&(me=-me),G([ge(ne(x)),ge(se(L)),ge(ne(ie)),ge(ne(me)),"re"].join(" ")),ws(Pe),this},b.__private__.triangle=b.triangle=function(x,L,ie,me,Pe,Ke,tt){if(isNaN(x)||isNaN(L)||isNaN(ie)||isNaN(me)||isNaN(Pe)||isNaN(Ke)||!Oa(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-x,me-L],[Pe-ie,Ke-me],[x-Pe,L-Ke]],x,L,[1,1],tt,!0),this},b.__private__.roundedRect=b.roundedRect=function(x,L,ie,me,Pe,Ke,tt){if(isNaN(x)||isNaN(L)||isNaN(ie)||isNaN(me)||isNaN(Pe)||isNaN(Ke)||!Oa(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Nt=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*ie),Ke=Math.min(Ke,.5*me),this.lines([[ie-2*Pe,0],[Pe*Nt,0,Pe,Ke-Ke*Nt,Pe,Ke],[0,me-2*Ke],[0,Ke*Nt,-Pe*Nt,Ke,-Pe,Ke],[2*Pe-ie,0],[-Pe*Nt,0,-Pe,-Ke*Nt,-Pe,-Ke],[0,2*Ke-me],[0,-Ke*Nt,Pe*Nt,-Ke,Pe,-Ke]],x+Pe,L,[1,1],tt,!0),this},b.__private__.ellipse=b.ellipse=function(x,L,ie,me,Pe){if(isNaN(x)||isNaN(L)||isNaN(ie)||isNaN(me)||!Oa(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ke=4/3*(Math.SQRT2-1)*ie,tt=4/3*(Math.SQRT2-1)*me;return Hi(x+ie,L),lr(x+ie,L-tt,x+Ke,L-me,x,L-me),lr(x-Ke,L-me,x-ie,L-tt,x-ie,L),lr(x-ie,L+tt,x-Ke,L+me,x,L+me),lr(x+Ke,L+me,x+ie,L+tt,x+ie,L),ws(Pe),this},b.__private__.circle=b.circle=function(x,L,ie,me){if(isNaN(x)||isNaN(L)||isNaN(ie)||!Oa(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,L,ie,ie,me)},b.setFont=function(x,L,ie){return ie&&(L=_e(L,ie)),$e=Aa(x,L,{disableWarning:!1}),this};var Ba=b.__private__.getFont=b.getFont=function(){return qe[Aa.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var x,L,ie={};for(x in ct)if(ct.hasOwnProperty(x))for(L in ie[x]=[],ct[x])ct[x].hasOwnProperty(L)&&ie[x].push(L);return ie},b.addFont=function(x,L,ie,me,Pe){var Ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ke.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&Ke.indexOf(arguments[3])==-1&&(ie=_e(ie,me)),Qa.call(this,x,L,ie,Pe=Pe||"Identity-H")};var Ca,Hn=i.lineWidth||.200025,ma=b.__private__.getLineWidth=b.getLineWidth=function(){return Hn},en=b.__private__.setLineWidth=b.setLineWidth=function(x){return Hn=x,G(ge(ne(x))+" w"),this};b.__private__.setLineDash=Jt.API.setLineDash=Jt.API.setLineDashPattern=function(x,L){if(x=x||[],L=L||0,isNaN(L)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(ie){return ge(ne(ie))}).join(" "),L=ge(ne(L)),G("["+x+"] "+L+" d"),this};var ai=b.__private__.getLineHeight=b.getLineHeight=function(){return Qe*Ca};b.__private__.getLineHeight=b.getLineHeight=function(){return Qe*Ca};var kn=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Ca=x),this},zs=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Ca};kn(i.lineHeight);var _r=b.__private__.getHorizontalCoordinate=function(x){return ne(x)},Vi=b.__private__.getVerticalCoordinate=function(x){return q===Q?x:Dt[J].mediaBox.topRightY-Dt[J].mediaBox.bottomLeftY-ne(x)},Us=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(x){return ge(_r(x))},Ss=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(x){return ge(Vi(x))},Pa=i.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Pt(Pa)},b.__private__.setStrokeColor=b.setDrawColor=function(x,L,ie,me){return Pa=Mn({ch1:x,ch2:L,ch3:ie,ch4:me,pdfColorType:"draw",precision:2}),G(Pa),this};var Bo=i.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Pt(Bo)},b.__private__.setFillColor=b.setFillColor=function(x,L,ie,me){return Bo=Mn({ch1:x,ch2:L,ch3:ie,ch4:me,pdfColorType:"fill",precision:2}),G(Bo),this};var xi=i.textColor||"0 g",ir=b.__private__.getTextColor=b.getTextColor=function(){return Pt(xi)};b.__private__.setTextColor=b.setTextColor=function(x,L,ie,me){return xi=Mn({ch1:x,ch2:L,ch3:ie,ch4:me,pdfColorType:"text",precision:3}),this};var La=i.charSpace,ds=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(La||0)};b.__private__.setCharSpace=b.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return La=x,this};var Ws=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(x){var L=b.CapJoinStyles[x];if(L===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ws=L,G(L+" J"),this};var pr=0;b.__private__.setLineJoin=b.setLineJoin=function(x){var L=b.CapJoinStyles[x];if(L===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pr=L,G(L+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(ge(ne(x))+" M"),this},b.GState=Yd,b.setGState=function(x){(x=typeof x=="string"?qt[zt[x]]:qs(null,x)).equals(he)||(G("/"+x.id+" gs"),he=x)};var qs=function(x,L){if(!x||!zt[x]){var ie=!1;for(var me in qt)if(qt.hasOwnProperty(me)&&qt[me].equals(L)){ie=!0;break}if(ie)L=qt[me];else{var Pe="GS"+(Object.keys(qt).length+1).toString(10);qt[Pe]=L,L.id=Pe}return x&&(zt[x]=L.id),hn.publish("addGState",L),L}};b.addGState=function(x,L){return qs(x,L),this},b.saveGraphicsState=function(){return G("q"),Zt.push({key:$e,size:Qe,color:xi}),this},b.restoreGraphicsState=function(){G("Q");var x=Zt.pop();return $e=x.key,Qe=x.size,xi=x.color,he=null,this},b.setCurrentTransformationMatrix=function(x){return G(x.toString()+" cm"),this},b.comment=function(x){return G("#"+x),this};var yi=function(x,L){var ie=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Ke){isNaN(Ke)||(ie=parseFloat(Ke))}});var me=L||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(Ke){isNaN(Ke)||(me=parseFloat(Ke))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(Ke){Pe=Ke.toString()}}),this},Yi=function(x,L,ie,me){yi.call(this,x,L),this.type="rect";var Pe=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(tt){isNaN(tt)||(Pe=parseFloat(tt))}});var Ke=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ke},set:function(tt){isNaN(tt)||(Ke=parseFloat(tt))}}),this},$s=function(){this.page=ft,this.currentPage=J,this.pages=Ee.slice(0),this.pagesContext=Dt.slice(0),this.x=je,this.y=nt,this.matrix=pt,this.width=vi(J),this.height=_a(J),this.outputDestination=ot,this.id="",this.objectNumber=-1};$s.prototype.restore=function(){ft=this.page,J=this.currentPage,Dt=this.pagesContext,Ee=this.pages,je=this.x,nt=this.y,pt=this.matrix,jn(J,this.width),Rn(J,this.height),ot=this.outputDestination};var ga=function(x,L,ie,me,Pe){rn.push(new $s),ft=J=0,Ee=[],je=x,nt=L,pt=Pe,ka([ie,me])};for(var Vr in b.beginFormObject=function(x,L,ie,me,Pe){return ga(x,L,ie,me,Pe),this},b.endFormObject=function(x){return(function(L){if(Tr[L])rn.pop().restore();else{var ie=new $s,me="Xo"+(Object.keys(ln).length+1).toString(10);ie.id=me,Tr[L]=me,ln[me]=ie,hn.publish("addFormObject",ie),rn.pop().restore()}})(x),this},b.doFormObject=function(x,L){var ie=ln[Tr[x]];return G("q"),G(L.toString()+" cm"),G("/"+ie.id+" Do"),G("Q"),this},b.getFormObject=function(x){var L=ln[Tr[x]];return{x:L.x,y:L.y,width:L.width,height:L.height,matrix:L.matrix}},b.save=function(x,L){return x=x||"generated.pdf",(L=L||{}).returnPromise=L.returnPromise||!1,L.returnPromise===!1?(Ol(mi(ti()),x),typeof Ol.unload=="function"&&un.setTimeout&&setTimeout(Ol.unload,911),this):new Promise(function(ie,me){try{var Pe=Ol(mi(ti()),x);typeof Ol.unload=="function"&&un.setTimeout&&setTimeout(Ol.unload,911),ie(Pe)}catch(Ke){me(Ke.message)}})},Jt.API)Jt.API.hasOwnProperty(Vr)&&(Vr==="events"&&Jt.API.events.length?(function(x,L){var ie,me,Pe;for(Pe=L.length-1;Pe!==-1;Pe--)ie=L[Pe][0],me=L[Pe][1],x.subscribe.apply(x,[ie].concat(typeof me=="function"?[me]:me))})(hn,Jt.API.events):b[Vr]=Jt.API[Vr]);function vi(x){return Dt[x].mediaBox.topRightX-Dt[x].mediaBox.bottomLeftX}function jn(x,L){Dt[x].mediaBox.topRightX=L+Dt[x].mediaBox.bottomLeftX}function _a(x){return Dt[x].mediaBox.topRightY-Dt[x].mediaBox.bottomLeftY}function Rn(x,L){Dt[x].mediaBox.topRightY=L+Dt[x].mediaBox.bottomLeftY}var Ti=b.getPageWidth=function(x){return vi(x=x||J)/oe},sr=b.setPageWidth=function(x,L){jn(x,L*oe)},bi=b.getPageHeight=function(x){return _a(x=x||J)/oe},xa=b.setPageHeight=function(x,L){Rn(x,L*oe)};return b.internal={pdfEscape:Lr,getStyle:ra,getFont:Ba,getFontSize:gt,getCharSpace:ds,getTextColor:ir,getLineHeight:ai,getLineHeightFactor:zs,getLineWidth:ma,write:mt,getHorizontalCoordinate:_r,getVerticalCoordinate:Vi,getCoordinateString:Us,getVerticalCoordinateString:Ss,collections:{},newObject:On,newAdditionalObject:vs,newObjectDeferred:hr,newObjectDeferredBegin:qn,getFilters:Ta,putStream:Fa,events:hn,scaleFactor:oe,pageSize:{getWidth:function(){return Ti(J)},setWidth:function(x){sr(J,x)},getHeight:function(){return bi(J)},setHeight:function(x){xa(J,x)}},encryptionOptions:w,encryption:Hr,getEncryptor:function(x){return w!==null?Hr.encryptor(x,0):function(L){return L}},output:$i,getNumberOfPages:na,get pages(){return Ee},out:G,f2:z,f3:H,getPageInfo:ri,getPageInfoByObjId:bs,getCurrentPageInfo:Fo,getPDFVersion:M,Point:yi,Rectangle:Yi,Matrix:St,hasHotfix:ni},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Ti(J)},set:function(x){sr(J,x)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return bi(J)},set:function(x){xa(J,x)},enumerable:!0,configurable:!0}),(function(x){for(var L=0,ie=Ct.length;L<ie;L++){var me=Qa.call(this,x[L][0],x[L][1],x[L][2],Ct[L][3],!0);A===!1&&(R[me]=!0);var Pe=x[L][0].split("-");ls({id:me,fontName:Pe[0],fontStyle:Pe[1]||""})}hn.publish("addFonts",{fonts:qe,dictionary:ct})}).call(b,Ct),$e="F1",Za(c,r),hn.publish("initialized"),b}pc.prototype.lsbFirstWord=function(i){return String.fromCharCode(255&i,i>>8&255,i>>16&255,i>>24&255)},pc.prototype.toHexString=function(i){return i.split("").map(function(a){return("0"+(255&a.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pc.prototype.hexToBytes=function(i){for(var a=[],r=0;r<i.length;r+=2)a.push(String.fromCharCode(parseInt(i.substr(r,2),16)));return a.join("")},pc.prototype.processOwnerPassword=function(i,a){return Sf(jf(a).substr(0,5),i)},pc.prototype.encryptor=function(i,a){var r=jf(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&a,a>>8&255)).substr(0,10);return function(o){return Sf(r,o)}},Yd.prototype.equals=function(i){var a,r="id,objectNumber,equals";if(!i||ar(i)!==ar(this))return!1;var o=0;for(a in this)if(!(r.indexOf(a)>=0)){if(this.hasOwnProperty(a)&&!i.hasOwnProperty(a)||this[a]!==i[a])return!1;o++}for(a in i)i.hasOwnProperty(a)&&r.indexOf(a)<0&&o--;return o===0},Jt.API={events:[]},Jt.version="3.0.4";var ea=Jt.API,Ff=1,Hl=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fc=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mn=function(i){return i.toFixed(2)},pl=function(i){return i.toFixed(5)};ea.__acroform__={};var os=function(i,a){i.prototype=Object.create(a.prototype),i.prototype.constructor=i},om=function(i){return i*Ff},Mo=function(i){var a=new N0,r=Ot.internal.getHeight(i)||0,o=Ot.internal.getWidth(i)||0;return a.BBox=[0,0,Number(mn(o)),Number(mn(r))],a},Yx=ea.__acroform__.setBit=function(i,a){if(i=i||0,a=a||0,isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<a},Gx=ea.__acroform__.clearBit=function(i,a){if(i=i||0,a=a||0,isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<a)},Jx=ea.__acroform__.getBit=function(i,a){if(isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<a?1:0},da=ea.__acroform__.getBitForPdf=function(i,a){if(isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Jx(i,a-1)},ua=ea.__acroform__.setBitForPdf=function(i,a){if(isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Yx(i,a-1)},fa=ea.__acroform__.clearBitForPdf=function(i,a){if(isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Gx(i,a-1)},Kx=ea.__acroform__.calculateCoordinates=function(i,a){var r=a.internal.getHorizontalCoordinate,o=a.internal.getVerticalCoordinate,c=i[0],l=i[1],m=i[2],p=i[3],g={};return g.lowerLeft_X=r(c)||0,g.lowerLeft_Y=o(l+p)||0,g.upperRight_X=r(c+m)||0,g.upperRight_Y=o(l)||0,[Number(mn(g.lowerLeft_X)),Number(mn(g.lowerLeft_Y)),Number(mn(g.upperRight_X)),Number(mn(g.upperRight_Y))]},Xx=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var a=[],r=i._V||i.DV,o=Nf(i,r),c=i.scope.internal.getFont(i.fontName,i.fontStyle).id;a.push("/Tx BMC"),a.push("q"),a.push("BT"),a.push(i.scope.__private__.encodeColorString(i.color)),a.push("/"+c+" "+mn(o.fontSize)+" Tf"),a.push("1 0 0 1 0 0 Tm"),a.push(o.text),a.push("ET"),a.push("Q"),a.push("EMC");var l=Mo(i);return l.scope=i.scope,l.stream=a.join(`
`),l}},Nf=function(i,a){var r=i.fontSize===0?i.maxFontSize:i.fontSize,o={text:"",fontSize:""},c=(a=(a=a.substr(0,1)=="("?a.substr(1):a).substr(a.length-1)==")"?a.substr(0,a.length-1):a).split(" ");c=i.multiline?c.map(function(z){return z.split(`
`)}):c.map(function(z){return[z]});var l=r,m=Ot.internal.getHeight(i)||0;m=m<0?-m:m;var p=Ot.internal.getWidth(i)||0;p=p<0?-p:p;var g=function(z,H,ne){if(z+1<c.length){var se=H+" "+c[z+1][0];return Rd(se,i,ne).width<=p-4}return!1};l++;e:for(;l>0;){a="",l--;var v,w,A=Rd("3",i,l).height,R=i.multiline?m-l:(m-A)/2,b=R+=2,U=0,M=0,I=0;if(l<=0){a=`(...) Tj
`,a+="% Width of Text: "+Rd(a,i,l=12).width+", FieldWidth:"+p+`
`;break}for(var P="",$=0,Q=0;Q<c.length;Q++)if(c.hasOwnProperty(Q)){var q=!1;if(c[Q].length!==1&&I!==c[Q].length-1){if((A+2)*($+2)+2>m)continue e;P+=c[Q][I],q=!0,M=Q,Q--}else{P=(P+=c[Q][I]+" ").substr(P.length-1)==" "?P.substr(0,P.length-1):P;var de=parseInt(Q),ue=g(de,P,l),_e=Q>=c.length-1;if(ue&&!_e){P+=" ",I=0;continue}if(ue||_e){if(_e)M=de;else if(i.multiline&&(A+2)*($+2)+2>m)continue e}else{if(!i.multiline||(A+2)*($+2)+2>m)continue e;M=de}}for(var ge="",te=U;te<=M;te++){var xe=c[te];if(i.multiline){if(te===M){ge+=xe[I]+" ",I=(I+1)%xe.length;continue}if(te===U){ge+=xe[xe.length-1]+" ";continue}}ge+=xe[0]+" "}switch(ge=ge.substr(ge.length-1)==" "?ge.substr(0,ge.length-1):ge,w=Rd(ge,i,l).width,i.textAlign){case"right":v=p-w-2;break;case"center":v=(p-w)/2;break;default:v=2}a+=mn(v)+" "+mn(b)+` Td
`,a+="("+Hl(ge)+`) Tj
`,a+=-mn(v)+` 0 Td
`,b=-(l+2),w=0,U=q?M:M+1,$++,P=""}break}return o.text=a,o.fontSize=l,o},Rd=function(i,a,r){var o=a.scope.internal.getFont(a.fontName,a.fontStyle),c=a.scope.getStringUnitWidth(i,{font:o,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:a.scope.getStringUnitWidth("3",{font:o,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:c}},Qx={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Zx=function(i,a){var r={type:"reference",object:i};a.internal.getPageInfo(i.page).pageContext.annotations.find(function(o){return o.type===r.type&&o.object===r.object})===void 0&&a.internal.getPageInfo(i.page).pageContext.annotations.push(r)},ey=function(i,a){if(a.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(ho.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(Qx)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ff=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new k0,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var o=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var c in o)if(o.hasOwnProperty(c)){var l=o[c];l.objId=void 0,l.hasAnnotation&&Zx(l,r)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(r){(function(o,c){var l=!o;for(var m in o||(c.internal.newObjectDeferredBegin(c.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),c.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),o=o||c.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(o.hasOwnProperty(m)){var p=o[m],g=[],v=p.Rect;if(p.Rect&&(p.Rect=Kx(p.Rect,c)),c.internal.newObjectDeferredBegin(p.objId,!0),p.DA=Ot.createDefaultAppearanceStream(p),ar(p)==="object"&&typeof p.getKeyValueListForStream=="function"&&(g=p.getKeyValueListForStream()),p.Rect=v,p.hasAppearanceStream&&!p.appearanceStreamContent){var w=Xx(p);g.push({key:"AP",value:"<</N "+w+">>"}),c.internal.acroformPlugin.xForms.push(w)}if(p.appearanceStreamContent){var A="";for(var R in p.appearanceStreamContent)if(p.appearanceStreamContent.hasOwnProperty(R)){var b=p.appearanceStreamContent[R];if(A+="/"+R+" ",A+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var m in b)if(b.hasOwnProperty(m)){var U=b[m];typeof U=="function"&&(U=U.call(c,p)),A+="/"+m+" "+U+" ",c.internal.acroformPlugin.xForms.indexOf(U)>=0||c.internal.acroformPlugin.xForms.push(U)}}else typeof(U=b)=="function"&&(U=U.call(c,p)),A+="/"+m+" "+U,c.internal.acroformPlugin.xForms.indexOf(U)>=0||c.internal.acroformPlugin.xForms.push(U);A+=">>"}g.push({key:"AP",value:`<<
`+A+">>"})}c.internal.putStream({additionalKeyValues:g,objectId:p.objId}),c.internal.out("endobj")}l&&(function(M,I){for(var P in M)if(M.hasOwnProperty(P)){var $=P,Q=M[P];I.internal.newObjectDeferredBegin(Q.objId,!0),ar(Q)==="object"&&typeof Q.putStream=="function"&&Q.putStream(),delete M[$]}})(c.internal.acroformPlugin.xForms,c)})(r,i)}),i.internal.acroformPlugin.isInitialized=!0}},S0=ea.__acroform__.arrayToPdfArray=function(i,a,r){var o=function(m){return m};if(Array.isArray(i)){for(var c="[",l=0;l<i.length;l++)switch(l!==0&&(c+=" "),ar(i[l])){case"boolean":case"number":case"object":c+=i[l].toString();break;case"string":i[l].substr(0,1)!=="/"?(a!==void 0&&r&&(o=r.internal.getEncryptor(a)),c+="("+Hl(o(i[l].toString()))+")"):c+=i[l].toString()}return c+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sf=function(i,a,r){var o=function(c){return c};return a!==void 0&&r&&(o=r.internal.getEncryptor(a)),(i=i||"").toString(),"("+Hl(o(i))+")"},Ro=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ro.prototype.toString=function(){return this.objId+" 0 R"},Ro.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},Ro.prototype.getKeyValueListForStream=function(){var i=[],a=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var r in a)if(Object.getOwnPropertyDescriptor(this,a[r]).configurable===!1){var o=a[r],c=this[o];c&&(Array.isArray(c)?i.push({key:o,value:S0(c,this.objId,this.scope)}):c instanceof Ro?(c.scope=this.scope,i.push({key:o,value:c.objId+" 0 R"})):typeof c!="function"&&i.push({key:o,value:c}))}return i};var N0=function(){Ro.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,a=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return a},set:function(r){a=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){i=r.trim()},get:function(){return i||null}})};os(N0,Ro);var k0=function(){Ro.call(this);var i,a=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return a.length>0?a:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return a}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var r=function(o){return o};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Hl(r(i))+")"}},set:function(r){i=r}})};os(k0,Ro);var ho=function i(){Ro.call(this);var a=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return a},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute F supplied.');a=P}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!da(a,3)},set:function(P){P?this.F=ua(a,3):this.F=fa(a,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute Ff supplied.');r=P}});var o=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(o.length!==0)return o},set:function(P){o=P!==void 0?P:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[0])?0:o[0]},set:function(P){o[0]=P}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[1])?0:o[1]},set:function(P){o[1]=P}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[2])?0:o[2]},set:function(P){o[2]=P}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[3])?0:o[3]},set:function(P){o[3]=P}});var c="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return c},set:function(P){switch(P){case"/Btn":case"/Tx":case"/Ch":case"/Sig":c=P;break;default:throw new Error('Invalid value "'+P+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Gd)return;l="FieldObject"+i.FieldNum++}var P=function($){return $};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+Hl(P(l))+")"},set:function(P){l=P.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(P){l=P}});var m="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return m},set:function(P){m=P}});var p="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return p},set:function(P){p=P}});var g=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return g},set:function(P){g=P}});var v=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return v===void 0?50/Ff:v},set:function(P){v=P}});var w="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return w},set:function(P){w=P}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof Gd||this instanceof zl))return sf(A,this.objId,this.scope)},set:function(P){P=P.toString(),A=P}});var R=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(R)return this instanceof Ja==0?sf(R,this.objId,this.scope):R},set:function(P){P=P.toString(),R=this instanceof Ja==0?P.substr(0,1)==="("?fc(P.substr(1,P.length-2)):fc(P):P}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ja==1?fc(R.substr(1,R.length-1)):R},set:function(P){P=P.toString(),R=this instanceof Ja==1?"/"+P:P}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(P){this.V=P}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ja==0?sf(b,this.objId,this.scope):b},set:function(P){P=P.toString(),b=this instanceof Ja==0?P.substr(0,1)==="("?fc(P.substr(1,P.length-2)):fc(P):P}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ja==1?fc(b.substr(1,b.length-1)):b},set:function(P){P=P.toString(),b=this instanceof Ja==1?"/"+P:P}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var U,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(P){P=!!P,M=P}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(U)return U},set:function(P){U=P}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,1)},set:function(P){P?this.Ff=ua(this.Ff,1):this.Ff=fa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,2)},set:function(P){P?this.Ff=ua(this.Ff,2):this.Ff=fa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,3)},set:function(P){P?this.Ff=ua(this.Ff,3):this.Ff=fa(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(P){if([0,1,2].indexOf(P)===-1)throw new Error('Invalid value "'+P+'" for attribute Q supplied.');I=P}}),Object.defineProperty(this,"textAlign",{get:function(){var P;switch(I){case 0:default:P="left";break;case 1:P="center";break;case 2:P="right"}return P},configurable:!0,enumerable:!0,set:function(P){switch(P){case"right":case 2:I=2;break;case"center":case 1:I=1;break;default:I=0}}})};os(ho,Ro);var xc=function(){ho.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(r){i=r}});var a=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return S0(a,this.objId,this.scope)},set:function(r){var o,c;c=[],typeof(o=r)=="string"&&(c=(function(l,m,p){p||(p=1);for(var g,v=[];g=m.exec(l);)v.push(g[p]);return v})(o,/\((.*?)\)/g)),a=c}}),this.getOptions=function(){return a},this.setOptions=function(r){a=r,this.sort&&a.sort()},this.addOption=function(r){r=(r=r||"").toString(),a.push(r),this.sort&&a.sort()},this.removeOption=function(r,o){for(o=o||!1,r=(r=r||"").toString();a.indexOf(r)!==-1&&(a.splice(a.indexOf(r),1),o!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,18)},set:function(r){r?this.Ff=ua(this.Ff,18):this.Ff=fa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ua(this.Ff,19):this.Ff=fa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,20)},set:function(r){r?(this.Ff=ua(this.Ff,20),a.sort()):this.Ff=fa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,22)},set:function(r){r?this.Ff=ua(this.Ff,22):this.Ff=fa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,23)},set:function(r){r?this.Ff=ua(this.Ff,23):this.Ff=fa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,27)},set:function(r){r?this.Ff=ua(this.Ff,27):this.Ff=fa(this.Ff,27)}}),this.hasAppearanceStream=!1};os(xc,ho);var yc=function(){xc.call(this),this.fontName="helvetica",this.combo=!1};os(yc,xc);var vc=function(){yc.call(this),this.combo=!0};os(vc,yc);var zd=function(){vc.call(this),this.edit=!0};os(zd,vc);var Ja=function(){ho.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,15)},set:function(r){r?this.Ff=ua(this.Ff,15):this.Ff=fa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,16)},set:function(r){r?this.Ff=ua(this.Ff,16):this.Ff=fa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,17)},set:function(r){r?this.Ff=ua(this.Ff,17):this.Ff=fa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,26)},set:function(r){r?this.Ff=ua(this.Ff,26):this.Ff=fa(this.Ff,26)}});var i,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(l){return l};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(a).length!==0){var o,c=[];for(o in c.push("<<"),a)c.push("/"+o+" ("+Hl(r(a[o]))+")");return c.push(">>"),c.join(`
`)}},set:function(r){ar(r)==="object"&&(a=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(r){typeof r=="string"&&(a.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(r){i="/"+r}})};os(Ja,ho);var Ud=function(){Ja.call(this),this.pushButton=!0};os(Ud,Ja);var bc=function(){Ja.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(a){i=a!==void 0?a:[]}})};os(bc,Ja);var Gd=function(){var i,a;ho.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(c){i=c}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return a},set:function(c){a=c}});var r,o={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var c=function(p){return p};this.scope&&(c=this.scope.internal.getEncryptor(this.objId));var l,m=[];for(l in m.push("<<"),o)m.push("/"+l+" ("+Hl(c(o[l]))+")");return m.push(">>"),m.join(`
`)},set:function(c){ar(c)==="object"&&(o=c)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return o.CA||""},set:function(c){typeof c=="string"&&(o.CA=c)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(c){r=c}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(c){r="/"+c}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};os(Gd,ho),bc.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var a in this.Kids)if(this.Kids.hasOwnProperty(a)){var r=this.Kids[a];r.appearanceStreamContent=i.createAppearanceStream(r.optionName),r.caption=i.getCA()}},bc.prototype.createOption=function(i){var a=new Gd;return a.Parent=this,a.optionName=i,this.Kids.push(a),ty.call(this.scope,a),a};var Wd=function(){Ja.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ot.CheckBox.createAppearanceStream()};os(Wd,Ja);var zl=function(){ho.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,13)},set:function(a){a?this.Ff=ua(this.Ff,13):this.Ff=fa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,21)},set:function(a){a?this.Ff=ua(this.Ff,21):this.Ff=fa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,23)},set:function(a){a?this.Ff=ua(this.Ff,23):this.Ff=fa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,24)},set:function(a){a?this.Ff=ua(this.Ff,24):this.Ff=fa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,25)},set:function(a){a?this.Ff=ua(this.Ff,25):this.Ff=fa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,26)},set:function(a){a?this.Ff=ua(this.Ff,26):this.Ff=fa(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(a){i=a}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(a){Number.isInteger(a)&&(i=a)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};os(zl,ho);var qd=function(){zl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,14)},set:function(i){i?this.Ff=ua(this.Ff,14):this.Ff=fa(this.Ff,14)}}),this.password=!0};os(qd,zl);var Ot={CheckBox:{createAppearanceStream:function(){return{N:{On:Ot.CheckBox.YesNormal},D:{On:Ot.CheckBox.YesPushDown,Off:Ot.CheckBox.OffPushDown}}},YesPushDown:function(i){var a=Mo(i);a.scope=i.scope;var r=[],o=i.scope.internal.getFont(i.fontName,i.fontStyle).id,c=i.scope.__private__.encodeColorString(i.color),l=Nf(i,i.caption);return r.push("0.749023 g"),r.push("0 0 "+mn(Ot.internal.getWidth(i))+" "+mn(Ot.internal.getHeight(i))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+o+" "+mn(l.fontSize)+" Tf "+c),r.push("BT"),r.push(l.text),r.push("ET"),r.push("Q"),r.push("EMC"),a.stream=r.join(`
`),a},YesNormal:function(i){var a=Mo(i);a.scope=i.scope;var r=i.scope.internal.getFont(i.fontName,i.fontStyle).id,o=i.scope.__private__.encodeColorString(i.color),c=[],l=Ot.internal.getHeight(i),m=Ot.internal.getWidth(i),p=Nf(i,i.caption);return c.push("1 g"),c.push("0 0 "+mn(m)+" "+mn(l)+" re"),c.push("f"),c.push("q"),c.push("0 0 1 rg"),c.push("0 0 "+mn(m-1)+" "+mn(l-1)+" re"),c.push("W"),c.push("n"),c.push("0 g"),c.push("BT"),c.push("/"+r+" "+mn(p.fontSize)+" Tf "+o),c.push(p.text),c.push("ET"),c.push("Q"),a.stream=c.join(`
`),a},OffPushDown:function(i){var a=Mo(i);a.scope=i.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+mn(Ot.internal.getWidth(i))+" "+mn(Ot.internal.getHeight(i))+" re"),r.push("f"),a.stream=r.join(`
`),a}},RadioButton:{Circle:{createAppearanceStream:function(i){var a={D:{Off:Ot.RadioButton.Circle.OffPushDown},N:{}};return a.N[i]=Ot.RadioButton.Circle.YesNormal,a.D[i]=Ot.RadioButton.Circle.YesPushDown,a},getCA:function(){return"l"},YesNormal:function(i){var a=Mo(i);a.scope=i.scope;var r=[],o=Ot.internal.getWidth(i)<=Ot.internal.getHeight(i)?Ot.internal.getWidth(i)/4:Ot.internal.getHeight(i)/4;o=Number((.9*o).toFixed(5));var c=Ot.internal.Bezier_C,l=Number((o*c).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+pl(Ot.internal.getWidth(i)/2)+" "+pl(Ot.internal.getHeight(i)/2)+" cm"),r.push(o+" 0 m"),r.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),r.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),r.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),r.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),r.push("f"),r.push("Q"),a.stream=r.join(`
`),a},YesPushDown:function(i){var a=Mo(i);a.scope=i.scope;var r=[],o=Ot.internal.getWidth(i)<=Ot.internal.getHeight(i)?Ot.internal.getWidth(i)/4:Ot.internal.getHeight(i)/4;o=Number((.9*o).toFixed(5));var c=Number((2*o).toFixed(5)),l=Number((c*Ot.internal.Bezier_C).toFixed(5)),m=Number((o*Ot.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+pl(Ot.internal.getWidth(i)/2)+" "+pl(Ot.internal.getHeight(i)/2)+" cm"),r.push(c+" 0 m"),r.push(c+" "+l+" "+l+" "+c+" 0 "+c+" c"),r.push("-"+l+" "+c+" -"+c+" "+l+" -"+c+" 0 c"),r.push("-"+c+" -"+l+" -"+l+" -"+c+" 0 -"+c+" c"),r.push(l+" -"+c+" "+c+" -"+l+" "+c+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+pl(Ot.internal.getWidth(i)/2)+" "+pl(Ot.internal.getHeight(i)/2)+" cm"),r.push(o+" 0 m"),r.push(o+" "+m+" "+m+" "+o+" 0 "+o+" c"),r.push("-"+m+" "+o+" -"+o+" "+m+" -"+o+" 0 c"),r.push("-"+o+" -"+m+" -"+m+" -"+o+" 0 -"+o+" c"),r.push(m+" -"+o+" "+o+" -"+m+" "+o+" 0 c"),r.push("f"),r.push("Q"),a.stream=r.join(`
`),a},OffPushDown:function(i){var a=Mo(i);a.scope=i.scope;var r=[],o=Ot.internal.getWidth(i)<=Ot.internal.getHeight(i)?Ot.internal.getWidth(i)/4:Ot.internal.getHeight(i)/4;o=Number((.9*o).toFixed(5));var c=Number((2*o).toFixed(5)),l=Number((c*Ot.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+pl(Ot.internal.getWidth(i)/2)+" "+pl(Ot.internal.getHeight(i)/2)+" cm"),r.push(c+" 0 m"),r.push(c+" "+l+" "+l+" "+c+" 0 "+c+" c"),r.push("-"+l+" "+c+" -"+c+" "+l+" -"+c+" 0 c"),r.push("-"+c+" -"+l+" -"+l+" -"+c+" 0 -"+c+" c"),r.push(l+" -"+c+" "+c+" -"+l+" "+c+" 0 c"),r.push("f"),r.push("Q"),a.stream=r.join(`
`),a}},Cross:{createAppearanceStream:function(i){var a={D:{Off:Ot.RadioButton.Cross.OffPushDown},N:{}};return a.N[i]=Ot.RadioButton.Cross.YesNormal,a.D[i]=Ot.RadioButton.Cross.YesPushDown,a},getCA:function(){return"8"},YesNormal:function(i){var a=Mo(i);a.scope=i.scope;var r=[],o=Ot.internal.calculateCross(i);return r.push("q"),r.push("1 1 "+mn(Ot.internal.getWidth(i)-2)+" "+mn(Ot.internal.getHeight(i)-2)+" re"),r.push("W"),r.push("n"),r.push(mn(o.x1.x)+" "+mn(o.x1.y)+" m"),r.push(mn(o.x2.x)+" "+mn(o.x2.y)+" l"),r.push(mn(o.x4.x)+" "+mn(o.x4.y)+" m"),r.push(mn(o.x3.x)+" "+mn(o.x3.y)+" l"),r.push("s"),r.push("Q"),a.stream=r.join(`
`),a},YesPushDown:function(i){var a=Mo(i);a.scope=i.scope;var r=Ot.internal.calculateCross(i),o=[];return o.push("0.749023 g"),o.push("0 0 "+mn(Ot.internal.getWidth(i))+" "+mn(Ot.internal.getHeight(i))+" re"),o.push("f"),o.push("q"),o.push("1 1 "+mn(Ot.internal.getWidth(i)-2)+" "+mn(Ot.internal.getHeight(i)-2)+" re"),o.push("W"),o.push("n"),o.push(mn(r.x1.x)+" "+mn(r.x1.y)+" m"),o.push(mn(r.x2.x)+" "+mn(r.x2.y)+" l"),o.push(mn(r.x4.x)+" "+mn(r.x4.y)+" m"),o.push(mn(r.x3.x)+" "+mn(r.x3.y)+" l"),o.push("s"),o.push("Q"),a.stream=o.join(`
`),a},OffPushDown:function(i){var a=Mo(i);a.scope=i.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+mn(Ot.internal.getWidth(i))+" "+mn(Ot.internal.getHeight(i))+" re"),r.push("f"),a.stream=r.join(`
`),a}}},createDefaultAppearanceStream:function(i){var a=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color);return"/"+a+" "+i.fontSize+" Tf "+r}};Ot.internal={Bezier_C:.551915024494,calculateCross:function(i){var a=Ot.internal.getWidth(i),r=Ot.internal.getHeight(i),o=Math.min(a,r);return{x1:{x:(a-o)/2,y:(r-o)/2+o},x2:{x:(a-o)/2+o,y:(r-o)/2},x3:{x:(a-o)/2,y:(r-o)/2},x4:{x:(a-o)/2+o,y:(r-o)/2+o}}}},Ot.internal.getWidth=function(i){var a=0;return ar(i)==="object"&&(a=om(i.Rect[2])),a},Ot.internal.getHeight=function(i){var a=0;return ar(i)==="object"&&(a=om(i.Rect[3])),a};var ty=ea.addField=function(i){if(ey(this,i),!(i instanceof ho))throw new Error("Invalid argument passed to jsPDF.addField.");var a;return(a=i).scope.internal.acroformPlugin.printedOut&&(a.scope.internal.acroformPlugin.printedOut=!1,a.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),a.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(a),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};ea.AcroFormChoiceField=xc,ea.AcroFormListBox=yc,ea.AcroFormComboBox=vc,ea.AcroFormEditBox=zd,ea.AcroFormButton=Ja,ea.AcroFormPushButton=Ud,ea.AcroFormRadioButton=bc,ea.AcroFormCheckBox=Wd,ea.AcroFormTextField=zl,ea.AcroFormPasswordField=qd,ea.AcroFormAppearance=Ot,ea.AcroForm={ChoiceField:xc,ListBox:yc,ComboBox:vc,EditBox:zd,Button:Ja,PushButton:Ud,RadioButton:bc,CheckBox:Wd,TextField:zl,PasswordField:qd,Appearance:Ot},Jt.AcroForm={ChoiceField:xc,ListBox:yc,ComboBox:vc,EditBox:zd,Button:Ja,PushButton:Ud,RadioButton:bc,CheckBox:Wd,TextField:zl,PasswordField:qd,Appearance:Ot};Jt.AcroForm;function A0(i){return i.reduce(function(a,r,o){return a[r]=o,a},{})}(function(i){var a="addImage_";i.__addimage__={};var r="UNKNOWN",o={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},c=i.__addimage__.getImageFileTypeByImageData=function(z,H){var ne,se,ke,Re,Me,fe=r;if((H=H||r)==="RGBA"||z.data!==void 0&&z.data instanceof Uint8ClampedArray&&"height"in z&&"width"in z)return"RGBA";if(ue(z))for(Me in o)for(ke=o[Me],ne=0;ne<ke.length;ne+=1){for(Re=!0,se=0;se<ke[ne].length;se+=1)if(ke[ne][se]!==void 0&&ke[ne][se]!==z[se]){Re=!1;break}if(Re===!0){fe=Me;break}}else for(Me in o)for(ke=o[Me],ne=0;ne<ke.length;ne+=1){for(Re=!0,se=0;se<ke[ne].length;se+=1)if(ke[ne][se]!==void 0&&ke[ne][se]!==z.charCodeAt(se)){Re=!1;break}if(Re===!0){fe=Me;break}}return fe===r&&H!==r&&(fe=H),fe},l=function z(H){for(var ne=this.internal.write,se=this.internal.putStream,ke=(0,this.internal.getFilters)();ke.indexOf("FlateEncode")!==-1;)ke.splice(ke.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var Re=[];if(Re.push({key:"Type",value:"/XObject"}),Re.push({key:"Subtype",value:"/Image"}),Re.push({key:"Width",value:H.width}),Re.push({key:"Height",value:H.height}),H.colorSpace===P.INDEXED?Re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(Re.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===P.DEVICE_CMYK&&Re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Re.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&Re.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)&&H.transparency.length>0){for(var Me="",fe=0,Le=H.transparency.length;fe<Le;fe++)Me+=H.transparency[fe]+" "+H.transparency[fe]+" ";Re.push({key:"Mask",value:"["+Me+"]"})}H.sMask!==void 0&&Re.push({key:"SMask",value:H.objectId+1+" 0 R"});var Ie=H.filter!==void 0?["/"+H.filter]:void 0;if(se({data:H.data,additionalKeyValues:Re,alreadyAppliedFilters:Ie,objectId:H.objectId}),ne("endobj"),"sMask"in H&&H.sMask!==void 0){var ee,C=(ee=H.sMaskBitsPerComponent)!==null&&ee!==void 0?ee:H.bitsPerComponent,J={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:H.sMask};"filter"in H&&(J.decodeParameters="/Predictor ".concat(H.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat(H.width),J.filter=H.filter),z.call(this,J)}if(H.colorSpace===P.INDEXED){var K=this.internal.newObject();se({data:ge(new Uint8Array(H.palette)),objectId:K}),ne("endobj")}},m=function(){var z=this.internal.collections[a+"images"];for(var H in z)l.call(this,z[H])},p=function(){var z,H=this.internal.collections[a+"images"],ne=this.internal.write;for(var se in H)ne("/I"+(z=H[se]).index,z.objectId,"0","R")},g=function(){this.internal.collections[a+"images"]||(this.internal.collections[a+"images"]={},this.internal.events.subscribe("putResources",m),this.internal.events.subscribe("putXobjectDict",p))},v=function(){var z=this.internal.collections[a+"images"];return g.call(this),z},w=function(){return Object.keys(this.internal.collections[a+"images"]).length},A=function(z){return typeof i["process"+z.toUpperCase()]=="function"},R=function(z){return ar(z)==="object"&&z.nodeType===1},b=function(z,H){if(z.nodeName==="IMG"&&z.hasAttribute("src")){var ne=""+z.getAttribute("src");if(ne.indexOf("data:image/")===0)return Bd(unescape(ne).split("base64,").pop());var se=i.loadFile(ne,!0);if(se!==void 0)return se}if(z.nodeName==="CANVAS"){if(z.width===0||z.height===0)throw new Error("Given canvas must have data. Canvas width: "+z.width+", height: "+z.height);var ke;switch(H){case"PNG":ke="image/png";break;case"WEBP":ke="image/webp";break;default:ke="image/jpeg"}return Bd(z.toDataURL(ke,1).split("base64,").pop())}},U=function(z){var H=this.internal.collections[a+"images"];if(H){for(var ne in H)if(z===H[ne].alias)return H[ne]}},M=function(z,H,ne){return z||H||(z=-96,H=-96),z<0&&(z=-1*ne.width*72/z/this.internal.scaleFactor),H<0&&(H=-1*ne.height*72/H/this.internal.scaleFactor),z===0&&(z=H*ne.width/ne.height),H===0&&(H=z*ne.height/ne.width),[z,H]},I=function(z,H,ne,se,ke,Re){var Me=M.call(this,ne,se,ke),fe=this.internal.getCoordinateString,Le=this.internal.getVerticalCoordinateString,Ie=v.call(this);if(ne=Me[0],se=Me[1],Ie[ke.index]=ke,Re){Re*=Math.PI/180;var ee=Math.cos(Re),C=Math.sin(Re),J=function(le){return le.toFixed(4)},K=[J(ee),J(C),J(-1*C),J(ee),0,0,"cm"]}this.internal.write("q"),Re?(this.internal.write([1,"0","0",1,fe(z),Le(H+se),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([fe(ne),"0","0",fe(se),"0","0","cm"].join(" "))):this.internal.write([fe(ne),"0","0",fe(se),fe(z),Le(H+se),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ke.index+" Do"),this.internal.write("Q")},P=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var $=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Q=i.__addimage__.sHashCode=function(z){var H,ne,se=0;if(typeof z=="string")for(ne=z.length,H=0;H<ne;H++)se=(se<<5)-se+z.charCodeAt(H),se|=0;else if(ue(z))for(ne=z.byteLength/2,H=0;H<ne;H++)se=(se<<5)-se+z[H],se|=0;return se},q=i.__addimage__.validateStringAsBase64=function(z){(z=z||"").toString().trim();var H=!0;return z.length===0&&(H=!1),z.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(z.substr(0,z.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2))===!1&&(H=!1),H},de=i.__addimage__.extractImageFromDataUrl=function(z){if(z==null||!(z=z.trim()).startsWith("data:"))return null;var H=z.indexOf(",");return H<0?null:z.substring(0,H).trim().endsWith("base64")?z.substring(H+1):null};i.__addimage__.isArrayBuffer=function(z){return z instanceof ArrayBuffer};var ue=i.__addimage__.isArrayBufferView=function(z){return z instanceof Int8Array||z instanceof Uint8Array||z instanceof Uint8ClampedArray||z instanceof Int16Array||z instanceof Uint16Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Float32Array||z instanceof Float64Array},_e=i.__addimage__.binaryStringToUint8Array=function(z){for(var H=z.length,ne=new Uint8Array(H),se=0;se<H;se++)ne[se]=z.charCodeAt(se);return ne},ge=i.__addimage__.arrayBufferToBinaryString=function(z){for(var H="",ne=ue(z)?z:new Uint8Array(z),se=0;se<ne.length;se+=8192)H+=String.fromCharCode.apply(null,ne.subarray(se,se+8192));return H};i.addImage=function(){var z,H,ne,se,ke,Re,Me,fe,Le;if(typeof arguments[1]=="number"?(H=r,ne=arguments[1],se=arguments[2],ke=arguments[3],Re=arguments[4],Me=arguments[5],fe=arguments[6],Le=arguments[7]):(H=arguments[1],ne=arguments[2],se=arguments[3],ke=arguments[4],Re=arguments[5],Me=arguments[6],fe=arguments[7],Le=arguments[8]),ar(z=arguments[0])==="object"&&!R(z)&&"imageData"in z){var Ie=z;z=Ie.imageData,H=Ie.format||H||r,ne=Ie.x||ne||0,se=Ie.y||se||0,ke=Ie.w||Ie.width||ke,Re=Ie.h||Ie.height||Re,Me=Ie.alias||Me,fe=Ie.compression||fe,Le=Ie.rotation||Ie.angle||Le}var ee=this.internal.getFilters();if(fe===void 0&&ee.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(ne)||isNaN(se))throw new Error("Invalid coordinates passed to jsPDF.addImage");g.call(this);var C=te.call(this,z,H,Me,fe);return I.call(this,ne,se,ke,Re,C,Le),this};var te=function(z,H,ne,se){var ke,Re,Me;if(typeof z=="string"&&c(z)===r){z=unescape(z);var fe=xe(z,!1);(fe!==""||(fe=i.loadFile(z,!0))!==void 0)&&(z=fe)}if(R(z)&&(z=b(z,H)),H=c(z,H),!A(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((Me=ne)==null||Me.length===0)&&(ne=(function(Le){return typeof Le=="string"||ue(Le)?Q(Le):ue(Le.data)?Q(Le.data):null})(z)),(ke=U.call(this,ne))||(z instanceof Uint8Array||H==="RGBA"||(Re=z,z=_e(z)),ke=this["process"+H.toUpperCase()](z,w.call(this),ne,(function(Le){return Le&&typeof Le=="string"&&(Le=Le.toUpperCase()),Le in i.image_compression?Le:$.NONE})(se),Re)),!ke)throw new Error("An unknown error occurred whilst processing the image.");return ke},xe=i.__addimage__.convertBase64ToBinaryString=function(z,H){H=typeof H!="boolean"||H;var ne,se="";if(typeof z=="string"){var ke;ne=(ke=de(z))!==null&&ke!==void 0?ke:z;try{se=Bd(ne)}catch(Re){if(H)throw q(ne)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return se};i.getImageProperties=function(z){var H,ne,se="";if(R(z)&&(z=b(z)),typeof z=="string"&&c(z)===r&&((se=xe(z,!1))===""&&(se=i.loadFile(z)||""),z=se),ne=c(z),!A(ne))throw new Error("addImage does not support files of type '"+ne+"', please ensure that a plugin for '"+ne+"' support is added.");if(z instanceof Uint8Array||(z=_e(z)),!(H=this["process"+ne.toUpperCase()](z)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=ne,H}})(Jt.API),(function(i){var a=function(r){if(r!==void 0&&r!="")return!0};Jt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(r){for(var o,c,l,m=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString,g=this.internal.getPageInfoByObjId(r.objId),v=r.pageContext.annotations,w=!1,A=0;A<v.length&&!w;A++)switch((o=v[A]).type){case"link":(a(o.options.url)||a(o.options.pageNumber))&&(w=!0);break;case"reference":case"text":case"freetext":w=!0}if(w!=0){this.internal.write("/Annots [");for(var R=0;R<v.length;R++){o=v[R];var b=this.internal.pdfEscape,U=this.internal.getEncryptor(r.objId);switch(o.type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),P=this.internal.getEncryptor(M.objId),$=o.title||"Note";l="<</Type /Annot /Subtype /Text "+(c="/Rect ["+m(o.bounds.x)+" "+p(o.bounds.y+o.bounds.h)+" "+m(o.bounds.x+o.bounds.w)+" "+p(o.bounds.y)+"] ")+"/Contents ("+b(P(o.contents))+")",l+=" /Popup "+I.objId+" 0 R",l+=" /P "+g.objId+" 0 R",l+=" /T ("+b(P($))+") >>",M.content=l;var Q=M.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(c="/Rect ["+m(o.bounds.x+30)+" "+p(o.bounds.y+o.bounds.h)+" "+m(o.bounds.x+o.bounds.w+30)+" "+p(o.bounds.y)+"] ")+" /Parent "+Q,o.open&&(l+=" /Open true"),l+=" >>",I.content=l,this.internal.write(M.objId,"0 R",I.objId,"0 R");break;case"freetext":c="/Rect ["+m(o.bounds.x)+" "+p(o.bounds.y)+" "+m(o.bounds.x+o.bounds.w)+" "+p(o.bounds.y+o.bounds.h)+"] ";var q=o.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+c+"/Contents ("+b(U(o.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+q+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(o.options.name){var de=this.annotations._nameMap[o.options.name];o.options.pageNumber=de.page,o.options.top=de.y}else o.options.top||(o.options.top=0);if(c="/Rect ["+o.finalBounds.x+" "+o.finalBounds.y+" "+o.finalBounds.w+" "+o.finalBounds.h+"] ",l="",o.options.url)l="<</Type /Annot /Subtype /Link "+c+"/Border [0 0 0] /A <</S /URI /URI ("+b(U(o.options.url))+") >>";else if(o.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+c+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(o.options.pageNumber).objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,l+=" /FitV "+o.options.left+"]";break;default:var ue=p(o.options.top);o.options.left=o.options.left||0,o.options.zoom===void 0&&(o.options.zoom=0),l+=" /XYZ "+o.options.left+" "+ue+" "+o.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),i.createAnnotation=function(r){var o=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":o.pageContext.annotations.push(r)}},i.link=function(r,o,c,l,m){var p=this.internal.getCurrentPageInfo(),g=this.internal.getCoordinateString,v=this.internal.getVerticalCoordinateString;p.pageContext.annotations.push({finalBounds:{x:g(r),y:v(o),w:g(r+c),h:v(o+l)},options:m,type:"link"})},i.textWithLink=function(r,o,c,l){var m,p,g=this.getTextWidth(r),v=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){p=l.maxWidth;var w=this.splitTextToSize(r,p).length;m=Math.ceil(v*w)}else p=g,m=v;return this.text(r,o,c,l),c+=.2*v,l.align==="center"&&(o-=g/2),l.align==="right"&&(o-=g),this.link(o,c-v,p,m,l),g},i.getTextWidth=function(r){var o=this.internal.getFontSize();return this.getStringUnitWidth(r)*o/this.internal.scaleFactor}})(Jt.API),(function(i){var a={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},o={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},c=[1570,1571,1573,1575];i.__arabicParser__={};var l=i.__arabicParser__.isInArabicSubstitutionA=function(M){return a[M.charCodeAt(0)]!==void 0},m=i.__arabicParser__.isArabicLetter=function(M){return typeof M=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},p=i.__arabicParser__.isArabicEndLetter=function(M){return m(M)&&l(M)&&a[M.charCodeAt(0)].length<=2},g=i.__arabicParser__.isArabicAlfLetter=function(M){return m(M)&&c.indexOf(M.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return m(M)&&l(M)&&a[M.charCodeAt(0)].length>=1};var v=i.__arabicParser__.arabicLetterHasFinalForm=function(M){return m(M)&&l(M)&&a[M.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(M){return m(M)&&l(M)&&a[M.charCodeAt(0)].length>=3};var w=i.__arabicParser__.arabicLetterHasMedialForm=function(M){return m(M)&&l(M)&&a[M.charCodeAt(0)].length==4},A=i.__arabicParser__.resolveLigatures=function(M){var I=0,P=r,$="",Q=0;for(I=0;I<M.length;I+=1)P[M.charCodeAt(I)]!==void 0?(Q++,typeof(P=P[M.charCodeAt(I)])=="number"&&($+=String.fromCharCode(P),P=r,Q=0),I===M.length-1&&(P=r,$+=M.charAt(I-(Q-1)),I-=Q-1,Q=0)):(P=r,$+=M.charAt(I-Q),I-=Q,Q=0);return $};i.__arabicParser__.isArabicDiacritic=function(M){return M!==void 0&&o[M.charCodeAt(0)]!==void 0};var R=i.__arabicParser__.getCorrectForm=function(M,I,P){return m(M)?l(M)===!1?-1:!v(M)||!m(I)&&!m(P)||!m(P)&&p(I)||p(M)&&!m(I)||p(M)&&g(I)||p(M)&&p(I)?0:w(M)&&m(I)&&!p(I)&&m(P)&&v(P)?3:p(M)||!m(P)?1:2:-1},b=function(M){var I=0,P=0,$=0,Q="",q="",de="",ue=(M=M||"").split("\\s+"),_e=[];for(I=0;I<ue.length;I+=1){for(_e.push(""),P=0;P<ue[I].length;P+=1)Q=ue[I][P],q=ue[I][P-1],de=ue[I][P+1],m(Q)?($=R(Q,q,de),_e[I]+=$!==-1?String.fromCharCode(a[Q.charCodeAt(0)][$]):Q):_e[I]+=Q;_e[I]=A(_e[I])}return _e.join(" ")},U=i.__arabicParser__.processArabic=i.processArabic=function(){var M,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,P=[];if(Array.isArray(I)){var $=0;for(P=[],$=0;$<I.length;$+=1)Array.isArray(I[$])?P.push([b(I[$][0]),I[$][1],I[$][2]]):P.push([b(I[$])]);M=P}else M=b(I);return typeof arguments[0]=="string"?M:(arguments[0].text=M,arguments[0])};i.events.push(["preProcessText",U])})(Jt.API),Jt.API.autoPrint=function(i){var a;return(i=i||{}).variant=i.variant||"non-conform",i.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){a=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+a+" 0 R")})),this},(function(i){var a=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(p){r=p}});var o=150;Object.defineProperty(this,"width",{get:function(){return o},set:function(p){o=isNaN(p)||Number.isInteger(p)===!1||p<0?150:p,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=o+1)}});var c=300;Object.defineProperty(this,"height",{get:function(){return c},set:function(p){c=isNaN(p)||Number.isInteger(p)===!1||p<0?300:p,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=c+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(p){l=p}});var m={};Object.defineProperty(this,"style",{get:function(){return m},set:function(p){m=p}}),Object.defineProperty(this,"parentNode",{})};a.prototype.getContext=function(r,o){var c;if((r=r||"2d")!=="2d")return null;for(c in o)this.pdf.context2d.hasOwnProperty(c)&&(this.pdf.context2d[c]=o[c]);return this.pdf.context2d._canvas=this,this.pdf.context2d},a.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new a,this.canvas.pdf=this}])})(Jt.API),(function(i){var a={left:0,top:0,bottom:0,right:0},r=!1,o=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},a),this.internal.__cell__.margins.width=this.getPageWidth(),c.call(this))},c=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var g=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return g},set:function(M){g=M}});var v=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return v},set:function(M){v=M}});var w=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return w},set:function(M){w=M}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(M){A=M}});var R=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return R},set:function(M){R=M}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(M){b=M}});var U=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return U},set:function(M){U=M}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(g){return o.call(this),this.internal.__cell__.headerFunction=typeof g=="function"?g:void 0,this},i.getTextDimensions=function(g,v){o.call(this);var w=(v=v||{}).fontSize||this.getFontSize(),A=v.font||this.getFont(),R=v.scaleFactor||this.internal.scaleFactor,b=0,U=0,M=0,I=this;if(!Array.isArray(g)&&typeof g!="string"){if(typeof g!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");g=String(g)}var P=v.maxWidth;P>0?typeof g=="string"?g=this.splitTextToSize(g,P):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Q,q){return Q.concat(I.splitTextToSize(q,P))},[])):g=Array.isArray(g)?g:[g];for(var $=0;$<g.length;$++)b<(M=this.getStringUnitWidth(g[$],{font:A})*w)&&(b=M);return b!==0&&(U=g.length),{w:b/=R,h:Math.max((U*w*this.getLineHeightFactor()-w*(this.getLineHeightFactor()-1))/R,0)}},i.cellAddPage=function(){o.call(this),this.addPage();var g=this.internal.__cell__.margins||a;return this.internal.__cell__.lastCell=new l(g.left,g.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var m=i.cell=function(){var g;g=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),o.call(this);var v=this.internal.__cell__.lastCell,w=this.internal.__cell__.padding,A=this.internal.__cell__.margins||a,R=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return v.lineNumber!==void 0&&(v.lineNumber===g.lineNumber?(g.x=(v.x||0)+(v.width||0),g.y=v.y||0):v.y+v.height+g.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),g.y=A.top,b&&R&&(this.printHeaderRow(g.lineNumber,!0),g.y+=R[0].height)):g.y=v.y+v.height||g.y),g.text[0]!==void 0&&(this.rect(g.x,g.y,g.width,g.height,r===!0?"FD":void 0),g.align==="right"?this.text(g.text,g.x+g.width-w,g.y+w,{align:"right",baseline:"top"}):g.align==="center"?this.text(g.text,g.x+g.width/2,g.y+w,{align:"center",baseline:"top",maxWidth:g.width-w-w}):this.text(g.text,g.x+w,g.y+w,{align:"left",baseline:"top",maxWidth:g.width-w-w})),this.internal.__cell__.lastCell=g,this};i.table=function(g,v,w,A,R){if(o.call(this),!w)throw new Error("No data for PDF table.");var b,U,M,I,P=[],$=[],Q=[],q={},de={},ue=[],_e=[],ge=(R=R||{}).autoSize||!1,te=R.printHeaders!==!1,xe=R.css&&R.css["font-size"]!==void 0?16*R.css["font-size"]:R.fontSize||12,z=R.margins||Object.assign({width:this.getPageWidth()},a),H=typeof R.padding=="number"?R.padding:3,ne=R.headerBackgroundColor||"#c8c8c8",se=R.headerTextColor||"#000";if(c.call(this),this.internal.__cell__.printHeaders=te,this.internal.__cell__.margins=z,this.internal.__cell__.table_font_size=xe,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=ne,this.internal.__cell__.headerTextColor=se,this.setFontSize(xe),A==null)$=P=Object.keys(w[0]),Q=P.map(function(){return"left"});else if(Array.isArray(A)&&ar(A[0])==="object")for(P=A.map(function(Ie){return Ie.name}),$=A.map(function(Ie){return Ie.prompt||Ie.name||""}),Q=A.map(function(Ie){return Ie.align||"left"}),b=0;b<A.length;b+=1)de[A[b].name]=.7499990551181103*A[b].width;else Array.isArray(A)&&typeof A[0]=="string"&&($=P=A,Q=P.map(function(){return"left"}));if(ge||Array.isArray(A)&&typeof A[0]=="string")for(b=0;b<P.length;b+=1){for(q[I=P[b]]=w.map(function(Ie){return Ie[I]}),this.setFont(void 0,"bold"),ue.push(this.getTextDimensions($[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),U=q[I],this.setFont(void 0,"normal"),M=0;M<U.length;M+=1)ue.push(this.getTextDimensions(U[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);de[I]=Math.max.apply(null,ue)+H+H,ue=[]}if(te){var ke={};for(b=0;b<P.length;b+=1)ke[P[b]]={},ke[P[b]].text=$[b],ke[P[b]].align=Q[b];var Re=p.call(this,ke,de);_e=P.map(function(Ie){return new l(g,v,de[Ie],Re,ke[Ie].text,void 0,ke[Ie].align)}),this.setTableHeaderRow(_e),this.printHeaderRow(1,!1)}var Me=A.reduce(function(Ie,ee){return Ie[ee.name]=ee.align,Ie},{});for(b=0;b<w.length;b+=1){"rowStart"in R&&R.rowStart instanceof Function&&R.rowStart({row:b,data:w[b]},this);var fe=p.call(this,w[b],de);for(M=0;M<P.length;M+=1){var Le=w[b][P[M]];"cellStart"in R&&R.cellStart instanceof Function&&R.cellStart({row:b,col:M,data:Le},this),m.call(this,new l(g,v,de[P[M]],fe,Le,b+2,Me[P[M]]))}}return this.internal.__cell__.table_x=g,this.internal.__cell__.table_y=v,this};var p=function(g,v){var w=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,R=this.internal.scaleFactor;return Object.keys(g).map(function(b){var U=g[b];return this.splitTextToSize(U.hasOwnProperty("text")?U.text:U,v[b]-w-w)},this).map(function(b){return this.getLineHeightFactor()*b.length*A/R+w+w},this).reduce(function(b,U){return Math.max(b,U)},0)};i.setTableHeaderRow=function(g){o.call(this),this.internal.__cell__.tableHeaderRow=g},i.printHeaderRow=function(g,v){if(o.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var w;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var R=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){w=this.internal.__cell__.tableHeaderRow[b].clone(),v&&(w.y=this.internal.__cell__.margins.top||0,R.push(w)),w.lineNumber=g;var U=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),m.call(this,w),this.setTextColor(U)}R.length>0&&this.setTableHeaderRow(R),this.setFont(void 0,"normal"),r=!1}})(Jt.API);var C0={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},P0=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],kf=A0(P0),L0=[100,200,300,400,500,600,700,800,900],ny=A0(L0);function of(i){var a=i.family.replace(/"|'/g,"").toLowerCase(),r=(function(l){return C0[l=l||"normal"]?l:"normal"})(i.style),o=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(i.weight),c=(function(l){return typeof kf[l=l||"normal"]=="number"?l:"normal"})(i.stretch);return{family:a,style:r,weight:o,stretch:c,src:i.src||[],ref:i.ref||{name:a,style:[c,r,o].join(" ")}}}function lm(i,a,r,o){var c;for(c=r;c>=0&&c<a.length;c+=o)if(i[a[c]])return i[a[c]];for(c=r;c>=0&&c<a.length;c-=o)if(i[a[c]])return i[a[c]]}var ry={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},cm={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function dm(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function um(i){return i.trimLeft()}function ay(i,a){for(var r=0;r<i.length;){if(i.charAt(r)===a)return[i.substring(0,r),i.substring(r+1)];r+=1}return null}function iy(i){var a=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return a===null?null:[a[0],i.substring(a[0].length)]}var Dd,fm,hm,hc,Td,pm,mm,gm,lf=["times"];function xm(i,a,r,o,c){var l=4,m=vm;switch(c){case Jt.API.image_compression.FAST:l=1,m=ym;break;case Jt.API.image_compression.MEDIUM:l=6,m=bm;break;case Jt.API.image_compression.SLOW:l=9,m=wm}i=(function(g,v,w,A){for(var R,b=g.length/v,U=new Uint8Array(g.length+b),M=[sy,ym,vm,bm,wm],I=0;I<b;I+=1){var P=I*v,$=g.subarray(P,P+v);if(A)U.set(A($,w,R),P+I);else{for(var Q=M.length,q=[],de=0;de<Q;de+=1)q[de]=M[de]($,w,R);var ue=ly(q.concat());U.set(q[ue],P+I)}R=$}return U})(i,a,Math.ceil(r*o/8),m);var p=yf(i,{level:l});return Jt.API.__addimage__.arrayBufferToBinaryString(p)}function sy(i){var a=Array.apply([],i);return a.unshift(0),a}function ym(i,a){var r=i.length,o=[];o[0]=1;for(var c=0;c<r;c+=1){var l=i[c-a]||0;o[c+1]=i[c]-l+256&255}return o}function vm(i,a,r){var o=i.length,c=[];c[0]=2;for(var l=0;l<o;l+=1){var m=r&&r[l]||0;c[l+1]=i[l]-m+256&255}return c}function bm(i,a,r){var o=i.length,c=[];c[0]=3;for(var l=0;l<o;l+=1){var m=i[l-a]||0,p=r&&r[l]||0;c[l+1]=i[l]+256-(m+p>>>1)&255}return c}function wm(i,a,r){var o=i.length,c=[];c[0]=4;for(var l=0;l<o;l+=1){var m=oy(i[l-a]||0,r&&r[l]||0,r&&r[l-a]||0);c[l+1]=i[l]-m+256&255}return c}function oy(i,a,r){if(i===a&&a===r)return i;var o=Math.abs(a-r),c=Math.abs(i-r),l=Math.abs(i+a-r-r);return o<=c&&o<=l?i:c<=l?a:r}function ly(i){var a=i.map(function(r){return r.reduce(function(o,c){return o+Math.abs(c)},0)});return a.indexOf(Math.min.apply(null,a))}function cf(i,a,r){var o=a*r,c=Math.floor(o/8),l=16-(o-8*c+r),m=(1<<r)-1;return _0(i,c)>>l&m}function jm(i,a,r,o){var c=r*o,l=Math.floor(c/8),m=16-(c-8*l+o),p=(1<<o)-1,g=(a&p)<<m;(function(v,w,A){if(w+1<v.byteLength)v.setUint16(w,A,!1);else{var R=A>>8&255;v.setUint8(w,R)}})(i,l,_0(i,l)&~(p<<m)&65535|g)}function _0(i,a){return a+1<i.byteLength?i.getUint16(a,!1):i.getUint8(a)<<8}function cy(i){var a=0;if(i[a++]!==71||i[a++]!==73||i[a++]!==70||i[a++]!==56||(i[a++]+1&253)!=56||i[a++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=i[a++]|i[a++]<<8,o=i[a++]|i[a++]<<8,c=i[a++],l=c>>7,m=1<<1+(7&c);i[a++],i[a++];var p=null,g=null;l&&(p=a,g=m,a+=3*m);var v=!0,w=[],A=0,R=null,b=0,U=null;for(this.width=r,this.height=o;v&&a<i.length;)switch(i[a++]){case 33:switch(i[a++]){case 255:if(i[a]!==11||i[a+1]==78&&i[a+2]==69&&i[a+3]==84&&i[a+4]==83&&i[a+5]==67&&i[a+6]==65&&i[a+7]==80&&i[a+8]==69&&i[a+9]==50&&i[a+10]==46&&i[a+11]==48&&i[a+12]==3&&i[a+13]==1&&i[a+16]==0)a+=14,U=i[a++]|i[a++]<<8,a++;else for(a+=12;;){if(!((z=i[a++])>=0))throw Error("Invalid block size");if(z===0)break;a+=z}break;case 249:if(i[a++]!==4||i[a+4]!==0)throw new Error("Invalid graphics extension block.");var M=i[a++];A=i[a++]|i[a++]<<8,R=i[a++],1&M||(R=null),b=M>>2&7,a++;break;case 254:for(;;){if(!((z=i[a++])>=0))throw Error("Invalid block size");if(z===0)break;a+=z}break;default:throw new Error("Unknown graphic control label: 0x"+i[a-1].toString(16))}break;case 44:var I=i[a++]|i[a++]<<8,P=i[a++]|i[a++]<<8,$=i[a++]|i[a++]<<8,Q=i[a++]|i[a++]<<8,q=i[a++],de=q>>6&1,ue=1<<1+(7&q),_e=p,ge=g,te=!1;q>>7&&(te=!0,_e=a,ge=ue,a+=3*ue);var xe=a;for(a++;;){var z;if(!((z=i[a++])>=0))throw Error("Invalid block size");if(z===0)break;a+=z}w.push({x:I,y:P,width:$,height:Q,has_local_palette:te,palette_offset:_e,palette_size:ge,data_offset:xe,data_length:a-xe,transparent_index:R,interlaced:!!de,delay:A,disposal:b});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+i[a-1].toString(16))}this.numFrames=function(){return w.length},this.loopCount=function(){return U},this.frameInfo=function(H){if(H<0||H>=w.length)throw new Error("Frame index out of range.");return w[H]},this.decodeAndBlitFrameBGRA=function(H,ne){var se=this.frameInfo(H),ke=se.width*se.height,Re=new Uint8Array(ke);Sm(i,se.data_offset,Re,ke);var Me=se.palette_offset,fe=se.transparent_index;fe===null&&(fe=256);var Le=se.width,Ie=r-Le,ee=Le,C=4*(se.y*r+se.x),J=4*((se.y+se.height)*r+se.x),K=C,le=4*Ie;se.interlaced===!0&&(le+=4*r*7);for(var pe=8,be=0,De=Re.length;be<De;++be){var Te=Re[be];if(ee===0&&(ee=Le,(K+=le)>=J&&(le=4*Ie+4*r*(pe-1),K=C+(Le+Ie)*(pe<<1),pe>>=1)),Te===fe)K+=4;else{var ze=i[Me+3*Te],Ee=i[Me+3*Te+1],it=i[Me+3*Te+2];ne[K++]=it,ne[K++]=Ee,ne[K++]=ze,ne[K++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(H,ne){var se=this.frameInfo(H),ke=se.width*se.height,Re=new Uint8Array(ke);Sm(i,se.data_offset,Re,ke);var Me=se.palette_offset,fe=se.transparent_index;fe===null&&(fe=256);var Le=se.width,Ie=r-Le,ee=Le,C=4*(se.y*r+se.x),J=4*((se.y+se.height)*r+se.x),K=C,le=4*Ie;se.interlaced===!0&&(le+=4*r*7);for(var pe=8,be=0,De=Re.length;be<De;++be){var Te=Re[be];if(ee===0&&(ee=Le,(K+=le)>=J&&(le=4*Ie+4*r*(pe-1),K=C+(Le+Ie)*(pe<<1),pe>>=1)),Te===fe)K+=4;else{var ze=i[Me+3*Te],Ee=i[Me+3*Te+1],it=i[Me+3*Te+2];ne[K++]=ze,ne[K++]=Ee,ne[K++]=it,ne[K++]=255}--ee}}}function Sm(i,a,r,o){for(var c=i[a++],l=1<<c,m=l+1,p=m+1,g=c+1,v=(1<<g)-1,w=0,A=0,R=0,b=i[a++],U=new Int32Array(4096),M=null;;){for(;w<16&&b!==0;)A|=i[a++]<<w,w+=8,b===1?b=i[a++]:--b;if(w<g)break;var I=A&v;if(A>>=g,w-=g,I!==l){if(I===m)break;for(var P=I<p?I:M,$=0,Q=P;Q>l;)Q=U[Q]>>8,++$;var q=Q;if(R+$+(P!==I?1:0)>o)return void fr.log("Warning, gif stream longer than expected.");r[R++]=q;var de=R+=$;for(P!==I&&(r[R++]=q),Q=P;$--;)Q=U[Q],r[--de]=255&Q,Q>>=8;M!==null&&p<4096&&(U[p++]=M<<8|q,p>=v+1&&g<12&&(++g,v=v<<1|1)),M=I}else p=m+1,v=(1<<(g=c+1))-1,M=null}return R!==o&&fr.log("Warning, gif stream shorter than expected."),r}function df(i){var a,r,o,c,l,m=Math.floor,p=new Array(64),g=new Array(64),v=new Array(64),w=new Array(64),A=new Array(65535),R=new Array(65535),b=new Array(64),U=new Array(64),M=[],I=0,P=7,$=new Array(64),Q=new Array(64),q=new Array(64),de=new Array(256),ue=new Array(2048),_e=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ge=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],xe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ne=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ke=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Re(C,J){for(var K=0,le=0,pe=new Array,be=1;be<=16;be++){for(var De=1;De<=C[be];De++)pe[J[le]]=[],pe[J[le]][0]=K,pe[J[le]][1]=be,le++,K++;K*=2}return pe}function Me(C){for(var J=C[0],K=C[1]-1;K>=0;)J&1<<K&&(I|=1<<P),K--,--P<0&&(I==255?(fe(255),fe(0)):fe(I),P=7,I=0)}function fe(C){M.push(C)}function Le(C){fe(C>>8&255),fe(255&C)}function Ie(C,J,K,le,pe){for(var be,De=pe[0],Te=pe[240],ze=(function(Qe,bt){var gt,Mt,Rt,wt,Kt,Wt,Xt,Ae,$e,oe,je=0;for($e=0;$e<8;++$e){gt=Qe[je],Mt=Qe[je+1],Rt=Qe[je+2],wt=Qe[je+3],Kt=Qe[je+4],Wt=Qe[je+5],Xt=Qe[je+6];var nt=gt+(Ae=Qe[je+7]),pt=gt-Ae,qe=Mt+Xt,ct=Mt-Xt,Zt=Rt+Wt,vt=Rt-Wt,bn=wt+Kt,qt=wt-Kt,zt=nt+bn,he=nt-bn,ft=qe+Zt,Dt=qe-Zt;Qe[je]=zt+ft,Qe[je+4]=zt-ft;var hn=.707106781*(Dt+he);Qe[je+2]=he+hn,Qe[je+6]=he-hn;var pa=.382683433*((zt=qt+vt)-(Dt=ct+pt)),ln=.5411961*zt+pa,Tr=1.306562965*Dt+pa,rn=.707106781*(ft=vt+ct),St=pt+rn,Ht=pt-rn;Qe[je+5]=Ht+ln,Qe[je+3]=Ht-ln,Qe[je+1]=St+Tr,Qe[je+7]=St-Tr,je+=8}for(je=0,$e=0;$e<8;++$e){gt=Qe[je],Mt=Qe[je+8],Rt=Qe[je+16],wt=Qe[je+24],Kt=Qe[je+32],Wt=Qe[je+40],Xt=Qe[je+48];var Jn=gt+(Ae=Qe[je+56]),ta=gt-Ae,Ka=Mt+Xt,On=Mt-Xt,hr=Rt+Wt,qn=Rt-Wt,vs=wt+Kt,Fs=wt-Kt,Xa=Jn+vs,Pt=Jn-vs,Mn=Ka+hr,Ta=Ka-hr;Qe[je]=Xa+Mn,Qe[je+32]=Xa-Mn;var Fa=.707106781*(Ta+Pt);Qe[je+16]=Pt+Fa,Qe[je+48]=Pt-Fa;var $n=.382683433*((Xa=Fs+qn)-(Ta=On+ta)),Kn=.5411961*Xa+$n,Xn=1.306562965*Ta+$n,Fr=.707106781*(Mn=qn+On),Os=ta+Fr,Di=ta-Fr;Qe[je+40]=Di+Kn,Qe[je+24]=Di-Kn,Qe[je+8]=Os+Xn,Qe[je+56]=Os-Xn,je++}for($e=0;$e<64;++$e)oe=Qe[$e]*bt[$e],b[$e]=oe>0?oe+.5|0:oe-.5|0;return b})(C,J),Ee=0;Ee<64;++Ee)U[_e[Ee]]=ze[Ee];var it=U[0]-K;K=U[0],it==0?Me(le[0]):(Me(le[R[be=32767+it]]),Me(A[be]));for(var ot=63;ot>0&&U[ot]==0;)ot--;if(ot==0)return Me(De),K;for(var at,G=1;G<=ot;){for(var mt=G;U[G]==0&&G<=ot;)++G;var It=G-mt;if(It>=16){at=It>>4;for(var Ct=1;Ct<=at;++Ct)Me(Te);It&=15}be=32767+U[G],Me(pe[(It<<4)+R[be]]),Me(A[be]),G++}return ot!=63&&Me(De),K}function ee(C){C=Math.min(Math.max(C,1),100),l!=C&&((function(J){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var pe=m((K[le]*J+50)/100);pe=Math.min(Math.max(pe,1),255),p[_e[le]]=pe}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],De=0;De<64;De++){var Te=m((be[De]*J+50)/100);Te=Math.min(Math.max(Te,1),255),g[_e[De]]=Te}for(var ze=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,it=0;it<8;it++)for(var ot=0;ot<8;ot++)v[Ee]=1/(p[_e[Ee]]*ze[it]*ze[ot]*8),w[Ee]=1/(g[_e[Ee]]*ze[it]*ze[ot]*8),Ee++})(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),l=C)}this.encode=function(C,J){J&&ee(J),M=new Array,I=0,P=7,Le(65496),Le(65504),Le(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),Le(1),Le(1),fe(0),fe(0),(function(){Le(65499),Le(132),fe(0);for(var Mt=0;Mt<64;Mt++)fe(p[Mt]);fe(1);for(var Rt=0;Rt<64;Rt++)fe(g[Rt])})(),(function(Mt,Rt){Le(65472),Le(17),fe(8),Le(Rt),Le(Mt),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)})(C.width,C.height),(function(){Le(65476),Le(418),fe(0);for(var Mt=0;Mt<16;Mt++)fe(ge[Mt+1]);for(var Rt=0;Rt<=11;Rt++)fe(te[Rt]);fe(16);for(var wt=0;wt<16;wt++)fe(xe[wt+1]);for(var Kt=0;Kt<=161;Kt++)fe(z[Kt]);fe(1);for(var Wt=0;Wt<16;Wt++)fe(H[Wt+1]);for(var Xt=0;Xt<=11;Xt++)fe(ne[Xt]);fe(17);for(var Ae=0;Ae<16;Ae++)fe(se[Ae+1]);for(var $e=0;$e<=161;$e++)fe(ke[$e])})(),Le(65498),Le(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var K=0,le=0,pe=0;I=0,P=7,this.encode.displayName="_encode_";for(var be,De,Te,ze,Ee,it,ot,at,G,mt=C.data,It=C.width,Ct=C.height,Qe=4*It,bt=0;bt<Ct;){for(be=0;be<Qe;){for(Ee=Qe*bt+be,ot=-1,at=0,G=0;G<64;G++)it=Ee+(at=G>>3)*Qe+(ot=4*(7&G)),bt+at>=Ct&&(it-=Qe*(bt+1+at-Ct)),be+ot>=Qe&&(it-=be+ot-Qe+4),De=mt[it++],Te=mt[it++],ze=mt[it++],$[G]=(ue[De]+ue[Te+256|0]+ue[ze+512|0]>>16)-128,Q[G]=(ue[De+768|0]+ue[Te+1024|0]+ue[ze+1280|0]>>16)-128,q[G]=(ue[De+1280|0]+ue[Te+1536|0]+ue[ze+1792|0]>>16)-128;K=Ie($,v,K,a,o),le=Ie(Q,w,le,r,c),pe=Ie(q,w,pe,r,c),be+=32}bt+=8}if(P>=0){var gt=[];gt[1]=P+1,gt[0]=(1<<P+1)-1,Me(gt)}return Le(65497),new Uint8Array(M)},i=i||50,(function(){for(var C=String.fromCharCode,J=0;J<256;J++)de[J]=C(J)})(),a=Re(ge,te),r=Re(H,ne),o=Re(xe,z),c=Re(se,ke),(function(){for(var C=1,J=2,K=1;K<=15;K++){for(var le=C;le<J;le++)R[32767+le]=K,A[32767+le]=[],A[32767+le][1]=K,A[32767+le][0]=le;for(var pe=-(J-1);pe<=-C;pe++)R[32767+pe]=K,A[32767+pe]=[],A[32767+pe][1]=K,A[32767+pe][0]=J-1+pe;C<<=1,J<<=1}})(),(function(){for(var C=0;C<256;C++)ue[C]=19595*C,ue[C+256|0]=38470*C,ue[C+512|0]=7471*C+32768,ue[C+768|0]=-11059*C,ue[C+1024|0]=-21709*C,ue[C+1280|0]=32768*C+8421375,ue[C+1536|0]=-27439*C,ue[C+1792|0]=-5329*C})(),ee(i)}function co(i,a){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!a,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Nm(i){function a(te){if(!te)throw Error("assert :P")}function r(te,xe,z){for(var H=0;4>H;H++)if(te[xe+H]!=z.charCodeAt(H))return!0;return!1}function o(te,xe,z,H,ne){for(var se=0;se<ne;se++)te[xe+se]=z[H+se]}function c(te,xe,z,H){for(var ne=0;ne<H;ne++)te[xe+ne]=z}function l(te){return new Int32Array(te)}function m(te,xe){for(var z=[],H=0;H<te;H++)z.push(new xe);return z}function p(te,xe){var z=[];return(function H(ne,se,ke){for(var Re=ke[se],Me=0;Me<Re&&(ne.push(ke.length>se+1?[]:new xe),!(ke.length<se+1));Me++)H(ne[Me],se+1,ke)})(z,0,te),z}var g=function(){var te=this;function xe(d,h){for(var j=1<<h-1>>>0;d&j;)j>>>=1;return j?(d&j-1)+j:d}function z(d,h,j,N,_){a(!(N%j));do d[h+(N-=j)]=_;while(0<N)}function H(d,h,j,N,_){if(a(2328>=_),512>=_)var F=l(512);else if((F=l(_))==null)return 0;return(function(B,W,Y,re,ye,Oe){var ae,we,Fe=W,Je=1<<Y,Ue=l(16),Ye=l(16);for(a(ye!=0),a(re!=null),a(B!=null),a(0<Y),we=0;we<ye;++we){if(15<re[we])return 0;++Ue[re[we]]}if(Ue[0]==ye)return 0;for(Ye[1]=0,ae=1;15>ae;++ae){if(Ue[ae]>1<<ae)return 0;Ye[ae+1]=Ye[ae]+Ue[ae]}for(we=0;we<ye;++we)ae=re[we],0<re[we]&&(Oe[Ye[ae]++]=we);if(Ye[15]==1)return(re=new ne).g=0,re.value=Oe[0],z(B,Fe,1,Je,re),Je;var Ge,Ze=-1,et=Je-1,$t=0,Lt=1,fn=1,Tt=1<<Y;for(we=0,ae=1,ye=2;ae<=Y;++ae,ye<<=1){if(Lt+=fn<<=1,0>(fn-=Ue[ae]))return 0;for(;0<Ue[ae];--Ue[ae])(re=new ne).g=ae,re.value=Oe[we++],z(B,Fe+$t,ye,Tt,re),$t=xe($t,ae)}for(ae=Y+1,ye=2;15>=ae;++ae,ye<<=1){if(Lt+=fn<<=1,0>(fn-=Ue[ae]))return 0;for(;0<Ue[ae];--Ue[ae]){if(re=new ne,($t&et)!=Ze){for(Fe+=Tt,Ge=1<<(Ze=ae)-Y;15>Ze&&!(0>=(Ge-=Ue[Ze]));)++Ze,Ge<<=1;Je+=Tt=1<<(Ge=Ze-Y),B[W+(Ze=$t&et)].g=Ge+Y,B[W+Ze].value=Fe-W-Ze}re.g=ae-Y,re.value=Oe[we++],z(B,Fe+($t>>Y),ye,Tt,re),$t=xe($t,ae)}}return Lt!=2*Ye[15]-1?0:Je})(d,h,j,N,_,F)}function ne(){this.value=this.g=0}function se(){this.value=this.g=0}function ke(){this.G=m(5,ne),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=m(ia,se)}function Re(d,h,j,N){a(d!=null),a(h!=null),a(2147483648>N),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=h,d.pa=j,d.Jd=h,d.Yc=j+N,d.Zc=4<=N?j+N-4+1:j,De(d)}function Me(d,h){for(var j=0;0<h--;)j|=ze(d,128)<<h;return j}function fe(d,h){var j=Me(d,h);return Te(d)?-j:j}function Le(d,h,j,N){var _,F=0;for(a(d!=null),a(h!=null),a(4294967288>N),d.Sb=N,d.Ra=0,d.u=0,d.h=0,4<N&&(N=4),_=0;_<N;++_)F+=h[j+_]<<8*_;d.Ra=F,d.bb=N,d.oa=h,d.pa=j}function Ie(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Si-8>>>0,++d.bb,d.u-=8;le(d)&&(d.h=1,d.u=0)}function ee(d,h){if(a(0<=h),!d.h&&h<=va){var j=K(d)&li[h];return d.u+=h,Ie(d),j}return d.h=1,d.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(d){return d.Ra>>>(d.u&Si-1)>>>0}function le(d){return a(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Si}function pe(d,h){d.u=h,d.h=le(d)}function be(d){d.u>=Or&&(a(d.u>=Or),Ie(d))}function De(d){a(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(a(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function Te(d){return Me(d,1)}function ze(d,h){var j=d.Ca;0>d.b&&De(d);var N=d.b,_=j*h>>>8,F=(d.I>>>N>_)+0;for(F?(j-=_,d.I-=_+1<<N>>>0):j=_+1,N=j,_=0;256<=N;)_+=8,N>>=8;return N=7^_+Zi[N],d.b-=N,d.Ca=(j<<N)-1,F}function Ee(d,h,j){d[h+0]=j>>24&255,d[h+1]=j>>16&255,d[h+2]=j>>8&255,d[h+3]=255&j}function it(d,h){return d[h+0]|d[h+1]<<8}function ot(d,h){return it(d,h)|d[h+2]<<16}function at(d,h){return it(d,h)|it(d,h+2)<<16}function G(d,h){var j=1<<h;return a(d!=null),a(0<h),d.X=l(j),d.X==null?0:(d.Mb=32-h,d.Xa=h,1)}function mt(d,h){a(d!=null),a(h!=null),a(d.Xa==h.Xa),o(h.X,0,d.X,0,1<<h.Xa)}function It(){this.X=[],this.Xa=this.Mb=0}function Ct(d,h,j,N){a(j!=null),a(N!=null);var _=j[0],F=N[0];return _==0&&(_=(d*F+h/2)/h),F==0&&(F=(h*_+d/2)/d),0>=_||0>=F?0:(j[0]=_,N[0]=F,1)}function Qe(d,h){return d+(1<<h)-1>>>h}function bt(d,h){return((4278255360&d)+(4278255360&h)>>>0&4278255360)+((16711935&d)+(16711935&h)>>>0&16711935)>>>0}function gt(d,h){te[h]=function(j,N,_,F,B,W,Y){var re;for(re=0;re<B;++re){var ye=te[d](W[Y+re-1],_,F+re);W[Y+re]=bt(j[N+re],ye)}}}function Mt(){this.ud=this.hd=this.jd=0}function Rt(d,h){return((4278124286&(d^h))>>>1)+(d&h)>>>0}function wt(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Kt(d,h){return wt(d+(d-h+.5>>1))}function Wt(d,h,j){return Math.abs(h-j)-Math.abs(d-j)}function Xt(d,h,j,N,_,F,B){for(N=F[B-1],j=0;j<_;++j)F[B+j]=N=bt(d[h+j],N)}function Ae(d,h,j,N,_){var F;for(F=0;F<j;++F){var B=d[h+F],W=B>>8&255,Y=16711935&(Y=(Y=16711935&B)+((W<<16)+W));N[_+F]=(4278255360&B)+Y>>>0}}function $e(d,h){h.jd=255&d,h.hd=d>>8&255,h.ud=d>>16&255}function oe(d,h,j,N,_,F){var B;for(B=0;B<N;++B){var W=h[j+B],Y=W>>>8,re=W,ye=255&(ye=(ye=W>>>16)+((d.jd<<24>>24)*(Y<<24>>24)>>>5));re=255&(re=(re+=(d.hd<<24>>24)*(Y<<24>>24)>>>5)+((d.ud<<24>>24)*(ye<<24>>24)>>>5)),_[F+B]=(4278255360&W)+(ye<<16)+re}}function je(d,h,j,N,_){te[h]=function(F,B,W,Y,re,ye,Oe,ae,we){for(Y=Oe;Y<ae;++Y)for(Oe=0;Oe<we;++Oe)re[ye++]=_(W[N(F[B++])])},te[d]=function(F,B,W,Y,re,ye,Oe){var ae=8>>F.b,we=F.Ea,Fe=F.K[0],Je=F.w;if(8>ae)for(F=(1<<F.b)-1,Je=(1<<ae)-1;B<W;++B){var Ue,Ye=0;for(Ue=0;Ue<we;++Ue)Ue&F||(Ye=N(Y[re++])),ye[Oe++]=_(Fe[Ye&Je]),Ye>>=ae}else te["VP8LMapColor"+j](Y,re,Fe,Je,ye,Oe,B,W,we)}}function nt(d,h,j,N,_){for(j=h+j;h<j;){var F=d[h++];N[_++]=F>>16&255,N[_++]=F>>8&255,N[_++]=255&F}}function pt(d,h,j,N,_){for(j=h+j;h<j;){var F=d[h++];N[_++]=F>>16&255,N[_++]=F>>8&255,N[_++]=255&F,N[_++]=F>>24&255}}function qe(d,h,j,N,_){for(j=h+j;h<j;){var F=(B=d[h++])>>16&240|B>>12&15,B=240&B|B>>28&15;N[_++]=F,N[_++]=B}}function ct(d,h,j,N,_){for(j=h+j;h<j;){var F=(B=d[h++])>>16&248|B>>13&7,B=B>>5&224|B>>3&31;N[_++]=F,N[_++]=B}}function Zt(d,h,j,N,_){for(j=h+j;h<j;){var F=d[h++];N[_++]=255&F,N[_++]=F>>8&255,N[_++]=F>>16&255}}function vt(d,h,j,N,_,F){if(F==0)for(j=h+j;h<j;)Ee(N,((F=d[h++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),_+=32;else o(N,_,d,h,j)}function bn(d,h){te[h][0]=te[d+"0"],te[h][1]=te[d+"1"],te[h][2]=te[d+"2"],te[h][3]=te[d+"3"],te[h][4]=te[d+"4"],te[h][5]=te[d+"5"],te[h][6]=te[d+"6"],te[h][7]=te[d+"7"],te[h][8]=te[d+"8"],te[h][9]=te[d+"9"],te[h][10]=te[d+"10"],te[h][11]=te[d+"11"],te[h][12]=te[d+"12"],te[h][13]=te[d+"13"],te[h][14]=te[d+"0"],te[h][15]=te[d+"0"]}function qt(d){return d==No||d==Br||d==Wa||d==Wo}function zt(){this.eb=[],this.size=this.A=this.fb=0}function he(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ft(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zt,this.f.kb=new he,this.sd=null}function Dt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function hn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function pa(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function ln(d,h){var j=d.T,N=h.ba.f.RGBA,_=N.eb,F=N.fb+d.ka*N.A,B=X[h.ba.S],W=d.y,Y=d.O,re=d.f,ye=d.N,Oe=d.ea,ae=d.W,we=h.cc,Fe=h.dc,Je=h.Mc,Ue=h.Nc,Ye=d.ka,Ge=d.ka+d.T,Ze=d.U,et=Ze+1>>1;for(Ye==0?B(W,Y,null,null,re,ye,Oe,ae,re,ye,Oe,ae,_,F,null,null,Ze):(B(h.ec,h.fc,W,Y,we,Fe,Je,Ue,re,ye,Oe,ae,_,F-N.A,_,F,Ze),++j);Ye+2<Ge;Ye+=2)we=re,Fe=ye,Je=Oe,Ue=ae,ye+=d.Rc,ae+=d.Rc,F+=2*N.A,B(W,(Y+=2*d.fa)-d.fa,W,Y,we,Fe,Je,Ue,re,ye,Oe,ae,_,F-N.A,_,F,Ze);return Y+=d.fa,d.j+Ge<d.o?(o(h.ec,h.fc,W,Y,Ze),o(h.cc,h.dc,re,ye,et),o(h.Mc,h.Nc,Oe,ae,et),j--):1&Ge||B(W,Y,null,null,re,ye,Oe,ae,re,ye,Oe,ae,_,F+N.A,null,null,Ze),j}function Tr(d,h,j){var N=d.F,_=[d.J];if(N!=null){var F=d.U,B=h.ba.S,W=B==So||B==Wa;h=h.ba.f.RGBA;var Y=[0],re=d.ka;Y[0]=d.T,d.Kb&&(re==0?--Y[0]:(--re,_[0]-=d.width),d.j+d.ka+d.T==d.o&&(Y[0]=d.o-d.j-re));var ye=h.eb;re=h.fb+re*h.A,d=bo(N,_[0],d.width,F,Y,ye,re+(W?0:3),h.A),a(j==Y),d&&qt(B)&&Xs(ye,re,W,F,Y,h.A)}return 0}function rn(d){var h=d.ma,j=h.ba.S,N=11>j,_=j==us||j==jo||j==So||j==Un||j==12||qt(j);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!_n(h.Oa,d,_?11:12))return 0;if(_&&qt(j)&&kr(),d.da)alert("todo:use_scaling");else{if(N){if(h.Ib=pa,d.Kb){if(j=d.U+1>>1,h.memory=l(d.U+2*j),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+d.U,h.Mc=h.cc,h.Nc=h.dc+j,h.Ib=ln,kr()}}else alert("todo:EmitYUV");_&&(h.Jb=Tr,N&&Zn())}if(N&&!sa){for(d=0;256>d;++d)qa[d]=89858*(d-128)+sn>>vn,er[d]=-22014*(d-128)+sn,Wn[d]=-45773*(d-128),kt[d]=113618*(d-128)+sn>>vn;for(d=cn;d<yn;++d)h=76283*(d-16)+sn>>vn,_s[d-cn]=Qn(h,255),Jl[d-cn]=Qn(h+8>>4,15);sa=1}return 1}function St(d){var h=d.ma,j=d.U,N=d.T;return a(!(1&d.ka)),0>=j||0>=N?0:(j=h.Ib(d,h),h.Jb!=null&&h.Jb(d,h,j),h.Dc+=j,1)}function Ht(d){d.ma.memory=null}function Jn(d,h,j,N){return ee(d,8)!=47?0:(h[0]=ee(d,14)+1,j[0]=ee(d,14)+1,N[0]=ee(d,1),ee(d,3)!=0?0:!d.h)}function ta(d,h){if(4>d)return d+1;var j=d-2>>1;return(2+(1&d)<<j)+ee(h,j)+1}function Ka(d,h){return 120<h?h-120:1<=(j=((j=Pc[h-1])>>4)*d+(8-(15&j)))?j:1;var j}function On(d,h,j){var N=K(j),_=d[h+=255&N].g-8;return 0<_&&(pe(j,j.u+8),N=K(j),h+=d[h].value,h+=N&(1<<_)-1),pe(j,j.u+d[h].g),d[h].value}function hr(d,h,j){return j.g+=d.g,j.value+=d.value<<h>>>0,a(8>=j.g),d.g}function qn(d,h,j){var N=d.xc;return a((h=N==0?0:d.vc[d.md*(j>>N)+(h>>N)])<d.Wb),d.Ya[h]}function vs(d,h,j,N){var _=d.ab,F=d.c*h,B=d.C;h=B+h;var W=j,Y=N;for(N=d.Ta,j=d.Ua;0<_--;){var re=d.gc[_],ye=B,Oe=h,ae=W,we=Y,Fe=(Y=N,W=j,re.Ea);switch(a(ye<Oe),a(Oe<=re.nc),re.hc){case 2:Yn(ae,we,(Oe-ye)*Fe,Y,W);break;case 0:var Je=ye,Ue=Oe,Ye=Y,Ge=W,Ze=(Tt=re).Ea;Je==0&&(Bi(ae,we,null,null,1,Ye,Ge),Xt(ae,we+1,0,0,Ze-1,Ye,Ge+1),we+=Ze,Ge+=Ze,++Je);for(var et=1<<Tt.b,$t=et-1,Lt=Qe(Ze,Tt.b),fn=Tt.K,Tt=Tt.w+(Je>>Tt.b)*Lt;Je<Ue;){var An=fn,Er=Tt,pn=1;for(Ni(ae,we,Ye,Ge-Ze,1,Ye,Ge);pn<Ze;){var _t=(pn&~$t)+et;_t>Ze&&(_t=Ze),(0,mo[An[Er++]>>8&15])(ae,we+ +pn,Ye,Ge+pn-Ze,_t-pn,Ye,Ge+pn),pn=_t}we+=Ze,Ge+=Ze,++Je&$t||(Tt+=Lt)}Oe!=re.nc&&o(Y,W-Fe,Y,W+(Oe-ye-1)*Fe,Fe);break;case 1:for(Fe=ae,Ue=we,Ze=(ae=re.Ea)-(Ge=ae&~(Ye=(we=1<<re.b)-1)),Je=Qe(ae,re.b),et=re.K,re=re.w+(ye>>re.b)*Je;ye<Oe;){for($t=et,Lt=re,fn=new Mt,Tt=Ue+Ge,An=Ue+ae;Ue<Tt;)$e($t[Lt++],fn),Ys(fn,Fe,Ue,we,Y,W),Ue+=we,W+=we;Ue<An&&($e($t[Lt++],fn),Ys(fn,Fe,Ue,Ze,Y,W),Ue+=Ze,W+=Ze),++ye&Ye||(re+=Je)}break;case 3:if(ae==Y&&we==W&&0<re.b){for(Ue=Y,ae=Fe=W+(Oe-ye)*Fe-(Ge=(Oe-ye)*Qe(re.Ea,re.b)),we=Y,Ye=W,Je=[],Ge=(Ze=Ge)-1;0<=Ge;--Ge)Je[Ge]=we[Ye+Ge];for(Ge=Ze-1;0<=Ge;--Ge)Ue[ae+Ge]=Je[Ge];Hs(re,ye,Oe,Y,Fe,Y,W)}else Hs(re,ye,Oe,ae,we,Y,W)}W=N,Y=j}Y!=j&&o(N,j,W,Y,F)}function Fs(d,h){var j=d.V,N=d.Ba+d.c*d.C,_=h-d.C;if(a(h<=d.l.o),a(16>=_),0<_){var F=d.l,B=d.Ta,W=d.Ua,Y=F.width;if(vs(d,_,j,N),_=W=[W],a((j=d.C)<(N=h)),a(F.v<F.va),N>F.o&&(N=F.o),j<F.j){var re=F.j-j;j=F.j,_[0]+=re*Y}if(j>=N?j=0:(_[0]+=4*F.v,F.ka=j-F.j,F.U=F.va-F.v,F.T=N-j,j=1),j){if(W=W[0],11>(j=d.ca).S){var ye=j.f.RGBA,Oe=(N=j.S,_=F.U,F=F.T,re=ye.eb,ye.A),ae=F;for(ye=ye.fb+d.Ma*ye.A;0<ae--;){var we=B,Fe=W,Je=_,Ue=re,Ye=ye;switch(N){case Xo:go(we,Fe,Je,Ue,Ye);break;case us:ki(we,Fe,Je,Ue,Ye);break;case No:ki(we,Fe,Je,Ue,Ye),Xs(Ue,Ye,0,Je,1,0);break;case Cl:Gs(we,Fe,Je,Ue,Ye);break;case jo:vt(we,Fe,Je,Ue,Ye,1);break;case Br:vt(we,Fe,Je,Ue,Ye,1),Xs(Ue,Ye,0,Je,1,0);break;case So:vt(we,Fe,Je,Ue,Ye,0);break;case Wa:vt(we,Fe,Je,Ue,Ye,0),Xs(Ue,Ye,1,Je,1,0);break;case Un:Cs(we,Fe,Je,Ue,Ye);break;case Wo:Cs(we,Fe,Je,Ue,Ye),vo(Ue,Ye,Je,1,0);break;case Qo:Gr(we,Fe,Je,Ue,Ye);break;default:a(0)}W+=Y,ye+=Oe}d.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");a(d.Ma<=j.height)}}d.C=h,a(d.C<=d.i)}function Xa(d){var h;if(0<d.ua)return 0;for(h=0;h<d.Wb;++h){var j=d.Ya[h].G,N=d.Ya[h].H;if(0<j[1][N[1]+0].g||0<j[2][N[2]+0].g||0<j[3][N[3]+0].g)return 0}return 1}function Pt(d,h,j,N,_,F){if(d.Z!=0){var B=d.qd,W=d.rd;for(a(E[d.Z]!=null);h<j;++h)E[d.Z](B,W,N,_,N,_,F),B=N,W=_,_+=F;d.qd=B,d.rd=W}}function Mn(d,h){var j=d.l.ma,N=j.Z==0||j.Z==1?d.l.j:d.C;if(N=d.C<N?N:d.C,a(h<=d.l.o),h>N){var _=d.l.width,F=j.ca,B=j.tb+_*N,W=d.V,Y=d.Ba+d.c*N,re=d.gc;a(d.ab==1),a(re[0].hc==3),za(re[0],N,h,W,Y,F,B),Pt(j,N,h,F,B,_)}d.C=d.Ma=h}function Ta(d,h,j,N,_,F,B){var W=d.$/N,Y=d.$%N,re=d.m,ye=d.s,Oe=j+d.$,ae=Oe;_=j+N*_;var we=j+N*F,Fe=280+ye.ua,Je=d.Pb?W:16777216,Ue=0<ye.ua?ye.Wa:null,Ye=ye.wc,Ge=Oe<we?qn(ye,Y,W):null;a(d.C<F),a(we<=_);var Ze=!1;e:for(;;){for(;Ze||Oe<we;){var et=0;if(W>=Je){var $t=Oe-j;a((Je=d).Pb),Je.wd=Je.m,Je.xd=$t,0<Je.s.ua&&mt(Je.s.Wa,Je.s.vb),Je=W+Zo}if(Y&Ye||(Ge=qn(ye,Y,W)),a(Ge!=null),Ge.Qb&&(h[Oe]=Ge.qb,Ze=!0),!Ze)if(be(re),Ge.jc){et=re,$t=h;var Lt=Oe,fn=Ge.pd[K(et)&ia-1];a(Ge.jc),256>fn.g?(pe(et,et.u+fn.g),$t[Lt]=fn.value,et=0):(pe(et,et.u+fn.g-256),a(256<=fn.value),et=fn.value),et==0&&(Ze=!0)}else et=On(Ge.G[0],Ge.H[0],re);if(re.h)break;if(Ze||256>et){if(!Ze)if(Ge.nd)h[Oe]=(Ge.qb|et<<8)>>>0;else{if(be(re),Ze=On(Ge.G[1],Ge.H[1],re),be(re),$t=On(Ge.G[2],Ge.H[2],re),Lt=On(Ge.G[3],Ge.H[3],re),re.h)break;h[Oe]=(Lt<<24|Ze<<16|et<<8|$t)>>>0}if(Ze=!1,++Oe,++Y>=N&&(Y=0,++W,B!=null&&W<=F&&!(W%16)&&B(d,W),Ue!=null))for(;ae<Oe;)et=h[ae++],Ue.X[(506832829*et&4294967295)>>>Ue.Mb]=et}else if(280>et){if(et=ta(et-256,re),$t=On(Ge.G[4],Ge.H[4],re),be(re),$t=Ka(N,$t=ta($t,re)),re.h)break;if(Oe-j<$t||_-Oe<et)break e;for(Lt=0;Lt<et;++Lt)h[Oe+Lt]=h[Oe+Lt-$t];for(Oe+=et,Y+=et;Y>=N;)Y-=N,++W,B!=null&&W<=F&&!(W%16)&&B(d,W);if(a(Oe<=_),Y&Ye&&(Ge=qn(ye,Y,W)),Ue!=null)for(;ae<Oe;)et=h[ae++],Ue.X[(506832829*et&4294967295)>>>Ue.Mb]=et}else{if(!(et<Fe))break e;for(Ze=et-280,a(Ue!=null);ae<Oe;)et=h[ae++],Ue.X[(506832829*et&4294967295)>>>Ue.Mb]=et;et=Oe,a(!(Ze>>>($t=Ue).Xa)),h[et]=$t.X[Ze],Ze=!0}Ze||a(re.h==le(re))}if(d.Pb&&re.h&&Oe<_)a(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&mt(d.s.vb,d.s.Wa);else{if(re.h)break e;B?.(d,W>F?F:W),d.a=0,d.$=Oe-j}return 1}return d.a=3,0}function Fa(d){a(d!=null),d.vc=null,d.yc=null,d.Ya=null;var h=d.Wa;h!=null&&(h.X=null),d.vb=null,a(d!=null)}function $n(){var d=new Yt;return d==null?null:(d.a=0,d.xb=T,bn("Predictor","VP8LPredictors"),bn("Predictor","VP8LPredictors_C"),bn("PredictorAdd","VP8LPredictorsAdd"),bn("PredictorAdd","VP8LPredictorsAdd_C"),Yn=Ae,Ys=oe,go=nt,ki=pt,Cs=qe,Gr=ct,Gs=Zt,te.VP8LMapColor32b=es,te.VP8LMapColor8b=Vs,d)}function Kn(d,h,j,N,_){var F=1,B=[d],W=[h],Y=N.m,re=N.s,ye=null,Oe=0;e:for(;;){if(j)for(;F&&ee(Y,1);){var ae=B,we=W,Fe=N,Je=1,Ue=Fe.m,Ye=Fe.gc[Fe.ab],Ge=ee(Ue,2);if(Fe.Oc&1<<Ge)F=0;else{switch(Fe.Oc|=1<<Ge,Ye.hc=Ge,Ye.Ea=ae[0],Ye.nc=we[0],Ye.K=[null],++Fe.ab,a(4>=Fe.ab),Ge){case 0:case 1:Ye.b=ee(Ue,3)+2,Je=Kn(Qe(Ye.Ea,Ye.b),Qe(Ye.nc,Ye.b),0,Fe,Ye.K),Ye.K=Ye.K[0];break;case 3:var Ze,et=ee(Ue,8)+1,$t=16<et?0:4<et?1:2<et?2:3;if(ae[0]=Qe(Ye.Ea,$t),Ye.b=$t,Ze=Je=Kn(et,1,0,Fe,Ye.K)){var Lt,fn=et,Tt=Ye,An=1<<(8>>Tt.b),Er=l(An);if(Er==null)Ze=0;else{var pn=Tt.K[0],_t=Tt.w;for(Er[0]=Tt.K[0][0],Lt=1;Lt<1*fn;++Lt)Er[Lt]=bt(pn[_t+Lt],Er[Lt-1]);for(;Lt<4*An;++Lt)Er[Lt]=0;Tt.K[0]=null,Tt.K[0]=Er,Ze=1}}Je=Ze;break;case 2:break;default:a(0)}F=Je}}if(B=B[0],W=W[0],F&&ee(Y,1)&&!(F=1<=(Oe=ee(Y,4))&&11>=Oe)){N.a=3;break e}var xt;if(xt=F)t:{var zr,on,Nn,or=N,wa=B,Kr=W,Ar=Oe,oa=j,ja=or.m,br=or.s,Ln=[null],Dn=1,wr=0,Tn=Yl[Ar];n:for(;;){if(oa&&ee(ja,1)){var Mr=ee(ja,3)+2,Rr=Qe(wa,Mr),tr=Qe(Kr,Mr),$a=Rr*tr;if(!Kn(Rr,tr,0,or,Ln))break n;for(Ln=Ln[0],br.xc=Mr,zr=0;zr<$a;++zr){var Gn=Ln[zr]>>8&65535;Ln[zr]=Gn,Gn>=Dn&&(Dn=Gn+1)}}if(ja.h)break n;for(on=0;5>on;++on){var nr=Qs[on];!on&&0<Ar&&(nr+=1<<Ar),wr<nr&&(wr=nr)}var Xr=m(Dn*Tn,ne),Ra=Dn,Pi=m(Ra,ke);if(Pi==null)var Ur=null;else a(65536>=Ra),Ur=Pi;var Wr=l(wr);if(Ur==null||Wr==null||Xr==null){or.a=1;break n}var Ha=Xr;for(zr=Nn=0;zr<Dn;++zr){var rr=Ur[zr],Va=rr.G,ns=rr.H,fs=0,Sa=1,qr=0;for(on=0;5>on;++on){nr=Qs[on],Va[on]=Ha,ns[on]=Nn,!on&&0<Ar&&(nr+=1<<Ar);a:{var Po,no=nr,nl=or,Is=Wr,ed=Ha,_c=Nn,ur=0,hs=nl.m,Ic=ee(hs,1);if(c(Is,0,0,no),Ic){var Ec=ee(hs,1)+1,Kl=ee(hs,1),Xl=ee(hs,Kl==0?1:8);Is[Xl]=1,Ec==2&&(Is[Xl=ee(hs,8)]=1);var Es=1}else{var jr=l(19),Qr=ee(hs,4)+4;if(19<Qr){nl.a=3;var $r=0;break a}for(Po=0;Po<Qr;++Po)jr[Cc[Po]]=ee(hs,3);var rl=void 0,ro=void 0,al=nl,tu=jr,la=no,Ql=Is,_l=0,Ms=al.m,ps=8,zi=m(128,ne);r:for(;H(zi,0,7,tu,19);){if(ee(Ms,1)){var Il=2+2*ee(Ms,3);if((rl=2+ee(Ms,Il))>la)break r}else rl=la;for(ro=0;ro<la&&rl--;){be(Ms);var Zl=zi[0+(127&K(Ms))];pe(Ms,Ms.u+Zl.g);var Lo=Zl.value;if(16>Lo)Ql[ro++]=Lo,Lo!=0&&(ps=Lo);else{var td=Lo==16,Mc=Lo-16,nd=ci[Mc],Rc=ee(Ms,We[Mc])+nd;if(ro+Rc>la)break r;for(var rd=td?ps:0;0<Rc--;)Ql[ro++]=rd}}_l=1;break r}_l||(al.a=3),Es=_l}(Es=Es&&!hs.h)&&(ur=H(ed,_c,8,Is,no)),Es&&ur!=0?$r=ur:(nl.a=3,$r=0)}if($r==0)break n;if(Sa&&Vl[on]==1&&(Sa=Ha[Nn].g==0),fs+=Ha[Nn].g,Nn+=$r,3>=on){var il,ec=Wr[0];for(il=1;il<nr;++il)Wr[il]>ec&&(ec=Wr[il]);qr+=ec}}if(rr.nd=Sa,rr.Qb=0,Sa&&(rr.qb=(Va[3][ns[3]+0].value<<24|Va[1][ns[1]+0].value<<16|Va[2][ns[2]+0].value)>>>0,fs==0&&256>Va[0][ns[0]+0].value&&(rr.Qb=1,rr.qb+=Va[0][ns[0]+0].value<<8)),rr.jc=!rr.Qb&&6>qr,rr.jc){var El,Ui=rr;for(El=0;El<ia;++El){var ao=El,ms=Ui.pd[ao],$o=Ui.G[0][Ui.H[0]+ao];256<=$o.value?(ms.g=$o.g+256,ms.value=$o.value):(ms.g=0,ms.value=0,ao>>=hr($o,8,ms),ao>>=hr(Ui.G[1][Ui.H[1]+ao],16,ms),ao>>=hr(Ui.G[2][Ui.H[2]+ao],0,ms),hr(Ui.G[3][Ui.H[3]+ao],24,ms))}}}br.vc=Ln,br.Wb=Dn,br.Ya=Ur,br.yc=Xr,xt=1;break t}xt=0}if(!(F=xt)){N.a=3;break e}if(0<Oe){if(re.ua=1<<Oe,!G(re.Wa,Oe)){N.a=1,F=0;break e}}else re.ua=0;var tc=N,nc=B,ad=W,rc=tc.s,ac=rc.xc;if(tc.c=nc,tc.i=ad,rc.md=Qe(nc,ac),rc.wc=ac==0?-1:(1<<ac)-1,j){N.xb=O;break e}if((ye=l(B*W))==null){N.a=1,F=0;break e}F=(F=Ta(N,ye,0,B,W,W,null))&&!Y.h;break e}return F?(_!=null?_[0]=ye:(a(ye==null),a(j)),N.$=0,j||Fa(re)):Fa(re),F}function Xn(d,h){var j=d.c*d.i,N=j+h+16*h;return a(d.c<=h),d.V=l(N),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+j+h,1)}function Fr(d,h){var j=d.C,N=h-j,_=d.V,F=d.Ba+d.c*j;for(a(h<=d.l.o);0<N;){var B=16<N?16:N,W=d.l.ma,Y=d.l.width,re=Y*B,ye=W.ca,Oe=W.tb+Y*j,ae=d.Ta,we=d.Ua;vs(d,B,_,F),wl(ae,we,ye,Oe,re),Pt(W,j,j+B,ye,Oe,Y),N-=B,_+=B*d.c,j+=B}a(j==h),d.C=d.Ma=h}function Os(){this.ub=this.yd=this.td=this.Rb=0}function Di(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ut(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function gn(){this.Yb=(function(){var d=[];return(function h(j,N,_){for(var F=_[N],B=0;B<F&&(j.push(_.length>N+1?[]:0),!(_.length<N+1));B++)h(j[B],N+1,_)})(d,0,[3,11]),d})()}function ls(){this.jb=l(3),this.Wc=p([4,8],gn),this.Xc=p([4,17],gn)}function Qa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function Lr(){this.ld=this.La=this.dd=this.tc=0}function ka(){this.Na=this.la=0}function Za(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cs(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Bs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Lr),this.Y=0,this.ya=Array(new cs),this.aa=0,this.l=new pi}function na(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Aa(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new Os,this.Kc=new Di,this.ed=new Qa,this.Qa=new ut,this.Ic=this.$c=this.Aa=0,this.D=new Bs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=m(8,C),this.ia=0,this.pb=m(4,Za),this.Pa=new ls,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new na),this.Hd=0,this.rb=Array(new ka),this.sb=0,this.wa=Array(new Lr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cs),this.L=this.aa=0,this.gd=p([4,2],Lr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qn(d,h){return 0>d?0:d>h?h:d}function pi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function To(){var d=new Aa;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Ls||(Ls=mi)),d}function Qt(d,h,j){return d.a==0&&(d.a=h,d.sc=j,d.cb=0),0}function ei(d,h,j){return 3<=j&&d[h+0]==157&&d[h+1]==1&&d[h+2]==42}function ti(d,h){if(d==null)return 0;if(d.a=0,d.sc="OK",h==null)return Qt(d,2,"null VP8Io passed to VP8GetHeaders()");var j=h.data,N=h.w,_=h.ha;if(4>_)return Qt(d,7,"Truncated header.");var F=j[N+0]|j[N+1]<<8|j[N+2]<<16,B=d.Od;if(B.Rb=!(1&F),B.td=F>>1&7,B.yd=F>>4&1,B.ub=F>>5,3<B.td)return Qt(d,3,"Incorrect keyframe parameters.");if(!B.yd)return Qt(d,4,"Frame not displayable.");N+=3,_-=3;var W=d.Kc;if(B.Rb){if(7>_)return Qt(d,7,"cannot parse picture header");if(!ei(j,N,_))return Qt(d,3,"Bad code word");W.c=16383&(j[N+4]<<8|j[N+3]),W.Td=j[N+4]>>6,W.i=16383&(j[N+6]<<8|j[N+5]),W.Ud=j[N+6]>>6,N+=7,_-=7,d.za=W.c+15>>4,d.Ub=W.i+15>>4,h.width=W.c,h.height=W.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,c((F=d.Pa).jb,0,255,F.jb.length),a((F=d.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,c(F.Zb,0,0,F.Zb.length),c(F.Lb,0,0,F.Lb)}if(B.ub>_)return Qt(d,7,"bad partition length");Re(F=d.m,j,N,B.ub),N+=B.ub,_-=B.ub,B.Rb&&(W.Ld=Te(F),W.Kd=Te(F)),W=d.Qa;var Y,re=d.Pa;if(a(F!=null),a(W!=null),W.Cb=Te(F),W.Cb){if(W.Bb=Te(F),Te(F)){for(W.Fb=Te(F),Y=0;4>Y;++Y)W.Zb[Y]=Te(F)?fe(F,7):0;for(Y=0;4>Y;++Y)W.Lb[Y]=Te(F)?fe(F,6):0}if(W.Bb)for(Y=0;3>Y;++Y)re.jb[Y]=Te(F)?Me(F,8):255}else W.Bb=0;if(F.Ka)return Qt(d,3,"cannot parse segment header");if((W=d.ed).zd=Te(F),W.Tb=Me(F,6),W.wb=Me(F,3),W.Pc=Te(F),W.Pc&&Te(F)){for(re=0;4>re;++re)Te(F)&&(W.vd[re]=fe(F,6));for(re=0;4>re;++re)Te(F)&&(W.od[re]=fe(F,6))}if(d.L=W.Tb==0?0:W.zd?1:2,F.Ka)return Qt(d,3,"cannot parse filter header");var ye=_;if(_=Y=N,N=Y+ye,W=ye,d.Xb=(1<<Me(d.m,2))-1,ye<3*(re=d.Xb))j=7;else{for(Y+=3*re,W-=3*re,ye=0;ye<re;++ye){var Oe=j[_+0]|j[_+1]<<8|j[_+2]<<16;Oe>W&&(Oe=W),Re(d.Jc[+ye],j,Y,Oe),Y+=Oe,W-=Oe,_+=3}Re(d.Jc[+re],j,Y,W),j=Y<N?0:5}if(j!=0)return Qt(d,j,"cannot parse partitions");for(j=Me(Y=d.m,7),_=Te(Y)?fe(Y,4):0,N=Te(Y)?fe(Y,4):0,W=Te(Y)?fe(Y,4):0,re=Te(Y)?fe(Y,4):0,Y=Te(Y)?fe(Y,4):0,ye=d.Qa,Oe=0;4>Oe;++Oe){if(ye.Cb){var ae=ye.Zb[Oe];ye.Fb||(ae+=j)}else{if(0<Oe){d.pb[Oe]=d.pb[0];continue}ae=j}var we=d.pb[Oe];we.Sc[0]=Zs[Qn(ae+_,127)],we.Sc[1]=ko[Qn(ae+0,127)],we.Eb[0]=2*Zs[Qn(ae+N,127)],we.Eb[1]=101581*ko[Qn(ae+W,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=Zs[Qn(ae+re,117)],we.Qc[1]=ko[Qn(ae+Y,127)],we.lc=ae+Y}if(!B.Rb)return Qt(d,4,"Not a key frame.");for(Te(F),B=d.Pa,j=0;4>j;++j){for(_=0;8>_;++_)for(N=0;3>N;++N)for(W=0;11>W;++W)re=ze(F,Co[j][_][N][W])?Me(F,8):Pl[j][_][N][W],B.Wc[j][_].Yb[N][W]=re;for(_=0;17>_;++_)B.Xc[j][_]=B.Wc[j][eo[_]]}return d.kc=Te(F),d.kc&&(d.Bd=Me(F,8)),d.cb=1}function mi(d,h,j,N,_,F,B){var W=h[_].Yb[j];for(j=0;16>_;++_){if(!ze(d,W[j+0]))return _;for(;!ze(d,W[j+1]);)if(W=h[++_].Yb[0],j=0,_==16)return 16;var Y=h[_+1].Yb;if(ze(d,W[j+2])){var re=d,ye=0;if(ze(re,(ae=W)[(Oe=j)+3]))if(ze(re,ae[Oe+6])){for(W=0,Oe=2*(ye=ze(re,ae[Oe+8]))+(ae=ze(re,ae[Oe+9+ye])),ye=0,ae=Ao[Oe];ae[W];++W)ye+=ye+ze(re,ae[W]);ye+=3+(8<<Oe)}else ze(re,ae[Oe+7])?(ye=7+2*ze(re,165),ye+=ze(re,145)):ye=5+ze(re,159);else ye=ze(re,ae[Oe+4])?3+ze(re,ae[Oe+5]):2;W=Y[2]}else ye=1,W=Y[1];Y=B+el[_],0>(re=d).b&&De(re);var Oe,ae=re.b,we=(Oe=re.Ca>>1)-(re.I>>ae)>>31;--re.b,re.Ca+=we,re.Ca|=1,re.I-=(Oe+1&we)<<ae,F[Y]=((ye^we)-we)*N[(0<_)+0]}return 16}function $i(d){var h=d.rb[d.sb-1];h.la=0,h.Na=0,c(d.zc,0,0,d.zc.length),d.ja=0}function ni(d,h,j,N,_){_=d[h+j+32*N]+(_>>3),d[h+j+32*N]=-256&_?0>_?0:255:_}function Hr(d,h,j,N,_,F){ni(d,h,0,j,N+_),ni(d,h,1,j,N+F),ni(d,h,2,j,N-F),ni(d,h,3,j,N-_)}function ri(d){return(20091*d>>16)+d}function bs(d,h,j,N){var _,F=0,B=l(16);for(_=0;4>_;++_){var W=d[h+0]+d[h+8],Y=d[h+0]-d[h+8],re=(35468*d[h+4]>>16)-ri(d[h+12]),ye=ri(d[h+4])+(35468*d[h+12]>>16);B[F+0]=W+ye,B[F+1]=Y+re,B[F+2]=Y-re,B[F+3]=W-ye,F+=4,h++}for(_=F=0;4>_;++_)W=(d=B[F+0]+4)+B[F+8],Y=d-B[F+8],re=(35468*B[F+4]>>16)-ri(B[F+12]),ni(j,N,0,0,W+(ye=ri(B[F+4])+(35468*B[F+12]>>16))),ni(j,N,1,0,Y+re),ni(j,N,2,0,Y-re),ni(j,N,3,0,W-ye),F++,N+=32}function Fo(d,h,j,N){var _=d[h+0]+4,F=35468*d[h+4]>>16,B=ri(d[h+4]),W=35468*d[h+1]>>16;Hr(j,N,0,_+B,d=ri(d[h+1]),W),Hr(j,N,1,_+F,d,W),Hr(j,N,2,_-F,d,W),Hr(j,N,3,_-B,d,W)}function Bn(d,h,j,N,_){bs(d,h,j,N),_&&bs(d,h+16,j,N+4)}function Oa(d,h,j,N){Js(d,h+0,j,N,1),Js(d,h+32,j,N+128,1)}function ra(d,h,j,N){var _;for(d=d[h+0]+4,_=0;4>_;++_)for(h=0;4>h;++h)ni(j,N,h,_,d)}function Pn(d,h,j,N){d[h+0]&&En(d,h+0,j,N),d[h+16]&&En(d,h+16,j,N+4),d[h+32]&&En(d,h+32,j,N+128),d[h+48]&&En(d,h+48,j,N+128+4)}function gi(d,h,j,N){var _,F=l(16);for(_=0;4>_;++_){var B=d[h+0+_]+d[h+12+_],W=d[h+4+_]+d[h+8+_],Y=d[h+4+_]-d[h+8+_],re=d[h+0+_]-d[h+12+_];F[0+_]=B+W,F[8+_]=B-W,F[4+_]=re+Y,F[12+_]=re-Y}for(_=0;4>_;++_)B=(d=F[0+4*_]+3)+F[3+4*_],W=F[1+4*_]+F[2+4*_],Y=F[1+4*_]-F[2+4*_],re=d-F[3+4*_],j[N+0]=B+W>>3,j[N+16]=re+Y>>3,j[N+32]=B-W>>3,j[N+48]=re-Y>>3,N+=64}function ws(d,h,j){var N,_=h-32,F=Ea,B=255-d[_-1];for(N=0;N<j;++N){var W,Y=F,re=B+d[h-1];for(W=0;W<j;++W)d[h+W]=Y[re+d[_+W]];h+=32}}function Oo(d,h){ws(d,h,4)}function js(d,h){ws(d,h,8)}function aa(d,h){ws(d,h,16)}function Hi(d,h){var j;for(j=0;16>j;++j)o(d,h+32*j,d,h-32,16)}function wn(d,h){var j;for(j=16;0<j;--j)c(d,h,d[h-1],16),h+=32}function lr(d,h,j){var N;for(N=0;16>N;++N)c(h,j+32*N,d,16)}function Ba(d,h){var j,N=16;for(j=0;16>j;++j)N+=d[h-1+32*j]+d[h+j-32];lr(N>>5,d,h)}function Ca(d,h){var j,N=8;for(j=0;16>j;++j)N+=d[h-1+32*j];lr(N>>4,d,h)}function Hn(d,h){var j,N=8;for(j=0;16>j;++j)N+=d[h+j-32];lr(N>>4,d,h)}function ma(d,h){lr(128,d,h)}function en(d,h,j){return d+2*h+j+2>>2}function ai(d,h){var j,N=h-32;for(N=new Uint8Array([en(d[N-1],d[N+0],d[N+1]),en(d[N+0],d[N+1],d[N+2]),en(d[N+1],d[N+2],d[N+3]),en(d[N+2],d[N+3],d[N+4])]),j=0;4>j;++j)o(d,h+32*j,N,0,N.length)}function kn(d,h){var j=d[h-1],N=d[h-1+32],_=d[h-1+64],F=d[h-1+96];Ee(d,h+0,16843009*en(d[h-1-32],j,N)),Ee(d,h+32,16843009*en(j,N,_)),Ee(d,h+64,16843009*en(N,_,F)),Ee(d,h+96,16843009*en(_,F,F))}function zs(d,h){var j,N=4;for(j=0;4>j;++j)N+=d[h+j-32]+d[h-1+32*j];for(N>>=3,j=0;4>j;++j)c(d,h+32*j,N,4)}function _r(d,h){var j=d[h-1+0],N=d[h-1+32],_=d[h-1+64],F=d[h-1-32],B=d[h+0-32],W=d[h+1-32],Y=d[h+2-32],re=d[h+3-32];d[h+0+96]=en(N,_,d[h-1+96]),d[h+1+96]=d[h+0+64]=en(j,N,_),d[h+2+96]=d[h+1+64]=d[h+0+32]=en(F,j,N),d[h+3+96]=d[h+2+64]=d[h+1+32]=d[h+0+0]=en(B,F,j),d[h+3+64]=d[h+2+32]=d[h+1+0]=en(W,B,F),d[h+3+32]=d[h+2+0]=en(Y,W,B),d[h+3+0]=en(re,Y,W)}function Vi(d,h){var j=d[h+1-32],N=d[h+2-32],_=d[h+3-32],F=d[h+4-32],B=d[h+5-32],W=d[h+6-32],Y=d[h+7-32];d[h+0+0]=en(d[h+0-32],j,N),d[h+1+0]=d[h+0+32]=en(j,N,_),d[h+2+0]=d[h+1+32]=d[h+0+64]=en(N,_,F),d[h+3+0]=d[h+2+32]=d[h+1+64]=d[h+0+96]=en(_,F,B),d[h+3+32]=d[h+2+64]=d[h+1+96]=en(F,B,W),d[h+3+64]=d[h+2+96]=en(B,W,Y),d[h+3+96]=en(W,Y,Y)}function Us(d,h){var j=d[h-1+0],N=d[h-1+32],_=d[h-1+64],F=d[h-1-32],B=d[h+0-32],W=d[h+1-32],Y=d[h+2-32],re=d[h+3-32];d[h+0+0]=d[h+1+64]=F+B+1>>1,d[h+1+0]=d[h+2+64]=B+W+1>>1,d[h+2+0]=d[h+3+64]=W+Y+1>>1,d[h+3+0]=Y+re+1>>1,d[h+0+96]=en(_,N,j),d[h+0+64]=en(N,j,F),d[h+0+32]=d[h+1+96]=en(j,F,B),d[h+1+32]=d[h+2+96]=en(F,B,W),d[h+2+32]=d[h+3+96]=en(B,W,Y),d[h+3+32]=en(W,Y,re)}function Ss(d,h){var j=d[h+0-32],N=d[h+1-32],_=d[h+2-32],F=d[h+3-32],B=d[h+4-32],W=d[h+5-32],Y=d[h+6-32],re=d[h+7-32];d[h+0+0]=j+N+1>>1,d[h+1+0]=d[h+0+64]=N+_+1>>1,d[h+2+0]=d[h+1+64]=_+F+1>>1,d[h+3+0]=d[h+2+64]=F+B+1>>1,d[h+0+32]=en(j,N,_),d[h+1+32]=d[h+0+96]=en(N,_,F),d[h+2+32]=d[h+1+96]=en(_,F,B),d[h+3+32]=d[h+2+96]=en(F,B,W),d[h+3+64]=en(B,W,Y),d[h+3+96]=en(W,Y,re)}function Pa(d,h){var j=d[h-1+0],N=d[h-1+32],_=d[h-1+64],F=d[h-1+96];d[h+0+0]=j+N+1>>1,d[h+2+0]=d[h+0+32]=N+_+1>>1,d[h+2+32]=d[h+0+64]=_+F+1>>1,d[h+1+0]=en(j,N,_),d[h+3+0]=d[h+1+32]=en(N,_,F),d[h+3+32]=d[h+1+64]=en(_,F,F),d[h+3+64]=d[h+2+64]=d[h+0+96]=d[h+1+96]=d[h+2+96]=d[h+3+96]=F}function Bo(d,h){var j=d[h-1+0],N=d[h-1+32],_=d[h-1+64],F=d[h-1+96],B=d[h-1-32],W=d[h+0-32],Y=d[h+1-32],re=d[h+2-32];d[h+0+0]=d[h+2+32]=j+B+1>>1,d[h+0+32]=d[h+2+64]=N+j+1>>1,d[h+0+64]=d[h+2+96]=_+N+1>>1,d[h+0+96]=F+_+1>>1,d[h+3+0]=en(W,Y,re),d[h+2+0]=en(B,W,Y),d[h+1+0]=d[h+3+32]=en(j,B,W),d[h+1+32]=d[h+3+64]=en(N,j,B),d[h+1+64]=d[h+3+96]=en(_,N,j),d[h+1+96]=en(F,_,N)}function xi(d,h){var j;for(j=0;8>j;++j)o(d,h+32*j,d,h-32,8)}function ir(d,h){var j;for(j=0;8>j;++j)c(d,h,d[h-1],8),h+=32}function La(d,h,j){var N;for(N=0;8>N;++N)c(h,j+32*N,d,8)}function ds(d,h){var j,N=8;for(j=0;8>j;++j)N+=d[h+j-32]+d[h-1+32*j];La(N>>4,d,h)}function Ws(d,h){var j,N=4;for(j=0;8>j;++j)N+=d[h+j-32];La(N>>3,d,h)}function pr(d,h){var j,N=4;for(j=0;8>j;++j)N+=d[h-1+32*j];La(N>>3,d,h)}function qs(d,h){La(128,d,h)}function yi(d,h,j){var N=d[h-j],_=d[h+0],F=3*(_-N)+ts[1020+d[h-2*j]-d[h+j]],B=wo[112+(F+4>>3)];d[h-j]=Ea[255+N+wo[112+(F+3>>3)]],d[h+0]=Ea[255+_-B]}function Yi(d,h,j,N){var _=d[h+0],F=d[h+j];return Ci[255+d[h-2*j]-d[h-j]]>N||Ci[255+F-_]>N}function $s(d,h,j,N){return 4*Ci[255+d[h-j]-d[h+0]]+Ci[255+d[h-2*j]-d[h+j]]<=N}function ga(d,h,j,N,_){var F=d[h-3*j],B=d[h-2*j],W=d[h-j],Y=d[h+0],re=d[h+j],ye=d[h+2*j],Oe=d[h+3*j];return 4*Ci[255+W-Y]+Ci[255+B-re]>N?0:Ci[255+d[h-4*j]-F]<=_&&Ci[255+F-B]<=_&&Ci[255+B-W]<=_&&Ci[255+Oe-ye]<=_&&Ci[255+ye-re]<=_&&Ci[255+re-Y]<=_}function Vr(d,h,j,N){var _=2*N+1;for(N=0;16>N;++N)$s(d,h+N,j,_)&&yi(d,h+N,j)}function vi(d,h,j,N){var _=2*N+1;for(N=0;16>N;++N)$s(d,h+N*j,1,_)&&yi(d,h+N*j,1)}function jn(d,h,j,N){var _;for(_=3;0<_;--_)Vr(d,h+=4*j,j,N)}function _a(d,h,j,N){var _;for(_=3;0<_;--_)vi(d,h+=4,j,N)}function Rn(d,h,j,N,_,F,B,W){for(F=2*F+1;0<_--;){if(ga(d,h,j,F,B))if(Yi(d,h,j,W))yi(d,h,j);else{var Y=d,re=h,ye=j,Oe=Y[re-2*ye],ae=Y[re-ye],we=Y[re+0],Fe=Y[re+ye],Je=Y[re+2*ye],Ue=27*(Ge=ts[1020+3*(we-ae)+ts[1020+Oe-Fe]])+63>>7,Ye=18*Ge+63>>7,Ge=9*Ge+63>>7;Y[re-3*ye]=Ea[255+Y[re-3*ye]+Ge],Y[re-2*ye]=Ea[255+Oe+Ye],Y[re-ye]=Ea[255+ae+Ue],Y[re+0]=Ea[255+we-Ue],Y[re+ye]=Ea[255+Fe-Ye],Y[re+2*ye]=Ea[255+Je-Ge]}h+=N}}function Ti(d,h,j,N,_,F,B,W){for(F=2*F+1;0<_--;){if(ga(d,h,j,F,B))if(Yi(d,h,j,W))yi(d,h,j);else{var Y=d,re=h,ye=j,Oe=Y[re-ye],ae=Y[re+0],we=Y[re+ye],Fe=wo[112+(4+(Je=3*(ae-Oe))>>3)],Je=wo[112+(Je+3>>3)],Ue=Fe+1>>1;Y[re-2*ye]=Ea[255+Y[re-2*ye]+Ue],Y[re-ye]=Ea[255+Oe+Je],Y[re+0]=Ea[255+ae-Fe],Y[re+ye]=Ea[255+we-Ue]}h+=N}}function sr(d,h,j,N,_,F){Rn(d,h,j,1,16,N,_,F)}function bi(d,h,j,N,_,F){Rn(d,h,1,j,16,N,_,F)}function xa(d,h,j,N,_,F){var B;for(B=3;0<B;--B)Ti(d,h+=4*j,j,1,16,N,_,F)}function x(d,h,j,N,_,F){var B;for(B=3;0<B;--B)Ti(d,h+=4,1,j,16,N,_,F)}function L(d,h,j,N,_,F,B,W){Rn(d,h,_,1,8,F,B,W),Rn(j,N,_,1,8,F,B,W)}function ie(d,h,j,N,_,F,B,W){Rn(d,h,1,_,8,F,B,W),Rn(j,N,1,_,8,F,B,W)}function me(d,h,j,N,_,F,B,W){Ti(d,h+4*_,_,1,8,F,B,W),Ti(j,N+4*_,_,1,8,F,B,W)}function Pe(d,h,j,N,_,F,B,W){Ti(d,h+4,1,_,8,F,B,W),Ti(j,N+4,1,_,8,F,B,W)}function Ke(){this.ba=new ft,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new hn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function tt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Nt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bt(){this.ua=0,this.Wa=new It,this.vb=new It,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ke,this.yc=new ne}function Yt(){this.xb=this.a=0,this.l=new pi,this.ca=new ft,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bt,this.ab=0,this.gc=m(4,Nt),this.Oc=0}function an(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new pi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xn(d,h,j,N,_,F,B){for(d=d==null?0:d[h+0],h=0;h<B;++h)_[F+h]=d+j[N+h]&255,d=_[F+h]}function cr(d,h,j,N,_,F,B){var W;if(d==null)xn(null,null,j,N,_,F,B);else for(W=0;W<B;++W)_[F+W]=d[h+W]+j[N+W]&255}function dr(d,h,j,N,_,F,B){if(d==null)xn(null,null,j,N,_,F,B);else{var W,Y=d[h+0],re=Y,ye=Y;for(W=0;W<B;++W)re=ye+(Y=d[h+W])-re,ye=j[N+W]+(-256&re?0>re?0:255:re)&255,re=Y,_[F+W]=ye}}function Vn(d,h,j,N){var _=h.width,F=h.o;if(a(d!=null&&h!=null),0>j||0>=N||j+N>F)return null;if(!d.Cc){if(d.ga==null){var B;if(d.ga=new an,(B=d.ga==null)||(B=h.width*h.o,a(d.Gb.length==0),d.Gb=l(B),d.Uc=0,d.Gb==null?B=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,B=1),B=!B),!B){B=d.ga;var W=d.Fa,Y=d.P,re=d.qc,ye=d.mb,Oe=d.nb,ae=Y+1,we=re-1,Fe=B.l;if(a(W!=null&&ye!=null&&h!=null),E[0]=null,E[1]=xn,E[2]=cr,E[3]=dr,B.ca=ye,B.tb=Oe,B.c=h.width,B.i=h.height,a(0<B.c&&0<B.i),1>=re)h=0;else if(B.$a=3&W[Y+0],B.Z=W[Y+0]>>2&3,B.Lc=W[Y+0]>>4&3,Y=W[Y+0]>>6&3,0>B.$a||1<B.$a||4<=B.Z||1<B.Lc||Y)h=0;else if(Fe.put=St,Fe.ac=rn,Fe.bc=Ht,Fe.ma=B,Fe.width=h.width,Fe.height=h.height,Fe.Da=h.Da,Fe.v=h.v,Fe.va=h.va,Fe.j=h.j,Fe.o=h.o,B.$a)e:{a(B.$a==1),h=$n();t:for(;;){if(h==null){h=0;break e}if(a(B!=null),B.mc=h,h.c=B.c,h.i=B.i,h.l=B.l,h.l.ma=B,h.l.width=B.c,h.l.height=B.i,h.a=0,Le(h.m,W,ae,we),!Kn(B.c,B.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&Xa(h.s)?(B.ic=1,W=h.c*h.i,h.Ta=null,h.Ua=0,h.V=l(W),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(B.ic=0,h=Xn(h,B.c)),!h))break t;h=1;break e}B.mc=null,h=0}else h=we>=B.c*B.i;B=!h}if(B)return null;d.ga.Lc!=1?d.Ga=0:N=F-j}a(d.ga!=null),a(j+N<=F);e:{if(h=(W=d.ga).c,F=W.l.o,W.$a==0){if(ae=d.rc,we=d.Vc,Fe=d.Fa,Y=d.P+1+j*h,re=d.mb,ye=d.nb+j*h,a(Y<=d.P+d.qc),W.Z!=0)for(a(E[W.Z]!=null),B=0;B<N;++B)E[W.Z](ae,we,Fe,Y,re,ye,h),ae=re,we=ye,ye+=h,Y+=h;else for(B=0;B<N;++B)o(re,ye,Fe,Y,h),ae=re,we=ye,ye+=h,Y+=h;d.rc=ae,d.Vc=we}else{if(a(W.mc!=null),h=j+N,a((B=W.mc)!=null),a(h<=B.i),B.C>=h)h=1;else if(W.ic||Zn(),W.ic){W=B.V,ae=B.Ba,we=B.c;var Je=B.i,Ue=(Fe=1,Y=B.$/we,re=B.$%we,ye=B.m,Oe=B.s,B.$),Ye=we*Je,Ge=we*h,Ze=Oe.wc,et=Ue<Ge?qn(Oe,re,Y):null;a(Ue<=Ye),a(h<=Je),a(Xa(Oe));t:for(;;){for(;!ye.h&&Ue<Ge;){if(re&Ze||(et=qn(Oe,re,Y)),a(et!=null),be(ye),256>(Je=On(et.G[0],et.H[0],ye)))W[ae+Ue]=Je,++Ue,++re>=we&&(re=0,++Y<=h&&!(Y%16)&&Mn(B,Y));else{if(!(280>Je)){Fe=0;break t}Je=ta(Je-256,ye);var $t,Lt=On(et.G[4],et.H[4],ye);if(be(ye),!(Ue>=(Lt=Ka(we,Lt=ta(Lt,ye)))&&Ye-Ue>=Je)){Fe=0;break t}for($t=0;$t<Je;++$t)W[ae+Ue+$t]=W[ae+Ue+$t-Lt];for(Ue+=Je,re+=Je;re>=we;)re-=we,++Y<=h&&!(Y%16)&&Mn(B,Y);Ue<Ge&&re&Ze&&(et=qn(Oe,re,Y))}a(ye.h==le(ye))}Mn(B,Y>h?h:Y);break t}!Fe||ye.h&&Ue<Ye?(Fe=0,B.a=ye.h?5:3):B.$=Ue,h=Fe}else h=Ta(B,B.V,B.Ba,B.c,B.i,h,Fr);if(!h){N=0;break e}}j+N>=F&&(d.Cc=1),N=1}if(!N)return null;if(d.Cc&&((N=d.ga)!=null&&(N.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+j*_}function Sr(d,h,j,N,_,F){for(;0<_--;){var B,W=d,Y=h+(j?1:0),re=d,ye=h+(j?0:3);for(B=0;B<N;++B){var Oe=re[ye+4*B];Oe!=255&&(Oe*=32897,W[Y+4*B+0]=W[Y+4*B+0]*Oe>>23,W[Y+4*B+1]=W[Y+4*B+1]*Oe>>23,W[Y+4*B+2]=W[Y+4*B+2]*Oe>>23)}h+=F}}function Nr(d,h,j,N,_){for(;0<N--;){var F;for(F=0;F<j;++F){var B=d[h+2*F+0],W=15&(re=d[h+2*F+1]),Y=4369*W,re=(240&re|re>>4)*Y>>16;d[h+2*F+0]=(240&B|B>>4)*Y>>16&240|(15&B|B<<4)*Y>>16>>4&15,d[h+2*F+1]=240&re|W}h+=_}}function Yr(d,h,j,N,_,F,B,W){var Y,re,ye=255;for(re=0;re<_;++re){for(Y=0;Y<N;++Y){var Oe=d[h+Y];F[B+4*Y]=Oe,ye&=Oe}h+=j,B+=W}return ye!=255}function Gi(d,h,j,N,_){var F;for(F=0;F<_;++F)j[N+F]=d[h+F]>>8}function Zn(){Xs=Sr,vo=Nr,bo=Yr,wl=Gi}function Fi(d,h,j){te[d]=function(N,_,F,B,W,Y,re,ye,Oe,ae,we,Fe,Je,Ue,Ye,Ge,Ze){var et,$t=Ze-1>>1,Lt=W[Y+0]|re[ye+0]<<16,fn=Oe[ae+0]|we[Fe+0]<<16;a(N!=null);var Tt=3*Lt+fn+131074>>2;for(h(N[_+0],255&Tt,Tt>>16,Je,Ue),F!=null&&(Tt=3*fn+Lt+131074>>2,h(F[B+0],255&Tt,Tt>>16,Ye,Ge)),et=1;et<=$t;++et){var An=W[Y+et]|re[ye+et]<<16,Er=Oe[ae+et]|we[Fe+et]<<16,pn=Lt+An+fn+Er+524296,_t=pn+2*(An+fn)>>3;Tt=_t+Lt>>1,Lt=(pn=pn+2*(Lt+Er)>>3)+An>>1,h(N[_+2*et-1],255&Tt,Tt>>16,Je,Ue+(2*et-1)*j),h(N[_+2*et-0],255&Lt,Lt>>16,Je,Ue+(2*et-0)*j),F!=null&&(Tt=pn+fn>>1,Lt=_t+Er>>1,h(F[B+2*et-1],255&Tt,Tt>>16,Ye,Ge+(2*et-1)*j),h(F[B+2*et+0],255&Lt,Lt>>16,Ye,Ge+(2*et+0)*j)),Lt=An,fn=Er}1&Ze||(Tt=3*Lt+fn+131074>>2,h(N[_+Ze-1],255&Tt,Tt>>16,Je,Ue+(Ze-1)*j),F!=null&&(Tt=3*fn+Lt+131074>>2,h(F[B+Ze-1],255&Tt,Tt>>16,Ye,Ge+(Ze-1)*j)))}}function kr(){X[Xo]=V,X[us]=Se,X[Cl]=Ce,X[jo]=Xe,X[So]=rt,X[Un]=Gt,X[Qo]=yt,X[No]=Se,X[Br]=Xe,X[Wa]=rt,X[Wo]=Gt}function wi(d){return d&-16384?0>d?0:255:d>>ba}function Ji(d,h){return wi((19077*d>>8)+(26149*h>>8)-14234)}function Ns(d,h,j){return wi((19077*d>>8)-(6419*h>>8)-(13320*j>>8)+8708)}function Ki(d,h){return wi((19077*d>>8)+(33050*h>>8)-17685)}function ii(d,h,j,N,_){N[_+0]=Ji(d,j),N[_+1]=Ns(d,h,j),N[_+2]=Ki(d,h)}function mr(d,h,j,N,_){N[_+0]=Ki(d,h),N[_+1]=Ns(d,h,j),N[_+2]=Ji(d,j)}function Oi(d,h,j,N,_){var F=Ns(d,h,j);h=F<<3&224|Ki(d,h)>>3,N[_+0]=248&Ji(d,j)|F>>5,N[_+1]=h}function ks(d,h,j,N,_){var F=240&Ki(d,h)|15;N[_+0]=240&Ji(d,j)|Ns(d,h,j)>>4,N[_+1]=F}function si(d,h,j,N,_){N[_+0]=255,ii(d,h,j,N,_+1)}function oi(d,h,j,N,_){mr(d,h,j,N,_),N[_+3]=255}function gr(d,h,j,N,_){ii(d,h,j,N,_),N[_+3]=255}function Xi(d,h,j){te[d]=function(N,_,F,B,W,Y,re,ye,Oe){for(var ae=ye+(-2&Oe)*j;ye!=ae;)h(N[_+0],F[B+0],W[Y+0],re,ye),h(N[_+1],F[B+0],W[Y+0],re,ye+j),_+=2,++B,++Y,ye+=2*j;1&Oe&&h(N[_+0],F[B+0],W[Y+0],re,ye)}}function Ia(d,h,j){return j==0?d==0?h==0?6:5:h==0?4:0:j}function Qi(d,h,j,N,_){switch(d>>>30){case 3:Js(h,j,N,_,0);break;case 2:xr(h,j,N,_);break;case 1:En(h,j,N,_)}}function ya(d,h){var j,N,_=h.M,F=h.Nb,B=d.oc,W=d.pc+40,Y=d.oc,re=d.pc+584,ye=d.oc,Oe=d.pc+600;for(j=0;16>j;++j)B[W+32*j-1]=129;for(j=0;8>j;++j)Y[re+32*j-1]=129,ye[Oe+32*j-1]=129;for(0<_?B[W-1-32]=Y[re-1-32]=ye[Oe-1-32]=129:(c(B,W-32-1,127,21),c(Y,re-32-1,127,9),c(ye,Oe-32-1,127,9)),N=0;N<d.za;++N){var ae=h.ya[h.aa+N];if(0<N){for(j=-1;16>j;++j)o(B,W+32*j-4,B,W+32*j+12,4);for(j=-1;8>j;++j)o(Y,re+32*j-4,Y,re+32*j+4,4),o(ye,Oe+32*j-4,ye,Oe+32*j+4,4)}var we=d.Gd,Fe=d.Hd+N,Je=ae.ad,Ue=ae.Hc;if(0<_&&(o(B,W-32,we[Fe].y,0,16),o(Y,re-32,we[Fe].f,0,8),o(ye,Oe-32,we[Fe].ea,0,8)),ae.Za){var Ye=B,Ge=W-32+16;for(0<_&&(N>=d.za-1?c(Ye,Ge,we[Fe].y[15],4):o(Ye,Ge,we[Fe+1].y,0,4)),j=0;4>j;j++)Ye[Ge+128+j]=Ye[Ge+256+j]=Ye[Ge+384+j]=Ye[Ge+0+j];for(j=0;16>j;++j,Ue<<=2)Ye=B,Ge=W+Lc[j],u[ae.Ob[j]](Ye,Ge),Qi(Ue,Je,16*+j,Ye,Ge)}else if(Ye=Ia(N,_,ae.Ob[0]),Ma[Ye](B,W),Ue!=0)for(j=0;16>j;++j,Ue<<=2)Qi(Ue,Je,16*+j,B,W+Lc[j]);for(j=ae.Gc,Ye=Ia(N,_,ae.Dd),k[Ye](Y,re),k[Ye](ye,Oe),Ue=Je,Ye=Y,Ge=re,255&(ae=0|j)&&(170&ae?Ua(Ue,256,Ye,Ge):Sn(Ue,256,Ye,Ge)),ae=ye,Ue=Oe,255&(j>>=8)&&(170&j?Ua(Je,320,ae,Ue):Sn(Je,320,ae,Ue)),_<d.Ub-1&&(o(we[Fe].y,0,B,W+480,16),o(we[Fe].f,0,Y,re+224,8),o(we[Fe].ea,0,ye,Oe+224,8)),j=8*F*d.B,we=d.sa,Fe=d.ta+16*N+16*F*d.R,Je=d.qa,ae=d.ra+8*N+j,Ue=d.Ha,Ye=d.Ia+8*N+j,j=0;16>j;++j)o(we,Fe+j*d.R,B,W+32*j,16);for(j=0;8>j;++j)o(Je,ae+j*d.B,Y,re+32*j,8),o(Ue,Ye+j*d.B,ye,Oe+32*j,8)}}function jt(d,h,j,N,_,F,B,W,Y){var re=[0],ye=[0],Oe=0,ae=Y!=null?Y.kd:0,we=Y??new tt;if(d==null||12>j)return 7;we.data=d,we.w=h,we.ha=j,h=[h],j=[j],we.gb=[we.gb];e:{var Fe=h,Je=j,Ue=we.gb;if(a(d!=null),a(Je!=null),a(Ue!=null),Ue[0]=0,12<=Je[0]&&!r(d,Fe[0],"RIFF")){if(r(d,Fe[0]+8,"WEBP")){Ue=3;break e}var Ye=at(d,Fe[0]+4);if(12>Ye||4294967286<Ye){Ue=3;break e}if(ae&&Ye>Je[0]-8){Ue=7;break e}Ue[0]=Ye,Fe[0]+=12,Je[0]-=12}Ue=0}if(Ue!=0)return Ue;for(Ye=0<we.gb[0],j=j[0];;){e:{var Ge=d;Je=h,Ue=j;var Ze=re,et=ye,$t=Fe=[0];if((Tt=Oe=[Oe])[0]=0,8>Ue[0])Ue=7;else{if(!r(Ge,Je[0],"VP8X")){if(at(Ge,Je[0]+4)!=10){Ue=3;break e}if(18>Ue[0]){Ue=7;break e}var Lt=at(Ge,Je[0]+8),fn=1+ot(Ge,Je[0]+12);if(2147483648<=fn*(Ge=1+ot(Ge,Je[0]+15))){Ue=3;break e}$t!=null&&($t[0]=Lt),Ze!=null&&(Ze[0]=fn),et!=null&&(et[0]=Ge),Je[0]+=18,Ue[0]-=18,Tt[0]=1}Ue=0}}if(Oe=Oe[0],Fe=Fe[0],Ue!=0)return Ue;if(Je=!!(2&Fe),!Ye&&Oe)return 3;if(F!=null&&(F[0]=!!(16&Fe)),B!=null&&(B[0]=Je),W!=null&&(W[0]=0),B=re[0],Fe=ye[0],Oe&&Je&&Y==null){Ue=0;break}if(4>j){Ue=7;break}if(Ye&&Oe||!Ye&&!Oe&&!r(d,h[0],"ALPH")){j=[j],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{Lt=d,Ue=h,Ye=j;var Tt=we.gb;Ze=we.na,et=we.P,$t=we.Sa,fn=22,a(Lt!=null),a(Ye!=null),Ge=Ue[0];var An=Ye[0];for(a(Ze!=null),a($t!=null),Ze[0]=null,et[0]=null,$t[0]=0;;){if(Ue[0]=Ge,Ye[0]=An,8>An){Ue=7;break e}var Er=at(Lt,Ge+4);if(4294967286<Er){Ue=3;break e}var pn=8+Er+1&-2;if(fn+=pn,0<Tt&&fn>Tt){Ue=3;break e}if(!r(Lt,Ge,"VP8 ")||!r(Lt,Ge,"VP8L")){Ue=0;break e}if(An[0]<pn){Ue=7;break e}r(Lt,Ge,"ALPH")||(Ze[0]=Lt,et[0]=Ge+8,$t[0]=Er),Ge+=pn,An-=pn}}if(j=j[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],Ue!=0)break}j=[j],we.Ja=[we.Ja],we.xa=[we.xa];e:if(Tt=d,Ue=h,Ye=j,Ze=we.gb[0],et=we.Ja,$t=we.xa,Lt=Ue[0],Ge=!r(Tt,Lt,"VP8 "),fn=!r(Tt,Lt,"VP8L"),a(Tt!=null),a(Ye!=null),a(et!=null),a($t!=null),8>Ye[0])Ue=7;else{if(Ge||fn){if(Tt=at(Tt,Lt+4),12<=Ze&&Tt>Ze-12){Ue=3;break e}if(ae&&Tt>Ye[0]-8){Ue=7;break e}et[0]=Tt,Ue[0]+=8,Ye[0]-=8,$t[0]=fn}else $t[0]=5<=Ye[0]&&Tt[Lt+0]==47&&!(Tt[Lt+4]>>5),et[0]=Ye[0];Ue=0}if(j=j[0],we.Ja=we.Ja[0],we.xa=we.xa[0],h=h[0],Ue!=0)break;if(4294967286<we.Ja)return 3;if(W==null||Je||(W[0]=we.xa?2:1),B=[B],Fe=[Fe],we.xa){if(5>j){Ue=7;break}W=B,ae=Fe,Je=F,d==null||5>j?d=0:5<=j&&d[h+0]==47&&!(d[h+4]>>5)?(Ye=[0],Tt=[0],Ze=[0],Le(et=new J,d,h,j),Jn(et,Ye,Tt,Ze)?(W!=null&&(W[0]=Ye[0]),ae!=null&&(ae[0]=Tt[0]),Je!=null&&(Je[0]=Ze[0]),d=1):d=0):d=0}else{if(10>j){Ue=7;break}W=Fe,d==null||10>j||!ei(d,h+3,j-3)?d=0:(ae=d[h+0]|d[h+1]<<8|d[h+2]<<16,Je=16383&(d[h+7]<<8|d[h+6]),d=16383&(d[h+9]<<8|d[h+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=we.Ja||!Je||!d?d=0:(B&&(B[0]=Je),W&&(W[0]=d),d=1))}if(!d||(B=B[0],Fe=Fe[0],Oe&&(re[0]!=B||ye[0]!=Fe)))return 3;Y!=null&&(Y[0]=we,Y.offset=h-Y.w,a(4294967286>h-Y.w),a(Y.offset==Y.ha-j));break}return Ue==0||Ue==7&&Oe&&Y==null?(F!=null&&(F[0]|=we.na!=null&&0<we.na.length),N!=null&&(N[0]=B),_!=null&&(_[0]=Fe),0):Ue}function _n(d,h,j){var N=h.width,_=h.height,F=0,B=0,W=N,Y=_;if(h.Da=d!=null&&0<d.Da,h.Da&&(W=d.cd,Y=d.bd,F=d.v,B=d.j,11>j||(F&=-2,B&=-2),0>F||0>B||0>=W||0>=Y||F+W>N||B+Y>_))return 0;if(h.v=F,h.j=B,h.va=F+W,h.o=B+Y,h.U=W,h.T=Y,h.da=d!=null&&0<d.da,h.da){if(!Ct(W,Y,j=[d.ib],F=[d.hb]))return 0;h.ib=j[0],h.hb=F[0]}return h.ob=d!=null&&d.ob,h.Kb=d==null||!d.Sd,h.da&&(h.ob=h.ib<3*N/4&&h.hb<3*_/4,h.Kb=0),1}function As(d){if(d==null)return 2;if(11>d.S){var h=d.f.RGBA;h.fb+=(d.height-1)*h.A,h.A=-h.A}else h=d.f.kb,d=d.height,h.O+=(d-1)*h.fa,h.fa=-h.fa,h.N+=(d-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(d-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(d-1)*h.lb,h.lb=-h.lb);return 0}function ji(d,h,j,N){if(N==null||0>=d||0>=h)return 2;if(j!=null){if(j.Da){var _=j.cd,F=j.bd,B=-2&j.v,W=-2&j.j;if(0>B||0>W||0>=_||0>=F||B+_>d||W+F>h)return 2;d=_,h=F}if(j.da){if(!Ct(d,h,_=[j.ib],F=[j.hb]))return 2;d=_[0],h=F[0]}}N.width=d,N.height=h;e:{var Y=N.width,re=N.height;if(d=N.S,0>=Y||0>=re||!(d>=Xo&&13>d))d=2;else{if(0>=N.Rd&&N.sd==null){B=F=_=h=0;var ye=(W=Y*Ll[d])*re;if(11>d||(F=(re+1)/2*(h=(Y+1)/2),d==12&&(B=(_=Y)*re)),(re=l(ye+2*F+B))==null){d=1;break e}N.sd=re,11>d?((Y=N.f.RGBA).eb=re,Y.fb=0,Y.A=W,Y.size=ye):((Y=N.f.kb).y=re,Y.O=0,Y.fa=W,Y.Fd=ye,Y.f=re,Y.N=0+ye,Y.Ab=h,Y.Cd=F,Y.ea=re,Y.W=0+ye+F,Y.Db=h,Y.Ed=F,d==12&&(Y.F=re,Y.J=0+ye+2*F),Y.Tc=B,Y.lb=_)}if(h=1,_=N.S,F=N.width,B=N.height,_>=Xo&&13>_)if(11>_)d=N.f.RGBA,h&=(W=Math.abs(d.A))*(B-1)+F<=d.size,h&=W>=F*Ll[_],h&=d.eb!=null;else{d=N.f.kb,W=(F+1)/2,ye=(B+1)/2,Y=Math.abs(d.fa),re=Math.abs(d.Ab);var Oe=Math.abs(d.Db),ae=Math.abs(d.lb),we=ae*(B-1)+F;h&=Y*(B-1)+F<=d.Fd,h&=re*(ye-1)+W<=d.Cd,h=(h&=Oe*(ye-1)+W<=d.Ed)&Y>=F&re>=W&Oe>=W,h&=d.y!=null,h&=d.f!=null,h&=d.ea!=null,_==12&&(h&=ae>=F,h&=we<=d.Tc,h&=d.F!=null)}else h=0;d=h?0:2}}return d!=0||j!=null&&j.fd&&(d=As(N)),d}var ia=64,li=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],va=24,Si=32,Or=8,Zi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];gt("Predictor0","PredictorAdd0"),te.Predictor0=function(){return 4278190080},te.Predictor1=function(d){return d},te.Predictor2=function(d,h,j){return h[j+0]},te.Predictor3=function(d,h,j){return h[j+1]},te.Predictor4=function(d,h,j){return h[j-1]},te.Predictor5=function(d,h,j){return Rt(Rt(d,h[j+1]),h[j+0])},te.Predictor6=function(d,h,j){return Rt(d,h[j-1])},te.Predictor7=function(d,h,j){return Rt(d,h[j+0])},te.Predictor8=function(d,h,j){return Rt(h[j-1],h[j+0])},te.Predictor9=function(d,h,j){return Rt(h[j+0],h[j+1])},te.Predictor10=function(d,h,j){return Rt(Rt(d,h[j-1]),Rt(h[j+0],h[j+1]))},te.Predictor11=function(d,h,j){var N=h[j+0];return 0>=Wt(N>>24&255,d>>24&255,(h=h[j-1])>>24&255)+Wt(N>>16&255,d>>16&255,h>>16&255)+Wt(N>>8&255,d>>8&255,h>>8&255)+Wt(255&N,255&d,255&h)?N:d},te.Predictor12=function(d,h,j){var N=h[j+0];return(wt((d>>24&255)+(N>>24&255)-((h=h[j-1])>>24&255))<<24|wt((d>>16&255)+(N>>16&255)-(h>>16&255))<<16|wt((d>>8&255)+(N>>8&255)-(h>>8&255))<<8|wt((255&d)+(255&N)-(255&h)))>>>0},te.Predictor13=function(d,h,j){var N=h[j-1];return(Kt((d=Rt(d,h[j+0]))>>24&255,N>>24&255)<<24|Kt(d>>16&255,N>>16&255)<<16|Kt(d>>8&255,N>>8&255)<<8|Kt(255&d,255&N))>>>0};var Bi=te.PredictorAdd0;te.PredictorAdd1=Xt,gt("Predictor2","PredictorAdd2"),gt("Predictor3","PredictorAdd3"),gt("Predictor4","PredictorAdd4"),gt("Predictor5","PredictorAdd5"),gt("Predictor6","PredictorAdd6"),gt("Predictor7","PredictorAdd7"),gt("Predictor8","PredictorAdd8"),gt("Predictor9","PredictorAdd9"),gt("Predictor10","PredictorAdd10"),gt("Predictor11","PredictorAdd11"),gt("Predictor12","PredictorAdd12"),gt("Predictor13","PredictorAdd13");var Ni=te.PredictorAdd2;je("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),je("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Yn,Hs=te.ColorIndexInverseTransform,es=te.MapARGB,za=te.VP8LColorIndexInverseTransformAlpha,Vs=te.MapAlpha,mo=te.VP8LPredictorsAdd=[];mo.length=16,(te.VP8LPredictors=[]).length=16,(te.VP8LPredictorsAdd_C=[]).length=16,(te.VP8LPredictors_C=[]).length=16;var Ys,go,ki,Cs,Gr,Gs,Jr,Js,xr,Ua,En,Sn,yr,Ir,Ai,vr,xo,Ps,In,yo,zo,Ko,Uo,Ks,Xs,vo,bo,wl,jl=l(511),Sl=l(2041),Nl=l(225),kl=l(767),Al=0,ts=Sl,wo=Nl,Ea=kl,Ci=jl,Xo=0,us=1,Cl=2,jo=3,So=4,Un=5,Qo=6,No=7,Br=8,Wa=9,Wo=10,We=[2,3,7],ci=[3,3,11],Qs=[280,256,256,256,40],Vl=[0,1,1,1,0],Cc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Pc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Yl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zo=8,Zs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ko=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ls=null,Ao=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],el=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Pl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tl=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Co=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],eo=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ma=[],u=[],k=[],O=1,T=2,E=[],X=[];Fi("UpsampleRgbLinePair",ii,3),Fi("UpsampleBgrLinePair",mr,3),Fi("UpsampleRgbaLinePair",gr,4),Fi("UpsampleBgraLinePair",oi,4),Fi("UpsampleArgbLinePair",si,4),Fi("UpsampleRgba4444LinePair",ks,2),Fi("UpsampleRgb565LinePair",Oi,2);var V=te.UpsampleRgbLinePair,Ce=te.UpsampleBgrLinePair,Se=te.UpsampleRgbaLinePair,Xe=te.UpsampleBgraLinePair,rt=te.UpsampleArgbLinePair,Gt=te.UpsampleRgba4444LinePair,yt=te.UpsampleRgb565LinePair,vn=16,sn=1<<vn-1,cn=-227,yn=482,ba=6,sa=0,qa=l(256),kt=l(256),Wn=l(256),er=l(256),_s=l(yn-cn),Jl=l(yn-cn);Xi("YuvToRgbRow",ii,3),Xi("YuvToBgrRow",mr,3),Xi("YuvToRgbaRow",gr,4),Xi("YuvToBgraRow",oi,4),Xi("YuvToArgbRow",si,4),Xi("YuvToRgba4444Row",ks,2),Xi("YuvToRgb565Row",Oi,2);var Lc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qo=[0,2,8],Zc=[8,7,6,4,4,2,2,2,1,1,1,1],to=1;this.WebPDecodeRGBA=function(d,h,j,N,_){var F=us,B=new Ke,W=new ft;B.ba=W,W.S=F,W.width=[W.width],W.height=[W.height];var Y=W.width,re=W.height,ye=new Dt;if(ye==null||d==null)var Oe=2;else a(ye!=null),Oe=jt(d,h,j,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Oe!=0?Y=0:(Y!=null&&(Y[0]=ye.width[0]),re!=null&&(re[0]=ye.height[0]),Y=1),Y){W.width=W.width[0],W.height=W.height[0],N!=null&&(N[0]=W.width),_!=null&&(_[0]=W.height);e:{if(N=new pi,(_=new tt).data=d,_.w=h,_.ha=j,_.kd=1,h=[0],a(_!=null),((d=jt(_.data,_.w,_.ha,null,null,null,h,null,_))==0||d==7)&&h[0]&&(d=4),(h=d)==0){if(a(B!=null),N.data=_.data,N.w=_.w+_.offset,N.ha=_.ha-_.offset,N.put=St,N.ac=rn,N.bc=Ht,N.ma=B,_.xa){if((d=$n())==null){B=1;break e}if((function(ae,we){var Fe=[0],Je=[0],Ue=[0];t:for(;;){if(ae==null)return 0;if(we==null)return ae.a=2,0;if(ae.l=we,ae.a=0,Le(ae.m,we.data,we.w,we.ha),!Jn(ae.m,Fe,Je,Ue)){ae.a=3;break t}if(ae.xb=T,we.width=Fe[0],we.height=Je[0],!Kn(Fe[0],Je[0],1,ae,null))break t;return 1}return a(ae.a!=0),0})(d,N)){if(N=(h=ji(N.width,N.height,B.Oa,B.ba))==0){t:{N=d;n:for(;;){if(N==null){N=0;break t}if(a(N.s.yc!=null),a(N.s.Ya!=null),a(0<N.s.Wb),a((j=N.l)!=null),a((_=j.ma)!=null),N.xb!=0){if(N.ca=_.ba,N.tb=_.tb,a(N.ca!=null),!_n(_.Oa,j,jo)){N.a=2;break n}if(!Xn(N,j.width)||j.da)break n;if((j.da||qt(N.ca.S))&&Zn(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&Zn()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!G(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!Ta(N,N.V,N.Ba,N.c,N.i,j.o,Fs))break n;_.Dc=N.Ma,N=1;break t}a(N.a!=0),N=0}N=!N}N&&(h=d.a)}else h=d.a}else{if((d=new To)==null){B=1;break e}if(d.Fa=_.na,d.P=_.P,d.qc=_.Sa,ti(d,N)){if((h=ji(N.width,N.height,B.Oa,B.ba))==0){if(d.Aa=0,j=B.Oa,a((_=d)!=null),j!=null){if(0<(Y=0>(Y=j.Md)?0:100<Y?255:255*Y/100)){for(re=ye=0;4>re;++re)12>(Oe=_.pb[re]).lc&&(Oe.ia=Y*Zc[0>Oe.lc?0:Oe.lc]>>3),ye|=Oe.ia;ye&&(alert("todo:VP8InitRandom"),_.ia=1)}_.Ga=j.Id,100<_.Ga?_.Ga=100:0>_.Ga&&(_.Ga=0)}(function(ae,we){if(ae==null)return 0;if(we==null)return Qt(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!ti(ae,we))return 0;if(a(ae.cb),we.ac==null||we.ac(we)){we.ob&&(ae.L=0);var Fe=qo[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=we.v-Fe>>4,ae.zb=we.j-Fe>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=we.o+15+Fe>>4,ae.Hb=we.va+15+Fe>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var Je=ae.ed;for(Fe=0;4>Fe;++Fe){var Ue;if(ae.Qa.Cb){var Ye=ae.Qa.Lb[Fe];ae.Qa.Fb||(Ye+=Je.Tb)}else Ye=Je.Tb;for(Ue=0;1>=Ue;++Ue){var Ge=ae.gd[Fe][Ue],Ze=Ye;if(Je.Pc&&(Ze+=Je.vd[0],Ue&&(Ze+=Je.od[0])),0<(Ze=0>Ze?0:63<Ze?63:Ze)){var et=Ze;0<Je.wb&&(et=4<Je.wb?et>>2:et>>1)>9-Je.wb&&(et=9-Je.wb),1>et&&(et=1),Ge.dd=et,Ge.tc=2*Ze+et,Ge.ld=40<=Ze?2:15<=Ze?1:0}else Ge.tc=0;Ge.La=Ue}}}Fe=0}else Qt(ae,6,"Frame setup failed"),Fe=ae.a;if(Fe=Fe==0){if(Fe){ae.$c=0,0<ae.Aa||(ae.Ic=to);t:{Fe=ae.Ic,Je=4*(et=ae.za);var $t=32*et,Lt=et+1,fn=0<ae.L?et*(0<ae.Aa?2:1):0,Tt=(ae.Aa==2?2:1)*et;if((Ge=Je+832+(Ue=3*(16*Fe+qo[ae.L])/2*$t)+(Ye=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=Ge)Fe=0;else{if(Ge>ae.Vb){if(ae.Vb=0,ae.Ec=l(Ge),ae.Fc=0,ae.Ec==null){Fe=Qt(ae,1,"no memory during frame initialization.");break t}ae.Vb=Ge}Ge=ae.Ec,Ze=ae.Fc,ae.Ac=Ge,ae.Bc=Ze,Ze+=Je,ae.Gd=m($t,na),ae.Hd=0,ae.rb=m(Lt+1,ka),ae.sb=1,ae.wa=fn?m(fn,Lr):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=et),a(!0),ae.oc=Ge,ae.pc=Ze,Ze+=832,ae.ya=m(Tt,cs),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=et),ae.R=16*et,ae.B=8*et,et=($t=qo[ae.L])*ae.R,$t=$t/2*ae.B,ae.sa=Ge,ae.ta=Ze+et,ae.qa=ae.sa,ae.ra=ae.ta+16*Fe*ae.R+$t,ae.Ha=ae.qa,ae.Ia=ae.ra+8*Fe*ae.B+$t,ae.$c=0,Ze+=Ue,ae.mb=Ye?Ge:null,ae.nb=Ye?Ze:null,a(Ze+Ye<=ae.Fc+ae.Vb),$i(ae),c(ae.Ac,ae.Bc,0,Je),Fe=1}}if(Fe){if(we.ka=0,we.y=ae.sa,we.O=ae.ta,we.f=ae.qa,we.N=ae.ra,we.ea=ae.Ha,we.Vd=ae.Ia,we.fa=ae.R,we.Rc=ae.B,we.F=null,we.J=0,!Al){for(Fe=-255;255>=Fe;++Fe)jl[255+Fe]=0>Fe?-Fe:Fe;for(Fe=-1020;1020>=Fe;++Fe)Sl[1020+Fe]=-128>Fe?-128:127<Fe?127:Fe;for(Fe=-112;112>=Fe;++Fe)Nl[112+Fe]=-16>Fe?-16:15<Fe?15:Fe;for(Fe=-255;510>=Fe;++Fe)kl[255+Fe]=0>Fe?0:255<Fe?255:Fe;Al=1}Jr=gi,Js=Bn,Ua=Oa,En=ra,Sn=Pn,xr=Fo,yr=sr,Ir=bi,Ai=L,vr=ie,xo=xa,Ps=x,In=me,yo=Pe,zo=Vr,Ko=vi,Uo=jn,Ks=_a,u[0]=zs,u[1]=Oo,u[2]=ai,u[3]=kn,u[4]=_r,u[5]=Us,u[6]=Vi,u[7]=Ss,u[8]=Bo,u[9]=Pa,Ma[0]=Ba,Ma[1]=aa,Ma[2]=Hi,Ma[3]=wn,Ma[4]=Ca,Ma[5]=Hn,Ma[6]=ma,k[0]=ds,k[1]=js,k[2]=xi,k[3]=ir,k[4]=pr,k[5]=Ws,k[6]=qs,Fe=1}else Fe=0}Fe&&(Fe=(function(An,Er){for(An.M=0;An.M<An.Va;++An.M){var pn,_t=An.Jc[An.M&An.Xb],xt=An.m,zr=An;for(pn=0;pn<zr.za;++pn){var on=xt,Nn=zr,or=Nn.Ac,wa=Nn.Bc+4*pn,Kr=Nn.zc,Ar=Nn.ya[Nn.aa+pn];if(Nn.Qa.Bb?Ar.$b=ze(on,Nn.Pa.jb[0])?2+ze(on,Nn.Pa.jb[2]):ze(on,Nn.Pa.jb[1]):Ar.$b=0,Nn.kc&&(Ar.Ad=ze(on,Nn.Bd)),Ar.Za=!ze(on,145)+0,Ar.Za){var oa=Ar.Ob,ja=0;for(Nn=0;4>Nn;++Nn){var br,Ln=Kr[0+Nn];for(br=0;4>br;++br){Ln=tl[or[wa+br]][Ln];for(var Dn=Gl[ze(on,Ln[0])];0<Dn;)Dn=Gl[2*Dn+ze(on,Ln[Dn])];Ln=-Dn,or[wa+br]=Ln}o(oa,ja,or,wa,4),ja+=4,Kr[0+Nn]=Ln}}else Ln=ze(on,156)?ze(on,128)?1:3:ze(on,163)?2:0,Ar.Ob[0]=Ln,c(or,wa,Ln,4),c(Kr,0,Ln,4);Ar.Dd=ze(on,142)?ze(on,114)?ze(on,183)?1:3:2:0}if(zr.m.Ka)return Qt(An,7,"Premature end-of-partition0 encountered.");for(;An.ja<An.za;++An.ja){if(zr=_t,on=(xt=An).rb[xt.sb-1],or=xt.rb[xt.sb+xt.ja],pn=xt.ya[xt.aa+xt.ja],wa=xt.kc?pn.Ad:0)on.la=or.la=0,pn.Za||(on.Na=or.Na=0),pn.Hc=0,pn.Gc=0,pn.ia=0;else{var wr,Tn;if(on=or,or=zr,wa=xt.Pa.Xc,Kr=xt.ya[xt.aa+xt.ja],Ar=xt.pb[Kr.$b],Nn=Kr.ad,oa=0,ja=xt.rb[xt.sb-1],Ln=br=0,c(Nn,oa,0,384),Kr.Za)var Mr=0,Rr=wa[3];else{Dn=l(16);var tr=on.Na+ja.Na;if(tr=Ls(or,wa[1],tr,Ar.Eb,0,Dn,0),on.Na=ja.Na=(0<tr)+0,1<tr)Jr(Dn,0,Nn,oa);else{var $a=Dn[0]+3>>3;for(Dn=0;256>Dn;Dn+=16)Nn[oa+Dn]=$a}Mr=1,Rr=wa[0]}var Gn=15&on.la,nr=15&ja.la;for(Dn=0;4>Dn;++Dn){var Xr=1&nr;for($a=Tn=0;4>$a;++$a)Gn=Gn>>1|(Xr=(tr=Ls(or,Rr,tr=Xr+(1&Gn),Ar.Sc,Mr,Nn,oa))>Mr)<<7,Tn=Tn<<2|(3<tr?3:1<tr?2:Nn[oa+0]!=0),oa+=16;Gn>>=4,nr=nr>>1|Xr<<7,br=(br<<8|Tn)>>>0}for(Rr=Gn,Mr=nr>>4,wr=0;4>wr;wr+=2){for(Tn=0,Gn=on.la>>4+wr,nr=ja.la>>4+wr,Dn=0;2>Dn;++Dn){for(Xr=1&nr,$a=0;2>$a;++$a)tr=Xr+(1&Gn),Gn=Gn>>1|(Xr=0<(tr=Ls(or,wa[2],tr,Ar.Qc,0,Nn,oa)))<<3,Tn=Tn<<2|(3<tr?3:1<tr?2:Nn[oa+0]!=0),oa+=16;Gn>>=2,nr=nr>>1|Xr<<5}Ln|=Tn<<4*wr,Rr|=Gn<<4<<wr,Mr|=(240&nr)<<wr}on.la=Rr,ja.la=Mr,Kr.Hc=br,Kr.Gc=Ln,Kr.ia=43690&Ln?0:Ar.ia,wa=!(br|Ln)}if(0<xt.L&&(xt.wa[xt.Y+xt.ja]=xt.gd[pn.$b][pn.Za],xt.wa[xt.Y+xt.ja].La|=!wa),zr.Ka)return Qt(An,7,"Premature end-of-file encountered.")}if($i(An),xt=Er,zr=1,pn=(_t=An).D,on=0<_t.L&&_t.M>=_t.zb&&_t.M<=_t.Va,_t.Aa==0)t:{if(pn.M=_t.M,pn.uc=on,ya(_t,pn),zr=1,pn=(Tn=_t.D).Nb,on=(Ln=qo[_t.L])*_t.R,or=Ln/2*_t.B,Dn=16*pn*_t.R,$a=8*pn*_t.B,wa=_t.sa,Kr=_t.ta-on+Dn,Ar=_t.qa,Nn=_t.ra-or+$a,oa=_t.Ha,ja=_t.Ia-or+$a,nr=(Gn=Tn.M)==0,br=Gn>=_t.Va-1,_t.Aa==2&&ya(_t,Tn),Tn.uc)for(Xr=(tr=_t).D.M,a(tr.D.uc),Tn=tr.yb;Tn<tr.Hb;++Tn){Mr=Tn,Rr=Xr;var Ra=(Pi=(qr=tr).D).Nb;wr=qr.R;var Pi=Pi.wa[Pi.Y+Mr],Ur=qr.sa,Wr=qr.ta+16*Ra*wr+16*Mr,Ha=Pi.dd,rr=Pi.tc;if(rr!=0)if(a(3<=rr),qr.L==1)0<Mr&&Ko(Ur,Wr,wr,rr+4),Pi.La&&Ks(Ur,Wr,wr,rr),0<Rr&&zo(Ur,Wr,wr,rr+4),Pi.La&&Uo(Ur,Wr,wr,rr);else{var Va=qr.B,ns=qr.qa,fs=qr.ra+8*Ra*Va+8*Mr,Sa=qr.Ha,qr=qr.Ia+8*Ra*Va+8*Mr;Ra=Pi.ld,0<Mr&&(Ir(Ur,Wr,wr,rr+4,Ha,Ra),vr(ns,fs,Sa,qr,Va,rr+4,Ha,Ra)),Pi.La&&(Ps(Ur,Wr,wr,rr,Ha,Ra),yo(ns,fs,Sa,qr,Va,rr,Ha,Ra)),0<Rr&&(yr(Ur,Wr,wr,rr+4,Ha,Ra),Ai(ns,fs,Sa,qr,Va,rr+4,Ha,Ra)),Pi.La&&(xo(Ur,Wr,wr,rr,Ha,Ra),In(ns,fs,Sa,qr,Va,rr,Ha,Ra))}}if(_t.ia&&alert("todo:DitherRow"),xt.put!=null){if(Tn=16*Gn,Gn=16*(Gn+1),nr?(xt.y=_t.sa,xt.O=_t.ta+Dn,xt.f=_t.qa,xt.N=_t.ra+$a,xt.ea=_t.Ha,xt.W=_t.Ia+$a):(Tn-=Ln,xt.y=wa,xt.O=Kr,xt.f=Ar,xt.N=Nn,xt.ea=oa,xt.W=ja),br||(Gn-=Ln),Gn>xt.o&&(Gn=xt.o),xt.F=null,xt.J=null,_t.Fa!=null&&0<_t.Fa.length&&Tn<Gn&&(xt.J=Vn(_t,xt,Tn,Gn-Tn),xt.F=_t.mb,xt.F==null&&xt.F.length==0)){zr=Qt(_t,3,"Could not decode alpha data.");break t}Tn<xt.j&&(Ln=xt.j-Tn,Tn=xt.j,a(!(1&Ln)),xt.O+=_t.R*Ln,xt.N+=_t.B*(Ln>>1),xt.W+=_t.B*(Ln>>1),xt.F!=null&&(xt.J+=xt.width*Ln)),Tn<Gn&&(xt.O+=xt.v,xt.N+=xt.v>>1,xt.W+=xt.v>>1,xt.F!=null&&(xt.J+=xt.v),xt.ka=Tn-xt.j,xt.U=xt.va-xt.v,xt.T=Gn-Tn,zr=xt.put(xt))}pn+1!=_t.Ic||br||(o(_t.sa,_t.ta-on,wa,Kr+16*_t.R,on),o(_t.qa,_t.ra-or,Ar,Nn+8*_t.B,or),o(_t.Ha,_t.Ia-or,oa,ja+8*_t.B,or))}if(!zr)return Qt(An,6,"Output aborted.")}return 1})(ae,we)),we.bc!=null&&we.bc(we),Fe&=1}return Fe?(ae.cb=0,Fe):0})(d,N)||(h=d.a)}}else h=d.a}h==0&&B.Oa!=null&&B.Oa.fd&&(h=As(B.ba))}B=h}F=B!=0?null:11>F?W.f.RGBA.eb:W.f.kb.y}else F=null;return F};var Ll=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function v(te,xe){for(var z="",H=0;H<4;H++)z+=String.fromCharCode(te[xe++]);return z}function w(te,xe){return te[xe+0]|te[xe+1]<<8}function A(te,xe){return(te[xe+0]|te[xe+1]<<8|te[xe+2]<<16)>>>0}function R(te,xe){return(te[xe+0]|te[xe+1]<<8|te[xe+2]<<16|te[xe+3]<<24)>>>0}new g;var b=[0],U=[0],M=[],I=new g,P=i,$=(function(te,xe){var z={},H=0,ne=!1,se=0,ke=0;if(z.frames=[],!(function(C,J){for(var K=0;K<4;K++)if(C[J+K]!="RIFF".charCodeAt(K))return!0;return!1})(te,xe)){for(R(te,xe+=4),xe+=8;xe<te.length;){var Re=v(te,xe),Me=R(te,xe+=4);xe+=4;var fe=Me+(1&Me);switch(Re){case"VP8 ":case"VP8L":z.frames[H]===void 0&&(z.frames[H]={}),(ee=z.frames[H]).src_off=ne?ke:xe-8,ee.src_size=se+Me+8,H++,ne&&(ne=!1,se=0,ke=0);break;case"VP8X":(ee=z.header={}).feature_flags=te[xe];var Le=xe+4;ee.canvas_width=1+A(te,Le),Le+=3,ee.canvas_height=1+A(te,Le),Le+=3;break;case"ALPH":ne=!0,se=fe+8,ke=xe-8;break;case"ANIM":(ee=z.header).bgcolor=R(te,xe),Le=xe+4,ee.loop_count=w(te,Le),Le+=2;break;case"ANMF":var Ie,ee;(ee=z.frames[H]={}).offset_x=2*A(te,xe),xe+=3,ee.offset_y=2*A(te,xe),xe+=3,ee.width=1+A(te,xe),xe+=3,ee.height=1+A(te,xe),xe+=3,ee.duration=A(te,xe),xe+=3,Ie=te[xe++],ee.dispose=1&Ie,ee.blend=Ie>>1&1}Re!="ANMF"&&(xe+=fe)}return z}})(P,0);$.response=P,$.rgbaoutput=!0,$.dataurl=!1;var Q=$.header?$.header:null,q=$.frames?$.frames:null;if(Q){Q.loop_counter=Q.loop_count,b=[Q.canvas_height],U=[Q.canvas_width];for(var de=0;de<q.length&&q[de].blend!=0;de++);}var ue=q[0],_e=I.WebPDecodeRGBA(P,ue.src_off,ue.src_size,U,b);ue.rgba=_e,ue.imgwidth=U[0],ue.imgheight=b[0];for(var ge=0;ge<U[0]*b[0]*4;ge++)M[ge]=_e[ge];return this.width=U,this.height=b,this.data=M,this}(function(i){var a,r,o,c,l,m,p,g,v,w=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new g,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new m,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new m,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new A(this),a=this.internal.f2,r=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,m=this.internal.Point,p=this.internal.Rectangle,g=this.internal.Matrix,v=new w}]);var A=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=C;Object.defineProperty(this,"pdf",{get:function(){return J}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(G){K=!!G}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(G){le=!!G}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(G){isNaN(G)||(pe=G)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(G){isNaN(G)||(be=G)}}),Object.defineProperty(this,"margin",{get:function(){return v.margin},set:function(G){var mt;typeof G=="number"?mt=[G,G,G,G]:((mt=new Array(4))[0]=G[0],mt[1]=G.length>=2?G[1]:mt[0],mt[2]=G.length>=3?G[2]:mt[0],mt[3]=G.length>=4?G[3]:mt[1]),v.margin=mt}});var De=!1;Object.defineProperty(this,"autoPaging",{get:function(){return De},set:function(G){De=G}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(G){Te=G}});var ze=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ze},set:function(G){ze=G}}),Object.defineProperty(this,"ctx",{get:function(){return v},set:function(G){G instanceof w&&(v=G)}}),Object.defineProperty(this,"path",{get:function(){return v.path},set:function(G){v.path=G}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(G){Ee=G}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(G){var mt;mt=R(G),this.ctx.fillStyle=mt.style,this.ctx.isFillTransparent=mt.a===0,this.ctx.fillOpacity=mt.a,this.pdf.setFillColor(mt.r,mt.g,mt.b,{a:mt.a}),this.pdf.setTextColor(mt.r,mt.g,mt.b,{a:mt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(G){var mt=R(G);this.ctx.strokeStyle=mt.style,this.ctx.isStrokeTransparent=mt.a===0,this.ctx.strokeOpacity=mt.a,mt.a===0?this.pdf.setDrawColor(255,255,255):(mt.a,this.pdf.setDrawColor(mt.r,mt.g,mt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(G){["butt","round","square"].indexOf(G)!==-1&&(this.ctx.lineCap=G,this.pdf.setLineCap(G))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(G){isNaN(G)||(this.ctx.lineWidth=G,this.pdf.setLineWidth(G))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(G){["bevel","round","miter"].indexOf(G)!==-1&&(this.ctx.lineJoin=G,this.pdf.setLineJoin(G))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(G){isNaN(G)||(this.ctx.miterLimit=G,this.pdf.setMiterLimit(G))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(G){this.ctx.textBaseline=G}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(G){["right","end","center","left","start"].indexOf(G)!==-1&&(this.ctx.textAlign=G)}});var it=null,ot=null,at=null;Object.defineProperty(this,"fontFaces",{get:function(){return at},set:function(G){it=null,ot=null,at=G}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(G){var mt;if(this.ctx.font=G,(mt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(G))!==null){var It=mt[1];mt[2];var Ct=mt[3],Qe=mt[4];mt[5];var bt=mt[6],gt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor(gt==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:gt==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var Mt=(function(je){var nt,pt,qe=[],ct=je.trim();if(ct==="")return lf;if(ct in cm)return[cm[ct]];for(;ct!=="";){switch(pt=null,nt=(ct=um(ct)).charAt(0)){case'"':case"'":pt=ay(ct.substring(1),nt);break;default:pt=iy(ct)}if(pt===null||(qe.push(pt[0]),(ct=um(pt[1]))!==""&&ct.charAt(0)!==","))return lf;ct=ct.replace(/^,/,"")}return qe})(bt);if(this.fontFaces){var Rt=(function(je,nt){var pt=je.getFontList(),qe=JSON.stringify(pt);if(it===null||ot!==qe){var ct=(function(Zt){var vt=[];return Object.keys(Zt).forEach(function(bn){Zt[bn].forEach(function(qt){var zt=null;switch(qt){case"bold":zt={family:bn,weight:"bold"};break;case"italic":zt={family:bn,style:"italic"};break;case"bolditalic":zt={family:bn,weight:"bold",style:"italic"};break;case"":case"normal":zt={family:bn}}zt!==null&&(zt.ref={name:bn,style:qt},vt.push(zt))})}),vt})(pt);it=(function(Zt){for(var vt={},bn=0;bn<Zt.length;++bn){var qt=of(Zt[bn]),zt=qt.family,he=qt.stretch,ft=qt.style,Dt=qt.weight;vt[zt]=vt[zt]||{},vt[zt][he]=vt[zt][he]||{},vt[zt][he][ft]=vt[zt][he][ft]||{},vt[zt][he][ft][Dt]=qt}return vt})(ct.concat(nt)),ot=qe}return it})(this.pdf,this.fontFaces),wt=Mt.map(function(je){return{family:je,stretch:"normal",weight:Ct,style:It}}),Kt=(function(je,nt,pt){for(var qe=(pt=pt||{}).defaultFontFamily||"times",ct=Object.assign({},ry,pt.genericFontFamilies||{}),Zt=null,vt=null,bn=0;bn<nt.length;++bn)if(ct[(Zt=of(nt[bn])).family]&&(Zt.family=ct[Zt.family]),je.hasOwnProperty(Zt.family)){vt=je[Zt.family];break}if(!(vt=vt||je[qe]))throw new Error("Could not find a font-family for the rule '"+dm(Zt)+"' and default family '"+qe+"'.");if(vt=(function(qt,zt){if(zt[qt])return zt[qt];var he=kf[qt],ft=he<=kf.normal?-1:1,Dt=lm(zt,P0,he,ft);if(!Dt)throw new Error("Could not find a matching font-stretch value for "+qt);return Dt})(Zt.stretch,vt),vt=(function(qt,zt){if(zt[qt])return zt[qt];for(var he=C0[qt],ft=0;ft<he.length;++ft)if(zt[he[ft]])return zt[he[ft]];throw new Error("Could not find a matching font-style for "+qt)})(Zt.style,vt),!(vt=(function(qt,zt){if(zt[qt])return zt[qt];if(qt===400&&zt[500])return zt[500];if(qt===500&&zt[400])return zt[400];var he=ny[qt],ft=lm(zt,L0,he,qt<400?-1:1);if(!ft)throw new Error("Could not find a matching font-weight for value "+qt);return ft})(Zt.weight,vt)))throw new Error("Failed to resolve a font for the rule '"+dm(Zt)+"'.");return vt})(Rt,wt);this.pdf.setFont(Kt.ref.name,Kt.ref.style)}else{var Wt="";(Ct==="bold"||parseInt(Ct,10)>=700||It==="bold")&&(Wt="bold"),It==="italic"&&(Wt+="italic"),Wt.length===0&&(Wt="normal");for(var Xt="",Ae={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},$e=0;$e<Mt.length;$e++){if(this.pdf.internal.getFont(Mt[$e],Wt,{noFallback:!0,disableWarning:!0})!==void 0){Xt=Mt[$e];break}if(Wt==="bolditalic"&&this.pdf.internal.getFont(Mt[$e],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Xt=Mt[$e],Wt="bold";else if(this.pdf.internal.getFont(Mt[$e],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Xt=Mt[$e],Wt="normal";break}}if(Xt===""){for(var oe=0;oe<Mt.length;oe++)if(Ae[Mt[oe]]){Xt=Ae[Mt[oe]];break}}Xt=Xt===""?"Times":Xt,this.pdf.setFont(Xt,Wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(G){this.ctx.globalCompositeOperation=G}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(G){this.ctx.globalAlpha=G}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(G){this.ctx.lineDashOffset=G,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(G){this.ctx.lineDash=G,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(G){this.ctx.ignoreClearRect=!!G}})};A.prototype.setLineDash=function(C){this.lineDash=C},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){q.call(this,"fill",!1)},A.prototype.stroke=function(){q.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(C,J){if(isNaN(C)||isNaN(J))throw fr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new m(C,J));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new m(C,J)},A.prototype.closePath=function(){var C=new m(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&ar(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){C=new m(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new m(C.x,C.y)},A.prototype.lineTo=function(C,J){if(isNaN(C)||isNaN(J))throw fr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new m(C,J));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new m(K.x,K.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},A.prototype.quadraticCurveTo=function(C,J,K,le){if(isNaN(K)||isNaN(le)||isNaN(C)||isNaN(J))throw fr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new m(K,le)),be=this.ctx.transform.applyToPoint(new m(C,J));this.path.push({type:"qct",x1:be.x,y1:be.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new m(pe.x,pe.y)},A.prototype.bezierCurveTo=function(C,J,K,le,pe,be){if(isNaN(pe)||isNaN(be)||isNaN(C)||isNaN(J)||isNaN(K)||isNaN(le))throw fr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var De=this.ctx.transform.applyToPoint(new m(pe,be)),Te=this.ctx.transform.applyToPoint(new m(C,J)),ze=this.ctx.transform.applyToPoint(new m(K,le));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:ze.x,y2:ze.y,x:De.x,y:De.y}),this.ctx.lastPoint=new m(De.x,De.y)},A.prototype.arc=function(C,J,K,le,pe,be){if(isNaN(C)||isNaN(J)||isNaN(K)||isNaN(le)||isNaN(pe))throw fr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=!!be,!this.ctx.transform.isIdentity){var De=this.ctx.transform.applyToPoint(new m(C,J));C=De.x,J=De.y;var Te=this.ctx.transform.applyToPoint(new m(0,K)),ze=this.ctx.transform.applyToPoint(new m(0,0));K=Math.sqrt(Math.pow(Te.x-ze.x,2)+Math.pow(Te.y-ze.y,2))}Math.abs(pe-le)>=2*Math.PI&&(le=0,pe=2*Math.PI),this.path.push({type:"arc",x:C,y:J,radius:K,startAngle:le,endAngle:pe,counterclockwise:be})},A.prototype.arcTo=function(C,J,K,le,pe){throw new Error("arcTo not implemented.")},A.prototype.rect=function(C,J,K,le){if(isNaN(C)||isNaN(J)||isNaN(K)||isNaN(le))throw fr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,J),this.lineTo(C+K,J),this.lineTo(C+K,J+le),this.lineTo(C,J+le),this.lineTo(C,J),this.lineTo(C+K,J),this.lineTo(C,J)},A.prototype.fillRect=function(C,J,K,le){if(isNaN(C)||isNaN(J)||isNaN(K)||isNaN(le))throw fr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var pe={};this.lineCap!=="butt"&&(pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,J,K,le),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},A.prototype.strokeRect=function(C,J,K,le){if(isNaN(C)||isNaN(J)||isNaN(K)||isNaN(le))throw fr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");U.call(this)||(this.beginPath(),this.rect(C,J,K,le),this.stroke())},A.prototype.clearRect=function(C,J,K,le){if(isNaN(C)||isNaN(J)||isNaN(K)||isNaN(le))throw fr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,J,K,le))},A.prototype.save=function(C){C=typeof C!="boolean"||C;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new w(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},A.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(J),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var R=function(C){var J,K,le,pe;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))J=0,K=0,le=0,pe=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(be!==null)J=parseInt(be[1]),K=parseInt(be[2]),le=parseInt(be[3]),pe=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)J=parseInt(be[1]),K=parseInt(be[2]),le=parseInt(be[3]),pe=parseFloat(be[4]);else{if(pe=1,typeof C=="string"&&C.charAt(0)!=="#"){var De=new b0(C);C=De.ok?De.toHex():"#000000"}C.length===4?(J=C.substring(1,2),J+=J,K=C.substring(2,3),K+=K,le=C.substring(3,4),le+=le):(J=C.substring(1,3),K=C.substring(3,5),le=C.substring(5,7)),J=parseInt(J,16),K=parseInt(K,16),le=parseInt(le,16)}}return{r:J,g:K,b:le,a:pe,style:C}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},U=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(C,J,K,le){if(isNaN(J)||isNaN(K)||typeof C!="string")throw fr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!b.call(this)){var pe=fe(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;H.call(this,{text:C,x:J,y:K,scale:be,angle:pe,align:this.textAlign,maxWidth:le})}},A.prototype.strokeText=function(C,J,K,le){if(isNaN(J)||isNaN(K)||typeof C!="string")throw fr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!U.call(this)){le=isNaN(le)?void 0:le;var pe=fe(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;H.call(this,{text:C,x:J,y:K,scale:be,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:le})}},A.prototype.measureText=function(C){if(typeof C!="string")throw fr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,K=this.pdf.internal.scaleFactor,le=J.internal.getFontSize(),pe=J.getStringUnitWidth(C)*le/J.internal.scaleFactor;return new function(be){var De=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return De}}),this}({width:pe*=Math.round(96*K/72*1e4)/1e4})},A.prototype.scale=function(C,J){if(isNaN(C)||isNaN(J))throw fr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new g(C,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},A.prototype.rotate=function(C){if(isNaN(C))throw fr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new g(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},A.prototype.translate=function(C,J){if(isNaN(C)||isNaN(J))throw fr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new g(1,0,0,1,C,J);this.ctx.transform=this.ctx.transform.multiply(K)},A.prototype.transform=function(C,J,K,le,pe,be){if(isNaN(C)||isNaN(J)||isNaN(K)||isNaN(le)||isNaN(pe)||isNaN(be))throw fr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var De=new g(C,J,K,le,pe,be);this.ctx.transform=this.ctx.transform.multiply(De)},A.prototype.setTransform=function(C,J,K,le,pe,be){C=isNaN(C)?1:C,J=isNaN(J)?0:J,K=isNaN(K)?0:K,le=isNaN(le)?1:le,pe=isNaN(pe)?0:pe,be=isNaN(be)?0:be,this.ctx.transform=new g(C,J,K,le,pe,be)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(C,J,K,le,pe,be,De,Te,ze){var Ee=this.pdf.getImageProperties(C),it=1,ot=1,at=1,G=1;le!==void 0&&Te!==void 0&&(at=Te/le,G=ze/pe,it=Ee.width/le*Te/le,ot=Ee.height/pe*ze/pe),be===void 0&&(be=J,De=K,J=0,K=0),le!==void 0&&Te===void 0&&(Te=le,ze=pe),le===void 0&&Te===void 0&&(Te=Ee.width,ze=Ee.height);var mt=this.ctx.transform.decompose(),It=fe(mt.rotate.shx),Ct=new g,Qe=(Ct=(Ct=(Ct=Ct.multiply(mt.translate)).multiply(mt.skew)).multiply(mt.scale)).applyToRectangle(new p(be-J*at,De-K*G,le*it,pe*ot));if(this.autoPaging){for(var bt,gt=I.call(this,Qe),Mt=[],Rt=0;Rt<gt.length;Rt+=1)Mt.indexOf(gt[Rt])===-1&&Mt.push(gt[Rt]);Q(Mt);for(var wt=Mt[0],Kt=Mt[Mt.length-1],Wt=wt;Wt<Kt+1;Wt++){this.pdf.setPage(Wt);var Xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ae=Wt===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],oe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=Wt===1?0:$e+(Wt-2)*oe;if(this.ctx.clip_path.length!==0){var nt=this.path;bt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(bt,this.posX+this.margin[3],-je+Ae+this.ctx.prevPageLastElemOffset),de.call(this,"fill",!0),this.path=nt}var pt=JSON.parse(JSON.stringify(Qe));pt=$([pt],this.posX+this.margin[3],-je+Ae+this.ctx.prevPageLastElemOffset)[0];var qe=(Wt>wt||Wt<Kt)&&M.call(this);qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,oe,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",pt.x,pt.y,pt.w,pt.h,null,null,It),qe&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(C,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,It)};var I=function(C,J,K){var le=[];J=J||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":le.push(Math.floor((C.y+pe)/K)+1);break;case"arc":le.push(Math.floor((C.y+pe-C.radius)/K)+1),le.push(Math.floor((C.y+pe+C.radius)/K)+1);break;case"qct":var be=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);le.push(Math.floor((be.y+pe)/K)+1),le.push(Math.floor((be.y+be.h+pe)/K)+1);break;case"bct":var De=Ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);le.push(Math.floor((De.y+pe)/K)+1),le.push(Math.floor((De.y+De.h+pe)/K)+1);break;case"rect":le.push(Math.floor((C.y+pe)/K)+1),le.push(Math.floor((C.y+C.h+pe)/K)+1)}for(var Te=0;Te<le.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<le[Te];)P.call(this);return le},P=function(){var C=this.fillStyle,J=this.strokeStyle,K=this.font,le=this.lineCap,pe=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=J,this.font=K,this.lineCap=le,this.lineWidth=pe,this.lineJoin=be},$=function(C,J,K){for(var le=0;le<C.length;le++)switch(C[le].type){case"bct":C[le].x2+=J,C[le].y2+=K;case"qct":C[le].x1+=J,C[le].y1+=K;default:C[le].x+=J,C[le].y+=K}return C},Q=function(C){return C.sort(function(J,K){return J-K})},q=function(C,J){var K=this.fillStyle,le=this.strokeStyle,pe=this.lineCap,be=this.lineWidth,De=Math.abs(be*this.ctx.transform.scaleX),Te=this.lineJoin;if(this.autoPaging){for(var ze,Ee,it=JSON.parse(JSON.stringify(this.path)),ot=JSON.parse(JSON.stringify(this.path)),at=[],G=0;G<ot.length;G++)if(ot[G].x!==void 0)for(var mt=I.call(this,ot[G]),It=0;It<mt.length;It+=1)at.indexOf(mt[It])===-1&&at.push(mt[It]);for(var Ct=0;Ct<at.length;Ct++)for(;this.pdf.internal.getNumberOfPages()<at[Ct];)P.call(this);Q(at);for(var Qe=at[0],bt=at[at.length-1],gt=Qe;gt<bt+1;gt++){this.pdf.setPage(gt),this.fillStyle=K,this.strokeStyle=le,this.lineCap=pe,this.lineWidth=De,this.lineJoin=Te;var Mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=gt===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Wt=gt===1?0:wt+(gt-2)*Kt;if(this.ctx.clip_path.length!==0){var Xt=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(ze,this.posX+this.margin[3],-Wt+Rt+this.ctx.prevPageLastElemOffset),de.call(this,C,!0),this.path=Xt}if(Ee=JSON.parse(JSON.stringify(it)),this.path=$(Ee,this.posX+this.margin[3],-Wt+Rt+this.ctx.prevPageLastElemOffset),J===!1||gt===0){var Ae=(gt>Qe||gt<bt)&&M.call(this);Ae&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,Kt,null).clip().discardPath()),de.call(this,C,J),Ae&&this.pdf.restoreGraphicsState()}this.lineWidth=be}this.path=it}else this.lineWidth=De,de.call(this,C,J),this.lineWidth=be},de=function(C,J){if((C!=="stroke"||J||!U.call(this))&&(C==="stroke"||J||!b.call(this))){for(var K,le,pe=[],be=this.path,De=0;De<be.length;De++){var Te=be[De];switch(Te.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:Te,deltas:[],abs:[]});break;case"lt":var ze=pe.length;if(be[De-1]&&!isNaN(be[De-1].x)&&(K=[Te.x-be[De-1].x,Te.y-be[De-1].y],ze>0)){for(;ze>=0;ze--)if(pe[ze-1].close!==!0&&pe[ze-1].begin!==!0){pe[ze-1].deltas.push(K),pe[ze-1].abs.push(Te);break}}break;case"bct":K=[Te.x1-be[De-1].x,Te.y1-be[De-1].y,Te.x2-be[De-1].x,Te.y2-be[De-1].y,Te.x-be[De-1].x,Te.y-be[De-1].y],pe[pe.length-1].deltas.push(K);break;case"qct":var Ee=be[De-1].x+2/3*(Te.x1-be[De-1].x),it=be[De-1].y+2/3*(Te.y1-be[De-1].y),ot=Te.x+2/3*(Te.x1-Te.x),at=Te.y+2/3*(Te.y1-Te.y),G=Te.x,mt=Te.y;K=[Ee-be[De-1].x,it-be[De-1].y,ot-be[De-1].x,at-be[De-1].y,G-be[De-1].x,mt-be[De-1].y],pe[pe.length-1].deltas.push(K);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(Te)}}le=J?null:C==="stroke"?"stroke":"fill";for(var It=!1,Ct=0;Ct<pe.length;Ct++)if(pe[Ct].arc)for(var Qe=pe[Ct].abs,bt=0;bt<Qe.length;bt++){var gt=Qe[bt];gt.type==="arc"?ge.call(this,gt.x,gt.y,gt.radius,gt.startAngle,gt.endAngle,gt.counterclockwise,void 0,J,!It):ne.call(this,gt.x,gt.y),It=!0}else if(pe[Ct].close===!0)this.pdf.internal.out("h"),It=!1;else if(pe[Ct].begin!==!0){var Mt=pe[Ct].start.x,Rt=pe[Ct].start.y;se.call(this,pe[Ct].deltas,Mt,Rt),It=!0}le&&te.call(this,le),J&&xe.call(this)}},ue=function(C){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-K;case"top":return C+J-K;case"hanging":return C+J-2*K;case"middle":return C+J/2-K;default:return C}},_e=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(J,K){this.colorStops.push([J,K])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ge=function(C,J,K,le,pe,be,De,Te,ze){for(var Ee=Re.call(this,K,le,pe,be),it=0;it<Ee.length;it++){var ot=Ee[it];it===0&&(ze?z.call(this,ot.x1+C,ot.y1+J):ne.call(this,ot.x1+C,ot.y1+J)),ke.call(this,C,J,ot.x2,ot.y2,ot.x3,ot.y3,ot.x4,ot.y4)}Te?xe.call(this):te.call(this,De)},te=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},xe=function(){this.pdf.clip(),this.pdf.discardPath()},z=function(C,J){this.pdf.internal.out(r(C)+" "+o(J)+" m")},H=function(C){var J;switch(C.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var K,le,pe,be=this.pdf.getTextDimensions(C.text),De=ue.call(this,C.y),Te=_e.call(this,De)-be.h,ze=this.ctx.transform.applyToPoint(new m(C.x,De));if(this.autoPaging){var Ee=this.ctx.transform.decompose(),it=new g;it=(it=(it=it.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var ot=this.ctx.transform.applyToRectangle(new p(C.x,De,be.w,be.h)),at=it.applyToRectangle(new p(C.x,Te,be.w,be.h)),G=I.call(this,at),mt=[],It=0;It<G.length;It+=1)mt.indexOf(G[It])===-1&&mt.push(G[It]);Q(mt);for(var Ct=mt[0],Qe=mt[mt.length-1],bt=Ct;bt<Qe+1;bt++){this.pdf.setPage(bt);var gt=bt===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[2],wt=Rt-this.margin[0],Kt=this.pdf.internal.pageSize.width-this.margin[1],Wt=Kt-this.margin[3],Xt=bt===1?0:Mt+(bt-2)*wt;if(this.ctx.clip_path.length!==0){var Ae=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(K,this.posX+this.margin[3],-1*Xt+gt),de.call(this,"fill",!0),this.path=Ae}var $e=$([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-Xt+gt+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*C.scale),pe=this.lineWidth,this.lineWidth=pe*C.scale);var oe=this.autoPaging!=="text";if(oe||$e.y+$e.h<=Rt){if(oe||$e.y>=gt&&$e.x<=Kt){var je=oe?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||Kt-$e.x)[0],nt=$([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-Xt+gt+this.ctx.prevPageLastElemOffset)[0],pt=oe&&(bt>Ct||bt<Qe)&&M.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,wt,null).clip().discardPath()),this.pdf.text(je,nt.x,nt.y,{angle:C.angle,align:J,renderingMode:C.renderingMode}),pt&&this.pdf.restoreGraphicsState()}}else $e.y<Rt&&(this.ctx.prevPageLastElemOffset+=Rt-$e.y);C.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=pe)}}else C.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*C.scale),pe=this.lineWidth,this.lineWidth=pe*C.scale),this.pdf.text(C.text,ze.x+this.posX,ze.y+this.posY,{angle:C.angle,align:J,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=pe)},ne=function(C,J,K,le){K=K||0,le=le||0,this.pdf.internal.out(r(C+K)+" "+o(J+le)+" l")},se=function(C,J,K){return this.pdf.lines(C,J,K,null,null)},ke=function(C,J,K,le,pe,be,De,Te){this.pdf.internal.out([a(c(K+C)),a(l(le+J)),a(c(pe+C)),a(l(be+J)),a(c(De+C)),a(l(Te+J)),"c"].join(" "))},Re=function(C,J,K,le){for(var pe=2*Math.PI,be=Math.PI/2;J>K;)J-=pe;var De=Math.abs(K-J);De<pe&&le&&(De=pe-De);for(var Te=[],ze=le?-1:1,Ee=J;De>1e-5;){var it=Ee+ze*Math.min(De,be);Te.push(Me.call(this,C,Ee,it)),De-=Math.abs(it-Ee),Ee=it}return Te},Me=function(C,J,K){var le=(K-J)/2,pe=C*Math.cos(le),be=C*Math.sin(le),De=pe,Te=-be,ze=De*De+Te*Te,Ee=ze+De*pe+Te*be,it=4/3*(Math.sqrt(2*ze*Ee)-Ee)/(De*be-Te*pe),ot=De-it*Te,at=Te+it*De,G=ot,mt=-at,It=le+J,Ct=Math.cos(It),Qe=Math.sin(It);return{x1:C*Math.cos(J),y1:C*Math.sin(J),x2:ot*Ct-at*Qe,y2:ot*Qe+at*Ct,x3:G*Ct-mt*Qe,y3:G*Qe+mt*Ct,x4:C*Math.cos(K),y4:C*Math.sin(K)}},fe=function(C){return 180*C/Math.PI},Le=function(C,J,K,le,pe,be){var De=C+.5*(K-C),Te=J+.5*(le-J),ze=pe+.5*(K-pe),Ee=be+.5*(le-be),it=Math.min(C,pe,De,ze),ot=Math.max(C,pe,De,ze),at=Math.min(J,be,Te,Ee),G=Math.max(J,be,Te,Ee);return new p(it,at,ot-it,G-at)},Ie=function(C,J,K,le,pe,be,De,Te){var ze,Ee,it,ot,at,G,mt,It,Ct,Qe,bt,gt,Mt,Rt,wt=K-C,Kt=le-J,Wt=pe-K,Xt=be-le,Ae=De-pe,$e=Te-be;for(Ee=0;Ee<41;Ee++)Ct=(mt=(it=C+(ze=Ee/40)*wt)+ze*((at=K+ze*Wt)-it))+ze*(at+ze*(pe+ze*Ae-at)-mt),Qe=(It=(ot=J+ze*Kt)+ze*((G=le+ze*Xt)-ot))+ze*(G+ze*(be+ze*$e-G)-It),Ee==0?(bt=Ct,gt=Qe,Mt=Ct,Rt=Qe):(bt=Math.min(bt,Ct),gt=Math.min(gt,Qe),Mt=Math.max(Mt,Ct),Rt=Math.max(Rt,Qe));return new p(Math.round(bt),Math.round(gt),Math.round(Mt-bt),Math.round(Rt-gt))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,J,K=(C=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:J}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(Jt.API),(function(i){var a=function(m){var p,g,v,w,A,R,b,U,M,I;for(g=[],v=0,w=(m+=p="\0\0\0\0".slice(m.length%4||4)).length;w>v;v+=4)(A=(m.charCodeAt(v)<<24)+(m.charCodeAt(v+1)<<16)+(m.charCodeAt(v+2)<<8)+m.charCodeAt(v+3))!==0?(R=(A=((A=((A=((A=(A-(I=A%85))/85)-(M=A%85))/85)-(U=A%85))/85)-(b=A%85))/85)%85,g.push(R+33,b+33,U+33,M+33,I+33)):g.push(122);return(function(P,$){for(var Q=$;Q>0;Q--)P.pop()})(g,p.length),String.fromCharCode.apply(String,g)+"~>"},r=function(m){var p,g,v,w,A,R=String,b="length",U=255,M="charCodeAt",I="slice",P="replace";for(m[I](-2),m=m[I](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),v=[],w=0,A=(m+=p="uuuuu"[I](m[b]%5||5))[b];A>w;w+=5)g=52200625*(m[M](w)-33)+614125*(m[M](w+1)-33)+7225*(m[M](w+2)-33)+85*(m[M](w+3)-33)+(m[M](w+4)-33),v.push(U&g>>24,U&g>>16,U&g>>8,U&g);return(function($,Q){for(var q=Q;q>0;q--)$.pop()})(v,p[b]),R.fromCharCode.apply(R,v)},o=function(m){return m.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">"},c=function(m){var p=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((m=m.replace(/\s/g,"")).indexOf(">")!==-1&&(m=m.substr(0,m.indexOf(">"))),m.length%2&&(m+="0"),p.test(m)===!1)return"";for(var g="",v=0;v<m.length;v+=2)g+=String.fromCharCode("0x"+(m[v]+m[v+1]));return g},l=function(m){for(var p=new Uint8Array(m.length),g=m.length;g--;)p[g]=m.charCodeAt(g);return(p=yf(p)).reduce(function(v,w){return v+String.fromCharCode(w)},"")};i.processDataByFilters=function(m,p){var g=0,v=m||"",w=[];for(typeof(p=p||[])=="string"&&(p=[p]),g=0;g<p.length;g+=1)switch(p[g]){case"ASCII85Decode":case"/ASCII85Decode":v=r(v),w.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":v=a(v),w.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":v=c(v),w.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":v=o(v),w.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":v=l(v),w.push("/FlateDecode");break;default:throw new Error('The filter: "'+p[g]+'" is not implemented')}return{data:v,reverseChain:w.reverse().join(" ")}}})(Jt.API),(function(i){i.loadFile=function(a,r,o){return(function(c,l,m){l=l!==!1,m=typeof m=="function"?m:function(){};var p=void 0;try{p=(function(g,v,w){var A=new XMLHttpRequest,R=0,b=function(U){var M=U.length,I=[],P=String.fromCharCode;for(R=0;R<M;R+=1)I.push(P(255&U.charCodeAt(R)));return I.join("")};if(A.open("GET",g,!v),A.overrideMimeType("text/plain; charset=x-user-defined"),v===!1&&(A.onload=function(){A.status===200?w(b(this.responseText)):w(void 0)}),A.send(null),v&&A.status===200)return b(A.responseText)})(c,l,m)}catch{}return p})(a,r,o)},i.loadImageFile=i.loadFile})(Jt.API),(function(i){function a(){return(un.html2canvas?Promise.resolve(un.html2canvas):Wu(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load html2canvas: "+p))}).then(function(p){return p.default?p.default:p})}function r(){return(un.DOMPurify?Promise.resolve(un.DOMPurify):Wu(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load dompurify: "+p))}).then(function(p){return p.default?p.default:p})}var o=function(p){var g=ar(p);return g==="undefined"?"undefined":g==="string"||p instanceof String?"string":g==="number"||p instanceof Number?"number":g==="function"||p instanceof Function?"function":p&&p.constructor===Array?"array":p&&p.nodeType===1?"element":g==="object"?"object":"unknown"},c=function(p,g){var v=document.createElement(p);for(var w in g.className&&(v.className=g.className),g.innerHTML&&g.dompurify&&(v.innerHTML=g.dompurify.sanitize(g.innerHTML)),g.style)v.style[w]=g.style[w];return v},l=function p(g,v){for(var w=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),A=g.firstChild;A;A=A.nextSibling)v!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||w.appendChild(p(A,v));return g.nodeType===1&&(g.nodeName==="CANVAS"?(w.width=g.width,w.height=g.height,w.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(w.value=g.value),w.addEventListener("load",function(){w.scrollTop=g.scrollTop,w.scrollLeft=g.scrollLeft},!0)),w},m=function p(g){var v=Object.assign(p.convert(Promise.resolve()),JSON.parse(JSON.stringify(p.template))),w=p.convert(Promise.resolve(),v);return(w=w.setProgress(1,p,1,[p])).set(g)};(m.prototype=Object.create(Promise.prototype)).constructor=m,m.convert=function(p,g){return p.__proto__=g||m.prototype,p},m.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},m.prototype.from=function(p,g){return this.then(function(){switch(g=g||(function(v){switch(o(v)){case"string":return"string";case"element":return v.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(p),g){case"string":return this.then(r).then(function(v){return this.set({src:c("div",{innerHTML:p,dompurify:v})})});case"element":return this.set({src:p});case"canvas":return this.set({canvas:p});case"img":return this.set({img:p});default:return this.error("Unknown source type.")}})},m.prototype.to=function(p){switch(p){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},m.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var p={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},g=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);g.tagName==="BODY"&&(p.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=c("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=c("div",{className:"html2pdf__container",style:p}),this.prop.container.appendChild(g),this.prop.container.firstChild.appendChild(c("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},m.prototype.toCanvas=function(){var p=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(p).then(a).then(function(g){var v=Object.assign({},this.opt.html2canvas);return delete v.onrendered,g(this.prop.container,v)}).then(function(g){(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},m.prototype.toContext2d=function(){var p=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(p).then(a).then(function(g){var v=this.opt.jsPDF,w=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,R=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete R.onrendered,v.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,v.context2d.posX=this.opt.x,v.context2d.posY=this.opt.y,v.context2d.margin=this.opt.margin,v.context2d.fontFaces=w,w)for(var b=0;b<w.length;++b){var U=w[b],M=U.src.find(function(I){return I.format==="truetype"});M&&v.addFont(M.url,U.ref.name,U.ref.style)}return R.windowHeight=R.windowHeight||0,R.windowHeight=R.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):R.windowHeight,v.context2d.save(!0),g(this.prop.container,R)}).then(function(g){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},m.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var p=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=p})},m.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},m.prototype.output=function(p,g,v){return(v=v||"pdf").toLowerCase()==="img"||v.toLowerCase()==="image"?this.outputImg(p,g):this.outputPdf(p,g)},m.prototype.outputPdf=function(p,g){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(p,g)})},m.prototype.outputImg=function(p){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(p){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+p+'" is not supported.'}})},m.prototype.save=function(p){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(p?{filename:p}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},m.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},m.prototype.set=function(p){if(o(p)!=="object")return this;var g=Object.keys(p||{}).map(function(v){if(v in m.template.prop)return function(){this.prop[v]=p[v]};switch(v){case"margin":return this.setMargin.bind(this,p.margin);case"jsPDF":return function(){return this.opt.jsPDF=p.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,p.pageSize);default:return function(){this.opt[v]=p[v]}}},this);return this.then(function(){return this.thenList(g)})},m.prototype.get=function(p,g){return this.then(function(){var v=p in m.template.prop?this.prop[p]:this.opt[p];return g?g(v):v})},m.prototype.setMargin=function(p){return this.then(function(){switch(o(p)){case"number":p=[p,p,p,p];case"array":if(p.length===2&&(p=[p[0],p[1],p[0],p[1]]),p.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=p}).then(this.setPageSize)},m.prototype.setPageSize=function(p){function g(v,w){return Math.floor(v*w/72*96)}return this.then(function(){(p=p||Jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(p.inner={width:p.width-this.opt.margin[1]-this.opt.margin[3],height:p.height-this.opt.margin[0]-this.opt.margin[2]},p.inner.px={width:g(p.inner.width,p.k),height:g(p.inner.height,p.k)},p.inner.ratio=p.inner.height/p.inner.width),this.prop.pageSize=p})},m.prototype.setProgress=function(p,g,v,w){return p!=null&&(this.progress.val=p),g!=null&&(this.progress.state=g),v!=null&&(this.progress.n=v),w!=null&&(this.progress.stack=w),this.progress.ratio=this.progress.val/this.progress.state,this},m.prototype.updateProgress=function(p,g,v,w){return this.setProgress(p?this.progress.val+p:null,g||null,v?this.progress.n+v:null,w?this.progress.stack.concat(w):null)},m.prototype.then=function(p,g){var v=this;return this.thenCore(p,g,function(w,A){return v.updateProgress(null,null,1,[w]),Promise.prototype.then.call(this,function(R){return v.updateProgress(null,w),R}).then(w,A).then(function(R){return v.updateProgress(1),R})})},m.prototype.thenCore=function(p,g,v){v=v||Promise.prototype.then;var w=this;p&&(p=p.bind(w)),g&&(g=g.bind(w));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?w:m.convert(Object.assign({},w),Promise.prototype),R=v.call(A,p,g);return m.convert(R,w.__proto__)},m.prototype.thenExternal=function(p,g){return Promise.prototype.then.call(this,p,g)},m.prototype.thenList=function(p){var g=this;return p.forEach(function(v){g=g.thenCore(v)}),g},m.prototype.catch=function(p){p&&(p=p.bind(this));var g=Promise.prototype.catch.call(this,p);return m.convert(g,this)},m.prototype.catchExternal=function(p){return Promise.prototype.catch.call(this,p)},m.prototype.error=function(p){return this.then(function(){throw new Error(p)})},m.prototype.using=m.prototype.set,m.prototype.saveAs=m.prototype.save,m.prototype.export=m.prototype.output,m.prototype.run=m.prototype.then,Jt.getPageSize=function(p,g,v){if(ar(p)==="object"){var w=p;p=w.orientation,g=w.unit||g,v=w.format||v}g=g||"mm",v=v||"a4",p=(""+(p||"P")).toLowerCase();var A,R=(""+v).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(g){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+g}var U,M=0,I=0;if(b.hasOwnProperty(R))M=b[R][1]/A,I=b[R][0]/A;else try{M=v[1],I=v[0]}catch{throw new Error("Invalid format: "+v)}if(p==="p"||p==="portrait")p="p",I>M&&(U=I,I=M,M=U);else{if(p!=="l"&&p!=="landscape")throw"Invalid orientation: "+p;p="l",M>I&&(U=I,I=M,M=U)}return{width:I,height:M,unit:g,k:A,orientation:p}},i.html=function(p,g){(g=g||{}).callback=g.callback||function(){},g.html2canvas=g.html2canvas||{},g.html2canvas.canvas=g.html2canvas.canvas||this.canvas,g.jsPDF=g.jsPDF||this,g.fontFaces=g.fontFaces?g.fontFaces.map(of):null;var v=new m(g);return g.worker?v:v.from(p).doCallback()}})(Jt.API),Jt.API.addJS=function(i){return hm=i,this.internal.events.subscribe("postPutResources",function(){Dd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Dd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),fm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+hm+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Dd!==void 0&&fm!==void 0&&this.internal.out("/Names <</JavaScript "+Dd+" 0 R>>")}),this},(function(i){var a;i.events.push(["postPutResources",function(){var r=this,o=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var c=r.outline.render().split(/\r\n/),l=0;l<c.length;l++){var m=c[l],p=o.exec(m);if(p!=null){var g=p[1];r.internal.newObjectDeferredBegin(g,!1)}r.internal.write(m)}if(this.outline.createNamedDestinations){var v=this.internal.pages.length,w=[];for(l=0;l<v;l++){var A=r.internal.newObject();w.push(A);var R=r.internal.getPageInfo(l+1);r.internal.write("<< /D["+R.objId+" 0 R /XYZ null null null]>> endobj")}var b=r.internal.newObject();for(r.internal.write("<< /Names [ "),l=0;l<w.length;l++)r.internal.write("(page_"+(l+1)+")"+w[l]+" 0 R");r.internal.write(" ] >>","endobj"),a=r.internal.newObject(),r.internal.write("<< /Dests "+b+" 0 R"),r.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+a+" 0 R"))}]),i.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(o,c,l){var m={title:c,options:l,children:[]};return o==null&&(o=this.root),o.children.push(m),m},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(o){o.id=r.internal.newObjectDeferred();for(var c=0;c<o.children.length;c++)this.genIds_r(o.children[c])},r.outline.renderRoot=function(o){this.objStart(o),this.line("/Type /Outlines"),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1]))),this.line("/Count "+this.count_r({count:0},o)),this.objEnd()},r.outline.renderItems=function(o){for(var c=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<o.children.length;l++){var m=o.children[l];this.objStart(m),this.line("/Title "+this.makeString(m.title)),this.line("/Parent "+this.makeRef(o)),l>0&&this.line("/Prev "+this.makeRef(o.children[l-1])),l<o.children.length-1&&this.line("/Next "+this.makeRef(o.children[l+1])),m.children.length>0&&(this.line("/First "+this.makeRef(m.children[0])),this.line("/Last "+this.makeRef(m.children[m.children.length-1])));var p=this.count=this.count_r({count:0},m);if(p>0&&this.line("/Count "+p),m.options&&m.options.pageNumber){var g=r.internal.getPageInfo(m.options.pageNumber);this.line("/Dest ["+g.objId+" 0 R /XYZ 0 "+c(0)+" 0]")}this.objEnd()}for(var v=0;v<o.children.length;v++)this.renderItems(o.children[v])},r.outline.line=function(o){this.ctx.val+=o+`\r
`},r.outline.makeRef=function(o){return o.id+" 0 R"},r.outline.makeString=function(o){return"("+r.internal.pdfEscape(o)+")"},r.outline.objStart=function(o){this.ctx.val+=`\r
`+o.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(o,c){for(var l=0;l<c.children.length;l++)o.count++,this.count_r(o,c.children[l]);return o.count}}])})(Jt.API),(function(i){var a=[192,193,194,195,196,197,198,199];i.processJPEG=function(r,o,c,l,m,p){var g,v=this.decode.DCT_DECODE,w=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=m||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,g=(function(A){for(var R,b=256*A.charCodeAt(4)+A.charCodeAt(5),U=A.length,M={width:0,height:0,numcomponents:1},I=4;I<U;I+=2){if(I+=b,a.indexOf(A.charCodeAt(I+1))!==-1){R=256*A.charCodeAt(I+5)+A.charCodeAt(I+6),M={width:256*A.charCodeAt(I+7)+A.charCodeAt(I+8),height:R,numcomponents:A.charCodeAt(I+9)};break}b=256*A.charCodeAt(I+2)+A.charCodeAt(I+3)}return M})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),g.numcomponents){case 1:p=this.color_spaces.DEVICE_GRAY;break;case 4:p=this.color_spaces.DEVICE_CMYK;break;case 3:p=this.color_spaces.DEVICE_RGB}w={data:r,width:g.width,height:g.height,colorSpace:p,bitsPerComponent:8,filter:v,index:o,alias:c}}return w}})(Jt.API),Jt.API.processPNG=function(i,a,r,o){if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){var c,l=Wx(i,{checkCrc:!0}),m=l.width,p=l.height,g=l.channels,v=l.palette,w=l.depth;c=v&&g===1?(function(ge){for(var te=ge.width,xe=ge.height,z=ge.data,H=ge.palette,ne=ge.depth,se=!1,ke=[],Re=[],Me=void 0,fe=!1,Le=0,Ie=0;Ie<H.length;Ie++){var ee=xp(H[Ie],4),C=ee[0],J=ee[1],K=ee[2],le=ee[3];ke.push(C,J,K),le!=null&&(le===0?(Le++,Re.length<1&&Re.push(Ie)):le<255&&(fe=!0))}if(fe||Le>1){se=!0,Re=void 0;var pe=te*xe;Me=new Uint8Array(pe);for(var be=new DataView(z.buffer),De=0;De<pe;De++){var Te=cf(be,De,ne),ze=xp(H[Te],4)[3];Me[De]=ze}}else Le===0&&(Re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:se?8:void 0,colorBytes:z,alphaBytes:Me,needSMask:se,palette:ke,mask:Re}})(l):g===2||g===4?(function(ge){for(var te=ge.data,xe=ge.width,z=ge.height,H=ge.channels,ne=ge.depth,se=H===2?"DeviceGray":"DeviceRGB",ke=H-1,Re=xe*z,Me=ke,fe=Re*Me,Le=1*Re,Ie=Math.ceil(fe*ne/8),ee=Math.ceil(Le*ne/8),C=new Uint8Array(Ie),J=new Uint8Array(ee),K=new DataView(te.buffer),le=new DataView(C.buffer),pe=new DataView(J.buffer),be=!1,De=0;De<Re;De++){for(var Te=De*H,ze=0;ze<Me;ze++)jm(le,cf(K,Te+ze,ne),De*Me+ze,ne);var Ee=cf(K,Te+Me,ne);Ee<(1<<ne)-1&&(be=!0),jm(pe,Ee,1*De,ne)}return{colorSpace:se,colorsPerPixel:ke,sMaskBitsPerComponent:be?ne:void 0,colorBytes:C,alphaBytes:J,needSMask:be}})(l):(function(ge){var te=ge.data,xe=ge.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:xe,colorsPerPixel:xe==="DeviceGray"?1:3,colorBytes:te instanceof Uint16Array?(function(z){for(var H=z.length,ne=new Uint8Array(2*H),se=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),ke=0;ke<H;ke++)se.setUint16(2*ke,z[ke],!1);return ne})(te):te,needSMask:!1}})(l);var A,R,b,U=c,M=U.colorSpace,I=U.colorsPerPixel,P=U.sMaskBitsPerComponent,$=U.colorBytes,Q=U.alphaBytes,q=U.needSMask,de=U.palette,ue=U.mask,_e=null;return o!==Jt.API.image_compression.NONE&&typeof yf=="function"?(_e=(function(ge){var te;switch(ge){case Jt.API.image_compression.FAST:te=11;break;case Jt.API.image_compression.MEDIUM:te=13;break;case Jt.API.image_compression.SLOW:te=14;break;default:te=12}return te})(o),A=this.decode.FLATE_DECODE,R="/Predictor ".concat(_e," /Colors ").concat(I," /BitsPerComponent ").concat(w," /Columns ").concat(m),i=xm($,Math.ceil(m*I*w/8),I,w,o),q&&(b=xm(Q,Math.ceil(m*P/8),1,P,o))):(A=void 0,R=void 0,i=$,q&&(b=Q)),(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:r,data:i,index:a,filter:A,decodeParameters:R,transparency:ue,palette:de,sMask:b,predictor:_e,width:m,height:p,bitsPerComponent:w,sMaskBitsPerComponent:P,colorSpace:M}}},(function(i){i.processGIF89A=function(a,r,o,c){var l=new cy(a),m=l.width,p=l.height,g=[];l.decodeAndBlitFrameRGBA(0,g);var v={data:g,width:m,height:p},w=new df(100).encode(v,100);return i.processJPEG.call(this,w,r,o,c)},i.processGIF87A=i.processGIF89A})(Jt.API),co.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var a=0;a<i;a++){var r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[a]={red:c,green:o,blue:r,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},co.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,a=this.width*this.height*4;this.data=new Uint8Array(a),this[i]()}catch(r){fr.log("bit decode error:"+r)}},co.prototype.bit1=function(){var i,a=Math.ceil(this.width/8),r=a%4;for(i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,c=0;c<a;c++)for(var l=this.datav.getUint8(this.pos++,!0),m=o*this.width*4+8*c*4,p=0;p<8&&8*c+p<this.width;p++){var g=this.palette[l>>7-p&1];this.data[m+4*p]=g.blue,this.data[m+4*p+1]=g.green,this.data[m+4*p+2]=g.red,this.data[m+4*p+3]=255}r!==0&&(this.pos+=4-r)}},co.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),a=i%4,r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,c=0;c<i;c++){var l=this.datav.getUint8(this.pos++,!0),m=o*this.width*4+2*c*4,p=l>>4,g=15&l,v=this.palette[p];if(this.data[m]=v.blue,this.data[m+1]=v.green,this.data[m+2]=v.red,this.data[m+3]=255,2*c+1>=this.width)break;v=this.palette[g],this.data[m+4]=v.blue,this.data[m+4+1]=v.green,this.data[m+4+2]=v.red,this.data[m+4+3]=255}a!==0&&(this.pos+=4-a)}},co.prototype.bit8=function(){for(var i=this.width%4,a=this.height-1;a>=0;a--){for(var r=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var c=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*o;if(c<this.palette.length){var m=this.palette[c];this.data[l]=m.red,this.data[l+1]=m.green,this.data[l+2]=m.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}i!==0&&(this.pos+=4-i)}},co.prototype.bit15=function(){for(var i=this.width%3,a=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,c=0;c<this.width;c++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var m=(l&a)/a*255|0,p=(l>>5&a)/a*255|0,g=(l>>10&a)/a*255|0,v=l>>15?255:0,w=o*this.width*4+4*c;this.data[w]=g,this.data[w+1]=p,this.data[w+2]=m,this.data[w+3]=v}this.pos+=i}},co.prototype.bit16=function(){for(var i=this.width%3,a=parseInt("11111",2),r=parseInt("111111",2),o=this.height-1;o>=0;o--){for(var c=this.bottom_up?o:this.height-1-o,l=0;l<this.width;l++){var m=this.datav.getUint16(this.pos,!0);this.pos+=2;var p=(m&a)/a*255|0,g=(m>>5&r)/r*255|0,v=(m>>11)/a*255|0,w=c*this.width*4+4*l;this.data[w]=v,this.data[w+1]=g,this.data[w+2]=p,this.data[w+3]=255}this.pos+=i}},co.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),m=a*this.width*4+4*r;this.data[m]=l,this.data[m+1]=c,this.data[m+2]=o,this.data[m+3]=255}this.pos+=this.width%4}},co.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var a=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),m=this.datav.getUint8(this.pos++,!0),p=a*this.width*4+4*r;this.data[p]=l,this.data[p+1]=c,this.data[p+2]=o,this.data[p+3]=m}},co.prototype.getData=function(){return this.data},(function(i){i.processBMP=function(a,r,o,c){var l=new co(a,!1),m=l.width,p=l.height,g={data:l.getData(),width:m,height:p},v=new df(100).encode(g,100);return i.processJPEG.call(this,v,r,o,c)}})(Jt.API),Nm.prototype.getData=function(){return this.data},(function(i){i.processWEBP=function(a,r,o,c){var l=new Nm(a),m=l.width,p=l.height,g={data:l.getData(),width:m,height:p},v=new df(100).encode(g,100);return i.processJPEG.call(this,v,r,o,c)}})(Jt.API),Jt.API.processRGBA=function(i,a,r){for(var o=i.data,c=o.length,l=new Uint8Array(c/4*3),m=new Uint8Array(c/4),p=0,g=0,v=0;v<c;v+=4){var w=o[v],A=o[v+1],R=o[v+2],b=o[v+3];l[p++]=w,l[p++]=A,l[p++]=R,m[g++]=b}var U=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(m),data:U,index:a,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Jt.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hc=Jt.API,Td=hc.getCharWidthsArray=function(i,a){var r,o,c=(a=a||{}).font||this.internal.getFont(),l=a.fontSize||this.internal.getFontSize(),m=a.charSpace||this.internal.getCharSpace(),p=a.widths?a.widths:c.metadata.Unicode.widths,g=p.fof?p.fof:1,v=a.kerning?a.kerning:c.metadata.Unicode.kerning,w=v.fof?v.fof:1,A=a.doKerning!==!1,R=0,b=i.length,U=0,M=p[0]||g,I=[];for(r=0;r<b;r++)o=i.charCodeAt(r),typeof c.metadata.widthOfString=="function"?I.push((c.metadata.widthOfGlyph(c.metadata.characterToGlyph(o))+m*(1e3/l)||0)/1e3):(R=A&&ar(v[o])==="object"&&!isNaN(parseInt(v[o][U],10))?v[o][U]/w:0,I.push((p[o]||M)/g+R)),U=o;return I},pm=hc.getStringUnitWidth=function(i,a){var r=(a=a||{}).fontSize||this.internal.getFontSize(),o=a.font||this.internal.getFont(),c=a.charSpace||this.internal.getCharSpace();return hc.processArabic&&(i=hc.processArabic(i)),typeof o.metadata.widthOfString=="function"?o.metadata.widthOfString(i,r,c)/r:Td.apply(this,arguments).reduce(function(l,m){return l+m},0)},mm=function(i,a,r,o){for(var c=[],l=0,m=i.length,p=0;l!==m&&p+a[l]<r;)p+=a[l],l++;c.push(i.slice(0,l));var g=l;for(p=0;l!==m;)p+a[l]>o&&(c.push(i.slice(g,l)),p=0,g=l),p+=a[l],l++;return g!==l&&c.push(i.slice(g,l)),c},gm=function(i,a,r){r||(r={});var o,c,l,m,p,g,v,w=[],A=[w],R=r.textIndent||0,b=0,U=0,M=i.split(" "),I=Td.apply(this,[" ",r])[0];if(g=r.lineIndent===-1?M[0].length+2:r.lineIndent||0){var P=Array(g).join(" "),$=[];M.map(function(q){(q=q.split(/\s*\n/)).length>1?$=$.concat(q.map(function(de,ue){return(ue&&de.length?`
`:"")+de})):$.push(q[0])}),M=$,g=pm.apply(this,[P,r])}for(l=0,m=M.length;l<m;l++){var Q=0;if(o=M[l],g&&o[0]==`
`&&(o=o.substr(1),Q=1),R+b+(U=(c=Td.apply(this,[o,r])).reduce(function(q,de){return q+de},0))>a||Q){if(U>a){for(p=mm.apply(this,[o,c,a-(R+b),a]),w.push(p.shift()),w=[p.pop()];p.length;)A.push([p.shift()]);U=c.slice(o.length-(w[0]?w[0].length:0)).reduce(function(q,de){return q+de},0)}else w=[o];A.push(w),R=U+g,b=I}else w.push(o),R+=b+U,b=I}return v=g?function(q,de){return(de?P:"")+q.join(" ")}:function(q){return q.join(" ")},A.map(v)},hc.splitTextToSize=function(i,a,r){var o,c=(r=r||{}).fontSize||this.internal.getFontSize(),l=(function(w){if(w.widths&&w.kerning)return{widths:w.widths,kerning:w.kerning};var A=this.internal.getFont(w.fontName,w.fontStyle),R="Unicode";return A.metadata[R]?{widths:A.metadata[R].widths||{0:1},kerning:A.metadata[R].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);o=Array.isArray(i)?i:String(i).split(/\r?\n/);var m=1*this.internal.scaleFactor*a/c;l.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/c:0,l.lineIndent=r.lineIndent;var p,g,v=[];for(p=0,g=o.length;p<g;p++)v=v.concat(gm.apply(this,[o[p],m,l]));return v},(function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var a="0123456789abcdef",r="klmnopqrstuvwxyz",o={},c={},l=0;l<16;l++)o[r[l]]=a[l],c[a[l]]=r[l];var m=function(R){return"0x"+parseInt(R,10).toString(16)},p=i.__fontmetrics__.compress=function(R){var b,U,M,I,P=["{"];for(var $ in R){if(b=R[$],isNaN(parseInt($,10))?U="'"+$+"'":($=parseInt($,10),U=(U=m($).slice(2)).slice(0,-1)+c[U.slice(-1)]),typeof b=="number")b<0?(M=m(b).slice(3),I="-"):(M=m(b).slice(2),I=""),M=I+M.slice(0,-1)+c[M.slice(-1)];else{if(ar(b)!=="object")throw new Error("Don't know what to do with value type "+ar(b)+".");M=p(b)}P.push(U+M)}return P.push("}"),P.join("")},g=i.__fontmetrics__.uncompress=function(R){if(typeof R!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,U,M,I,P={},$=1,Q=P,q=[],de="",ue="",_e=R.length-1,ge=1;ge<_e;ge+=1)(I=R[ge])=="'"?b?(M=b.join(""),b=void 0):b=[]:b?b.push(I):I=="{"?(q.push([Q,M]),Q={},M=void 0):I=="}"?((U=q.pop())[0][U[1]]=Q,M=void 0,Q=U[0]):I=="-"?$=-1:M===void 0?o.hasOwnProperty(I)?(de+=o[I],M=parseInt(de,16)*$,$=1,de=""):de+=I:o.hasOwnProperty(I)?(ue+=o[I],Q[M]=parseInt(ue,16)*$,$=1,M=void 0,ue=""):ue+=I;return P},v={codePages:["WinAnsiEncoding"],WinAnsiEncoding:g("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},w={Unicode:{Courier:v,"Courier-Bold":v,"Courier-BoldOblique":v,"Courier-Oblique":v,Helvetica:v,"Helvetica-Bold":v,"Helvetica-BoldOblique":v,"Helvetica-Oblique":v,"Times-Roman":v,"Times-Bold":v,"Times-BoldItalic":v,"Times-Italic":v}},A={Unicode:{"Courier-Oblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":g("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":g("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:g("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:g("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":g("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":g("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(R){var b=R.font,U=A.Unicode[b.postScriptName];U&&(b.metadata.Unicode={},b.metadata.Unicode.widths=U.widths,b.metadata.Unicode.kerning=U.kerning);var M=w.Unicode[b.postScriptName];M&&(b.metadata.Unicode.encoding=M,b.encoding=M.codePages[0])}])})(Jt.API),(function(i){var a=function(r){for(var o=r.length,c=new Uint8Array(o),l=0;l<o;l++)c[l]=r.charCodeAt(l);return c};i.API.events.push(["addFont",function(r){var o=void 0,c=r.font,l=r.instance;if(!c.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+c.postScriptName+"').");if(typeof(o=l.existsFileInVFS(c.postScriptName)===!1?l.loadFile(c.postScriptName):l.getFileFromVFS(c.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+c.postScriptName+"').");(function(m,p){p=/^\x00\x01\x00\x00/.test(p)?a(p):a(Bd(p)),m.metadata=i.API.TTFFont.open(p),m.metadata.Unicode=m.metadata.Unicode||{encoding:{},kerning:{},widths:[]},m.metadata.glyIdsUsed=[0]})(c,o)}}])})(Jt),Jt.API.addSvgAsImage=function(i,a,r,o,c,l,m,p){if(isNaN(a)||isNaN(r))throw fr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(c))throw fr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=o,g.height=c;var v=g.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,g.width,g.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(un.canvg?Promise.resolve(un.canvg):Wu(()=>import("./index.es-BPrkiXre.js"),[])).catch(function(R){return Promise.reject(new Error("Could not load canvg: "+R))}).then(function(R){return R.default?R.default:R}).then(function(R){return R.fromString(v,i,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(R){return R.render(w)}).then(function(){A.addImage(g.toDataURL("image/jpeg",1),a,r,o,c,m,p)})},Jt.API.putTotalPages=function(i){var a,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(a=new RegExp(i,"g"),r=this.internal.getNumberOfPages()):(a=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var o=1;o<=this.internal.getNumberOfPages();o++)for(var c=0;c<this.internal.pages[o].length;c++)this.internal.pages[o][c]=this.internal.pages[o][c].replace(a,r);return this},Jt.API.viewerPreferences=function(i,a){var r;i=i||{},a=a||!1;var o,c,l,m={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},p=Object.keys(m),g=[],v=0,w=0,A=0;function R(U,M){var I,P=!1;for(I=0;I<U.length;I+=1)U[I]===M&&(P=!0);return P}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(m)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,i==="reset"||a===!0){var b=p.length;for(A=0;A<b;A+=1)r[p[A]].value=r[p[A]].defaultValue,r[p[A]].explicitSet=!1}if(ar(i)==="object"){for(c in i)if(l=i[c],R(p,c)&&l!==void 0){if(r[c].type==="boolean"&&typeof l=="boolean")r[c].value=l;else if(r[c].type==="name"&&R(r[c].valueSet,l))r[c].value=l;else if(r[c].type==="integer"&&Number.isInteger(l))r[c].value=l;else if(r[c].type==="array"){for(v=0;v<l.length;v+=1)if(o=!0,l[v].length===1&&typeof l[v][0]=="number")g.push(String(l[v]-1));else if(l[v].length>1){for(w=0;w<l[v].length;w+=1)typeof l[v][w]!="number"&&(o=!1);o===!0&&g.push([l[v][0]-1,l[v][1]-1].join(" "))}r[c].value="["+g.join(" ")+"]"}else r[c].value=r[c].defaultValue;r[c].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var U,M=[];for(U in r)r[U].explicitSet===!0&&(r[U].type==="name"?M.push("/"+U+" /"+r[U].value):M.push("/"+U+" "+r[U].value));M.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+M.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(i){var a=function(){var o='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',c=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(o)),m=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),p=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),g=unescape(encodeURIComponent("</x:xmpmeta>")),v=l.length+m.length+p.length+c.length+g.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+v+" >>"),this.internal.write("stream"),this.internal.write(c+l+m+p+g),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(o,c){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:o,namespaceuri:c||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",a)),this}})(Jt.API),(function(i){var a=i.API,r=a.pdfEscape16=function(l,m){for(var p,g=m.metadata.Unicode.widths,v=["","0","00","000","0000"],w=[""],A=0,R=l.length;A<R;++A){if(p=m.metadata.characterToGlyph(l.charCodeAt(A)),m.metadata.glyIdsUsed.push(p),m.metadata.toUnicode[p]=l.charCodeAt(A),g.indexOf(p)==-1&&(g.push(p),g.push([parseInt(m.metadata.widthOfGlyph(p),10)])),p=="0")return w.join("");p=p.toString(16),w.push(v[4-p.length],p)}return w.join("")},o=function(l){var m,p,g,v,w,A,R;for(w=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,g=[],A=0,R=(p=Object.keys(l).sort(function(b,U){return b-U})).length;A<R;A++)m=p[A],g.length>=100&&(w+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar`,g=[]),l[m]!==void 0&&l[m]!==null&&typeof l[m].toString=="function"&&(v=("0000"+l[m].toString(16)).slice(-4),m=("0000"+(+m).toString(16)).slice(-4),g.push("<"+m+"><"+v+">"));return g.length&&(w+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar
`),w+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};a.events.push(["putFont",function(l){(function(m){var p=m.font,g=m.out,v=m.newObject,w=m.putStream;if(p.metadata instanceof i.API.TTFFont&&p.encoding==="Identity-H"){for(var A=p.metadata.Unicode.widths,R=p.metadata.subset.encode(p.metadata.glyIdsUsed,1),b="",U=0;U<R.length;U++)b+=String.fromCharCode(R[U]);var M=v();w({data:b,addLength1:!0,objectId:M}),g("endobj");var I=v();w({data:o(p.metadata.toUnicode),addLength1:!0,objectId:I}),g("endobj");var P=v();g("<<"),g("/Type /FontDescriptor"),g("/FontName /"+mc(p.fontName)),g("/FontFile2 "+M+" 0 R"),g("/FontBBox "+i.API.PDFObject.convert(p.metadata.bbox)),g("/Flags "+p.metadata.flags),g("/StemV "+p.metadata.stemV),g("/ItalicAngle "+p.metadata.italicAngle),g("/Ascent "+p.metadata.ascender),g("/Descent "+p.metadata.decender),g("/CapHeight "+p.metadata.capHeight),g(">>"),g("endobj");var $=v();g("<<"),g("/Type /Font"),g("/BaseFont /"+mc(p.fontName)),g("/FontDescriptor "+P+" 0 R"),g("/W "+i.API.PDFObject.convert(A)),g("/CIDToGIDMap /Identity"),g("/DW 1000"),g("/Subtype /CIDFontType2"),g("/CIDSystemInfo"),g("<<"),g("/Supplement 0"),g("/Registry (Adobe)"),g("/Ordering ("+p.encoding+")"),g(">>"),g(">>"),g("endobj"),p.objectNumber=v(),g("<<"),g("/Type /Font"),g("/Subtype /Type0"),g("/ToUnicode "+I+" 0 R"),g("/BaseFont /"+mc(p.fontName)),g("/Encoding /"+p.encoding),g("/DescendantFonts ["+$+" 0 R]"),g(">>"),g("endobj"),p.isAlreadyPutted=!0}})(l)}]),a.events.push(["putFont",function(l){(function(m){var p=m.font,g=m.out,v=m.newObject,w=m.putStream;if(p.metadata instanceof i.API.TTFFont&&p.encoding==="WinAnsiEncoding"){for(var A=p.metadata.rawData,R="",b=0;b<A.length;b++)R+=String.fromCharCode(A[b]);var U=v();w({data:R,addLength1:!0,objectId:U}),g("endobj");var M=v();w({data:o(p.metadata.toUnicode),addLength1:!0,objectId:M}),g("endobj");var I=v();g("<<"),g("/Descent "+p.metadata.decender),g("/CapHeight "+p.metadata.capHeight),g("/StemV "+p.metadata.stemV),g("/Type /FontDescriptor"),g("/FontFile2 "+U+" 0 R"),g("/Flags 96"),g("/FontBBox "+i.API.PDFObject.convert(p.metadata.bbox)),g("/FontName /"+mc(p.fontName)),g("/ItalicAngle "+p.metadata.italicAngle),g("/Ascent "+p.metadata.ascender),g(">>"),g("endobj"),p.objectNumber=v();for(var P=0;P<p.metadata.hmtx.widths.length;P++)p.metadata.hmtx.widths[P]=parseInt(p.metadata.hmtx.widths[P]*(1e3/p.metadata.head.unitsPerEm));g("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+mc(p.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+p.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(p.metadata.hmtx.widths)+">>"),g("endobj"),p.isAlreadyPutted=!0}})(l)}]);var c=function(l){var m,p=l.text||"",g=l.x,v=l.y,w=l.options||{},A=l.mutex||{},R=A.pdfEscape,b=A.activeFontKey,U=A.fonts,M=b,I="",P=0,$="",Q=U[M].encoding;if(U[M].encoding!=="Identity-H")return{text:p,x:g,y:v,options:w,mutex:A};for($=p,M=b,Array.isArray(p)&&($=p[0]),P=0;P<$.length;P+=1)U[M].metadata.hasOwnProperty("cmap")&&(m=U[M].metadata.cmap.unicode.codeMap[$[P].charCodeAt(0)]),m||$[P].charCodeAt(0)<256&&U[M].metadata.hasOwnProperty("Unicode")?I+=$[P]:I+="";var q="";return parseInt(M.slice(1))<14||Q==="WinAnsiEncoding"?q=R(I,M).split("").map(function(de){return de.charCodeAt(0).toString(16)}).join(""):Q==="Identity-H"&&(q=r(I,U[M])),A.isHex=!0,{text:q,x:g,y:v,options:w,mutex:A}};a.events.push(["postProcessText",function(l){var m=l.text||"",p=[],g={text:m,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(m)){var v=0;for(v=0;v<m.length;v+=1)Array.isArray(m[v])&&m[v].length===3?p.push([c(Object.assign({},g,{text:m[v][0]})).text,m[v][1],m[v][2]]):p.push(c(Object.assign({},g,{text:m[v]})).text);l.text=p}else l.text=c(Object.assign({},g,{text:m})).text}])})(Jt),(function(i){var a=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(r){return a.call(this),this.internal.vFS[r]!==void 0},i.addFileToVFS=function(r,o){return a.call(this),this.internal.vFS[r]=o,this},i.getFileFromVFS=function(r){return a.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Jt.API),(function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(o){var c,l,m,p,g,v,w,A=a,R=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],U={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],P=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),$=!1,Q=0;this.__bidiEngine__={};var q=function(z){var H=z.charCodeAt(),ne=H>>8,se=M[ne];return se!==void 0?A[256*se+(255&H)]:ne===252||ne===253?"AL":P.test(ne)?"L":ne===8?"R":"N"},de=function(z){for(var H,ne=0;ne<z.length;ne++){if((H=q(z.charAt(ne)))==="L")return!1;if(H==="R")return!0}return!1},ue=function(z,H,ne,se){var ke,Re,Me,fe,Le=H[se];switch(Le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":$=!1;break;case"N":case"AN":break;case"EN":$&&(Le="AN");break;case"AL":$=!0,Le="R";break;case"WS":case"BN":Le="N";break;case"CS":se<1||se+1>=H.length||(ke=ne[se-1])!=="EN"&&ke!=="AN"||(Re=H[se+1])!=="EN"&&Re!=="AN"?Le="N":$&&(Re="AN"),Le=Re===ke?Re:"N";break;case"ES":Le=(ke=se>0?ne[se-1]:"B")==="EN"&&se+1<H.length&&H[se+1]==="EN"?"EN":"N";break;case"ET":if(se>0&&ne[se-1]==="EN"){Le="EN";break}if($){Le="N";break}for(Me=se+1,fe=H.length;Me<fe&&H[Me]==="ET";)Me++;Le=Me<fe&&H[Me]==="EN"?"EN":"N";break;case"NSM":if(m&&!p){for(fe=H.length,Me=se+1;Me<fe&&H[Me]==="NSM";)Me++;if(Me<fe){var Ie=z[se],ee=Ie>=1425&&Ie<=2303||Ie===64286;if(ke=H[Me],ee&&(ke==="R"||ke==="AL")){Le="R";break}}}Le=se<1||(ke=H[se-1])==="B"?"N":ne[se-1];break;case"B":$=!1,c=!0,Le=Q;break;case"S":l=!0,Le="N"}return Le},_e=function(z,H,ne){var se=z.split("");return ne&&ge(se,ne,{hiLevel:Q}),se.reverse(),H&&H.reverse(),se.join("")},ge=function(z,H,ne){var se,ke,Re,Me,fe,Le=-1,Ie=z.length,ee=0,C=[],J=Q?b:R,K=[];for($=!1,c=!1,l=!1,ke=0;ke<Ie;ke++)K[ke]=q(z[ke]);for(Re=0;Re<Ie;Re++){if(fe=ee,C[Re]=ue(z,K,C,Re),se=240&(ee=J[fe][U[C[Re]]]),ee&=15,H[Re]=Me=J[ee][5],se>0)if(se===16){for(ke=Le;ke<Re;ke++)H[ke]=1;Le=-1}else Le=-1;if(J[ee][6])Le===-1&&(Le=Re);else if(Le>-1){for(ke=Le;ke<Re;ke++)H[ke]=Me;Le=-1}K[Re]==="B"&&(H[Re]=0),ne.hiLevel|=Me}l&&(function(le,pe,be){for(var De=0;De<be;De++)if(le[De]==="S"){pe[De]=Q;for(var Te=De-1;Te>=0&&le[Te]==="WS";Te--)pe[Te]=Q}})(K,H,Ie)},te=function(z,H,ne,se,ke){if(!(ke.hiLevel<z)){if(z===1&&Q===1&&!c)return H.reverse(),void(ne&&ne.reverse());for(var Re,Me,fe,Le,Ie=H.length,ee=0;ee<Ie;){if(se[ee]>=z){for(fe=ee+1;fe<Ie&&se[fe]>=z;)fe++;for(Le=ee,Me=fe-1;Le<Me;Le++,Me--)Re=H[Le],H[Le]=H[Me],H[Me]=Re,ne&&(Re=ne[Le],ne[Le]=ne[Me],ne[Me]=Re);ee=fe}ee++}}},xe=function(z,H,ne){var se=z.split(""),ke={hiLevel:Q};return ne||(ne=[]),ge(se,ne,ke),(function(Re,Me,fe){if(fe.hiLevel!==0&&w)for(var Le,Ie=0;Ie<Re.length;Ie++)Me[Ie]===1&&(Le=I.indexOf(Re[Ie]))>=0&&(Re[Ie]=I[Le+1])})(se,ne,ke),te(2,se,H,ne,ke),te(1,se,H,ne,ke),se.join("")};return this.__bidiEngine__.doBidiReorder=function(z,H,ne){if((function(ke,Re){if(Re)for(var Me=0;Me<ke.length;Me++)Re[Me]=Me;p===void 0&&(p=de(ke)),v===void 0&&(v=de(ke))})(z,H),m||!g||v)if(m&&g&&p^v)Q=p?1:0,z=_e(z,H,ne);else if(!m&&g&&v)Q=p?1:0,z=xe(z,H,ne),z=_e(z,H);else if(!m||p||g||v){if(m&&!g&&p^v)z=_e(z,H),p?(Q=0,z=xe(z,H,ne)):(Q=1,z=xe(z,H,ne),z=_e(z,H));else if(m&&p&&!g&&v)Q=1,z=xe(z,H,ne),z=_e(z,H);else if(!m&&!g&&p^v){var se=w;p?(Q=1,z=xe(z,H,ne),Q=0,w=!1,z=xe(z,H,ne),w=se):(Q=0,z=xe(z,H,ne),z=_e(z,H),Q=1,w=!1,z=xe(z,H,ne),w=se,z=_e(z,H))}}else Q=0,z=xe(z,H,ne);else Q=p?1:0,z=xe(z,H,ne);return z},this.__bidiEngine__.setOptions=function(z){z&&(m=z.isInputVisual,g=z.isOutputVisual,p=z.isInputRtl,v=z.isOutputRtl,w=z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(o),this.__bidiEngine__};var a=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(o){var c=o.text;o.x,o.y;var l=o.options||{};o.mutex,l.lang;var m=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,r.setOptions(l),Object.prototype.toString.call(c)==="[object Array]"){var p=0;for(m=[],p=0;p<c.length;p+=1)Object.prototype.toString.call(c[p])==="[object Array]"?m.push([r.doBidiReorder(c[p][0]),c[p][1],c[p][2]]):m.push([r.doBidiReorder(c[p])]);o.text=m}else o.text=r.doBidiReorder(c);r.setOptions({isInputVisual:!0})}])})(Jt),Jt.API.TTFFont=(function(){function i(a){var r;if(this.rawData=a,r=this.contents=new yl(a),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Ny(this),this.registerTTF()}return i.open=function(a){return new i(a)},i.prototype.parse=function(){return this.directory=new dy(this.contents),this.head=new fy(this),this.name=new xy(this),this.cmap=new I0(this),this.toUnicode={},this.hhea=new hy(this),this.maxp=new yy(this),this.hmtx=new vy(this),this.post=new my(this),this.os2=new py(this),this.loca=new Sy(this),this.glyf=new by(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var a,r,o,c,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var m,p,g,v;for(v=[],m=0,p=(g=this.bbox).length;m<p;m++)a=g[m],v.push(Math.round(a*this.scaleFactor));return v}).call(this),this.stemV=0,this.post.exists?(o=255&(c=this.post.italic_angle),32768&(r=c>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+o)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(a){var r;return((r=this.cmap.unicode)!=null?r.codeMap[a]:void 0)||0},i.prototype.widthOfGlyph=function(a){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(a).advance*r},i.prototype.widthOfString=function(a,r,o){var c,l,m,p;for(m=0,l=0,p=(a=""+a).length;0<=p?l<p:l>p;l=0<=p?++l:--l)c=a.charCodeAt(l),m+=this.widthOfGlyph(this.characterToGlyph(c))+o*(1e3/r)||0;return m*(r/1e3)},i.prototype.lineHeight=function(a,r){var o;return r==null&&(r=!1),o=r?this.lineGap:0,(this.ascender+o-this.decender)/1e3*a},i})();var po,yl=(function(){function i(a){this.data=a??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(a){return this.data[this.pos++]=a},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(a){return this.writeByte(a>>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},i.prototype.readInt32=function(){var a;return(a=this.readUInt32())>=2147483648?a-4294967296:a},i.prototype.writeInt32=function(a){return a<0&&(a+=4294967296),this.writeUInt32(a)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(a){return this.writeByte(a>>8&255),this.writeByte(255&a)},i.prototype.readInt16=function(){var a;return(a=this.readUInt16())>=32768?a-65536:a},i.prototype.writeInt16=function(a){return a<0&&(a+=65536),this.writeUInt16(a)},i.prototype.readString=function(a){var r,o;for(o=[],r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)o[r]=String.fromCharCode(this.readByte());return o.join("")},i.prototype.writeString=function(a){var r,o,c;for(c=[],r=0,o=a.length;0<=o?r<o:r>o;r=0<=o?++r:--r)c.push(this.writeByte(a.charCodeAt(r)));return c},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(a){return this.writeInt16(a)},i.prototype.readLongLong=function(){var a,r,o,c,l,m,p,g;return a=this.readByte(),r=this.readByte(),o=this.readByte(),c=this.readByte(),l=this.readByte(),m=this.readByte(),p=this.readByte(),g=this.readByte(),128&a?-1*(72057594037927940*(255^a)+281474976710656*(255^r)+1099511627776*(255^o)+4294967296*(255^c)+16777216*(255^l)+65536*(255^m)+256*(255^p)+(255^g)+1):72057594037927940*a+281474976710656*r+1099511627776*o+4294967296*c+16777216*l+65536*m+256*p+g},i.prototype.writeLongLong=function(a){var r,o;return r=Math.floor(a/4294967296),o=4294967295&a,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(a){return this.writeInt32(a)},i.prototype.read=function(a){var r,o;for(r=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)r.push(this.readByte());return r},i.prototype.write=function(a){var r,o,c,l;for(l=[],o=0,c=a.length;o<c;o++)r=a[o],l.push(this.writeByte(r));return l},i})(),dy=(function(){var i;function a(r){var o,c,l;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},c=0,l=this.tableCount;0<=l?c<l:c>l;c=0<=l?++c:--c)o={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[o.tag]=o}return a.prototype.encode=function(r){var o,c,l,m,p,g,v,w,A,R,b,U,M;for(M in b=Object.keys(r).length,g=Math.log(2),A=16*Math.floor(Math.log(b)/g),m=Math.floor(A/g),w=16*b-A,(c=new yl).writeInt(this.scalarType),c.writeShort(b),c.writeShort(A),c.writeShort(m),c.writeShort(w),l=16*b,v=c.pos+l,p=null,U=[],r)for(R=r[M],c.writeString(M),c.writeInt(i(R)),c.writeInt(v),c.writeInt(R.length),U=U.concat(R),M==="head"&&(p=v),v+=R.length;v%4;)U.push(0),v++;return c.write(U),o=2981146554-i(c.data),c.pos=p+8,c.writeUInt32(o),c.data},i=function(r){var o,c,l,m;for(r=E0.call(r);r.length%4;)r.push(0);for(l=new yl(r),c=0,o=0,m=r.length;o<m;o=o+=4)c+=l.readUInt32();return 4294967295&c},a})(),uy={}.hasOwnProperty,Do=function(i,a){for(var r in a)uy.call(a,r)&&(i[r]=a[r]);function o(){this.constructor=i}return o.prototype=a.prototype,i.prototype=new o,i.__super__=a.prototype,i};po=(function(){function i(a){var r;this.file=a,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i})();var fy=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,po),i.prototype.tag="head",i.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.revision=a.readInt(),this.checkSumAdjustment=a.readInt(),this.magicNumber=a.readInt(),this.flags=a.readShort(),this.unitsPerEm=a.readShort(),this.created=a.readLongLong(),this.modified=a.readLongLong(),this.xMin=a.readShort(),this.yMin=a.readShort(),this.xMax=a.readShort(),this.yMax=a.readShort(),this.macStyle=a.readShort(),this.lowestRecPPEM=a.readShort(),this.fontDirectionHint=a.readShort(),this.indexToLocFormat=a.readShort(),this.glyphDataFormat=a.readShort()},i.prototype.encode=function(a){var r;return(r=new yl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(a),r.writeShort(this.glyphDataFormat),r.data},i})(),km=(function(){function i(a,r){var o,c,l,m,p,g,v,w,A,R,b,U,M,I,P,$,Q;switch(this.platformID=a.readUInt16(),this.encodingID=a.readShort(),this.offset=r+a.readInt(),A=a.pos,a.pos=this.offset,this.format=a.readUInt16(),this.length=a.readUInt16(),this.language=a.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(g=0;g<256;++g)this.codeMap[g]=a.readByte();break;case 4:for(b=a.readUInt16(),R=b/2,a.pos+=6,l=(function(){var q,de;for(de=[],g=q=0;0<=R?q<R:q>R;g=0<=R?++q:--q)de.push(a.readUInt16());return de})(),a.pos+=2,M=(function(){var q,de;for(de=[],g=q=0;0<=R?q<R:q>R;g=0<=R?++q:--q)de.push(a.readUInt16());return de})(),v=(function(){var q,de;for(de=[],g=q=0;0<=R?q<R:q>R;g=0<=R?++q:--q)de.push(a.readUInt16());return de})(),w=(function(){var q,de;for(de=[],g=q=0;0<=R?q<R:q>R;g=0<=R?++q:--q)de.push(a.readUInt16());return de})(),c=(this.length-a.pos+this.offset)/2,p=(function(){var q,de;for(de=[],g=q=0;0<=c?q<c:q>c;g=0<=c?++q:--q)de.push(a.readUInt16());return de})(),g=P=0,Q=l.length;P<Q;g=++P)for(I=l[g],o=$=U=M[g];U<=I?$<=I:$>=I;o=U<=I?++$:--$)w[g]===0?m=o+v[g]:(m=p[w[g]/2+(o-U)-(R-g)]||0)!==0&&(m+=v[g]),this.codeMap[o]=65535&m}a.pos=A}return i.encode=function(a,r){var o,c,l,m,p,g,v,w,A,R,b,U,M,I,P,$,Q,q,de,ue,_e,ge,te,xe,z,H,ne,se,ke,Re,Me,fe,Le,Ie,ee,C,J,K,le,pe,be,De,Te,ze,Ee,it;switch(se=new yl,m=Object.keys(a).sort(function(ot,at){return ot-at}),r){case"macroman":for(M=0,I=(function(){var ot=[];for(U=0;U<256;++U)ot.push(0);return ot})(),$={0:0},l={},ke=0,Le=m.length;ke<Le;ke++)$[Te=a[c=m[ke]]]==null&&($[Te]=++M),l[c]={old:a[c],new:$[a[c]]},I[c]=$[a[c]];return se.writeUInt16(1),se.writeUInt16(0),se.writeUInt32(12),se.writeUInt16(0),se.writeUInt16(262),se.writeUInt16(0),se.write(I),{charMap:l,subtable:se.data,maxGlyphID:M+1};case"unicode":for(H=[],A=[],Q=0,$={},o={},P=v=null,Re=0,Ie=m.length;Re<Ie;Re++)$[de=a[c=m[Re]]]==null&&($[de]=++Q),o[c]={old:de,new:$[de]},p=$[de]-c,P!=null&&p===v||(P&&A.push(P),H.push(c),v=p),P=c;for(P&&A.push(P),A.push(65535),H.push(65535),xe=2*(te=H.length),ge=2*Math.pow(Math.log(te)/Math.LN2,2),R=Math.log(ge/2)/Math.LN2,_e=2*te-ge,g=[],ue=[],b=[],U=Me=0,ee=H.length;Me<ee;U=++Me){if(z=H[U],w=A[U],z===65535){g.push(0),ue.push(0);break}if(z-(ne=o[z].new)>=32768)for(g.push(0),ue.push(2*(b.length+te-U)),c=fe=z;z<=w?fe<=w:fe>=w;c=z<=w?++fe:--fe)b.push(o[c].new);else g.push(ne-z),ue.push(0)}for(se.writeUInt16(3),se.writeUInt16(1),se.writeUInt32(12),se.writeUInt16(4),se.writeUInt16(16+8*te+2*b.length),se.writeUInt16(0),se.writeUInt16(xe),se.writeUInt16(ge),se.writeUInt16(R),se.writeUInt16(_e),be=0,C=A.length;be<C;be++)c=A[be],se.writeUInt16(c);for(se.writeUInt16(0),De=0,J=H.length;De<J;De++)c=H[De],se.writeUInt16(c);for(ze=0,K=g.length;ze<K;ze++)p=g[ze],se.writeUInt16(p);for(Ee=0,le=ue.length;Ee<le;Ee++)q=ue[Ee],se.writeUInt16(q);for(it=0,pe=b.length;it<pe;it++)M=b[it],se.writeUInt16(M);return{charMap:o,subtable:se.data,maxGlyphID:Q+1}}},i})(),I0=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,po),i.prototype.tag="cmap",i.prototype.parse=function(a){var r,o,c;for(a.pos=this.offset,this.version=a.readUInt16(),c=a.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=c?o<c:o>c;o=0<=c?++o:--o)r=new km(a,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},i.encode=function(a,r){var o,c;return r==null&&(r="macroman"),o=km.encode(a,r),(c=new yl).writeUInt16(0),c.writeUInt16(1),o.table=c.data.concat(o.subtable),o},i})(),hy=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,po),i.prototype.tag="hhea",i.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.ascender=a.readShort(),this.decender=a.readShort(),this.lineGap=a.readShort(),this.advanceWidthMax=a.readShort(),this.minLeftSideBearing=a.readShort(),this.minRightSideBearing=a.readShort(),this.xMaxExtent=a.readShort(),this.caretSlopeRise=a.readShort(),this.caretSlopeRun=a.readShort(),this.caretOffset=a.readShort(),a.pos+=8,this.metricDataFormat=a.readShort(),this.numberOfMetrics=a.readUInt16()},i})(),py=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,po),i.prototype.tag="OS/2",i.prototype.parse=function(a){if(a.pos=this.offset,this.version=a.readUInt16(),this.averageCharWidth=a.readShort(),this.weightClass=a.readUInt16(),this.widthClass=a.readUInt16(),this.type=a.readShort(),this.ySubscriptXSize=a.readShort(),this.ySubscriptYSize=a.readShort(),this.ySubscriptXOffset=a.readShort(),this.ySubscriptYOffset=a.readShort(),this.ySuperscriptXSize=a.readShort(),this.ySuperscriptYSize=a.readShort(),this.ySuperscriptXOffset=a.readShort(),this.ySuperscriptYOffset=a.readShort(),this.yStrikeoutSize=a.readShort(),this.yStrikeoutPosition=a.readShort(),this.familyClass=a.readShort(),this.panose=(function(){var r,o;for(o=[],r=0;r<10;++r)o.push(a.readByte());return o})(),this.charRange=(function(){var r,o;for(o=[],r=0;r<4;++r)o.push(a.readInt());return o})(),this.vendorID=a.readString(4),this.selection=a.readShort(),this.firstCharIndex=a.readShort(),this.lastCharIndex=a.readShort(),this.version>0&&(this.ascent=a.readShort(),this.descent=a.readShort(),this.lineGap=a.readShort(),this.winAscent=a.readShort(),this.winDescent=a.readShort(),this.codePageRange=(function(){var r,o;for(o=[],r=0;r<2;r=++r)o.push(a.readInt());return o})(),this.version>1))return this.xHeight=a.readShort(),this.capHeight=a.readShort(),this.defaultChar=a.readShort(),this.breakChar=a.readShort(),this.maxContext=a.readShort()},i})(),my=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,po),i.prototype.tag="post",i.prototype.parse=function(a){var r,o,c;switch(a.pos=this.offset,this.format=a.readInt(),this.italicAngle=a.readInt(),this.underlinePosition=a.readShort(),this.underlineThickness=a.readShort(),this.isFixedPitch=a.readInt(),this.minMemType42=a.readInt(),this.maxMemType42=a.readInt(),this.minMemType1=a.readInt(),this.maxMemType1=a.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(o=a.readUInt16(),this.glyphNameIndex=[],l=0;0<=o?l<o:l>o;l=0<=o?++l:--l)this.glyphNameIndex.push(a.readUInt16());for(this.names=[],c=[];a.pos<this.offset+this.length;)r=a.readByte(),c.push(this.names.push(a.readString(r)));return c;case 151552:return o=a.readUInt16(),this.offsets=a.read(o);case 262144:return this.map=(function(){var m,p,g;for(g=[],l=m=0,p=this.file.maxp.numGlyphs;0<=p?m<p:m>p;l=0<=p?++m:--m)g.push(a.readUInt32());return g}).call(this)}},i})(),gy=function(i,a){this.raw=i,this.length=i.length,this.platformID=a.platformID,this.encodingID=a.encodingID,this.languageID=a.languageID},xy=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,po),i.prototype.tag="name",i.prototype.parse=function(a){var r,o,c,l,m,p,g,v,w,A,R;for(a.pos=this.offset,a.readShort(),r=a.readShort(),p=a.readShort(),o=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)o.push({platformID:a.readShort(),encodingID:a.readShort(),languageID:a.readShort(),nameID:a.readShort(),length:a.readShort(),offset:this.offset+p+a.readShort()});for(g={},l=w=0,A=o.length;w<A;l=++w)c=o[l],a.pos=c.offset,v=a.readString(c.length),m=new gy(v,c),g[R=c.nameID]==null&&(g[R]=[]),g[c.nameID].push(m);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},i})(),yy=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,po),i.prototype.tag="maxp",i.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.numGlyphs=a.readUInt16(),this.maxPoints=a.readUInt16(),this.maxContours=a.readUInt16(),this.maxCompositePoints=a.readUInt16(),this.maxComponentContours=a.readUInt16(),this.maxZones=a.readUInt16(),this.maxTwilightPoints=a.readUInt16(),this.maxStorage=a.readUInt16(),this.maxFunctionDefs=a.readUInt16(),this.maxInstructionDefs=a.readUInt16(),this.maxStackElements=a.readUInt16(),this.maxSizeOfInstructions=a.readUInt16(),this.maxComponentElements=a.readUInt16(),this.maxComponentDepth=a.readUInt16()},i})(),vy=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,po),i.prototype.tag="hmtx",i.prototype.parse=function(a){var r,o,c,l,m,p,g;for(a.pos=this.offset,this.metrics=[],r=0,p=this.file.hhea.numberOfMetrics;0<=p?r<p:r>p;r=0<=p?++r:--r)this.metrics.push({advance:a.readUInt16(),lsb:a.readInt16()});for(c=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var v,w;for(w=[],r=v=0;0<=c?v<c:v>c;r=0<=c?++v:--v)w.push(a.readInt16());return w})(),this.widths=(function(){var v,w,A,R;for(R=[],v=0,w=(A=this.metrics).length;v<w;v++)l=A[v],R.push(l.advance);return R}).call(this),o=this.widths[this.widths.length-1],g=[],r=m=0;0<=c?m<c:m>c;r=0<=c?++m:--m)g.push(this.widths.push(o));return g},i.prototype.forGlyph=function(a){return a in this.metrics?this.metrics[a]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[a-this.metrics.length]}},i})(),E0=[].slice,by=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,po),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(a){var r,o,c,l,m,p,g,v,w,A;return a in this.cache?this.cache[a]:(l=this.file.loca,r=this.file.contents,o=l.indexOf(a),(c=l.lengthOf(a))===0?this.cache[a]=null:(r.pos=this.offset+o,m=(p=new yl(r.read(c))).readShort(),v=p.readShort(),A=p.readShort(),g=p.readShort(),w=p.readShort(),this.cache[a]=m===-1?new jy(p,v,A,g,w):new wy(p,m,v,A,g,w),this.cache[a]))},i.prototype.encode=function(a,r,o){var c,l,m,p,g;for(m=[],l=[],p=0,g=r.length;p<g;p++)c=a[r[p]],l.push(m.length),c&&(m=m.concat(c.encode(o)));return l.push(m.length),{table:m,offsets:l}},i})(),wy=(function(){function i(a,r,o,c,l,m){this.raw=a,this.numberOfContours=r,this.xMin=o,this.yMin=c,this.xMax=l,this.yMax=m,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i})(),jy=(function(){function i(a,r,o,c,l){var m,p;for(this.raw=a,this.xMin=r,this.yMin=o,this.xMax=c,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],m=this.raw;p=m.readShort(),this.glyphOffsets.push(m.pos),this.glyphIDs.push(m.readUInt16()),32&p;)m.pos+=1&p?4:2,128&p?m.pos+=8:64&p?m.pos+=4:8&p&&(m.pos+=2)}return i.prototype.encode=function(){var a,r,o;for(r=new yl(E0.call(this.raw.data)),a=0,o=this.glyphIDs.length;a<o;++a)r.pos=this.glyphOffsets[a];return r.data},i})(),Sy=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,po),i.prototype.tag="loca",i.prototype.parse=function(a){var r,o;return a.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var c,l;for(l=[],o=0,c=this.length;o<c;o+=2)l.push(2*a.readUInt16());return l}).call(this):(function(){var c,l;for(l=[],o=0,c=this.length;o<c;o+=4)l.push(a.readUInt32());return l}).call(this)},i.prototype.indexOf=function(a){return this.offsets[a]},i.prototype.lengthOf=function(a){return this.offsets[a+1]-this.offsets[a]},i.prototype.encode=function(a,r){for(var o=new Uint32Array(this.offsets.length),c=0,l=0,m=0;m<o.length;++m)if(o[m]=c,l<r.length&&r[l]==m){++l,o[m]=c;var p=this.offsets[m],g=this.offsets[m+1]-p;g>0&&(c+=g)}for(var v=new Array(4*o.length),w=0;w<o.length;++w)v[4*w+3]=255&o[w],v[4*w+2]=(65280&o[w])>>8,v[4*w+1]=(16711680&o[w])>>16,v[4*w]=(4278190080&o[w])>>24;return v},i})(),Ny=(function(){function i(a){this.font=a,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var a,r,o,c,l;for(r in c=this.font.cmap.tables[0].codeMap,a={},l=this.subset)o=l[r],a[r]=c[o];return a},i.prototype.glyphsFor=function(a){var r,o,c,l,m,p,g;for(c={},m=0,p=a.length;m<p;m++)c[l=a[m]]=this.font.glyf.glyphFor(l);for(l in r=[],c)(o=c[l])!=null&&o.compound&&r.push.apply(r,o.glyphIDs);if(r.length>0)for(l in g=this.glyphsFor(r))o=g[l],c[l]=o;return c},i.prototype.encode=function(a,r){var o,c,l,m,p,g,v,w,A,R,b,U,M,I,P;for(c in o=I0.encode(this.generateCmap(),"unicode"),m=this.glyphsFor(a),b={0:0},P=o.charMap)b[(g=P[c]).old]=g.new;for(U in R=o.maxGlyphID,m)U in b||(b[U]=R++);return w=(function($){var Q,q;for(Q in q={},$)q[$[Q]]=Q;return q})(b),A=Object.keys(w).sort(function($,Q){return $-Q}),M=(function(){var $,Q,q;for(q=[],$=0,Q=A.length;$<Q;$++)p=A[$],q.push(w[p]);return q})(),l=this.font.glyf.encode(m,M,b),v=this.font.loca.encode(l.offsets,M),I={cmap:this.font.cmap.raw(),glyf:l.table,loca:v,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},i})();Jt.API.PDFObject=(function(){var i;function a(){}return i=function(r,o){return(Array(o+1).join("0")+r).slice(-o)},a.convert=function(r){var o,c,l,m;if(Array.isArray(r))return"["+(function(){var p,g,v;for(v=[],p=0,g=r.length;p<g;p++)o=r[p],v.push(a.convert(o));return v})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+i(r.getUTCFullYear(),4)+i(r.getUTCMonth(),2)+i(r.getUTCDate(),2)+i(r.getUTCHours(),2)+i(r.getUTCMinutes(),2)+i(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(c in l=["<<"],r)m=r[c],l.push("/"+c+" "+a.convert(m));return l.push(">>"),l.join(`
`)}return""+r},a})();function ky(){try{const i=localStorage.getItem("userLocale");if(i)return i;const a=navigator.language||navigator.userLanguage;if(a)return a}catch(i){console.error("Error getting user locale:",i)}return"en-US"}function Cr(i,a={}){try{const r=ky(),o={minimumFractionDigits:0,maximumFractionDigits:2,...a};return new Intl.NumberFormat(r,o).format(i)}catch(r){return console.error("Error formatting number:",r),String(i||0)}}function Ay(){return[{value:"en-US",label:"English (United States)"},{value:"en-IN",label:"English (India)"},{value:"en-GB",label:"English (United Kingdom)"},{value:"en-AU",label:"English (Australia)"},{value:"en-CA",label:"English (Canada)"},{value:"fr-FR",label:"French (France)"},{value:"de-DE",label:"German (Germany)"},{value:"es-ES",label:"Spanish (Spain)"},{value:"es-MX",label:"Spanish (Mexico)"},{value:"it-IT",label:"Italian (Italy)"},{value:"pt-BR",label:"Portuguese (Brazil)"},{value:"pt-PT",label:"Portuguese (Portugal)"},{value:"nl-NL",label:"Dutch (Netherlands)"},{value:"ru-RU",label:"Russian (Russia)"},{value:"ja-JP",label:"Japanese (Japan)"},{value:"ko-KR",label:"Korean (Korea)"},{value:"zh-CN",label:"Chinese (Simplified)"},{value:"zh-TW",label:"Chinese (Traditional)"},{value:"ar-SA",label:"Arabic (Saudi Arabia)"},{value:"hi-IN",label:"Hindi (India)"}]}function Cy(){const{members:i,admins:a,invoices:r,payments:o,recentPayments:c,paymentHistory:l,communicationLog:m,paymentMethods:p,metrics:g,reminderRules:v,automationEnabled:w,setAutomationEnabled:A,reminderTemplates:R,organizationInfo:b,fetchAdmins:U,fetchInvoices:M,fetchPayments:I,fetchMembers:P,selectedMember:$,setSelectedMember:Q,addMember:q,updateMember:de,deleteMember:ue,addInvoice:_e,updateInvoice:ge,deleteInvoice:te,addCommunication:xe,updatePaymentMethod:z,updateReminderRule:H,updateReminderTemplate:ne,updateOrganizationInfo:se,userLocale:ke,updateUserLocale:Re,addAdminUser:Me,updateAdminUser:fe,deleteAdminUser:Le,resetAllData:Ie,addPayment:ee,reminderLogs:C,fetchReminderLogs:J,donations:K,fetchDonations:le,addDonation:pe,deleteDonation:be,loading:De}=Xd(),Te=sessionStorage.getItem("adminRole")||"Viewer";let ze=Te;Te==="Owner"?ze="Admin":Te==="Finance Admin"&&(ze="Finance");const Ee=ze==="Admin",it=ze==="Owner",ot=ze==="Viewer",at=ze==="Admin"||ze==="Finance",G=Ee||it,mt={Admin:"Admin Portal",Finance:"Finance Portal",Staff:"Staff Portal",Viewer:"Viewer Portal"},It={Admin:"Full administration access",Finance:"Finance operations and reporting",Staff:"Member management and reporting",Viewer:"Read-only access to view data"},Ct=mt[ze]||"Admin Portal",Qe=It[ze]||"Administration",bt=[{id:"members",label:"Members",icon:"fa-users",items:[{id:"members",label:"Members List",roles:["Admin","Finance","Staff","Viewer"]},{id:"member-detail",label:"Member Details",roles:["Admin","Finance","Staff","Viewer"]},{id:"invoice-builder",label:"Subscriptions",roles:["Admin","Finance"]}]},{id:"finance",label:"Finance",icon:"fa-dollar-sign",items:[{id:"invoices",label:"Invoices",roles:["Admin","Finance"]},{id:"payments",label:"Payments",roles:["Admin","Finance"]},{id:"donations",label:"Donations",roles:["Admin","Finance"]}]},{id:"communication",label:"Communication",icon:"fa-comments",items:[{id:"automation",label:"Reminders",roles:["Admin","Finance"]},{id:"communications",label:"Reminder Logs",roles:["Admin","Finance","Staff","Viewer"]}]},{id:"reports",label:"Reports",icon:"fa-chart-bar",items:[{id:"reports",label:"Financial Reports",roles:["Admin","Finance","Staff","Viewer"]},{id:"export-reports",label:"Export Reports",roles:["Admin","Finance"]}]},{id:"settings",label:"Settings",icon:"fa-cog",items:[{id:"settings",label:"Users",roles:["Admin"]},{id:"roles",label:"Roles",roles:["Admin"]},{id:"org-settings",label:"Organization Settings",roles:["Admin","Finance"]}]}],gt=[{id:"dashboard",label:"Dashboard"},...bt.flatMap(u=>u.items)],[Mt,Rt]=Bm(),[wt,Kt]=Z.useState(()=>{const u=Mt.get("section");return u&&gt.find(O=>O.id===u)?u:gt[0].id}),[Wt,Xt]=Z.useState("Invoices"),[Ae,$e]=Z.useState(()=>{const u={};return bt.forEach(k=>{u[k.id]=!1}),u}),[oe,je]=Z.useState(!1),[nt,pt]=Z.useState(!1),[qe,ct]=Z.useState(null),[Zt,vt]=Z.useState(null),[bn,qt]=Z.useState("success"),[zt,he]=Z.useState(null),[ft,Dt]=Z.useState(!1),[hn,pa]=Z.useState({isOpen:!1,message:"",onConfirm:null,onCancel:null,confirmButtonText:"Confirm"}),[ln,Tr]=Z.useState({name:"",email:"",phone:"",status:"Active",balance:"250",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"}),[rn,St]=Z.useState({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),[Ht,Jn]=Z.useState(null),[ta,Ka]=Z.useState(!1),On=(u,k,O={})=>{let T="";switch(u){case"name":k.trim()?k.trim().length<2&&(T="Name must be at least 2 characters."):T="Name is required.";break;case"email":k.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k.trim())||(T="Please enter a valid email address."):T="Email is required.";break;case"phone":break;case"nextDue":{k?isNaN(new Date(k).getTime())&&(T="Please select a valid start date."):T="Start date is required.";break}case"lastPayment":{k&&isNaN(new Date(k).getTime())&&(T="Please select a valid end date.");break}}return T},hr=()=>{const u=qe?["name","email","phone"]:["name","email","phone","nextDue","lastPayment"];if(Ht){const k=On(Ht,ln[Ht]);if(!k)St(O=>({...O,[Ht]:!1})),Jn(null);else return St(O=>({...O,[Ht]:!0})),We(k,"error"),setTimeout(()=>{if(document.querySelector(`input[name="${Ht}"], input[type="text"][value*=""], input[type="email"], input[type="date"], input[type="tel"]`)){document.querySelectorAll('input[type="text"], input[type="email"], input[type="date"], input[type="tel"]');const T=u.indexOf(Ht);if(T===0){const E=document.querySelector('input[type="text"][required]');E&&E.focus()}else if(T===1){const E=document.querySelector('input[type="email"]');E&&E.focus()}else if(T===2){const E=document.querySelector('input[type="tel"]');E&&E.focus()}else if(T===3){const E=document.querySelectorAll('input[type="date"]');E[0]&&E[0].focus()}else if(T===4){const E=document.querySelectorAll('input[type="date"]');E[1]&&E[1].focus()}}},100),!1}for(const k of u){const O=On(k,ln[k]);if(O)return St({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),St(T=>({...T,[k]:!0})),Jn(k),We(O,"error"),setTimeout(()=>{const T=document.querySelector("form.form-grid");if(!T)return;const E=u.indexOf(k);let X=null;E===0?X=T.querySelector('input[type="text"][required]'):E===1?X=T.querySelector('input[type="email"]'):E===2?X=T.querySelector('input[type="tel"]'):E===3?X=T.querySelectorAll('input[type="date"]')[0]:E===4&&(X=T.querySelectorAll('input[type="date"]')[1]),X&&(X.focus(),X.scrollIntoView({behavior:"smooth",block:"center"}))},100),!1}return St({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),Jn(null),!0},qn=(u,k)=>{let O=k;if(u==="phone")O=k;else if(u==="balance")O=k.replace(/\D/g,"");else if(u==="subscriptionType"){k==="Yearly + Janaza Fund"?(O=k,Tr(T=>({...T,subscriptionType:k,balance:"500"}))):(O=k,Tr(T=>({...T,subscriptionType:k,balance:"250"})));return}Tr(T=>({...T,[u]:O})),On(u,O,u==="password"?{}:{})};ln.name.trim()&&ln.email.trim();const[vs,Fs]=Z.useState({name:"",email:"",password:""}),Xa=()=>new Date().toLocaleDateString("en-US",{month:"short",year:"numeric"}),[Pt,Mn]=Z.useState({memberId:"",period:Xa(),amount:"250",invoiceType:"Lifetime",due:"",notes:""}),Ta=()=>{const k=`INV-${new Date().getFullYear()}-`,T=(r||[]).map(X=>X.id).filter(Boolean).filter(X=>X.startsWith(k)).reduce((X,V)=>{const Se=V.split("-")[2]||"",Xe=parseInt(Se,10);return isNaN(Xe)?X:Math.max(X,Xe)},0),E=String(T+1).padStart(3,"0");return`${k}${E}`},Fa=Z.useMemo(()=>Ta(),[r]),[$n,Kn]=Z.useState({donorName:!1,amount:!1,method:!1,date:!1,reference:!1,screenshot:!1}),[Xn,Fr]=Z.useState(null),[Os,Di]=Z.useState(!1),[ut,gn]=Z.useState({donorName:"",isMember:!1,memberId:"",amount:"",method:"",date:"",notes:"",reference:"",screenshot:""}),[ls,Qa]=Z.useState(null),[Lr,ka]=Z.useState(null),[Za,cs]=Z.useState(b),[Bs,na]=Z.useState(!1),[Aa,Qn]=Z.useState({name:"",email:"",password:"",role:"Viewer",status:"Active"}),[pi,To]=Z.useState({subject:"Payment Reminder - Outstanding Balance",htmlTemplate:`<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
  <h2 style="color: #1a1a1a; border-bottom: 2px solid #5a31ea; padding-bottom: 10px;">
    Payment Reminder - Outstanding Balance
  </h2>
  <p>Dear {{member_name}},</p>
  <p>This is a friendly reminder about your outstanding subscription payments.</p>
  <div style="background: #f9fafb; padding: 15px; border-radius: 5px; margin: 20px 0;">
    <p><strong>Member ID:</strong> {{member_id}}</p>
    <p><strong>Email:</strong> {{member_email}}</p>
    <p><strong>Total Outstanding:</strong> <span style="color: #ef4444; font-size: 18px; font-weight: bold;">\${{total_due}}</span></p>
  </div>
                            <h3 style="color: #1a1a1a;">Outstanding Invoices ({{invoice_count}}):</h3>
  <ul style="list-style: none; padding: 0;">
    {{invoice_list}}
  </ul>
  <div style="background: #f8f9ff; padding: 15px; border-radius: 5px; margin: 20px 0;">
    <p><strong> Payment Methods Available:</strong></p>
    <ul>
      {{payment_methods}}
    </ul>
  </div>
  <p style="text-align: center; margin: 30px 0;">
    <a href="{{portal_link}}" style="background: #5a31ea; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block;">
      Access Member Portal
    </a>
  </p>
  <p>Please settle your outstanding balance at your earliest convenience.</p>
  <p>Best regards,<br><strong>Finance Team</strong><br>Subscription Manager HK</p>
</div>`}),[Qt,ei]=Z.useState({emailService:"gmail",emailUser:"",emailPassword:"kuil uhbe zlqq oymd",scheduleTime:"09:00",scheduleEnabled:!0,reminderInterval:7}),[ti,mi]=Z.useState("AM"),[$i,ni]=Z.useState(!1),[Hr,ri]=Z.useState("not_connected"),[bs,Fo]=Z.useState(!1),[Bn,Oa]=Z.useState({from:"2025-01-01",to:"2025-12-31"}),[ra,Pn]=Z.useState({}),[gi,ws]=Z.useState("This Year"),[Oo,js]=Z.useState(!1),[aa,Hi]=Z.useState(null),[wn,lr]=Z.useState({paymentMethod:"",imageFile:null,imagePreview:null,imageUrl:"",reference:""}),[Ba,Ca]=Z.useState(!1),[Hn,ma]=Z.useState({image:!1,reference:!1}),[en,ai]=Z.useState(!1),[kn,zs]=Z.useState(null),[_r,Vi]=Z.useState(null),[Us,Ss]=Z.useState({x:0,y:0}),Pa=Z.useRef(null),[Bo,xi]=Z.useState({}),[ir,La]=Z.useState(!1),[ds,Ws]=Z.useState({}),[pr,qs]=Z.useState(!1),[yi,Yi]=Z.useState(!1),[$s,ga]=Z.useState(!1),[Vr,vi]=Z.useState(null),[jn,_a]=Z.useState([]),[Rn,Ti]=Z.useState("All"),[sr,bi]=Z.useState("All"),[xa,x]=Z.useState("all"),[L,ie]=Z.useState("all"),[me,Pe]=Z.useState(""),[Ke,tt]=Z.useState(1),[Nt,Bt]=Z.useState(10),[Yt,an]=Z.useState(""),[xn,cr]=Z.useState("All"),[dr,Vn]=Z.useState("none"),[Sr,Nr]=Z.useState(()=>{try{return JSON.parse(localStorage.getItem("memberNotes")||"{}")}catch{return{}}}),[Yr,Gi]=Z.useState(""),[Zn,Fi]=Z.useState(""),[kr,wi]=Z.useState(""),[Ji,Ns]=Z.useState(!1),[Ki,ii]=Z.useState(!1),[mr,Oi]=Z.useState(!1),[ks,si]=Z.useState(!1),[oi,gr]=Z.useState(null),[Xi,Ia]=Z.useState({memberId:!1,amount:!1,method:!1,screenshot:!1}),[Qi,ya]=Z.useState(null),[jt,_n]=Z.useState({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""}),[As,ji]=Z.useState(1),[ia,li]=Z.useState(10),[va,Si]=Z.useState(1),[Or,Zi]=Z.useState(10),[Bi,Ni]=Z.useState(1),[Yn,Hs]=Z.useState(10),[es,za]=Z.useState(1),[Vs,mo]=Z.useState(10),[Ys,go]=Z.useState(1),[ki,Cs]=Z.useState(10),[Gr,Gs]=Z.useState("All"),[Jr,Js]=Z.useState("All"),xr=fo();Um(15),Z.useEffect(()=>{Mt.get("section")!==wt&&Rt({section:wt},{replace:!1})},[wt,Mt,Rt]),Z.useEffect(()=>{const u=()=>{const O=new URLSearchParams(window.location.search).get("section");O&&gt.find(E=>E.id===O)&&O!==wt?Kt(O):!O&&wt!==gt[0].id&&Kt(gt[0].id)};return window.addEventListener("popstate",u),()=>{window.removeEventListener("popstate",u)}},[wt]),Z.useEffect(()=>{wt==="communications"&&J()},[wt,J]);const Ua=()=>{const u=new Date,k=[],O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(let E=11;E>=0;E--){const X=new Date(u.getFullYear(),u.getMonth()-E,1),V=`${O[X.getMonth()]} ${X.getFullYear()}`,Ce=O[X.getMonth()],Se=l.filter(rt=>{if(!(rt.status==="Completed"||rt.status==="Paid")||!rt.date)return!1;const yt=new Date(rt.date);return yt.getMonth()===X.getMonth()&&yt.getFullYear()===X.getFullYear()}),Xe=Se.reduce((rt,Gt)=>{const yt=parseFloat(Gt.amount?.replace(/[^0-9.]/g,"")||0);return rt+yt},0);k.push({month:Ce,monthKey:V,value:Xe,count:Se.length})}const T=Math.max(...k.map(E=>E.value),1);return k.map(E=>({...E,percentage:T>0?E.value/T*100:0}))},En=()=>{const u=new Date,k=u.getFullYear(),O=u.getMonth(),T=new Set(i.map(kt=>kt.id).filter(Boolean)),E=new Set(i.map(kt=>kt.email?.toLowerCase()).filter(Boolean)),X=new Set(i.map(kt=>kt.name?.toLowerCase()).filter(Boolean)),V=l||[],Ce=V.reduce((kt,Wn)=>{if(Wn.status==="Completed"||Wn.status==="Paid"){const er=parseFloat(Wn.amount?.replace(/[^0-9.]/g,"")||0);return kt+er}return kt},0),Xe=V.filter(kt=>{if(!(kt.status==="Completed"||kt.status==="Paid")||!kt.date)return!1;const er=new Date(kt.date);return er.getMonth()===O&&er.getFullYear()===k}).reduce((kt,Wn)=>{if(Wn.status==="Completed"||Wn.status==="Paid"){const er=parseFloat(Wn.amount?.replace(/[^0-9.]/g,"")||0);return kt+er}return kt},0),Gt=V.filter(kt=>!(kt.status==="Completed"||kt.status==="Paid")||!kt.date?!1:new Date(kt.date).getFullYear()===k).reduce((kt,Wn)=>{if(Wn.status==="Completed"||Wn.status==="Paid"){const er=parseFloat(Wn.amount?.replace(/[^0-9.]/g,"")||0);return kt+er}return kt},0),yt=i.reduce((kt,Wn)=>{if(!Wn.balance)return kt;const er=Wn.balance.toString(),_s=parseFloat(er.replace(/[^0-9.]/g,"")||0);return kt+(_s>0?_s:0)},0),vn=r.filter(kt=>(kt.memberId&&T.has(kt.memberId)||kt.memberEmail&&E.has(kt.memberEmail?.toLowerCase())||kt.memberName&&X.has(kt.memberName?.toLowerCase()))&&kt.status==="Overdue"),sn=new Set,cn=new Set,yn=new Set;vn.forEach(kt=>{kt.memberId&&sn.add(kt.memberId),kt.memberEmail&&cn.add(kt.memberEmail.toLowerCase()),kt.memberName&&yn.add(kt.memberName.toLowerCase())});const ba=new Set;i.forEach(kt=>{let Wn=!1;if(kt.id&&sn.has(kt.id)||kt.email&&cn.has(kt.email?.toLowerCase())||kt.name&&yn.has(kt.name?.toLowerCase()))Wn=!0;else if(kt.status==="Overdue")Wn=!0;else if(kt.status!=="Inactive"&&kt.status!=="Pending"&&kt.balance){const _s=kt.balance.toString(),Jl=parseFloat(_s.replace(/[^0-9.]/g,"")||0);(_s.toLowerCase().includes("overdue")||Jl>0)&&(Wn=!0)}Wn&&(kt.id?ba.add(kt.id):kt.email?ba.add(`email:${kt.email.toLowerCase()}`):kt.name&&ba.add(`name:${kt.name.toLowerCase()}`))});const sa=ba.size,qa=i.length*800;return{totalCollected:Ce,collectedMonth:Xe,collectedYear:Gt,outstanding:yt,overdueMembers:sa,expectedAnnual:qa}},Sn=u=>u.paidToAdmin||u.paidToAdminName||u.method==="Cash to Admin"?"Cash":["Screenshot","Bank Transfer","FPS","PayMe","Alipay","Credit Card","Online Payment"].includes(u.method)?"Online Payment":u.method||"N/A",yr=()=>l.filter(u=>u.status==="Paid"||u.status==="Completed"||u.status==="Pending Verification"||u.status==="Pending").sort((u,k)=>{const O=new Date(u.date||u.createdAt||0);return new Date(k.date||k.createdAt||0)-O}).slice(0,5).map(u=>({Member:u.member||"Unknown",Period:u.period||"N/A",Amount:u.amount||"$0",Method:Sn(u),Status:u.status||"Pending",Date:u.date||(u.createdAt?new Date(u.createdAt).toLocaleDateString():"N/A")})),Ir=Ua(),Ai=yr(),vr=Z.useMemo(()=>En(),[r,l,i]),xo=Z.useMemo(()=>new Date().toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),[i,r,l,o]);Z.useEffect(()=>{$&&Gi(Sr[$.id]||"")},[$,Sr]),Z.useEffect(()=>{const u=bt.find(k=>k.items.some(O=>O.id===wt));u&&$e(k=>{if(k[u.id])return k;const O={};return bt.forEach(T=>{O[T.id]=T.id===u.id}),O})},[wt]);const In=(()=>{const u=new Date(Bn.from),k=new Date(Bn.to);k.setHours(23,59,59,999);const O=l.filter(yt=>{if(!yt.date)return!1;const vn=new Date(yt.date),sn=yt.status==="Completed"||yt.status==="Paid";return vn>=u&&vn<=k&&sn}),T=(Array.isArray(K)?K:[]).filter(yt=>{if(!yt||!yt.date&&!yt.createdAt)return!1;try{const vn=yt.createdAt?new Date(yt.createdAt):new Date(yt.date);return vn>=u&&vn<=k}catch{return!1}}),E=O.reduce((yt,vn)=>{const sn=parseFloat(vn.amount?.replace(/[^0-9.]/g,"")||0);return yt+sn},0),X=T.reduce((yt,vn)=>{const sn=parseFloat(vn.amount?.replace(/[^0-9.]/g,"")||0);return yt+sn},0),V=E+X,Ce=i.filter(yt=>yt.status==="Active");let Se=0;if(Ce.forEach(yt=>{const vn=yt.subscriptionType||"Lifetime",sn=yt.createdAt?new Date(yt.createdAt):new Date("2025-01-01");if(vn==="Yearly + Janaza Fund"){const cn=Math.max(u.getTime(),sn.getTime()),yn=k.getTime(),ba=Math.max(0,(yn-cn)/(365.25*24*60*60*1e3));Se+=Math.ceil(ba)*500}else{const cn=Math.max(u.getTime(),sn.getTime()),yn=k.getTime(),ba=Math.max(0,(yn-cn)/(365.25*24*60*60*1e3));Se+=Math.ceil(ba)*250}}),Se===0&&Ce.length>0){const yt=Math.max(0,(k-u)/315576e5);Se=Ce.length*250*Math.ceil(yt)}const Xe=Ce.length>0?Math.round(V/Ce.length):0,rt={};O.forEach(yt=>{const vn=Sn(yt);rt[vn]=(rt[vn]||0)+1});const Gt=Object.entries(rt).map(([yt,vn])=>({label:yt,value:vn}));return Gt.length===0&&Gt.push({label:"No payments",value:0}),{collected:V,paymentsTotal:E,donationsTotal:X,paymentsCount:O.length,donationsCount:T.length,expected:Se||1,averagePerMember:Xe,methodMix:Gt,transactionCount:O.length+T.length,paymentsInRange:O,donationsInRange:T}})(),yo=()=>{try{const u=new Date(Bn.from),k=new Date(Bn.to);k.setHours(23,59,59,999);const O=l.filter(Ce=>{if(!Ce.date)return!1;const Se=new Date(Ce.date);return Se>=u&&Se<=k});let T=`Financial Report
`;T+=`Period,${Bn.from} to ${Bn.to}

`,T+=`Summary
`,T+=`Collected,$${In.collected.toFixed(2)}
`,T+=`Expected,$${In.expected.toFixed(2)}
`,T+=`Outstanding,$${vr.outstanding.toFixed(2)}
`,T+=`Average per Member,$${In.averagePerMember.toFixed(2)}
`,T+=`Total Transactions,${In.transactionCount}

`,T+=`Payment Method Breakdown
`,In.methodMix.forEach(Ce=>{T+=`${Ce.label},${Ce.value}
`}),T+=`
Detailed Transactions (Completed Payments Only)
`,T+=`Date,Member,Period,Amount,Method,Status,Reference
`,O.filter(Ce=>Ce.status==="Completed"||Ce.status==="Paid").forEach(Ce=>{const Se=Ce.date||"N/A",Xe=Ce.member||"Unknown",rt=Ce.period||"N/A",Gt=Ce.amount||"$0",yt=Sn(Ce),vn=Ce.status||"N/A",sn=Ce.reference||"N/A";T+=`"${Se}","${Xe}","${rt}","${Gt}","${yt}","${vn}","${sn}"
`});const E=new Blob([T],{type:"text/csv;charset=utf-8;"}),X=document.createElement("a"),V=URL.createObjectURL(E);X.setAttribute("href",V),X.setAttribute("download",`financial-report-${Bn.from}-to-${Bn.to}.csv`),X.style.visibility="hidden",document.body.appendChild(X),X.click(),document.body.removeChild(X),We("CSV report downloaded successfully!")}catch(u){console.error("Error exporting CSV:",u),We("Failed to export CSV","error")}},zo=()=>{if(!at){We("You are not authorized to export reports","error");return}yo()},Ko=()=>{if(!at){We("You are not authorized to export reports","error");return}Uo()},Uo=()=>{try{const u=new Jt,k=u.internal.pageSize.getWidth(),O=u.internal.pageSize.getHeight();let T=20;const E=20,X=7;u.setFontSize(18),u.setFont(void 0,"bold"),u.text("Financial Report",E,T),T+=10,u.setFontSize(12),u.setFont(void 0,"normal"),u.text(`Period: ${Bn.from} to ${Bn.to}`,E,T),T+=15,u.setFontSize(14),u.setFont(void 0,"bold"),u.text("Summary",E,T),T+=8,u.setFontSize(10),u.setFont(void 0,"normal"),u.text(`Collected: $${In.collected.toFixed(2)}`,E,T),T+=X,u.text(`Expected: $${In.expected.toFixed(2)}`,E,T),T+=X,u.text(`Outstanding: $${vr.outstanding.toFixed(2)}`,E,T),T+=X,u.text(`Average per Member: $${In.averagePerMember.toFixed(2)}`,E,T),T+=X,u.text(`Total Transactions: ${In.transactionCount}`,E,T),T+=10,u.setFontSize(14),u.setFont(void 0,"bold"),u.text("Payment Method Breakdown",E,T),T+=8,u.setFontSize(10),u.setFont(void 0,"normal"),In.methodMix.forEach(rt=>{u.text(`${rt.label}: ${rt.value}`,E,T),T+=X});const V=new Date(Bn.from),Ce=new Date(Bn.to);Ce.setHours(23,59,59,999);const Se=l.filter(rt=>{if(!rt.date)return!1;const Gt=new Date(rt.date);return Gt>=V&&Gt<=Ce});if(Se.length>0){T+=10,T>O-40&&(u.addPage(),T=20),u.setFontSize(14),u.setFont(void 0,"bold"),u.text("Recent Transactions",E,T),T+=8,u.setFontSize(9),u.setFont(void 0,"normal"),u.setFont(void 0,"bold"),u.text("Date",E,T),u.text("Member",E+40,T),u.text("Amount",E+90,T),u.text("Method",E+130,T),T+=X,u.setFont(void 0,"normal");const rt=Se.filter(yt=>yt.status==="Completed"||yt.status==="Paid"),Gt=Math.min(rt.length,Math.floor((O-T-20)/X));rt.slice(0,Gt).forEach(yt=>{T>O-20&&(u.addPage(),T=20),u.text(yt.date||"N/A",E,T),u.text((yt.member||"Unknown").substring(0,15),E+40,T),u.text(yt.amount||"$0",E+90,T),u.text(Sn(yt).substring(0,15),E+130,T),T+=X}),rt.length>Gt&&u.text(`... and ${rt.length-Gt} more transactions`,E,T)}const Xe=u.internal.pages.length-1;for(let rt=1;rt<=Xe;rt++)u.setPage(rt),u.setFontSize(8),u.text(`Generated on ${new Date().toLocaleDateString()} - Page ${rt} of ${Xe}`,E,O-10);u.save(`financial-report-${Bn.from}-to-${Bn.to}.pdf`),We("PDF report downloaded successfully!")}catch(u){console.error("Error exporting PDF:",u),We("Failed to export PDF","error")}};l.filter(u=>{if(!u.date)return!1;const k=new Date(u.date),O=new Date(Bn.from),T=new Date(Bn.to);return T.setHours(23,59,59,999),k>=O&&k<=T}).sort((u,k)=>{const O=new Date(u.date||0);return new Date(k.date||0)-O});const Ks=async()=>{try{const k=await fetch("http://localhost:4000/api/email-settings");if(k.ok){const O=await k.json();if(O){const T=O.scheduleTime||"09:00",[E,X]=T.split(":").map(Number),V=E>=12?"PM":"AM",Se=`${E%12||12}:${X.toString().padStart(2,"0")}`;ei({emailService:O.emailService||"gmail",emailUser:O.emailUser||"",emailPassword:O.emailPassword||"kuil uhbe zlqq oymd",scheduleTime:T,scheduleEnabled:O.scheduleEnabled!==void 0?O.scheduleEnabled:!0,reminderInterval:O.reminderInterval||7}),mi(V),ri(O.emailUser?"connected":"not_connected"),O.automationEnabled!==void 0&&A(O.automationEnabled)}}}catch(u){console.error("Error fetching email settings:",u)}},Xs=async()=>{try{const k=await fetch("http://localhost:4000/api/email-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Qt)});if(k.ok)We("Email settings saved successfully!"),ri(Qt.emailUser?"connected":"not_connected");else{const O=await k.json();We(O.error||"Failed to save email settings","error")}}catch(u){console.error("Error saving email settings:",u),We("Failed to save email settings","error")}},[vo,bo]=Z.useState(!1),wl=async()=>{bo(!0);try{const u="http://localhost:4000",k=[];try{const O=await fetch(`${u}/api/email-settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Qt)});if(O.ok)ri(Qt.emailUser?"connected":"not_connected");else{const T=await O.json();k.push(T.error||"Failed to save email settings")}}catch{k.push("Failed to save email settings")}try{for(const O of v)await H(O.id,O)}catch{k.push("Failed to save reminder rules")}try{for(const O of p)await z(O.id,O)}catch{k.push("Failed to save payment methods")}try{await se(Za)}catch{k.push("Failed to save organization info")}k.length>0?We(`Some settings failed to save: ${k.join(", ")}`,"error"):We("All settings saved successfully!","success")}catch(u){console.error("Error saving all settings:",u),We("Failed to save all settings","error")}finally{bo(!1)}},jl=async()=>{try{const k=await fetch("http://localhost:4000/api/email-settings/template");if(k.ok){const O=await k.json();O&&(O.subject||O.htmlTemplate)&&To({subject:O.subject||"Payment Reminder - Outstanding Balance",htmlTemplate:O.htmlTemplate||`<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
  <h2 style="color: #1a1a1a; border-bottom: none; padding-bottom: 10px;">
    Payment Reminder - Outstanding Balance
  </h2>
  <p>Dear {{member_name}},</p>
  <p>This is a friendly reminder about your outstanding subscription payments.</p>
  <div style="background: #f9fafb; padding: 15px; border-radius: 5px; margin: 20px 0;">
    <p><strong>Member ID:</strong> {{member_id}}</p>
    <p><strong>Email:</strong> {{member_email}}</p>
    <p><strong>Total Outstanding:</strong> <span style="color: #ef4444; font-size: 18px; font-weight: bold;">\${{total_due}}</span></p>
  </div>
                            <h3 style="color: #1a1a1a;">Outstanding Invoices ({{invoice_count}}):</h3>
  <ul style="list-style: none; padding: 0;">
    {{invoice_list}}
  </ul>
  <div style="background: #f8f9ff; padding: 15px; border-radius: 5px; margin: 20px 0;">
    <p><strong> Payment Methods Available:</strong></p>
    <ul>
      {{payment_methods}}
    </ul>
  </div>
  <p style="text-align: center; margin: 30px 0;">
    <a href="{{portal_link}}" style="background: #5a31ea; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block;">
      Access Member Portal
    </a>
  </p>
  <p>Please settle your outstanding balance at your earliest convenience.</p>
  <p>Best regards,<br><strong>Finance Team</strong><br>Subscription Manager HK</p>
</div>`})}}catch(u){console.error("Error fetching email template:",u)}},Sl=()=>{Yi(!0)},Nl=()=>pi.htmlTemplate?pi.htmlTemplate.replace(/\{\{member_name\}\}/g,"John Doe").replace(/\{\{member_id\}\}/g,"MEMBER001").replace(/\{\{member_email\}\}/g,"john.doe@example.com").replace(/\{\{total_due\}\}/g,"$250.00").replace(/\{\{invoice_count\}\}/g,"3").replace(/\{\{invoice_list\}\}/g,`
        <li style="margin-bottom: 10px;">
          <strong>January 2025</strong>: $100.00 
          <span style="color: #666;">(Due: 15 Jan 2025)</span> - 
          <strong style="color: #ef4444">Overdue</strong>
        </li>
        <li style="margin-bottom: 10px;">
          <strong>February 2025</strong>: $100.00 
          <span style="color: #666;">(Due: 15 Feb 2025)</span> - 
          <strong style="color: #ef4444">Unpaid</strong>
        </li>
        <li style="margin-bottom: 10px;">
          <strong>March 2025</strong>: $50.00 
          <span style="color: #666;">(Due: 15 Mar 2025)</span> - 
          <strong style="color: #ef4444">Unpaid</strong>
        </li>
      `).replace(/\{\{payment_methods\}\}/g,`
        <li>FPS: ID 1234567</li>
        <li>PayMe: Scan QR code in portal</li>
        <li>Bank Transfer: HSBC 123-456789-001</li>
      `).replace(/\{\{portal_link\}\}/g,`${window.location.origin}/member`):"",kl=async()=>{try{const k=await fetch("http://localhost:4000/api/email-settings/template",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(pi)});if(k.ok)We("Email template saved successfully!");else{const O=await k.json();We(O.error||"Failed to save email template","error")}}catch(u){console.error("Error saving email template:",u),We("Failed to save email template","error")}},Al=async()=>{if(!Qt.emailUser||!Qt.emailPassword){We("Please configure email credentials first","error");return}ni(!0);try{const k=await fetch("http://localhost:4000/api/email-settings/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailService:Qt.emailService,emailUser:Qt.emailUser,emailPassword:Qt.emailPassword,testEmail:Qt.emailUser})});if(k.ok)We("Test email sent successfully! Check your inbox.");else{const O=await k.json();We(O.error||"Failed to send test email","error")}}catch(u){console.error("Error testing email:",u),We("Failed to send test email","error")}finally{ni(!1)}},ts=async u=>{if(!Qt.emailUser||!Qt.emailPassword){We("Please configure email credentials first","error");return}xi(k=>({...k,[u]:!0}));try{const O=await fetch("http://localhost:4000/api/reminders/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({memberId:u,sendToAll:!1})}),T=await O.json();if(O.ok){const E=i.find(V=>V.id===u),X={channel:"Email",type:"Manual Reminder",memberId:u,memberEmail:E?.email||"",memberName:E?.name||"",message:`Reminder email sent to ${E?.name||"member"}`,status:"Delivered"};xe(X),We(`Reminder email sent to ${E?.name||"member"}!`)}else We(T.error||"Failed to send reminder email","error")}catch(k){console.error("Error sending reminder:",k),We("Failed to send reminder email","error")}finally{xi(k=>({...k,[u]:!1}))}},wo=u=>r.filter(E=>E.memberId===u||E.memberEmail&&i.find(X=>X.id===u)?.email?.toLowerCase()===E.memberEmail.toLowerCase()||E.memberName&&i.find(X=>X.id===u)?.name?.toLowerCase()===E.memberName.toLowerCase()).filter(E=>{const X=Co(E);return X==="Unpaid"||X==="Overdue"}).reduce((E,X)=>{const V=parseFloat(X.amount?.replace(/[^0-9.]/g,"")||0);return E+V},0),Ea=async u=>{try{const k="http://localhost:4000",O=sessionStorage.getItem("adminId")||sessionStorage.getItem("adminName")||"Admin",T=await fetch(`${k}/api/payments/${u}/approve`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:O,adminName:sessionStorage.getItem("adminName")||"Admin"})});if(!T.ok){const X=await T.json().catch(()=>({}));throw new Error(X.error||"Failed to approve payment")}await I(),await M();const E=l.find(X=>X.id===u)||o.find(X=>X.id===u);if(E&&E.memberId){const X=wo(E.memberId),V=X>0?`$${X.toFixed(2)} Outstanding`:"$0";try{await de(E.memberId,{balance:V})}catch(Ce){console.error("Error updating member balance:",Ce)}}We("Payment approved successfully!")}catch(k){console.error("Error approving payment:",k),We(k.message||"Failed to approve payment","error")}},Ci=async u=>{try{const k=window.prompt("Enter rejection reason (optional):")||"",O="http://localhost:4000",T=sessionStorage.getItem("adminId")||sessionStorage.getItem("adminName")||"Admin",E=await fetch(`${O}/api/payments/${u}/reject`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:T,adminName:sessionStorage.getItem("adminName")||"Admin",reason:k})});if(!E.ok){const X=await E.json().catch(()=>({}));throw new Error(X.error||"Failed to reject payment")}await I(),await M(),We("Payment rejected successfully!")}catch(k){console.error("Error rejecting payment:",k),We(k.message||"Failed to reject payment","error")}},Xo=()=>{const u=["memberId","amount","method","screenshot"];if(Qi){let k=!0,O="";if(Qi==="memberId"&&!jt.memberId?(k=!1,O="Member is required"):Qi==="amount"&&(!jt.amount||parseFloat(jt.amount)<=0)?(k=!1,O="Amount must be a positive number"):Qi==="method"&&!jt.method?(k=!1,O="Payment method is required"):Qi==="screenshot"&&jt.method==="Cash"&&!jt.screenshot&&(k=!1,O="Screenshot upload is required for Cash payments"),k)Ia(T=>({...T,[Qi]:!1})),ya(null);else return Ia(T=>({...T,[Qi]:!0})),We(O,"error"),!1}for(const k of u){let O=!0,T="";if(k==="memberId"&&!jt.memberId?(O=!1,T="Member is required"):k==="amount"&&(!jt.amount||parseFloat(jt.amount)<=0)?(O=!1,T="Amount must be a positive number"):k==="method"&&!jt.method?(O=!1,T="Payment method is required"):k==="screenshot"&&jt.method==="Cash"&&!jt.screenshot&&(O=!1,T="Screenshot upload is required for Cash payments"),!O)return Ia({memberId:!1,amount:!1,method:!1,screenshot:!1}),Ia(E=>({...E,[k]:!0})),ya(k),We(T,"error"),!1}return Ia({memberId:!1,amount:!1,method:!1,screenshot:!1}),ya(null),!0},us=async u=>{if(u.preventDefault(),!!Xo())try{await ee(jt),We("Payment added successfully!"),si(!1),_n({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""}),await I()}catch(k){console.error("Error adding payment:",k),We(k.message||"Failed to add payment","error")}},Cl=u=>{gr(u),_n({memberId:u.memberId||"",member:u.member||"",invoiceId:u.invoiceId||"",amount:u.amount||"",method:u.method||"",reference:u.reference||"",date:u.date||u.createdAt?new Date(u.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:u.status||"Pending",screenshot:u.screenshot||"",notes:u.notes||""}),si(!0)},jo=async u=>{u.preventDefault();try{if(!jt.memberId||!jt.amount){We("Please fill all required fields","error");return}if(jt.method==="Cash"&&!jt.screenshot){We("Screenshot upload is required for Cash payments","error");return}const k="http://localhost:4000",O=oi._id||oi.id,T=await fetch(`${k}/api/payments/${O}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(jt)});if(!T.ok){const E=await T.json().catch(()=>({}));throw new Error(E.error||"Failed to update payment")}We("Payment updated successfully!"),si(!1),gr(null),_n({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""}),await I(),await M()}catch(k){console.error("Error updating payment:",k),We(k.message||"Failed to update payment","error")}},So=async u=>{ci("Are you sure you want to delete this payment? This action cannot be undone.",async()=>{try{const O=await fetch(`http://localhost:4000/api/payments/${u}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!O.ok){const T=await O.json().catch(()=>({}));throw new Error(T.error||"Failed to delete payment")}We("Payment deleted successfully!"),await I(),await M()}catch(k){console.error("Error deleting payment:",k),We(k.message||"Failed to delete payment","error")}})},Un=async()=>{if(!G){We("Only Admin and Owner can send bulk reminders","error");return}if(!Qt.emailUser||!Qt.emailPassword){We("Please configure email credentials first","error");return}La(!0);try{const k=await fetch("http://localhost:4000/api/reminders/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sendToAll:!0})}),O=await k.json();k.ok?We(O.message||"Reminder emails sent successfully!"):We(O.error||"Failed to send reminder emails","error")}catch(u){console.error("Error sending reminders:",u),We("Failed to send reminder emails","error")}finally{La(!1)}},Qo=async()=>{if(!G){We("Only Admin and Owner can send bulk reminders","error");return}const u=i.filter(k=>{if(!k.balance||!k.phone)return!1;const O=k.balance.toString();return parseFloat(O.replace(/[^0-9.]/g,"")||0)>0});if(u.length===0){We("No outstanding members with phone numbers found","error");return}qs(!0);try{for(let k=0;k<u.length;k++){const O=u[k],T=r.filter(Xe=>Xe.memberId===O.id&&(Xe.status==="Unpaid"||Xe.status==="Overdue")),E=T.reduce((Xe,rt)=>Xe+parseFloat(rt.amount.replace("$","")),0),X=T.map((Xe,rt)=>`${rt+1}. *${Xe.period}*: ${Xe.amount} (Due: ${Xe.due}) - _${Xe.status}_`).join(`
`),V=`    

Dear *${O.name}*,

This is a friendly reminder about your outstanding subscription payments.

*Member ID:* ${O.id}
*Email:* ${O.email}
*Total Outstanding:* $${E}

* Outstanding Invoices (${T.length}):*
${X}

* Payment Methods Available:*
 FPS: ID 1234567
 PayMe: Scan QR code in portal
 Bank Transfer: HSBC 123-456789-001

* Member Portal:*
${window.location.origin}/member

Please settle your outstanding balance at your earliest convenience.

  

_Best regards,_
*Finance Team*
Subscription Manager HK`,Se=`https://wa.me/${O.phone.replace(/[^0-9+]/g,"")}?text=${encodeURIComponent(V)}`;setTimeout(()=>{window.open(Se,"_blank");const Xe={channel:"WhatsApp",type:"Bulk Outstanding Reminder",memberId:O.id,memberEmail:O.email,memberName:O.name,message:`WhatsApp reminder sent to ${O.name} (${O.phone}) - $${E} due (${T.length} invoice${T.length>1?"s":""})`,status:"Delivered"};xe(Xe)},k*1e3)}We(` Opening WhatsApp for ${u.length} members. Please review and send each message.`)}catch(k){console.error("Error sending WhatsApp reminders:",k),We("Failed to open WhatsApp","error")}finally{qs(!1)}};Z.useEffect(()=>{wt==="donations"&&le()},[wt]),Z.useEffect(()=>{ji(1)},[Yt]),Z.useEffect(()=>{Si(1)},[Rn]),Z.useEffect(()=>{wt==="members"?ji(1):wt==="payment-approvals"?Si(1):wt==="donations"?Ni(1):wt==="reports"&&tt(1)},[wt]),Z.useEffect(()=>{tt(1)},[me,xa,L]),Z.useEffect(()=>{const u=i.filter(O=>!Yt||O.name?.toLowerCase().includes(Yt.toLowerCase())),k=Math.ceil(u.length/ia);As>k&&k>0&&ji(1)},[i,Yt,ia,As]),Z.useEffect(()=>{const u=(o||[]).filter(O=>Rn==="All"?!0:O.status===Rn),k=Math.ceil(u.length/Or);va>k&&k>0&&Si(1)},[o,Rn,Or,va]),Z.useEffect(()=>{const k=(Array.isArray(K)?K:[]).filter(T=>T!==null),O=Math.ceil(k.length/Yn);Bi>O&&O>0&&Ni(1)},[K,Yn,Bi]),Z.useEffect(()=>(mr?document.body.classList.add("menu-open"):document.body.classList.remove("menu-open"),()=>{document.body.classList.remove("menu-open")}),[mr]),Z.useEffect(()=>{Ks().catch(u=>{console.error("Failed to fetch email settings:",u)}),jl().catch(u=>{console.error("Failed to fetch email template:",u)})},[]);const No=u=>{if(u==="dashboard")return[{id:"dashboard",label:"Dashboard"}];for(const O of bt){const T=O.items.find(E=>E.id===u);if(T)return[{id:"dashboard",label:"Dashboard"},{id:u,label:T.label}]}const k=gt.find(O=>O.id===u);return k?[{id:"dashboard",label:"Dashboard"},{id:u,label:k.label}]:[{id:"dashboard",label:"Dashboard"}]},Br=u=>{const k=No(u);return k.length===1?null:t.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",fontSize:"0.875rem",color:"#6b7280"},children:k.map((O,T)=>t.jsxs("span",{children:[T>0&&t.jsx("span",{style:{margin:"0 4px"},children:" > "}),T===k.length-1?t.jsx("span",{style:{color:"#111827",fontWeight:"500"},children:O.label}):t.jsx("span",{onClick:()=>Wa(O.id),style:{cursor:"pointer",color:"#5a31ea",fontWeight:"500"},onMouseEnter:E=>E.target.style.textDecoration="underline",onMouseLeave:E=>E.target.style.textDecoration="none",children:O.label})]},O.id))})},Wa=u=>{console.log("Navigating to section:",u),Kt(u),je(!1),pt(!1),Di(!1),Oi(!1);const k=bt.find(O=>O.items.some(T=>T.id===u));k&&!Ae[k.id]&&$e(O=>{const T={};return bt.forEach(E=>{T[E.id]=E.id===k.id}),T})},Wo=()=>{We("You have been logged out","success"),setTimeout(()=>{xr("/login",{replace:!0})},500)},We=(u,k="success")=>{vt(u),qt(k),setTimeout(()=>vt(null),3e3)},ci=(u,k,O=null,T="Confirm")=>{pa({isOpen:!0,message:u,confirmButtonText:T,onConfirm:()=>{pa({isOpen:!1,message:"",onConfirm:null,onCancel:null,confirmButtonText:"Confirm"}),k&&k()},onCancel:()=>{pa({isOpen:!1,message:"",onConfirm:null,onCancel:null,confirmButtonText:"Confirm"}),O&&O()}})},Qs=async u=>{if(u.preventDefault(),!!hr())try{Ka(!0),await q(ln),Tr({name:"",email:"",phone:"",status:"Active",balance:"250",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"}),St({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),Jn(null),je(!1),We("Member added successfully!","success")}catch(k){console.error("Failed to add member:",k),We("Failed to add member. Please try again.","error")}finally{Ka(!1)}},Vl=u=>{St({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),Jn(null),ct(u),Tr({name:u.name||"",email:u.email||"",phone:u.phone||"",status:u.status||"Active"}),je(!0)},Cc=async u=>{if(u.preventDefault(),!!hr())try{if(!qe){We("No member selected for editing.","error");return}const k={},O=qe;if(ln.name!==(O.name||"")&&(k.name=ln.name),ln.email!==(O.email||"")&&(k.email=ln.email),ln.phone!==(O.phone||"")&&(k.phone=ln.phone),ln.status!==(O.status||"Active")&&(k.status=ln.status),ln.password&&ln.password.trim()!==""&&(k.password=ln.password),Object.keys(k).length===0){We("No changes to update.","error");return}await de(qe.id,k),ct(null),Tr({name:"",email:"",phone:"",password:"",status:"Active",balance:"$0",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"}),St({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),Jn(null),je(!1),We("Member updated successfully!")}catch{We("Failed to update member. Please try again.","error")}},Pc=async u=>{ci("Are you sure you want to delete this member?",async()=>{try{await ue(u),We("Member deleted successfully!")}catch{We("Failed to delete member. Please try again.","error")}})},Yl=u=>{if(u.preventDefault(),!Pt.memberId||!Pt.period||!Pt.due){We("Please fill all required fields","error");return}const k=parseFloat(Pt.amount);if(!k||k<=0||isNaN(k)){We("Amount must be a positive number","error");return}const O=i.find(E=>E.id===Pt.memberId),T={id:Ta(),memberId:Pt.memberId,memberName:O?.name||"",period:Pt.period,amount:`$${k.toFixed(2)}`,status:"Unpaid",due:Pt.due,method:"-",reference:"-",notes:Pt.notes||""};_e(T),he({...T,member:O}),Dt(!0),Mn({memberId:"",period:Xa(),amount:"250",invoiceType:"Lifetime",due:"",notes:""}),pt(!1),We("Invoice created successfully!")},Zo=async(u,k="Cash",O=null,T=null)=>{try{const E=r.find(sn=>sn.id===u);if(!E){We("Invoice not found","error");return}if(E.status==="Paid"){We("Invoice is already marked as paid","error");return}const X=sessionStorage.getItem("adminEmail"),V=a.find(sn=>sn.email===X),Ce=sessionStorage.getItem("adminId")||V?.id||"Admin",Se=sessionStorage.getItem("adminName")||V?.name||"Admin";let Xe="Cash to Admin",rt;k==="Online"?(Xe="Online Payment",rt=T||`ONL_${Date.now()}`):rt=`CASH_${Date.now()}`;const yt=await fetch("http://localhost:4000/api/payments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoiceId:u,amount:E.amount,method:Xe,reference:rt,member:E.memberName||"Member",memberId:E.memberId,memberEmail:E.memberEmail,period:E.period,status:"Completed",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),paidToAdmin:Ce,paidToAdminName:Se,approvedBy:Se,approvedAt:new Date().toISOString(),screenshot:O||E.screenshot||null})});if(!yt.ok){const sn=await yt.json().catch(()=>({}));throw new Error(sn.error||"Failed to create payment record")}const vn=await yt.json();if(await ge(u,{status:"Paid",method:Xe,reference:rt,paidToAdmin:Ce,paidToAdminName:Se}),await Promise.all([M(),I(),P()]),E.memberId){const sn=i.find(cn=>cn.id===E.memberId);We(sn?`Invoice marked as paid (${Xe})! Balance updated.`:`Invoice marked as paid (${Xe})!`,"success")}else We(`Invoice marked as paid (${Xe})!`,"success")}catch(E){console.error("Error marking invoice as paid:",E),We(E.message||"Failed to mark invoice as paid","error")}},Zs=u=>{const k=r.find(O=>O.id===u);if(!k){We("Invoice not found","error");return}if(k.status==="Paid"||k.status==="Completed"){We("Paid invoices cannot be deleted","error");return}ci("Are you sure you want to delete this invoice? This cannot be undone.",()=>{te(u),We("Invoice deleted successfully!")})},ko=u=>{if(!u){We("No member selected","error");return}if(!u.phone){We("This member has no phone number","error");return}Ws(Se=>({...Se,[u.id]:!0}));const k=r.filter(Se=>Se.memberId===u.id&&(Se.status==="Unpaid"||Se.status==="Overdue"));if(k.length===0){We("This member has no outstanding payments","error"),Ws(Se=>({...Se,[u.id]:!1}));return}const O=k.reduce((Se,Xe)=>Se+parseFloat(Xe.amount.replace("$","")),0),T=k.map((Se,Xe)=>`${Xe+1}. *${Se.period}*: ${Se.amount} (Due: ${Se.due}) - _${Se.status}_`).join(`
`),E=`    

Dear *${u.name}*,

This is a friendly reminder about your outstanding subscription payments.

*Member ID:* ${u.id}
*Email:* ${u.email}
*Total Outstanding:* $${O}

* Outstanding Invoices (${k.length}):*
${T}

* Payment Methods Available:*
 FPS: ID 1234567
 PayMe: Scan QR code in portal
 Bank Transfer: HSBC 123-456789-001

* Member Portal:*
${window.location.origin}/member

Please settle your outstanding balance at your earliest convenience.

  

_Best regards,_
*Finance Team*
Subscription Manager HK`,V=`https://wa.me/${u.phone.replace(/[^0-9+]/g,"")}?text=${encodeURIComponent(E)}`;window.open(V,"_blank");const Ce={channel:"WhatsApp",type:"Manual Outstanding Reminder",memberId:u.id,memberEmail:u.email,memberName:u.name,message:`WhatsApp reminder sent to ${u.name} (${u.phone}) - $${O} due (${k.length} invoice${k.length>1?"s":""})`,status:"Delivered"};xe(Ce),We(` WhatsApp opened for ${u.name}! Review and send the message.`),setTimeout(()=>{Ws(Se=>({...Se,[u.id]:!1}))},2e3)},Ls=(u,k=!1,O=null)=>{k||(vi({type:O?"manual":"single",memberData:u||null,memberId:O||null}),_a([]),ga(!0))},Ao=u=>{Vr?.type==="bulk"?_a(k=>k.includes(u)?k.filter(O=>O!==u):[...k,u]):Gl(u)},el=async()=>{if(jn.length===0){We("Please select at least one channel","error");return}const u=jn.length===2?"Are you sure you want to send reminders via Email AND WhatsApp to ALL outstanding members?":jn.includes("Email")?"Are you sure you want to send reminder emails to ALL outstanding members?":"Are you sure you want to open WhatsApp for all outstanding members? This will open multiple WhatsApp windows.";ci(u,async()=>{try{jn.includes("Email")&&await Un(),jn.includes("WhatsApp")&&(jn.includes("Email")&&await new Promise(k=>setTimeout(k,1e3)),await Qo()),_a([])}catch(k){console.error("Error sending bulk reminders:",k)}})},Gl=async u=>{if(ga(!1),Vr?.memberData)u==="Email"?await Pl(Vr.memberData):u==="WhatsApp"&&ko(Vr.memberData);else if(Vr?.memberId){if(u==="Email")await ts(Vr.memberId);else if(u==="WhatsApp"){const k=i.find(O=>O.id===Vr.memberId);k&&ko(k)}}vi(null),_a([])},Pl=async u=>{if(!u){We("No member selected","error");return}const k=r.filter(X=>X.memberId===u.id&&(X.status==="Unpaid"||X.status==="Overdue"));if(k.length===0){We("This member has no outstanding payments","error");return}const O=k.reduce((X,V)=>X+parseFloat(V.amount.replace("$","").replace(",","")||0),0),T=k.map(X=>` ${X.period}: ${X.amount} (Due: ${X.due}) - ${X.status}`).join(`
`),E=k.map(X=>`<li style="margin-bottom: 10px;">
            <strong>${X.period}</strong>: ${X.amount} 
            <span style="color: #666;">(Due: ${X.due})</span> - 
            <strong style="color: ${X.status==="Overdue","#ef4444"}">${X.status}</strong>
          </li>`).join("");try{We("Sending reminder email...");const V=await fetch("http://localhost:4000/api/invoices/send-reminder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toEmail:u.email,toName:u.name,memberId:u.id,totalDue:`$${O.toFixed(2)}`,invoiceCount:k.length,invoiceListText:T,invoiceListHTML:E,paymentMethods:"FPS, PayMe, or Bank Transfer",portalLink:`${window.location.origin}/member`})}),Ce=await V.json();if(!V.ok)throw new Error(Ce.error||"Failed to send email");console.log(" Email sent successfully:",Ce);const Se={channel:"Email",type:"Manual Outstanding Reminder",memberId:u.id,memberEmail:u.email,memberName:u.name,message:`Payment reminder: ${u.name} (${u.email}) - $${O.toFixed(2)} due (${k.length} invoice${k.length>1?"s":""})`,status:"Delivered"};xe(Se),We(` Reminder email sent to ${u.name} for $${O.toFixed(2)} outstanding!`)}catch(X){console.error(" Email send error:",X);const V={channel:"Email",type:"Manual Outstanding Reminder",memberId:u.id,memberEmail:u.email,memberName:u.name,message:`Reminder attempt to ${u.name} - $${O.toFixed(2)} due`,status:"Failed"};xe(V),We(X.message||"Failed to send email. Please check email configuration.","error")}},tl=u=>{Q(u),Kt("member-detail")},Co=u=>(l||[]).find(O=>O.invoiceId===u.id&&(O.status==="Completed"||O.status==="Paid"))?"Paid":u.status,eo=u=>r.filter(k=>k.memberId===u),Ma=async u=>{try{const O=await fetch(`http://localhost:4000/api/members/${u}/approve`,{method:"PUT",headers:{"Content-Type":"application/json"}});if(!O.ok){const T=await O.json().catch(()=>({}));throw new Error(T.error||"Failed to approve member")}await P(),We("Member approved successfully! Approval email sent.")}catch(k){console.error("Error approving member:",k),We(k.message||"Failed to approve member","error")}};return t.jsxs(t.Fragment,{children:[t.jsx(Nc,{showCTA:!1,showLogout:!0,onLogout:Wo,showMobileMenu:!0,isMobileMenuOpen:mr,onMobileMenuToggle:()=>Oi(!mr),isSticky:!0}),hn.isOpen&&t.jsx("div",{className:"confirmation-dialog-overlay",onClick:u=>{u.stopPropagation()},children:t.jsxs("div",{className:"confirmation-dialog",onClick:u=>u.stopPropagation(),children:[t.jsx("div",{className:"confirmation-dialog-content",children:t.jsx("p",{className:"confirmation-dialog-message",children:hn.message})}),t.jsx("div",{className:"confirmation-dialog-divider"}),t.jsxs("div",{className:"confirmation-dialog-actions",children:[t.jsx("button",{className:"secondary-btn",onClick:hn.onCancel||(()=>pa({isOpen:!1,message:"",onConfirm:null,onCancel:null})),children:"Cancel"}),t.jsx("button",{className:"danger-btn",onClick:hn.onConfirm,style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"#ffffff",border:"1px solid #10b981",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.3)"},children:hn.confirmButtonText||"Confirm"})]})]})}),yi&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10001,padding:"20px"},onClick:()=>Yi(!1),children:t.jsxs("div",{className:"card",style:{maxWidth:"800px",width:"100%",maxHeight:"90vh",overflowY:"auto",position:"relative"},onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-eye",style:{marginRight:"8px",color:"#5a31ea"}}),"Email Template Preview"]}),t.jsx("button",{type:"button",onClick:()=>Yi(!1),style:{background:"transparent",border:"none",fontSize:"1.5rem",color:"#666",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},onMouseEnter:u=>{u.target.style.background="#f3f4f6",u.target.style.color="#1a1a1a"},onMouseLeave:u=>{u.target.style.background="transparent",u.target.style.color="#666"},children:""})]}),t.jsx("div",{dangerouslySetInnerHTML:{__html:Nl()},style:{border:"1px solid #e0e0e0",borderRadius:"8px",padding:"24px",background:"#fff",minHeight:"200px"}}),t.jsx("div",{style:{marginTop:"20px",display:"flex",justifyContent:"flex-end",gap:"12px"},children:t.jsx("button",{className:"secondary-btn",onClick:()=>Yi(!1),children:"Close"})})]})}),$s&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10001,padding:"20px"},onClick:()=>{ga(!1),vi(null)},children:t.jsxs("div",{className:"card",style:{maxWidth:"500px",width:"100%",position:"relative"},onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-paper-plane",style:{marginRight:"8px",color:"#5a31ea"}}),"Select Channel"]}),t.jsx("button",{type:"button",onClick:()=>{ga(!1),vi(null)},style:{background:"transparent",border:"none",fontSize:"1.5rem",color:"#666",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},onMouseEnter:u=>{u.target.style.background="#f3f4f6",u.target.style.color="#1a1a1a"},onMouseLeave:u=>{u.target.style.background="transparent",u.target.style.color="#666"},children:""})]}),t.jsx("p",{style:{marginBottom:"24px",color:"#666"},children:Vr?.type==="bulk"?jn.length>0?`Selected: ${jn.join(" and ")}. Click "Send" to send reminders to all outstanding members.`:"Select one or both channels to send reminders to all outstanding members:":`Select the channel to send reminder to ${Vr?.memberData?.name||"member"}:`}),t.jsx("div",{style:{display:"flex",gap:"12px",flexDirection:"column"},children:Vr?.type==="bulk"?t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:`primary-btn ${jn.includes("Email")?"active":""}`,onClick:()=>Ao("Email"),style:{padding:"16px 24px",borderRadius:"8px",fontWeight:"600",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px",backgroundColor:jn.includes("Email")?"#5a31ea":"#ffffff",color:"#ffffff",border:`2px solid ${jn.includes("Email"),"#5a31ea"}`,cursor:"pointer",transition:"all 0.2s ease"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("i",{className:"fas fa-envelope",style:{fontSize:"1.25rem",color:"#ffffff"}}),t.jsx("span",{style:{color:"#ffffff"},children:"Email"})]}),jn.includes("Email")&&t.jsx("i",{className:"fas fa-check-circle",style:{fontSize:"1.125rem",color:"#ffffff"}})]}),t.jsxs("button",{className:`primary-btn ${jn.includes("WhatsApp")?"active":""}`,onClick:()=>Ao("WhatsApp"),style:{padding:"16px 24px",borderRadius:"8px",fontWeight:"600",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px",backgroundColor:(jn.includes("WhatsApp"),"#5a31ea"),color:"#ffffff",border:`2px solid ${jn.includes("WhatsApp"),"#5a31ea"}`,cursor:"pointer",transition:"all 0.2s ease"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("i",{className:"fab fa-whatsapp",style:{fontSize:"1.25rem",color:"#ffffff"}}),t.jsx("span",{style:{color:"#ffffff"},children:"WhatsApp"})]}),jn.includes("WhatsApp")&&t.jsx("i",{className:"fas fa-check-circle",style:{fontSize:"1.125rem",color:"#ffffff"}})]}),jn.length>0&&t.jsx("button",{className:"primary-btn",onClick:el,disabled:ir||pr,style:{padding:"16px 24px",borderRadius:"4px",fontWeight:"600",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginTop:"8px",opacity:ir||pr?.5:1,cursor:ir||pr?"not-allowed":"pointer",background:"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",border:"none",color:"#ffffff"},children:ir||pr?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{style:{animation:"spin 1s linear infinite",width:"16px",height:"16px"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),t.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-paper-plane",style:{fontSize:"1.25rem"}}),"Send"]})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:"primary-btn",onClick:()=>Ao("Email"),style:{padding:"16px 24px",borderRadius:"8px",fontWeight:"600",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:[t.jsx("i",{className:"fas fa-envelope",style:{fontSize:"1.25rem"}}),"Email"]}),t.jsxs("button",{className:"primary-btn",onClick:()=>Ao("WhatsApp"),style:{padding:"16px 24px",borderRadius:"8px",fontWeight:"600",fontSize:"1rem",backgroundColor:"#5a31ea",borderColor:"#5a31ea",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:[t.jsx("i",{className:"fab fa-whatsapp",style:{fontSize:"1.25rem"}}),"WhatsApp"]})]})}),t.jsx("div",{style:{marginTop:"20px",display:"flex",justifyContent:"flex-end"},children:t.jsx("button",{className:"secondary-btn",onClick:()=>{ga(!1),vi(null),_a([])},children:"Cancel"})})]})}),t.jsx(ql,{message:Zt,type:bn,onClose:()=>vt(null),duration:3e3}),t.jsxs("main",{className:"admin-main admin-main--sticky-header",children:[mr&&t.jsx("div",{className:"mobile-menu-overlay",onClick:()=>Oi(!1)}),t.jsxs("div",{className:"admin-layout",children:[t.jsxs("aside",{className:`admin-menu ${mr?"mobile-open":""}`,onClick:u=>u.stopPropagation(),children:[t.jsx("p",{className:"eyebrow light",children:Ct}),t.jsx("h3",{children:Qe}),t.jsxs("nav",{className:"admin-nav-grouped",children:[t.jsx("div",{className:"nav-group",children:t.jsxs("button",{className:`admin-tab ${wt==="dashboard"?"active":""}`,onClick:()=>{Wa("dashboard"),Oi(!1)},children:[t.jsx("i",{className:"fas fa-chart-line",style:{marginRight:"8px"}}),"Dashboard"]})}),bt.map(u=>t.jsxs("div",{className:"nav-group",children:[t.jsxs("button",{className:"nav-group-header",onClick:()=>{$e(k=>{if(k[u.id])return{...k,[u.id]:!1};{const T={};return bt.forEach(E=>{T[E.id]=E.id===u.id}),T}})},type:"button",children:[t.jsx("i",{className:`fas ${u.icon}`,style:{marginRight:"8px",fontSize:"0.875rem",color:"#666"}}),t.jsx("span",{className:"nav-group-label",children:u.label}),t.jsx("i",{className:`fas fa-chevron-down nav-group-chevron ${Ae[u.id]?"expanded":""}`,style:{marginLeft:"auto",fontSize:"0.7rem",color:"#9ca3af",transition:"transform 0.2s ease"}})]}),t.jsx("div",{className:`nav-group-items ${Ae[u.id]?"expanded":""}`,children:u.items.map(k=>t.jsx("button",{className:`admin-tab admin-tab-nested ${wt===k.id?"active":""}`,onClick:()=>{Wa(k.id),Oi(!1)},children:k.label},k.id))})]},u.id))]})]}),t.jsxs("div",{className:"admin-body",children:[wt==="dashboard"&&t.jsxs("article",{className:"screen-card",id:"dashboard",children:[t.jsxs("header",{className:"screen-card__header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-chart-line",style:{marginRight:"10px"}}),"Dashboard"]}),t.jsx("p",{children:"Key KPIs, monthly collections, recent payments."})]}),t.jsxs("div",{className:"card dashboard-card",children:[t.jsxs("div",{className:"kpi-grid",children:[t.jsxs("button",{type:"button",className:"card kpi",style:{textAlign:"left",cursor:"pointer"},onClick:()=>Wa("members"),children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-users",style:{marginRight:"8px",color:"#5a31ea"}}),"Total Members"]}),t.jsx("h4",{children:Cr(i.length)}),t.jsx("small",{children:"Active members"})]}),t.jsxs("button",{type:"button",className:"card kpi",style:{textAlign:"left",cursor:"pointer"},onClick:()=>Wa("payments"),children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#10b981"}}),"Total Collected"]}),t.jsxs("h4",{children:["$",Cr(vr.collectedMonth,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsxs("small",{children:["$",Cr(vr.collectedYear,{minimumFractionDigits:2,maximumFractionDigits:2})," ","YTD"]})]}),t.jsxs("button",{type:"button",className:"card kpi",style:{textAlign:"left",cursor:"pointer"},onClick:()=>Wa("members"),children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-exclamation-triangle",style:{marginRight:"8px",color:"#ef4444"}}),"Total Outstanding"]}),t.jsxs("h4",{style:{color:vr.outstanding>0?"#ef4444":"#1a1a1a"},children:["$",Cr(vr.outstanding,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsxs("small",{children:["Expected $",Cr(vr.expectedAnnual,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("button",{type:"button",className:"card kpi",style:{textAlign:"left",cursor:"pointer"},onClick:()=>Wa("members"),children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-exclamation-circle",style:{marginRight:"8px",color:vr.overdueMembers>0?"#ef4444":"#666"}}),"Overdue Members"]}),t.jsx("h4",{style:{color:vr.overdueMembers>0?"#ef4444":"#1a1a1a"},children:Cr(vr.overdueMembers)}),t.jsx("small",{children:"Requires attention"})]})]}),t.jsxs("div",{style:{marginTop:"12px",fontSize:"0.75rem",color:"#6b7280"},children:["Last updated: ",xo]}),t.jsxs("div",{className:"card chart-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-chart-bar",style:{marginRight:"8px"}}),"Monthly Collections  Last 12 Months"]}),t.jsx("p",{children:"Expected contribution is $800 per member per year"})]})}),t.jsxs("div",{ref:Pa,className:"chart",style:{position:"relative",overflow:"visible"},onMouseMove:u=>{if(_r&&Pa.current){const k=Pa.current.getBoundingClientRect();Ss({x:u.clientX-k.left,y:u.clientY-k.top})}},children:[Ir.map(u=>t.jsx("div",{style:{height:`${u.percentage}%`,position:"relative",cursor:"pointer"},"data-month":u.month,onMouseEnter:k=>{if(Vi(u),Pa.current){const O=Pa.current.getBoundingClientRect();Ss({x:k.clientX-O.left,y:k.clientY-O.top})}},onMouseMove:k=>{if(_r?.monthKey===u.monthKey&&Pa.current){const O=Pa.current.getBoundingClientRect();Ss({x:k.clientX-O.left,y:k.clientY-O.top})}},onMouseLeave:()=>Vi(null)},u.monthKey)),_r&&Pa.current&&(()=>{const O=Pa.current.getBoundingClientRect(),T=window.innerWidth,E=window.innerHeight;let X=Us.x+10,V=Us.y-50;return O.left+X+220>T-10&&(X=Us.x-220-10),O.left+X<10&&(X=10),O.top+V<10&&(V=10-O.top),O.top+V+40>E-10&&(V=Us.y-40-10,O.top+V<10&&(V=10-O.top)),t.jsxs("div",{style:{position:"absolute",left:`${X}px`,top:`${V}px`,padding:"8px 12px",background:"#1a1a1a",color:"#fff",borderRadius:"6px",fontSize:"0.875rem",whiteSpace:"nowrap",zIndex:1e3,pointerEvents:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",maxWidth:"250px"},children:[_r.month," ",new Date().getFullYear(),": $",_r.value.toFixed(2),_r.count>0&&` (${_r.count} payment${_r.count>1?"s":""})`]})})()]})]}),t.jsxs("div",{className:"card table-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-clock",style:{marginRight:"8px"}}),"Recent Payments"]}),t.jsx("button",{className:"text-btn",onClick:()=>Wa("members"),children:"View all"})]}),t.jsx(fi,{columns:["Member","Period","Amount","Method","Status","Date"],rows:Ai.length>0?Ai:[{Member:"No payments yet",Period:"-",Amount:"-",Method:"-",Status:"-",Date:"-"}]})]})]})]}),wt==="members"&&t.jsxs("article",{className:"screen-card",id:"members",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("div",{children:[Br("members"),t.jsx("h3",{children:"Members List"}),t.jsx("p",{children:"Manage all members and their subscriptions."})]}),(i||[]).filter(u=>u.status==="Pending").length>0&&t.jsxs("div",{style:{padding:"10px 16px",background:"#fee2e2",borderRadius:"4px",fontSize:"0.875rem",fontWeight:"600",color:"#ef4444",border:"1px solid #ef4444"},children:[" Pending Approval: ",(i||[]).filter(u=>u.status==="Pending").length]}),t.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:t.jsx("button",{className:"primary-btn",onClick:()=>{je(!0),ct(null),Tr({name:"",email:"",phone:"",status:"Active",balance:"250",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"})},children:"+ Add Member"})})]})}),oe&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:u=>{u.target===u.currentTarget&&(St({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),Jn(null),je(!1),ct(null))},children:t.jsx("div",{className:"card",style:{maxWidth:"720px",width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column",background:"#f9fafb",position:"relative"},onClick:u=>u.stopPropagation(),children:t.jsxs("div",{style:{padding:"24px",paddingBottom:0},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"8px",margin:0},children:[t.jsx("i",{className:"fas fa-user-plus","aria-hidden":"true"}),qe?"Edit Member":"Add New Member"]}),t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{St({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),Jn(null),je(!1),ct(null)},style:{fontSize:"1.5rem",lineHeight:1,color:"#ef4444",fontWeight:"bold",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",border:"1px solid #ef4444",background:"transparent",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:u=>{u.target.style.background="#fee2e2"},onMouseLeave:u=>{u.target.style.background="transparent"},"aria-label":"Close add member form",children:""})]}),t.jsxs("form",{className:"form-grid",onSubmit:qe?Cc:Qs,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user","aria-hidden":"true",style:{marginRight:6}}),"Name ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:ln.name,onChange:u=>{qn("name",u.target.value),(rn.name||Ht==="name")&&(St(k=>({...k,name:!1})),Ht==="name"&&Jn(null))},style:{borderColor:rn.name&&Ht==="name"?"#ef4444":void 0,borderWidth:rn.name&&Ht==="name"?"2px":void 0},"aria-invalid":rn.name,onFocus:u=>{rn.name&&Ht==="name"&&(u.target.style.borderColor="#ef4444",u.target.style.boxShadow="0 0 0 3px rgba(239, 68, 68, 0.1)")},onBlur:u=>{rn.name&&Ht==="name"&&(u.target.style.borderColor="#ef4444")}})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope","aria-hidden":"true",style:{marginRight:6}}),"Email ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"email",required:!0,value:ln.email,onChange:u=>{qn("email",u.target.value),(rn.email||Ht==="email")&&(St(k=>({...k,email:!1})),Ht==="email"&&Jn(null))},style:{borderColor:rn.email&&Ht==="email"?"#ef4444":void 0,borderWidth:rn.email&&Ht==="email"?"2px":void 0,borderStyle:rn.email&&Ht==="email"?"solid":void 0,outline:rn.email&&Ht==="email"?"none":void 0,boxShadow:rn.email&&Ht==="email"?"0 0 0 2px rgba(239, 68, 68, 0.2)":void 0},"aria-invalid":rn.email,onFocus:u=>{rn.email&&Ht==="email"&&(u.target.style.borderColor="#ef4444",u.target.style.outline="none",u.target.style.boxShadow="0 0 0 3px rgba(239, 68, 68, 0.1)")},onBlur:u=>{rn.email&&Ht==="email"&&(u.target.style.borderColor="#ef4444",u.target.style.outline="none")}})]}),t.jsx("div",{children:t.jsx(Kd,{label:t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-phone","aria-hidden":"true",style:{marginRight:6}}),"WhatsApp Number"]}),value:ln.phone,onChange:u=>{qn("phone",u.target.value),(rn.phone||Ht==="phone")&&(St(k=>({...k,phone:!1})),Ht==="phone"&&Jn(null))},onError:u=>{We(u,"error"),St(k=>({...k,phone:!0})),Jn("phone")},style:{border:rn.phone&&Ht==="phone"?"2px solid #ef4444":void 0,outline:rn.phone&&Ht==="phone"?"none":void 0,boxShadow:rn.phone&&Ht==="phone"?"0 0 0 2px rgba(239, 68, 68, 0.2)":void 0},placeholder:"Enter phone number"})}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-toggle-on","aria-hidden":"true",style:{marginRight:6}}),"Status"]}),t.jsxs("select",{value:ln.status,onChange:u=>qn("status",u.target.value),children:[t.jsx("option",{children:"Active"}),t.jsx("option",{children:"Inactive"}),t.jsx("option",{children:"Pending"})]})]}),!qe&&t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-id-card","aria-hidden":"true",style:{marginRight:6}}),"Subscription Type"]}),t.jsxs("select",{value:ln.subscriptionType||"Lifetime",onChange:u=>qn("subscriptionType",u.target.value),children:[t.jsx("option",{value:"Lifetime",children:"Lifetime - $250/year"}),t.jsx("option",{value:"Yearly + Janaza Fund",children:"Yearly + Janaza Fund - $500/year"})]})]}),!qe&&t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-wallet","aria-hidden":"true",style:{marginRight:6}}),"Balance"]}),t.jsx("input",{type:"number",inputMode:"numeric",value:ln.balance,readOnly:!0,style:{background:"#f9fafb",cursor:"not-allowed",color:"#666"}})]}),!qe&&t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-day","aria-hidden":"true",style:{marginRight:6}}),"Start Date ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"date",value:ln.nextDue,onChange:u=>{const k=u.target.value;qn("nextDue",k),(rn.nextDue||Ht==="nextDue")&&(St(O=>({...O,nextDue:!1})),Ht==="nextDue"&&Jn(null))},onBlur:u=>{const k=u.target.value;if(k){const O=new Date(k);if(isNaN(O.getTime())){We("Invalid date format. Please enter a valid date (YYYY-MM-DD)","error");return}const[T,E,X]=k.split("-").map(Number);if(E<1||E>12){We("Invalid month. Please enter a month between 01 and 12","error");return}if(X<1||X>31){We("Invalid day. Please enter a valid day for the selected month","error");return}const V=new Date(T,E,0).getDate();if(X>V){We(`Invalid date. ${E}/${T} only has ${V} days`,"error");return}}},style:{borderRadius:"4px",width:"100%",borderColor:rn.nextDue&&Ht==="nextDue"?"#ef4444":void 0,borderWidth:rn.nextDue&&Ht==="nextDue"?"2px":void 0,borderStyle:rn.nextDue&&Ht==="nextDue"?"solid":void 0,outline:rn.nextDue&&Ht==="nextDue"?"none":void 0,boxShadow:rn.nextDue&&Ht==="nextDue"?"0 0 0 2px rgba(239, 68, 68, 0.2)":void 0},"aria-invalid":rn.nextDue,onFocus:u=>{rn.nextDue&&Ht==="nextDue"&&(u.target.style.borderColor="#ef4444",u.target.style.outline="none",u.target.style.boxShadow="0 0 0 3px rgba(239, 68, 68, 0.1)")}})]}),!qe&&t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-day","aria-hidden":"true",style:{marginRight:6}}),"End Date (optional)"]}),t.jsx("input",{type:"date",value:ln.lastPayment,onChange:u=>{const k=u.target.value;qn("lastPayment",k),(rn.lastPayment||Ht==="lastPayment")&&(St(O=>({...O,lastPayment:!1})),Ht==="lastPayment"&&Jn(null))},onBlur:u=>{const k=u.target.value;if(k){const O=new Date(k);if(isNaN(O.getTime())){We("Invalid date format. Please enter a valid date (YYYY-MM-DD)","error");return}const[T,E,X]=k.split("-").map(Number);if(E<1||E>12){We("Invalid month. Please enter a month between 01 and 12","error");return}if(X<1||X>31){We("Invalid day. Please enter a valid day for the selected month","error");return}const V=new Date(T,E,0).getDate();if(X>V){We(`Invalid date. ${E}/${T} only has ${V} days`,"error");return}}},style:{borderRadius:"4px",width:"100%",borderColor:rn.lastPayment&&Ht==="lastPayment"?"#ef4444":void 0,borderWidth:rn.lastPayment&&Ht==="lastPayment"?"2px":void 0,borderStyle:rn.lastPayment&&Ht==="lastPayment"?"solid":void 0,outline:rn.lastPayment&&Ht==="lastPayment"?"none":void 0,boxShadow:rn.lastPayment&&Ht==="lastPayment"?"0 0 0 2px rgba(239, 68, 68, 0.2)":void 0},"aria-invalid":rn.lastPayment&&Ht==="lastPayment",onFocus:u=>{rn.lastPayment&&Ht==="lastPayment"&&(u.target.style.borderColor="#ef4444",u.target.style.outline="none",u.target.style.boxShadow="0 0 0 3px rgba(239, 68, 68, 0.1)")}})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{St({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),Jn(null),je(!1),ct(null)},children:"Cancel"}),t.jsx("button",{type:"submit",className:"primary-btn",disabled:ta,style:{position:"sticky",bottom:0,backgroundColor:"#5a31ea",zIndex:1},children:ta?"Saving...":qe?"Update Member":"Add Member"})]})]})]})})}),i.filter(u=>u.status==="Pending").length>0&&t.jsxs("div",{style:{background:"#fee2e2",border:"2px solid #ef4444",borderRadius:"12px",padding:"24px",marginBottom:"24px"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:t.jsxs("h4",{style:{margin:0,color:"#ef4444",display:"flex",alignItems:"center",gap:"8px"},children:[" Pending Approval (",i.filter(u=>u.status==="Pending").length,")"]})}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:i.filter(u=>u.status==="Pending").map(u=>t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",background:"#fff",borderRadius:"4px",border:"1px solid #ef4444",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("div",{style:{flex:"1 1 300px"},children:[t.jsx("div",{style:{fontWeight:"600",marginBottom:"4px",fontSize:"1rem"},children:u.name}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"4px"},children:u.email}),t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"4px"},children:[" ",u.phone||"No phone"]}),t.jsxs("div",{style:{fontSize:"0.8125rem",color:"#ef4444",marginTop:"8px"},children:[" Subscription: ",u.subscriptionType||"Lifetime"]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:[t.jsx("button",{className:"primary-btn",onClick:()=>Ma(u.id),style:{padding:"10px 20px",borderRadius:"4px",fontWeight:"600",fontSize:"0.875rem"},children:" Approve"}),t.jsx("button",{className:"ghost-btn",onClick:()=>tl(u),style:{padding:"10px 20px",borderRadius:"4px",fontWeight:"600",fontSize:"0.875rem"},children:"View Details"})]})]},u.id))})]}),t.jsx("div",{className:"card",style:{marginBottom:"20px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",flex:"1 1 300px",minWidth:"250px"},children:[t.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#666"},children:" Search Members:"}),t.jsx("input",{type:"text",placeholder:"Search by member name...",value:Yt,onChange:u=>an(u.target.value),style:{flex:"1",padding:"10px 16px",border:"1px solid #e0e0e0",borderRadius:"4px",fontSize:"0.875rem",outline:"none",transition:"border-color 0.2s"},onFocus:u=>u.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1), 0 4px 12px rgba(90, 49, 234, 0.12)",onBlur:u=>u.target.style.borderColor="#e0e0e0"})]}),Yt&&t.jsx("button",{type:"button",onClick:()=>an(""),style:{padding:"10px 16px",background:"#f9fafb",border:"1px solid #e0e0e0",borderRadius:"4px",cursor:"pointer",fontSize:"0.875rem",color:"#666"},children:"Clear"}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:`${i.filter(k=>!Yt||k.name?.toLowerCase().includes(Yt.toLowerCase())).length} of ${i.length} members`})]})}),t.jsx("div",{className:"card",children:t.jsx("div",{className:"table-wrapper",children:(()=>{const k=[...i.filter(Se=>!Yt||Se.name?.toLowerCase().includes(Yt.toLowerCase())).filter(Se=>{if(xn==="All")return!0;const Xe=Se.balance?.toString()||"",rt=parseFloat(Xe.replace(/[^0-9.]/g,"")||0)||0;return(Se.status==="Inactive"?"Inactive":Se.status==="Pending"?"Pending":Xe.toLowerCase().includes("overdue")||rt>0?"Overdue":"Active")===xn})].sort((Se,Xe)=>{if(dr==="none")return 0;const rt=vn=>{if(!vn)return 0;const sn=vn.toString(),cn=parseFloat(sn.replace(/[^0-9.]/g,"")||0);return isNaN(cn)?0:cn},Gt=rt(Se.balance),yt=rt(Xe.balance);return dr==="asc"?Gt-yt:dr==="desc"?yt-Gt:0}),O=Math.ceil(k.length/ia)||1,T=Math.min(As,O),E=(T-1)*ia,X=E+ia,V=k.slice(E,X),Ce=ze==="Owner";return t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"16px",display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a"},children:"Filter by Status:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Active",label:"Active"},{value:"Overdue",label:"Overdue"},{value:"Inactive",label:"Inactive"},{value:"Pending",label:"Pending"}].map(Se=>t.jsx("button",{type:"button",onClick:()=>cr(Se.value),style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:xn===Se.value?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"transparent",color:xn===Se.value?"#ffffff":"#6b7280",boxShadow:xn===Se.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:Xe=>{xn!==Se.value&&(Xe.target.style.background="#e5e7eb",Xe.target.style.color="#374151")},onMouseLeave:Xe=>{xn!==Se.value&&(Xe.target.style.background="transparent",Xe.target.style.color="#6b7280")},children:Se.label},Se.value))}),t.jsxs("label",{style:{fontSize:"0.875rem",color:"#666"},children:["Sort by Outstanding:",t.jsxs("select",{value:dr,onChange:Se=>Vn(Se.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #e5e7eb",background:"#ffffff",fontSize:"0.875rem"},children:[t.jsx("option",{value:"none",children:"None"}),t.jsx("option",{value:"asc",children:"Lowest first"}),t.jsx("option",{value:"desc",children:"Highest first"})]})]})]}),t.jsx(fi,{columns:["Member Name","Status","Outstanding","Actions"],rows:V.map(Se=>{const Xe=Se.balance?.toString()||"",rt=parseFloat(Xe.replace(/[^0-9.]/g,"")||0)||0,Gt=Se.status==="Inactive"?"Inactive":Se.status==="Pending"?"Pending":Xe.toLowerCase().includes("overdue")||rt>0?"Overdue":"Active",yt=Gt==="Active"?"badge badge-active":Gt==="Overdue"?"badge badge-overdue":Gt==="Inactive"?"badge badge-inactive":"badge badge-pending";return{"Member Name":Se.name,Status:{render:()=>t.jsx("span",{className:yt,children:Gt})},Outstanding:{render:()=>t.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums"},children:t.jsxs("span",{style:{color:rt>0?"#ef4444":"#111827",fontWeight:rt>0?600:500},children:["$",Cr(rt,{minimumFractionDigits:2,maximumFractionDigits:2})]})})},Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",justifyContent:"flex-end"},children:[t.jsx("button",{className:"ghost-btn icon-btn icon-btn--view",onClick:()=>tl(Se),title:"View member","aria-label":"View member",children:t.jsx("i",{className:"fas fa-eye","aria-hidden":"true"})}),t.jsx("button",{className:"secondary-btn icon-btn icon-btn--edit",onClick:()=>Vl(Se),title:"Edit member","aria-label":"Edit member",children:t.jsx("i",{className:"fas fa-pen","aria-hidden":"true"})}),Ce&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",style:{color:"#ef4444"},onClick:()=>{ci(`Delete member ${Se.name}? This cannot be undone.`,()=>Pc(Se.id))},"aria-label":"Delete member",children:t.jsx(M1,{text:"Delete member",position:"top",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})})]})}}})}),O>0&&k.length>0&&t.jsx(dc,{currentPage:T,totalPages:O,onPageChange:ji,pageSize:ia,onPageSizeChange:li,totalItems:k.length})]})})()})})]}),wt==="member-detail"&&$&&t.jsxs("article",{className:"screen-card",id:"member-detail",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Br("member-detail"),t.jsx("h3",{children:"Member Detail"}),t.jsx("p",{children:"360 view with invoices, payment history, communications."})]})}),t.jsxs("div",{className:"card dashboard-card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"20px",borderBottom:"1px solid #e5e7eb",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:[t.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"12px",background:"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"1.5rem",fontWeight:"700",flexShrink:0},children:$.name.split(" ").map(u=>u[0]).join("")}),t.jsxs("div",{children:[t.jsx("h4",{style:{margin:"0 0 4px 0",fontSize:"1.5rem",fontWeight:"700",color:"#1a1a1a"},children:$.name}),t.jsxs("p",{style:{margin:0,fontSize:"0.875rem",color:"#666"},children:["Member ID ",$.id,"  ",$.email,"  WhatsApp ",$.phone]})]})]}),t.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:!ot&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"secondary-btn",onClick:()=>{Mn({...Pt,memberId:$.id}),Kt("invoice-builder")},children:"Create Invoice"}),t.jsx("button",{className:"primary-btn",onClick:()=>Ls($,!1),title:"Send reminder",style:{padding:"12px 20px",fontSize:"0.875rem"},children:" Send Reminder"})]})})]}),t.jsxs("div",{className:"kpi-grid",children:[t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-exclamation-triangle",style:{marginRight:"8px",color:"#ef4444"}}),"Outstanding Balance"]}),t.jsx("h4",{children:`$${eo($.id).filter(T=>{const E=Co(T);return E==="Unpaid"||E==="Overdue"}).reduce((T,E)=>{const X=parseFloat(E.amount?.replace(/[^0-9.]/g,"")||0);return T+X},0).toFixed(2)}`})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-calendar-day",style:{marginRight:"8px",color:"#5a31ea"}}),"Next Due Date"]}),t.jsx("h4",{children:$.nextDue})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#10b981"}}),"Last Payment"]}),t.jsx("h4",{children:$.lastPayment})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-info-circle",style:{marginRight:"8px",color:"#5a31ea"}}),"Status"]}),t.jsx("h4",{children:$.status})]})]}),(()=>{const k=eo($.id).filter(T=>Co(T)==="Overdue"),O=k.reduce((T,E)=>{const X=parseFloat(E.amount?.replace(/[^0-9.]/g,"")||0);return T+X},0);return k.length===0&&O<=0?null:t.jsxs("div",{style:{marginTop:"20px",padding:"16px 20px",borderRadius:"8px",background:"linear-gradient(135deg, rgba(248, 113, 113, 0.1) 0%, rgba(239, 68, 68, 0.12) 100%)",border:"1px solid rgba(239, 68, 68, 0.4)",color:"#ef4444",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("i",{className:"fas fa-exclamation-triangle","aria-hidden":"true",style:{fontSize:"1.125rem"}}),t.jsxs("span",{children:["This member has"," ",t.jsxs("strong",{children:[k.length," overdue invoice",k.length>1?"s":""]})," ","totaling"," ",t.jsxs("strong",{children:["$",Cr(O,{minimumFractionDigits:2,maximumFractionDigits:2})]}),". Please follow up as soon as possible."]})]})})(),t.jsxs("div",{className:"tabs",children:[t.jsx("button",{className:`tab ${Wt==="Invoices"?"active":""}`,onClick:()=>Xt("Invoices"),children:"Invoices"}),t.jsx("button",{className:`tab ${Wt==="Payment History"?"active":""}`,onClick:()=>Xt("Payment History"),children:"Payment History"}),t.jsx("button",{className:`tab ${Wt==="Communication"?"active":""}`,onClick:()=>Xt("Communication"),children:"Communication"}),t.jsx("button",{className:`tab ${Wt==="Activity"?"active":""}`,onClick:()=>Xt("Activity"),children:"Activity"}),t.jsx("button",{className:`tab ${Wt==="Notes"?"active":""}`,onClick:()=>Xt("Notes"),children:"Notes"})]}),Wt==="Invoices"&&t.jsxs("div",{className:"tab-panel",children:[t.jsxs("div",{className:"table-header",children:[t.jsxs("div",{children:[t.jsx("h4",{children:"Invoices"}),(()=>{const k=eo($.id).filter(T=>{const E=Co(T);return E==="Unpaid"||E==="Overdue"}),O=k.reduce((T,E)=>{const X=parseFloat(E.amount?.replace(/[^0-9.]/g,"")||0);return T+X},0);return t.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"0.875rem",color:"#666",fontWeight:"500"},children:["Total Outstanding: ",t.jsxs("strong",{style:{color:"#1a1a1a"},children:["$",O.toFixed(2)]}),k.length>0&&t.jsxs("span",{style:{marginLeft:"8px",color:"#666"},children:["(",k.length," unpaid invoice",k.length>1?"s":"",")"]})]})})()]}),t.jsx("div",{children:t.jsx("button",{className:"secondary-btn",onClick:()=>{Mn({...Pt,memberId:$.id}),Kt("invoice-builder")},children:"Create Invoice"})})]}),t.jsx(fi,{columns:["Invoice #","Period","Amount","Status","Due Date","Actions"],rows:eo($.id).map(u=>{const k=Co(u),O=k==="Unpaid"||k==="Overdue",T=k==="Paid"||k==="Completed";return{"Invoice #":u.id,Period:u.period,Amount:u.amount,Status:{render:()=>t.jsx("span",{className:hi[u.status],children:u.status})},"Due Date":u.due,Screenshot:u.screenshot?{render:()=>t.jsx("button",{onClick:()=>{const E=window.open();E&&E.document.write(`
                                      <html>
                                        <head><title>Payment Screenshot - ${u.id}</title></head>
                                        <body style="margin:0;padding:20px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:100vh;">
                                          <img src="${u.screenshot}" alt="Payment Screenshot" style="max-width:100%;max-height:90vh;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);" />
                                        </body>
                                      </html>
                                    `)},style:{padding:"4px 10px",background:"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",color:"#ffffff",border:"none",borderRadius:"4px",fontSize:"0.85rem",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.3)"},onMouseEnter:E=>{E.target.style.background="linear-gradient(135deg, #4a28d0 0%, #6b3fff 100%)",E.target.style.boxShadow="0 4px 8px rgba(90, 49, 234, 0.4)"},onMouseLeave:E=>{E.target.style.background="linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",E.target.style.boxShadow="0 2px 4px rgba(90, 49, 234, 0.3)"},children:t.jsx("i",{className:"fas fa-image","aria-hidden":"true"})})}:"-",Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[O&&!ot&&t.jsx("button",{className:"primary-btn",style:{padding:"4px 10px",fontSize:"0.85rem",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",border:"none",color:"#ffffff",fontWeight:"600",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(16, 185, 129, 0.3)"},onMouseEnter:E=>{E.target.style.background="linear-gradient(135deg, #059669 0%, #047857 100%)",E.target.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.4)"},onMouseLeave:E=>{E.target.style.background="linear-gradient(135deg, #10b981 0%, #059669 100%)",E.target.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.3)"},onClick:()=>{Hi(u),lr({paymentMethod:"",imageFile:null,imagePreview:null,imageUrl:u.screenshot||"",reference:""}),ma({image:!1,reference:!1}),js(!0)},children:"Pay"}),!T&&!ot&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",onClick:()=>{ci(`Delete invoice ${u.id}? This cannot be undone.`,()=>Zs(u.id))},title:"Delete Invoice","aria-label":"Delete Invoice",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}})})]}),Wt==="Payment History"&&t.jsx("div",{className:"tab-panel tab-panel--payment-history",children:(()=>{const u=l.filter(k=>k.memberId===$.id||k.memberEmail===$.email||k.member===$.name).sort((k,O)=>{const T=new Date(k.date||0);return new Date(O.date||0)-T});return u.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666"},children:t.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"No payment history available for this member."})}):t.jsx("div",{className:"payment-history-list",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:u.map((k,O)=>t.jsxs("div",{className:"payment-history-card",onClick:()=>{zs(k),ai(!0)},style:{background:"#fff",border:"none",borderRadius:"12px",padding:"20px",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.08)",cursor:"pointer"},onMouseEnter:T=>{T.currentTarget.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.15)",T.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:T=>{T.currentTarget.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.08)",T.currentTarget.style.transform="translateY(0)"},children:[t.jsxs("div",{className:"payment-history-card__main",style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[t.jsx("div",{children:t.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#000"},children:k.member||k.memberName||k.memberId||"N/A"})}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[k.amount&&t.jsx("strong",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#5a31ea"},children:k.amount}),k.status&&t.jsx("span",{className:`badge ${k.status==="Paid"||k.status==="Completed"?"badge-paid":k.status==="Pending Verification"||k.status==="Pending"?"badge-pending":"badge-unpaid"}`,style:{fontSize:"0.75rem",padding:"4px 10px"},children:k.status}),t.jsx("i",{className:"fas fa-chevron-right",style:{fontSize:"0.875rem",color:"#999"}})]})]}),t.jsxs("div",{style:{marginTop:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",flex:1},children:[k.date&&t.jsx("span",{style:{fontSize:"0.8125rem",color:"#666"},children:k.date}),t.jsx("span",{style:{fontSize:"0.8125rem",color:"#666"},children:Sn(k)})]}),k.screenshot&&t.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"4px",overflow:"hidden",border:"2px solid #e0e0e0",flexShrink:0,marginLeft:"12px"},children:t.jsx("img",{src:k.screenshot,alt:"Payment attachment",style:{width:"100%",height:"100%",objectFit:"cover"}})})]})]},O))})})()}),Wt==="Communication"&&t.jsxs("div",{className:"tab-panel",children:[t.jsx("h4",{children:"Communication History"}),(()=>{const u=m.filter(E=>E.memberId===$.id||E.memberEmail&&$.email&&E.memberEmail.toLowerCase()===$.email.toLowerCase()||E.memberName&&$.name&&E.memberName.toLowerCase()===$.name.toLowerCase()).sort((E,X)=>{const V=new Date(E.date||E.timestamp||0);return new Date(X.date||X.timestamp||0)-V});if(u.length===0)return t.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666"},children:t.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"No communication history available for this member."})});const k=u.length,O=u.filter(E=>E.channel==="Email").length,T=u.filter(E=>E.channel==="WhatsApp").length;return t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[t.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px",padding:"12px 16px",borderRadius:"4px",background:"#f9fafb",border:"1px solid #e5e7eb"},children:[t.jsx("span",{style:{fontWeight:600,fontSize:"0.95rem"},children:"Reminders sent to this member:"}),t.jsxs("span",{className:"badge badge-paid",children:["Total: ",k]}),t.jsxs("span",{className:"badge badge-unpaid",children:["Email: ",O]}),t.jsxs("span",{className:"badge badge-pending",children:["WhatsApp: ",T]})]}),t.jsx("ul",{className:"timeline",children:u.map((E,X)=>t.jsxs("li",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:E.channel||"N/A"}),E.type?`  ${E.type}`:"","  ",E.message||"N/A","  ",E.date?new Date(E.date).toLocaleString():E.timestamp?new Date(E.timestamp).toLocaleString():"N/A"]}),E.status&&t.jsx("span",{className:hi[E.status]||"badge",children:E.status})]},X))})]})})()]}),Wt==="Activity"&&t.jsxs("div",{className:"tab-panel",children:[t.jsx("h4",{children:"Activity Timeline"}),(()=>{const u=eo($.id).map(E=>{const X=Co(E),V=E.createdAt||E.date||E.due||null;return{type:"Invoice",date:V?new Date(V):null,label:`Invoice ${E.id||""}  ${E.period||""}  ${E.amount||""}  ${X||"N/A"}`}}),k=(l||[]).filter(E=>E.memberId===$.id||E.memberEmail&&$.email&&E.memberEmail.toLowerCase()===$.email.toLowerCase()||E.member&&$.name&&E.member.toLowerCase()===$.name.toLowerCase()).map(E=>({type:"Payment",date:E.date?new Date(E.date):null,label:`${E.method||"Payment"}  ${E.amount||""}  ${E.status||""}`})),O=(m||[]).filter(E=>{const X=E.memberEmail&&$.email&&E.memberEmail.toLowerCase()===$.email.toLowerCase(),V=E.memberName&&$.name&&E.memberName.toLowerCase()===$.name.toLowerCase();return X||V}).map(E=>({type:E.type||E.channel||"Communication",date:E.date?new Date(E.date):E.timestamp?new Date(E.timestamp):null,label:E.message||"Communication sent"})),T=[...u,...k,...O].filter(E=>E.date).sort((E,X)=>X.date-E.date);return T.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666"},children:t.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"No activity recorded for this member yet."})}):t.jsx("div",{className:"payment-history-list",children:T.map((E,X)=>t.jsxs("div",{className:"payment-history-card",children:[t.jsx("div",{className:"payment-card-header",children:t.jsxs("div",{className:"payment-card-main",children:[t.jsx("span",{className:"payment-amount",children:E.type}),t.jsx("span",{className:"payment-meta",children:E.date?.toLocaleString()})]})}),t.jsx("div",{className:"payment-card-body",children:t.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#4b5563"},children:E.label})})]},X))})})()]}),Wt==="Notes"&&t.jsxs("div",{className:"tab-panel",children:[t.jsx("h4",{children:"Internal Notes"}),t.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"12px"},children:["These notes are ",t.jsx("strong",{children:"internal only"})," and are not visible to members."]}),t.jsx("textarea",{value:Yr,onChange:u=>Gi(u.target.value),rows:5,className:"settings-form__input",placeholder:"Add any internal notes about this member (e.g., context, special arrangements, follow-up actions)...",disabled:ot}),!ot&&t.jsx("div",{style:{marginTop:"12px",textAlign:"right"},children:t.jsx("button",{className:"primary-btn",onClick:()=>{const u={...Sr,[$.id]:Yr};Nr(u),localStorage.setItem("memberNotes",JSON.stringify(u)),We("Internal note saved")},children:"Save Note"})}),ot&&t.jsx("p",{style:{marginTop:"8px",fontSize:"0.8rem",color:"#6b7280"},children:"You have read-only access. Contact an Owner or Admin to update notes."})]})]})]}),wt==="invoice-builder"&&t.jsxs("article",{className:"screen-card",id:"invoice-builder",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Br("invoice-builder"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-file-invoice",style:{marginRight:"10px"}}),"Invoice Builder"]}),t.jsx("p",{children:"Create invoices for Lifetime or Yearly + Janaza Fund subscriptions."})]})}),ft&&zt&&t.jsxs("div",{style:{marginBottom:"24px",padding:"24px",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderRadius:"12px",border:"2px solid #5a31ea",boxShadow:"0 4px 12px rgba(90, 49, 234, 0.15)"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:"#fff"},children:""}),t.jsxs("div",{children:[t.jsx("h4",{style:{margin:0,fontSize:"1.25rem",fontWeight:"700",color:"#1a1a1a"},children:"Invoice Has Been Created"}),t.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"0.875rem",color:"#666"},children:["Invoice for ",zt.memberName," - ",zt.period," (",zt.amount,")"]})]})]})}),t.jsxs("div",{className:"success-card-actions",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",marginTop:"16px"},children:[t.jsxs("button",{className:"primary-btn",onClick:()=>{zt.member&&(tl(zt.member),Kt("member-detail"),Dt(!1))},style:{padding:"12px 20px",fontSize:"0.9375rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px"}}),"Member Detail"]}),t.jsxs("button",{className:"secondary-btn",onClick:async()=>{zt.member&&await Pl(zt.member)},style:{padding:"12px 20px",fontSize:"0.9375rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-envelope",style:{marginRight:"8px"}}),"Send Reminder"]}),t.jsx("button",{className:"ghost-btn",onClick:()=>{Dt(!1),he(null)},style:{padding:"12px 20px",fontSize:"0.9375rem",fontWeight:"600"},children:"Close"})]})]}),t.jsxs("form",{className:"card form-grid",onSubmit:Yl,noValidate:!0,style:{padding:"40px",background:"linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%)",boxShadow:"0 4px 16px rgba(90, 49, 234, 0.1)"},children:[t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-hashtag",style:{marginRight:"8px",color:"#5a31ea"}}),"Invoice Number"]}),t.jsx("input",{type:"text",value:Fa,readOnly:!0,className:"mono-input",style:{color:"#6b7280",background:"#f3f4f6",cursor:"not-allowed"}})]}),t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Member ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{position:"relative"},"data-member-dropdown":!0,children:[t.jsxs("div",{onClick:()=>Ns(!Ji),style:{padding:"14px 16px",border:"none",borderRadius:"10px",background:"#f8f9ff",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",color:Pt.memberId?"#1a1a1a":"#9ca3af",minHeight:"48px",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.08)",transition:"all 0.2s ease"},onMouseEnter:u=>{u.currentTarget.style.boxShadow="0 4px 8px rgba(90, 49, 234, 0.12)"},onMouseLeave:u=>{u.currentTarget.style.boxShadow="0 2px 4px rgba(90, 49, 234, 0.08)"},children:[t.jsx("span",{children:Pt.memberId?(()=>{const u=i.find(k=>k.id===Pt.memberId);return u?`${u.name} (${u.id})`:"Select Member"})():"Select Member"}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#5a31ea",transition:"transform 0.2s ease",transform:Ji?"rotate(180deg)":"rotate(0deg)",display:"inline-block"},children:""})]}),Ji&&t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#fff",border:"none",borderRadius:"10px",marginTop:"8px",maxHeight:"300px",overflow:"hidden",zIndex:1e3,boxShadow:"0 8px 24px rgba(90, 49, 234, 0.15)"},children:[t.jsxs("div",{style:{padding:"12px",borderBottom:"none",background:"linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%)",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.05)"},children:[t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:"text",placeholder:" Search member by name or ID...",value:Zn,onChange:u=>Fi(u.target.value),onClick:u=>u.stopPropagation(),onKeyDown:u=>u.stopPropagation(),autoFocus:!0,style:{width:"100%",padding:"12px 36px 12px 16px",border:"none",borderRadius:"4px",fontSize:"0.875rem",outline:"none",background:"#ffffff",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.08)",color:"#1a1a1a"},onFocus:u=>{u.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1), 0 4px 12px rgba(90, 49, 234, 0.12)"},onBlur:u=>{u.target.style.boxShadow="0 2px 4px rgba(90, 49, 234, 0.08)"}}),Zn&&t.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),Fi("")},style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",color:"#666",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center"},title:"Clear search",children:""})]}),Zn&&t.jsxs("div",{style:{marginTop:"8px",fontSize:"0.75rem",color:"#666"},children:[i.filter(u=>!Zn||u.name?.toLowerCase().includes(Zn.toLowerCase())||u.id?.toLowerCase().includes(Zn.toLowerCase())).length," member",i.filter(u=>!Zn||u.name?.toLowerCase().includes(Zn.toLowerCase())||u.id?.toLowerCase().includes(Zn.toLowerCase())).length!==1?"s":""," found"]})]}),t.jsxs("div",{style:{maxHeight:"250px",overflowY:"auto"},children:[i.filter(u=>!Zn||u.name?.toLowerCase().includes(Zn.toLowerCase())||u.id?.toLowerCase().includes(Zn.toLowerCase())).map(u=>t.jsxs("div",{onClick:()=>{Mn({...Pt,memberId:u.id}),Ns(!1),Fi("")},style:{padding:"14px 16px",cursor:"pointer",borderBottom:"none",background:Pt.memberId===u.id?"linear-gradient(135deg, #f0f4ff 0%, #e8f0ff 100%)":"#fff",transition:"all 0.2s",boxShadow:Pt.memberId===u.id?"0 2px 4px rgba(90, 49, 234, 0.1)":"none"},onMouseEnter:k=>{Pt.memberId!==u.id&&(k.currentTarget.style.background="#f8f9ff")},onMouseLeave:k=>{Pt.memberId!==u.id&&(k.currentTarget.style.background="#fff")},children:[t.jsx("div",{style:{fontWeight:"500",color:"#1a1a1a"},children:u.name}),t.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"2px"},children:[u.id," ",u.email?` ${u.email}`:""]})]},u.id)),i.filter(u=>!Zn||u.name?.toLowerCase().includes(Zn.toLowerCase())||u.id?.toLowerCase().includes(Zn.toLowerCase())).length===0&&t.jsx("div",{style:{padding:"16px",textAlign:"center",color:"#999",fontSize:"0.875rem"},children:"No members found"})]})]})]}),!Pt.memberId&&t.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"4px",display:"none"},children:"Please select a member"})]}),t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-id-card",style:{marginRight:"8px",color:"#5a31ea"}}),"Invoice Type ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{required:!0,value:Pt.invoiceType,onChange:u=>{const k=u.target.value;Mn({...Pt,invoiceType:k,amount:k==="Yearly + Janaza Fund"?"500":"250"})},style:{color:"#1a1a1a",background:"#ffffff",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.08)",transition:"all 0.2s"},className:"mono-input",onFocus:u=>{u.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1), 0 4px 12px rgba(90, 49, 234, 0.12)"},onBlur:u=>{u.target.style.boxShadow="0 2px 4px rgba(90, 49, 234, 0.08)"},children:[t.jsx("option",{value:"",children:"Select Invoice Type"}),t.jsx("option",{value:"Lifetime",children:"Lifetime - $250"}),t.jsx("option",{value:"Yearly + Janaza Fund",children:"Yearly + Janaza Fund - $500"})]})]}),t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-calendar",style:{marginRight:"8px",color:"#5a31ea"}}),"Period ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"month",required:!0,value:Pt.period?(()=>{try{if(Pt.period.match(/^[A-Za-z]{3} \d{4}$/)){const u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],k=Pt.period.split(" "),O=k[0],T=parseInt(k[1],10),E=u.findIndex(X=>X.toLowerCase()===O.toLowerCase());if(E!==-1&&!isNaN(T)&&T>0){const X=String(E+1).padStart(2,"0");return`${T}-${X}`}}if(Pt.period.match(/^\d{4}-\d{2}$/))return Pt.period}catch(u){console.error("Error parsing period:",u)}return""})():"",onChange:u=>{const k=u.target.value;if(k&&k.match(/^\d{4}-\d{2}$/))try{const O=new Date(k+"-01");if(isNaN(O.getTime()))Mn({...Pt,period:""});else{const T=O.toLocaleDateString("en-US",{month:"short",year:"numeric"});Mn({...Pt,period:T})}}catch(O){console.error("Error formatting period:",O),Mn({...Pt,period:""})}else k||Mn({...Pt,period:""})},onFocus:u=>{u.currentTarget.select()},className:"mono-input",style:{color:"#1a1a1a"}})]}),t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Amount ($) ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",inputMode:"numeric",required:!0,value:Pt.amount,onChange:u=>{const k=u.target.value.replace(/\\D/g,"");Mn({...Pt,amount:k})},className:"mono-input",style:{color:"#1a1a1a"}})]}),t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-calendar-check",style:{marginRight:"8px",color:"#5a31ea"}}),"Due Date ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"date",required:!0,value:Pt.due,onChange:u=>{const k=u.target.value;Mn({...Pt,due:k})},onBlur:u=>{const k=u.target.value;if(k){const O=new Date(k);if(isNaN(O.getTime())){We("Invalid date format. Please enter a valid date (YYYY-MM-DD)","error");return}const[T,E,X]=k.split("-").map(Number);if(E<1||E>12){We("Invalid month. Please enter a month between 01 and 12","error");return}if(X<1||X>31){We("Invalid day. Please enter a valid day for the selected month","error");return}const V=new Date(T,E,0).getDate();if(X>V){We(`Invalid date. ${E}/${T} only has ${V} days`,"error");return}}},className:"mono-input",style:{color:"#1a1a1a",borderRadius:"4px",width:"100%"}})]}),t.jsxs("label",{className:"notes",style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-sticky-note",style:{marginRight:"8px",color:"#5a31ea"}}),"Notes"]}),t.jsx("textarea",{placeholder:"Add context for this invoice",value:Pt.notes,onChange:u=>Mn({...Pt,notes:u.target.value}),className:"mono-input",style:{color:"#1a1a1a",minHeight:"100px"}})]}),t.jsxs("div",{style:{marginBottom:"16px",padding:"16px 18px",borderRadius:"10px",background:"#f9fafb",border:"1px solid #e5e7eb",fontSize:"0.875rem",color:"#4b5563"},children:[t.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"0.95rem",color:"#111827"},children:"Invoice Preview"}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Invoice #:"})," ",Fa]}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Member:"})," ",Pt.memberId?(()=>{const u=i.find(k=>k.id===Pt.memberId);return u?`${u.name} (${u.id})`:"Not selected"})():"Not selected"]}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Period:"})," ",Pt.period||"N/A"]}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Amount:"})," ",Pt.amount?`$${Number(Pt.amount||0).toFixed(2)}`:"$0.00"]}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Due Date:"})," ",Pt.due?new Date(Pt.due).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"]}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Status:"})," Unpaid"]}),Pt.notes&&t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Notes:"})," ",Pt.notes]})]}),t.jsxs("div",{className:"form-actions",style:{marginTop:"8px",gap:"12px"},children:[t.jsxs("button",{type:"submit",className:"primary-btn",style:{padding:"14px 28px",fontSize:"1rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-file-invoice",style:{marginRight:"8px"}}),"Create Invoice"]}),t.jsx("button",{type:"button",className:"secondary-btn",onClick:async()=>{const u=i.find(Se=>Se.id===Pt.memberId);if(!u){We("Please select a member","error");return}if(!Pt.memberId||!Pt.period||!Pt.due){We("Please fill all required fields","error");return}const k=parseFloat(Pt.amount);if(!k||k<=0||isNaN(k)){We("Amount must be a positive number","error");return}const O={id:Ta(),memberId:Pt.memberId,memberName:u?.name||"",period:Pt.period,amount:`$${k.toFixed(2)}`,status:"Unpaid",due:Pt.due,method:"-",reference:"-",notes:Pt.notes||""};_e(O),he({...O,member:u}),Dt(!0);const E=[...r.filter(Se=>Se.memberId===u.id&&(Se.status==="Unpaid"||Se.status==="Overdue")),O],X=E.reduce((Se,Xe)=>Se+parseFloat(Xe.amount.replace("$","")),0),V=E.map(Se=>` ${Se.period}: ${Se.amount} (Due: ${Se.due}) - ${Se.status}`).join(`
`),Ce=E.map(Se=>`<li style="margin-bottom: 10px;">
                                <strong>${Se.period}</strong>: ${Se.amount} 
                                <span style="color: #666;">(Due: ${Se.due})</span> - 
                                <strong>${Se.status}</strong>
                              </li>`).join("");try{We("Sending reminder email...");const Xe=await fetch("http://localhost:4000/api/invoices/send-reminder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toEmail:u.email,toName:u.name,memberId:u.id,totalDue:`$${X.toFixed(2)}`,invoiceCount:E.length,invoiceListText:V,invoiceListHTML:Ce,paymentMethods:"FPS, PayMe, or Bank Transfer",portalLink:`${window.location.origin}/member`})}),rt=await Xe.json();if(!Xe.ok)throw new Error(rt.error||"Failed to send email");console.log(" Email sent successfully:",rt);const Gt={channel:"Email",message:`Payment reminder: ${u.name} (${u.email}) - $${X.toFixed(2)} due (${E.length} invoice${E.length>1?"s":""})`,status:"Delivered"};xe(Gt),Mn({memberId:"",period:Xa(),amount:"250",invoiceType:"Lifetime",due:"",notes:""}),pt(!1),We(` Invoice created and reminder sent to ${u.name} for $${X.toFixed(2)}!`),he({...O,member:u}),Dt(!0)}catch(Se){console.error(" Email send error:",Se);const Xe={channel:"Email",message:`Reminder attempt to ${u.name} - $${X.toFixed(2)} due`,status:"Failed"};xe(Xe),We(Se.message||"Invoice created but failed to send email. Please check email configuration.","error"),he({...O,member:u}),Dt(!0)}},children:"Create & Send Reminder"})]})]})]}),wt==="automation"&&t.jsxs("article",{className:"screen-card",id:"automation",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Br("automation"),t.jsx("h3",{children:"Reminders & Automation"}),t.jsx("p",{children:"Configure automated payment reminders and email templates."})]})}),t.jsx("div",{style:{background:"#ffffff",borderRadius:"12px",padding:"clamp(24px, 4vw, 32px)",border:"none",marginTop:"24px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:t.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:"clamp(16px, 3vw, 24px)",flexWrap:"wrap"},children:[t.jsxs("div",{style:{flex:"1 1 300px",minWidth:"250px"},children:[t.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"700",color:"#000"},children:"Automation Control"}),t.jsx("p",{style:{margin:0,fontSize:"clamp(0.875rem, 2vw, 0.9375rem)",color:"#666",lineHeight:"1.6"},children:"Enable or disable automated payment reminders system-wide"})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"clamp(12px, 2vw, 16px)",flexShrink:0},children:[t.jsx("span",{style:{fontSize:"clamp(0.75rem, 1.5vw, 0.875rem)",fontWeight:"600",color:w?"#000":"#999",textTransform:"uppercase",letterSpacing:"0.5px",minWidth:"28px",textAlign:"right"},children:w?"ON":"OFF"}),t.jsx("button",{type:"button",role:"switch","aria-checked":w,onClick:async()=>{const u=!w;A(u);try{await fetch("http://localhost:4000/api/email-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...Qt,automationEnabled:u})}),We(u?"Automation enabled!":"Automation disabled!")}catch(k){console.error("Error saving automation status:",k),We("Failed to save automation status","error"),A(!u)}},style:{position:"relative",width:"clamp(60px, 8vw, 72px)",height:"clamp(34px, 5vw, 40px)",borderRadius:"999px",border:"none",background:w?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"#f3f4f6",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",outline:"none",padding:0,display:"flex",alignItems:"center",boxShadow:w?"0 4px 12px rgba(0,0,0,0.15)":"inset 0 2px 4px rgba(0,0,0,0.1)",WebkitTapHighlightColor:"transparent"},onMouseEnter:u=>{u.currentTarget.style.transform="scale(1.05)"},onMouseLeave:u=>{u.currentTarget.style.transform="scale(1)"},children:t.jsx("span",{style:{position:"absolute",width:"clamp(26px, 4vw, 30px)",height:"clamp(26px, 4vw, 30px)",borderRadius:"50%",background:w?"#ffffff":"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",left:w?"auto":"4px",right:w?"4px":"auto",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",border:"1px solid rgba(0,0,0,0.1)"}})})]})]})}),t.jsxs("div",{style:{background:"#ffffff",borderRadius:"12px",padding:"clamp(24px, 4vw, 32px)",border:"none",marginTop:"24px",boxShadow:"0 4px 12px rgba(90, 49, 234, 0.12)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"700",color:"#000"},children:"Outstanding Members"}),t.jsx("p",{style:{margin:0,fontSize:"clamp(0.875rem, 2vw, 0.9375rem)",color:"#666",lineHeight:"1.6"},children:"Send manual reminder emails or WhatsApp messages to members with outstanding invoices"})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("button",{type:"button",onClick:()=>{jn.includes("Email")?_a(u=>u.filter(k=>k!=="Email")):_a(u=>[...u,"Email"])},disabled:ir||pr||!G,title:"Email",style:{padding:"12px",borderRadius:"8px",fontWeight:"600",fontSize:"1.25rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:ir||pr||!G?"not-allowed":"pointer",transition:"all 0.2s ease",background:jn.includes("Email")?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"#ffffff",color:jn.includes("Email")?"#ffffff":"#6b7280",border:jn.includes("Email")?"2px solid #5a31ea":"2px solid #e5e7eb",boxShadow:jn.includes("Email")?"0 2px 8px rgba(90, 49, 234, 0.3)":"none",opacity:ir||pr||!G?.5:1,width:"48px",height:"48px"},onMouseEnter:u=>{!ir&&!pr&&G&&!jn.includes("Email")&&(u.target.style.background="#f3f4f6",u.target.style.color="#374151")},onMouseLeave:u=>{!ir&&!pr&&G&&!jn.includes("Email")&&(u.target.style.background="#ffffff",u.target.style.color="#6b7280")},children:t.jsx("i",{className:"fas fa-envelope"})}),t.jsx("button",{type:"button",onClick:()=>{jn.includes("WhatsApp")?_a(u=>u.filter(k=>k!=="WhatsApp")):_a(u=>[...u,"WhatsApp"])},disabled:ir||pr||!G,title:"WhatsApp",style:{padding:"12px",borderRadius:"8px",fontWeight:"600",fontSize:"1.25rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:ir||pr||!G?"not-allowed":"pointer",transition:"all 0.2s ease",background:jn.includes("WhatsApp")?"linear-gradient(135deg, #25D366 0%, #128C7E 100%)":"#ffffff",color:jn.includes("WhatsApp")?"#ffffff":"#25D366",border:(jn.includes("WhatsApp"),"2px solid #25D366"),boxShadow:jn.includes("WhatsApp")?"0 2px 8px rgba(37, 211, 102, 0.3)":"none",opacity:ir||pr||!G?.5:1,width:"48px",height:"48px"},onMouseEnter:u=>{!ir&&!pr&&G&&!jn.includes("WhatsApp")&&(u.target.style.background="#dcfce7",u.target.style.color="#16a34a")},onMouseLeave:u=>{!ir&&!pr&&G&&!jn.includes("WhatsApp")&&(u.target.style.background="#ffffff",u.target.style.color="#25D366")},children:t.jsx("i",{className:"fab fa-whatsapp"})}),jn.length>0&&t.jsx("button",{className:"primary-btn",onClick:el,disabled:ir||pr||!G,style:{padding:"12px 20px",borderRadius:"4px",fontWeight:"600",fontSize:"0.875rem",opacity:ir||pr||!G?.5:1,cursor:ir||pr||!G?"not-allowed":"pointer"},children:ir||pr?"Sending...":"Send All"})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[i.filter(u=>r.filter(O=>O.memberId===u.id&&(O.status==="Unpaid"||O.status==="Overdue")).length>0).map(u=>{const k=r.filter(V=>V.memberId===u.id&&(V.status==="Unpaid"||V.status==="Overdue")),O=k.reduce((V,Ce)=>{const Se=parseFloat(Ce.amount?.replace(/[^0-9.]/g,"")||0);return V+Se},0),T=k.filter(V=>V.status==="Overdue").length,E=k.filter(V=>V.status==="Unpaid").length,X=Bo[u.id];return t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",background:"#f9f9f9",borderRadius:"4px",border:"1px solid #e0e0e0",gap:"16px",flexWrap:"wrap"},children:[t.jsxs("div",{style:{flex:"1 1 300px",minWidth:"200px"},children:[t.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#000",marginBottom:"4px"},children:u.name}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"4px"},children:u.email}),t.jsxs("div",{style:{display:"flex",gap:"12px",fontSize:"0.8125rem",color:"#666"},children:[t.jsxs("span",{children:[t.jsxs("strong",{style:{color:"#000"},children:["$",O.toFixed(2)]})," outstanding"]}),T>0&&t.jsxs("span",{style:{color:"#ef4444",fontWeight:"600"},children:[T," overdue"]}),E>0&&t.jsxs("span",{style:{color:"#ef4444",fontWeight:"600"},children:[E," unpaid"]})]})]}),t.jsx("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:t.jsx("button",{className:"secondary-btn",onClick:()=>Ls(u,!1),disabled:X||ds[u.id],style:{padding:"12px 20px",borderRadius:"4px",fontWeight:"600",fontSize:"0.875rem",opacity:X||ds[u.id]?.5:1,cursor:X||ds[u.id]?"not-allowed":"pointer"},children:X||ds[u.id]?"Sending...":" Send Reminder"})})]},u.id)}),i.filter(u=>r.filter(O=>O.memberId===u.id&&(O.status==="Unpaid"||O.status==="Overdue")).length>0).length===0&&t.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#666",fontSize:"0.9375rem"},children:"No members with outstanding invoices"})]})]}),t.jsxs("div",{style:{marginTop:"32px"},children:[t.jsx("h4",{style:{margin:"0 0 20px 0",fontSize:"1.25rem",fontWeight:"700",color:"#000"},children:"Email Template"}),t.jsxs("div",{style:{background:"#fff",border:"none",borderRadius:"12px",padding:"32px",boxShadow:"0 4px 12px rgba(90, 49, 234, 0.12)"},children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:"Email Subject"}),t.jsx("input",{type:"text",value:pi.subject,onChange:u=>To({...pi,subject:u.target.value}),placeholder:"Payment Reminder - Outstanding Balance",style:{width:"100%",padding:"12px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"}}),t.jsxs("small",{style:{display:"block",marginTop:"6px",fontSize:"0.75rem",color:"#666"},children:["You can use placeholders: ","{{member_name}}",", ","{{total_due}}",", ","{{invoice_count}}"]})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:"HTML Email Template"}),t.jsx("textarea",{value:pi.htmlTemplate,onChange:u=>To({...pi,htmlTemplate:u.target.value}),rows:20,style:{width:"100%",padding:"14px",border:"1.5px solid #e0e0e0",borderRadius:"10px",fontSize:"0.875rem",fontFamily:"monospace",resize:"vertical",transition:"all 0.2s ease"},onFocus:u=>{u.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1), 0 4px 12px rgba(90, 49, 234, 0.12)",u.target.style.boxShadow="0 0 0 3px rgba(0,0,0,0.05)"},onBlur:u=>{u.target.style.borderColor="#e0e0e0",u.target.style.boxShadow="none"},placeholder:"Enter HTML email template..."}),t.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:"#f8f9fa",borderRadius:"4px",fontSize:"0.75rem",color:"#666"},children:[t.jsx("strong",{children:"Available Placeholders:"}),t.jsxs("ul",{style:{margin:"8px 0 0 0",paddingLeft:"20px"},children:[t.jsxs("li",{children:[t.jsx("code",{children:"{{member_name}}"})," - Member's full name"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{member_id}}"})," - Member ID"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{member_email}}"})," - Member email"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{total_due}}"})," - Total outstanding amount"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{invoice_count}}"})," - Number of unpaid invoices"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{invoice_list}}"})," - HTML list of invoices"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{payment_methods}}"})," - Payment methods list"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{portal_link}}"})," - Member portal URL"]})]})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",paddingTop:"16px",borderTop:"1px solid #e0e0e0"},children:[t.jsx("button",{className:"secondary-btn",onClick:Sl,style:{padding:"12px 24px",borderRadius:"4px",fontWeight:"600"},children:" Preview Template"}),t.jsx("button",{className:"primary-btn",onClick:kl,style:{padding:"12px 24px",borderRadius:"4px",fontWeight:"600"},children:" Save Email Template"})]})]})]}),t.jsxs("div",{id:"email-config-section",style:{marginTop:"32px"},children:[t.jsx("h4",{style:{margin:"0 0 20px 0",fontSize:"1.25rem",fontWeight:"700",color:"#000"},children:"Email Automation Configuration"}),t.jsxs("div",{style:{background:"#fff",border:"none",borderRadius:"12px",padding:"32px",boxShadow:"0 4px 12px rgba(90, 49, 234, 0.12)"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px",marginBottom:"24px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:"Email Service"}),t.jsxs("select",{value:Qt.emailService,onChange:u=>ei({...Qt,emailService:u.target.value}),style:{width:"100%",padding:"12px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"},children:[t.jsx("option",{value:"gmail",children:"Gmail"}),t.jsx("option",{value:"outlook",children:"Outlook"}),t.jsx("option",{value:"yahoo",children:"Yahoo"}),t.jsx("option",{value:"custom",children:"Custom SMTP"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:["Email Address ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"email",value:Qt.emailUser,onChange:u=>ei({...Qt,emailUser:u.target.value}),placeholder:"your-email@gmail.com",style:{width:"100%",padding:"12px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"}})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:["App Password ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:bs?"text":"password",value:Qt.emailPassword,onChange:u=>ei({...Qt,emailPassword:u.target.value}),placeholder:"Enter app password",style:{width:"100%",padding:"12px",paddingRight:"45px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"}}),t.jsx("button",{type:"button",onClick:()=>Fo(!bs),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},"aria-label":bs?"Hide password":"Show password",children:bs?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),t.jsx("small",{style:{display:"block",marginTop:"6px",fontSize:"0.75rem",color:"#666"},children:"For Gmail: Use App Password (not regular password)"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:"Schedule Time"}),t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("input",{type:"time",value:Qt.scheduleTime,onChange:u=>{const k=u.target.value;ei({...Qt,scheduleTime:k});const[O]=k.split(":").map(Number);mi(O>=12?"PM":"AM")},style:{flex:1,padding:"12px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"}}),t.jsxs("select",{value:ti,onChange:u=>{const k=u.target.value;mi(k);const[O,T]=Qt.scheduleTime.split(":").map(Number);let E=O;k==="AM"&&O===12?E=0:k==="PM"&&O!==12?E=O+12:k==="AM"&&O>=12?E=O-12:k==="PM"&&O<12&&(E=O+12);const X=`${E.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}`;ei({...Qt,scheduleTime:X})},style:{padding:"12px 16px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit",background:"white",cursor:"pointer",fontWeight:"500"},children:[t.jsx("option",{value:"AM",children:"AM"}),t.jsx("option",{value:"PM",children:"PM"})]})]}),t.jsxs("small",{style:{display:"block",marginTop:"6px",fontSize:"0.75rem",color:"#666"},children:["Daily reminder time (24-hour format stored: ",Qt.scheduleTime,")"]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:"Reminder Interval (days)"}),t.jsx("input",{type:"number",min:"1",max:"30",value:Qt.reminderInterval,onChange:u=>ei({...Qt,reminderInterval:parseInt(u.target.value)||7}),style:{width:"100%",padding:"12px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"}}),t.jsx("small",{style:{display:"block",marginTop:"6px",fontSize:"0.75rem",color:"#666"},children:"Days between reminder emails (min: 1, max: 30)"})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",paddingTop:"16px",borderTop:"1px solid #e0e0e0"},children:[t.jsx("button",{className:"secondary-btn",onClick:Al,disabled:$i||!Qt.emailUser||!Qt.emailPassword,style:{padding:"12px 24px",borderRadius:"4px",fontWeight:"600",opacity:$i||!Qt.emailUser||!Qt.emailPassword?.5:1,cursor:$i||!Qt.emailUser||!Qt.emailPassword?"not-allowed":"pointer"},children:$i?"Sending...":" Test Email"}),t.jsx("button",{className:"primary-btn",onClick:Xs,style:{padding:"12px 24px",borderRadius:"4px",fontWeight:"600"},children:" Save Email Settings"})]})]})]}),t.jsx("div",{style:{marginTop:"32px",display:"flex",justifyContent:"flex-end"},children:t.jsx("button",{className:"primary-btn",onClick:wl,disabled:vo,style:{padding:"12px 24px",fontSize:"0.9375rem",fontWeight:"600",borderRadius:"4px",color:"#ffffff",opacity:vo?.6:1,cursor:vo?"not-allowed":"pointer"},children:vo?t.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#ffffff"},children:[t.jsxs("svg",{style:{animation:"spin 1s linear infinite",width:"16px",height:"16px"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),t.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}),"Saving..."]}):t.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#ffffff"},children:[t.jsx("i",{className:"fas fa-save"}),"Save All Settings"]})})})]}),wt==="communications"&&t.jsxs("article",{className:"screen-card",id:"communications",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Br("communications"),t.jsx("h3",{children:"Reminders Log"}),t.jsx("p",{children:"See all reminder emails and WhatsApp messages sent to members."})]})}),(()=>{const u=(C||[]).map(Xe=>{const rt=Xe.status?String(Xe.status).trim():"",Gt=rt.toLowerCase();let yt="Delivered";return Gt==="failed"?yt="Failed":Gt==="pending"?yt="Pending":rt&&(yt=rt),{status:yt}}),k=(m||[]).filter(Xe=>Xe.channel==="WhatsApp").map(Xe=>({status:(Xe.status?String(Xe.status).trim():"")||"Delivered"})),O=[...u,...k],T=O.length,E=u.length,X=k.length,V=O.filter(Xe=>Xe.status==="Delivered").length,Ce=O.filter(Xe=>Xe.status==="Failed").length,Se=O.filter(Xe=>Xe.status==="Pending").length;return t.jsxs("div",{className:"kpi-grid",style:{marginBottom:"24px"},children:[t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-bell",style:{marginRight:"8px",color:"#5a31ea"}}),"Total Reminders"]}),t.jsx("h4",{children:Cr(T)})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-envelope",style:{marginRight:"8px",color:"#5a31ea"}}),"Email Reminders"]}),t.jsx("h4",{children:Cr(E)})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fab fa-whatsapp",style:{marginRight:"8px",color:"#25D366"}}),"WhatsApp Reminders"]}),t.jsx("h4",{children:Cr(X)})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-check-circle",style:{marginRight:"8px",color:"#10b981"}}),"Delivered"]}),t.jsx("h4",{style:{color:"#10b981"},children:Cr(V)})]}),Ce>0&&t.jsxs("div",{className:"card kpi",style:{background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",border:"1px solid #ef4444"},children:[t.jsxs("p",{style:{color:"#ef4444"},children:[t.jsx("i",{className:"fas fa-times-circle",style:{marginRight:"8px",color:"#ef4444"}}),"Failed"]}),t.jsx("h4",{style:{color:"#ef4444"},children:Cr(Ce)})]}),Se>0&&t.jsxs("div",{className:"card kpi",style:{background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",border:"1px solid #ef4444"},children:[t.jsxs("p",{style:{color:"#ef4444"},children:[t.jsx("i",{className:"fas fa-clock",style:{marginRight:"8px",color:"#ef4444"}}),"Pending"]}),t.jsx("h4",{style:{color:"#ef4444"},children:Cr(Se)})]})]})})(),t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"16px",flexWrap:"wrap",alignItems:"center"},children:[t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a"},children:"Filter by Status:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Delivered",label:"Delivered"},{value:"Failed",label:"Failed"},{value:"Pending",label:"Pending"}].map(u=>t.jsx("button",{type:"button",onClick:()=>{Gs(u.value),za(1)},style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:Gr===u.value?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"transparent",color:Gr===u.value?"#ffffff":"#6b7280",boxShadow:Gr===u.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:k=>{Gr!==u.value&&(k.target.style.background="#e5e7eb",k.target.style.color="#374151")},onMouseLeave:k=>{Gr!==u.value&&(k.target.style.background="transparent",k.target.style.color="#6b7280")},children:u.label},u.value))})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a"},children:"Filter by Channel:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Email",label:"Email"},{value:"WhatsApp",label:"WhatsApp"}].map(u=>t.jsx("button",{type:"button",onClick:()=>{Js(u.value),za(1)},style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:Jr===u.value?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"transparent",color:Jr===u.value?"#ffffff":"#6b7280",boxShadow:Jr===u.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:k=>{Jr!==u.value&&(k.target.style.background="#e5e7eb",k.target.style.color="#374151")},onMouseLeave:k=>{Jr!==u.value&&(k.target.style.background="transparent",k.target.style.color="#6b7280")},children:u.label},u.value))})]})]}),(()=>{const u=(C||[]).map(E=>({memberName:(i.find(V=>V.id===E.memberId)||i.find(V=>V.email&&E.memberEmail&&V.email.toLowerCase()===E.memberEmail.toLowerCase()))?.name||E.memberEmail||"N/A",memberId:E.memberId,channel:"Email",type:E.reminderType==="overdue"?"Overdue (auto/manual)":"Upcoming (auto/manual)",message:`Email reminder - ${E.amount}  ${E.invoiceCount} invoice(s)`,date:E.sentAt?new Date(E.sentAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A",status:(()=>{const V=E.status?String(E.status).trim():"",Ce=V.toLowerCase();return Ce==="failed"?"Failed":Ce==="pending"?"Pending":V||"Delivered"})(),rawDate:E.sentAt||null,raw:E})),k=(m||[]).filter(E=>E.channel==="WhatsApp").map(E=>{const V=(E.status?String(E.status).trim():"")||"Delivered";return{memberName:E.memberName||E.member||"N/A",memberId:E.memberId,channel:"WhatsApp",type:E.type||"Manual Outstanding Reminder",message:E.message,date:E.date,status:V,rawDate:E.timestamp||null,raw:E}});let O=[...u,...k];O=O.filter(E=>{const X=E.status?String(E.status).trim():"Delivered";let V=!1;if(Gr==="All")V=!0;else{const Xe=Gr.toLowerCase(),rt=X.toLowerCase();V=Xe===rt}const Ce=E.channel?String(E.channel).trim():"";return V&&(Jr==="All"||Ce===Jr)}),O.sort((E,X)=>{const V=E.rawDate?new Date(E.rawDate).getTime():0;return(X.rawDate?new Date(X.rawDate).getTime():0)-V});const T=O.length;if(T===0){const E=(C||[]).map(Se=>{const Xe=Se.status?String(Se.status).trim():"",rt=Xe.toLowerCase();let Gt="Delivered";return rt==="failed"?Gt="Failed":rt==="pending"?Gt="Pending":Xe&&(Gt=Xe),{status:Gt,channel:"Email"}}),X=(m||[]).filter(Se=>Se.channel==="WhatsApp").map(Se=>({status:Se.status||"Delivered",channel:"WhatsApp"})),V=E.length+X.length;let Ce="No reminders have been sent yet.";return V>0&&(Gr!=="All"&&Jr!=="All"?Ce=`No ${Gr.toLowerCase()} ${Jr.toLowerCase()} reminders found.`:Gr!=="All"?Ce=`No ${Gr.toLowerCase()} reminders found.`:Jr!=="All"&&(Ce=`No ${Jr.toLowerCase()} reminders found.`)),t.jsx("div",{style:{padding:"32px 20px",textAlign:"center",color:"#666"},children:t.jsx("p",{style:{margin:0},children:Ce})})}return t.jsx(t.Fragment,{children:(()=>{const E=Math.max(Vs,10),X=Math.max(1,Math.ceil(T/E)),V=Math.min(es,X),Ce=(V-1)*E,Se=Ce+E,Xe=O.slice(Ce,Se);return t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Member"}),t.jsx("th",{children:"Channel"}),t.jsx("th",{children:"Type"}),t.jsx("th",{children:"Message"}),t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Xe.map((rt,Gt)=>t.jsxs("tr",{children:[t.jsxs("td",{children:[rt.memberName||rt.member||"N/A",rt.memberId?` (${rt.memberId})`:""]}),t.jsx("td",{children:rt.channel||"N/A"}),t.jsx("td",{children:rt.type||"-"}),t.jsx("td",{style:{maxWidth:"320px",whiteSpace:"normal"},children:rt.message||"N/A"}),t.jsx("td",{children:rt.date||"N/A"}),t.jsx("td",{children:t.jsx("span",{className:hi[rt.status]||"badge",children:rt.status||"N/A"})}),t.jsx("td",{children:t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[t.jsx("button",{type:"button",className:"icon-btn icon-btn--view",title:"View full message","aria-label":"View full message",onClick:()=>{const yt=[`Member: ${rt.memberName||"N/A"}`,`Channel: ${rt.channel||"N/A"}`,`Type: ${rt.type||"-"}`,`Date: ${rt.date||"N/A"}`,"","Message:",rt.message||"N/A"].join(`
`);window.alert(yt)},children:t.jsx("i",{className:"fas fa-eye","aria-hidden":"true"})}),rt.channel==="Email"&&rt.status==="Failed"&&!ot&&t.jsx("button",{type:"button",className:"icon-btn icon-btn--edit",title:"Retry sending","aria-label":"Retry sending reminder",onClick:async()=>{try{const yt=rt.raw,vn=yt?._id||yt?.id,cn=await fetch("http://localhost:4000/api/reminders/retry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reminderId:vn})}),yn=await cn.json();cn.ok?(We(yn.message||"Reminder retry queued"),typeof J=="function"&&J()):We(yn.error||"Failed to retry reminder","error")}catch(yt){console.error("Retry reminder failed",yt),We("Failed to retry reminder","error")}},children:t.jsx("i",{className:"fas fa-redo","aria-hidden":"true"})})]})})]},`${rt.memberId||rt.memberName||"row"}-${Ce+Gt}`))})]})}),t.jsxs("div",{style:{marginTop:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"8px"},children:[t.jsxs("div",{style:{fontSize:"0.875rem",color:"#555"},children:["Showing"," ",t.jsxs("strong",{children:[Ce+1,"-",Math.min(Se,T)]})," ","of ",t.jsx("strong",{children:T})," reminders"]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("button",{type:"button",className:"secondary-btn",disabled:V<=1,onClick:()=>za(Math.max(1,V-1)),children:"Previous"}),t.jsxs("span",{style:{fontSize:"0.875rem"},children:["Page ",t.jsx("strong",{children:V})," of ",t.jsx("strong",{children:X})]}),t.jsx("button",{type:"button",className:"secondary-btn",disabled:V>=X,onClick:()=>za(Math.min(X,V+1)),children:"Next"})]})]})]})})()})})()]})]}),wt==="payment-methods"&&t.jsxs("article",{className:"screen-card",id:"payment-methods",children:[t.jsxs("header",{className:"screen-card__header",children:[t.jsxs("div",{children:[t.jsx("h3",{children:"Payment Methods"}),t.jsx("p",{children:"Configure payment methods and QR codes for member payments."})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",padding:"8px 16px",background:"#f8f9fa",borderRadius:"8px",fontSize:"0.875rem"},children:[t.jsx("span",{style:{color:"#666"},children:"Active Methods:"}),t.jsx("strong",{style:{color:"#000"},children:p.filter(u=>(u.name==="Alipay"||u.name==="PayMe"||u.name==="FPS"||u.name==="Direct Bank Transfer")&&u.visible).length})]})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"24px",marginTop:"32px"},children:p.filter(u=>u.name==="PayMe"||u.name==="FPS"||u.name==="Direct Bank Transfer").map(u=>{const k=u.name==="PayMe",O=async(T,E)=>{const X=T.target.files[0];if(X){if(!X.type.startsWith("image/")){We("Please upload an image file","error");return}Pn(V=>({...V,[E]:!0}));try{const V="http://localhost:4000",Ce=new FormData;Ce.append("screenshot",X),Ce.append("uploadType","qr-code");const Se=await fetch(`${V}/api/upload/screenshot`,{method:"POST",body:Ce});if(!Se.ok){let Gt="Failed to upload QR code";try{const yt=await Se.json();Gt=yt.error||Gt,console.error("Upload error response:",yt)}catch(yt){console.error("Failed to parse error response:",yt),Gt=`Upload failed with status ${Se.status}`}throw new Error(Gt)}const Xe=await Se.json();if(!Xe.url)throw new Error("No URL returned from upload. Please try again.");const rt=Xe.url;await z(E,{qrImageUrl:rt}),We(`${E} QR code uploaded successfully!`)}catch(V){console.error("Error uploading QR code:",V),We(V.message||"Failed to upload QR code. Please try again.","error")}finally{Pn(V=>({...V,[E]:!1}))}}};return t.jsxs("div",{style:{background:"#fff",border:"none",borderRadius:"20px",padding:"28px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",boxShadow:u.visible?"0 10px 30px rgba(0,0,0,0.08), 0 0 0 1px rgba(0,0,0,0.05)":"0 2px 8px rgba(0,0,0,0.04)",display:"flex",flexDirection:"column",gap:"20px",overflow:"hidden"},onMouseEnter:T=>{u.visible&&(T.currentTarget.style.boxShadow="0 12px 36px rgba(0,0,0,0.12), 0 0 0 1px rgba(0,0,0,0.08)",T.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:T=>{u.visible&&(T.currentTarget.style.boxShadow="0 10px 30px rgba(0,0,0,0.08), 0 0 0 1px rgba(0,0,0,0.05)",T.currentTarget.style.transform="translateY(0)")},children:[t.jsx("div",{onClick:async()=>{try{await z(u.name,{visible:!u.visible})}catch(T){console.error("Error updating payment method:",T)}},style:{position:"absolute",top:"20px",right:"20px",padding:"6px 14px",borderRadius:"20px",fontSize:"0.7rem",fontWeight:"700",background:u.visible?"linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%)":"#f5f5f5",color:u.visible?"#1b5e20":"#757575",textTransform:"uppercase",letterSpacing:"0.8px",cursor:"pointer",transition:"all 0.2s ease",userSelect:"none",border:u.visible?"1px solid #a5d6a7":"1px solid #e0e0e0",boxShadow:u.visible?"0 2px 4px rgba(0,0,0,0.1)":"none"},onMouseEnter:T=>{T.target.style.transform="scale(1.08)",T.target.style.boxShadow=u.visible?"0 4px 8px rgba(0,0,0,0.15)":"0 2px 4px rgba(0,0,0,0.1)"},onMouseLeave:T=>{T.target.style.transform="scale(1)",T.target.style.boxShadow=u.visible?"0 2px 4px rgba(0,0,0,0.1)":"none"},children:u.visible?" Active":" Inactive"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"18px",marginBottom:"4px",paddingBottom:"20px",borderBottom:"1px solid #e5e7eb"},children:[t.jsxs("div",{style:{width:"64px",height:"64px",borderRadius:"16px",background:u.name==="PayMe"?"linear-gradient(135deg, #00C300 0%, #009900 100%)":u.name==="FPS"?"linear-gradient(135deg, #0066CC 0%, #004499 100%)":"linear-gradient(135deg, #E60012 0%, #CC0011 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"28px",fontWeight:"700",color:"#fff",boxShadow:"0 6px 16px rgba(0,0,0,0.15)",position:"relative"},children:[u.name==="PayMe"?"P":u.name==="FPS"?"F":"B",u.visible&&t.jsx("div",{style:{position:"absolute",top:"-4px",right:"-4px",width:"18px",height:"18px",borderRadius:"50%",background:"#4caf50",border:"2px solid #fff",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("span",{style:{fontSize:"10px",color:"#fff"},children:""})})]}),t.jsxs("div",{style:{flex:1},children:[t.jsx("h4",{style:{margin:0,fontSize:"1.625rem",fontWeight:"700",color:"#000",letterSpacing:"-0.5px",marginBottom:"6px"},children:u.name==="Direct Bank Transfer"?"Bank Transfer":u.name}),t.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#666",fontWeight:"500"},children:u.name==="PayMe"?"PayMe by HSBC":u.name==="FPS"?"Faster Payment System":"Direct Bank Transfer"})]})]}),k?t.jsx("div",{style:{background:"linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)",borderRadius:"16px",padding:"28px",border:u.qrImageUrl?"1px solid #e0e0e0":"2px dashed #d0d0d0",minHeight:"300px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"20px",position:"relative",transition:"all 0.3s ease"},children:u.qrImageUrl?t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{padding:"16px",background:"#fff",borderRadius:"12px",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:"1px solid #e0e0e0"},children:t.jsx("img",{src:u.qrImageUrl,alt:`${u.name} QR Code`,style:{maxWidth:"260px",maxHeight:"260px",width:"100%",height:"auto",borderRadius:"4px",display:"block",objectFit:"contain"}})}),t.jsx("button",{onClick:()=>{const T=document.createElement("input");T.type="file",T.accept="image/*",T.onchange=E=>O(E,u.name),T.click()},disabled:ra[u.name],style:{padding:"10px 20px",background:"#fff",border:"none",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.1)",borderRadius:"4px",fontSize:"0.875rem",fontWeight:"600",cursor:ra[u.name]?"not-allowed":"pointer",transition:"all 0.2s ease",color:"#000",opacity:ra[u.name]?.6:1},onMouseEnter:T=>{ra[u.name]||(T.target.style.background="#000",T.target.style.color="#fff",T.target.style.transform="translateY(-2px)",T.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)")},onMouseLeave:T=>{ra[u.name]||(T.target.style.background="#fff",T.target.style.color="#000",T.target.style.transform="translateY(0)",T.target.style.boxShadow="none")},children:ra[u.name]?" Uploading...":" Change QR Code"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",color:"#bbb",marginBottom:"12px",border:"2px dashed #d0d0d0"},children:""}),t.jsx("p",{style:{margin:0,fontSize:"0.9375rem",color:"#666",textAlign:"center",marginBottom:"4px",fontWeight:"500"},children:"No QR code uploaded"}),t.jsx("p",{style:{margin:0,fontSize:"0.8125rem",color:"#999",textAlign:"center",marginBottom:"16px"},children:"Upload a QR code image to enable this payment method"}),t.jsxs("label",{style:{padding:"12px 24px",background:"linear-gradient(135deg, #1a1a1a 0%, #374151 100%)",color:"#fff",borderRadius:"10px",fontSize:"0.875rem",fontWeight:"600",cursor:ra[u.name]?"not-allowed":"pointer",display:"inline-block",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",opacity:ra[u.name]?.6:1},onMouseEnter:T=>{ra[u.name]||(T.target.style.transform="translateY(-2px)",T.target.style.boxShadow="0 6px 16px rgba(0,0,0,0.2)")},onMouseLeave:T=>{ra[u.name]||(T.target.style.transform="translateY(0)",T.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)")},children:[ra[u.name]?" Uploading...":" Upload QR Code",t.jsx("input",{type:"file",accept:"image/*",onChange:T=>O(T,u.name),style:{display:"none"},disabled:ra[u.name]})]})]})}):t.jsxs("div",{style:{background:"linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)",borderRadius:"16px",padding:"24px",border:"1px solid #e0e0e0"},children:[t.jsxs("div",{style:{fontSize:"0.8125rem",fontWeight:"700",color:"#666",marginBottom:"18px",textTransform:"uppercase",letterSpacing:"1px",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Payment Details"})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:u.details&&u.details.map((T,E)=>t.jsx("div",{style:{padding:"16px 18px",background:"#fff",borderRadius:"10px",fontSize:"0.9375rem",color:"#333",borderLeft:"4px solid #5a31ea",fontWeight:"500",boxShadow:"0 2px 6px rgba(0,0,0,0.06)",transition:"all 0.2s ease"},onMouseEnter:X=>{X.currentTarget.style.boxShadow="0 4px 10px rgba(0,0,0,0.1)",X.currentTarget.style.transform="translateX(4px)"},onMouseLeave:X=>{X.currentTarget.style.boxShadow="0 2px 6px rgba(0,0,0,0.06)",X.currentTarget.style.transform="translateX(0)"},children:T},`${u.name}-detail-${E}`))})]}),t.jsxs("div",{onClick:async()=>{try{await z(u.name,{visible:!u.visible})}catch(T){console.error("Error updating payment method:",T)}},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"18px 20px",background:u.visible?"linear-gradient(135deg, #f8f9ff 0%, #e8f0ff 100%)":"#f9fafb",borderRadius:"12px",border:`2px solid ${u.visible?"#2196F3":"#e0e0e0"}`,cursor:"pointer",transition:"all 0.3s ease",marginTop:"4px"},onMouseEnter:T=>{T.currentTarget.style.background=u.visible?"linear-gradient(135deg, #bbdefb 0%, #90caf9 100%)":"#f3f4f6",T.currentTarget.style.borderColor=u.visible?"#1976D2":"#ccc",T.currentTarget.style.transform="scale(1.01)"},onMouseLeave:T=>{T.currentTarget.style.background=u.visible?"linear-gradient(135deg, #f8f9ff 0%, #e8f0ff 100%)":"#fafafa",T.currentTarget.style.borderColor=u.visible?"#2196F3":"#e0e0e0",T.currentTarget.style.transform="scale(1)"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("span",{style:{fontSize:"0.9375rem",fontWeight:"700",color:u.visible?"#1565C0":"#666",display:"block",marginBottom:"6px"},children:u.visible?" Enabled for members":" Disabled for members"}),t.jsx("span",{style:{fontSize:"0.8125rem",color:u.visible?"#1976D2":"#999",lineHeight:"1.4"},children:u.visible?"This payment method is visible to all members":"This payment method is hidden from members"})]}),t.jsxs("label",{className:"switch",style:{margin:0,marginLeft:"16px"},onClick:T=>T.stopPropagation(),children:[t.jsx("input",{type:"checkbox",checked:u.visible,onChange:async T=>{T.stopPropagation();try{await z(u.name,{visible:T.target.checked})}catch(E){console.error("Error updating payment method:",E)}},tabIndex:-1,onFocus:T=>T.target.blur()}),t.jsx("span",{})]})]})]},u.name)})})]}),wt==="payment-approvals"&&t.jsxs("article",{className:"screen-card",id:"payment-approvals",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("div",{children:[t.jsx("h3",{children:"Payment Approvals"}),t.jsx("p",{children:"Review and approve member payment submissions."})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[t.jsx("button",{className:"primary-btn",onClick:()=>{si(!0),gr(null),_n({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""})},children:"+ Add Payment"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Pending",label:"Pending"},{value:"Completed",label:"Approved"},{value:"Rejected",label:"Rejected"}].map(u=>t.jsx("button",{type:"button",onClick:()=>Ti(u.value),style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:Rn===u.value?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"transparent",color:Rn===u.value?"#ffffff":"#6b7280",boxShadow:Rn===u.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:k=>{Rn!==u.value&&(k.target.style.background="#e5e7eb",k.target.style.color="#374151")},onMouseLeave:k=>{Rn!==u.value&&(k.target.style.background="transparent",k.target.style.color="#6b7280")},children:u.label},u.value))}),t.jsxs("div",{style:{padding:"10px 16px",background:"#fee2e2",borderRadius:"4px",fontSize:"0.875rem",fontWeight:"600",color:"#ef4444",border:"1px solid #ef4444"},children:[" Pending: ",(o||[]).filter(u=>u.status==="Pending").length]})]})]})}),ks&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:u=>{u.target,u.currentTarget},children:t.jsxs("div",{className:"card",style:{maxWidth:"640px",width:"100%",maxHeight:"90vh",overflowY:"auto",position:"relative",background:"#ffffff"},onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsx("h4",{style:{margin:0},children:oi?"Edit Payment":"Add New Payment"}),t.jsx("button",{className:"ghost-btn",type:"button",onClick:()=>{Ia({memberId:!1,amount:!1,method:!1,screenshot:!1}),ya(null),si(!1),gr(null),_n({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""})},style:{fontSize:"1.5rem",lineHeight:1,color:"#ef4444",fontWeight:"bold",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",border:"1px solid #ef4444",background:"transparent",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:u=>{u.target.style.background="#fee2e2"},onMouseLeave:u=>{u.target.style.background="transparent"},children:""})]}),t.jsxs("form",{className:"form-grid",onSubmit:oi?jo:us,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Member ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:jt.memberId,onChange:u=>{const k=i.find(O=>O.id===u.target.value);_n({...jt,memberId:u.target.value,member:k?k.name:""})},required:!0,children:[t.jsx("option",{value:"",children:"Select Member"}),i.map(u=>t.jsxs("option",{value:u.id,children:[u.name," (",u.id,")"]},u.id))]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-hashtag",style:{marginRight:"8px",color:"#5a31ea"}}),"Invoice ID"]}),t.jsx("input",{type:"text",value:jt.invoiceId,onChange:u=>_n({...jt,invoiceId:u.target.value}),placeholder:"INV-2025-001"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Amount ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:jt.amount,onChange:u=>_n({...jt,amount:u.target.value}),placeholder:"$50",required:!0})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"8px",color:"#5a31ea"}}),"Payment Method ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:jt.method,onChange:u=>_n({...jt,method:u.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Method"}),t.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),t.jsx("option",{value:"FPS",children:"FPS"}),t.jsx("option",{value:"PayMe",children:"PayMe"}),t.jsx("option",{value:"Cash",children:"Cash"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-hashtag",style:{marginRight:"8px",color:"#5a31ea"}}),"Reference Number"]}),t.jsx("input",{type:"text",value:jt.reference,onChange:u=>_n({...jt,reference:u.target.value}),placeholder:"Transaction reference"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-day",style:{marginRight:"8px",color:"#5a31ea"}}),"Date"]}),t.jsx("input",{type:"text",value:jt.date,onChange:u=>_n({...jt,date:u.target.value}),placeholder:"01 Jan 2025"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-toggle-on",style:{marginRight:"8px",color:"#5a31ea"}}),"Status ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:jt.status,onChange:u=>_n({...jt,status:u.target.value}),required:!0,children:[t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Completed",children:"Completed"}),t.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-image",style:{marginRight:"8px",color:"#5a31ea"}}),"Screenshot URL"," ",jt.method==="Cash"&&t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:jt.screenshot,onChange:u=>_n({...jt,screenshot:u.target.value}),placeholder:"https://...",required:jt.method==="Cash"}),jt.method==="Cash"&&!jt.screenshot&&t.jsx("small",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"4px",display:"block"},children:"Screenshot is required for Cash payments"})]}),t.jsxs("label",{style:{gridColumn:"1 / -1"},children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-sticky-note",style:{marginRight:"8px",color:"#5a31ea"}}),"Notes"]}),t.jsx("textarea",{value:jt.notes,onChange:u=>_n({...jt,notes:u.target.value}),rows:3,placeholder:"Additional notes..."})]}),t.jsxs("div",{className:"form-actions",style:{gridColumn:"1 / -1"},children:[t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{si(!1),gr(null),_n({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""})},children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[oi?"Update":"Add"," Payment"]})]})]})]})}),t.jsx("div",{className:"card",children:t.jsx("div",{className:"table-wrapper",children:(()=>{const u=(o||[]).filter(V=>Rn==="All"?!0:V.status===Rn).sort((V,Ce)=>{if(V.status==="Pending"&&Ce.status!=="Pending")return-1;if(V.status!=="Pending"&&Ce.status==="Pending")return 1;const Se=V.createdAt?new Date(V.createdAt):new Date(V.date||0);return(Ce.createdAt?new Date(Ce.createdAt):new Date(Ce.date||0))-Se}),k=Math.ceil(u.length/Or)||1,O=Math.min(va,k),T=(O-1)*Or,E=T+Or,X=u.slice(T,E);return t.jsxs(t.Fragment,{children:[t.jsx(fi,{columns:["Date","Member","Invoice ID","Amount","Method","Screenshot","Status","Actions"],rows:X.map(V=>{const Ce=V._id||V.id,Se=Ce?.toString?Ce.toString():Ce;return{Date:V.date||(V.createdAt?new Date(V.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),Member:V.member||"Unknown","Invoice ID":V.invoiceId||"N/A",Amount:V.amount||"$0",Method:Sn(V),Screenshot:{render:()=>V.screenshot?t.jsx("a",{href:V.screenshot,target:"_blank",rel:"noopener noreferrer",style:{color:"#000",textDecoration:"none"},title:"View screenshot","aria-label":"View screenshot",children:t.jsx("i",{className:"fas fa-image","aria-hidden":"true"})}):"N/A"},Status:{render:()=>t.jsx("span",{className:hi[V.status]||"badge badge-unpaid",children:V.status})},Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[V.status==="Pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"icon-btn icon-btn--view",onClick:()=>{Se&&Ea(Se)},title:"Approve payment (By Admin)","aria-label":"Approve payment (By Admin)",children:t.jsx("i",{className:"fas fa-check","aria-hidden":"true"})}),t.jsx("button",{className:"icon-btn icon-btn--delete",onClick:()=>{Se&&Ci(Se)},title:"Reject payment (By Admin)","aria-label":"Reject payment (By Admin)",children:t.jsx("i",{className:"fas fa-times","aria-hidden":"true"})})]}),V.status==="Rejected"&&V.rejectionReason&&t.jsxs("span",{style:{fontSize:"0.75rem",color:"#666",fontStyle:"italic"},children:["Reason: ",V.rejectionReason]}),V.status==="Completed"&&(()=>{const Xe=V.paidToAdmin||V.paidToAdminName,Gt=["Screenshot","Bank Transfer","FPS","PayMe","Online Payment"].includes(V.method);return Xe?t.jsx("span",{className:"icon-btn",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",color:"#4caf50",cursor:"default",padding:"4px 8px"},title:"Paid by Admin (Cash)","aria-label":"Paid by Admin (Cash)",children:t.jsx("i",{className:"fas fa-user-shield","aria-hidden":"true"})}):Gt?t.jsx("span",{className:"icon-btn",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",color:"#2196F3",cursor:"default",padding:"4px 8px"},title:"Paid Online","aria-label":"Paid Online",children:t.jsx("i",{className:"fas fa-globe","aria-hidden":"true"})}):t.jsxs("span",{style:{fontSize:"0.75rem",color:"#4caf50"},children:[" Approved by ",V.approvedBy||"Admin"]})})(),t.jsx("button",{className:"secondary-btn icon-btn icon-btn--edit",onClick:()=>Cl(V),title:"Edit Payment",children:t.jsx("i",{className:"fas fa-pen","aria-hidden":"true"})}),t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",style:{color:"#ef4444"},onClick:()=>{Se&&So(Se)},title:"Delete Payment",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}})}),k>0&&u.length>0&&t.jsx(dc,{currentPage:O,totalPages:k,onPageChange:Si,pageSize:Or,onPageSizeChange:Zi,totalItems:u.length})]})})()})})]}),wt==="invoices"&&t.jsxs("article",{className:"screen-card",id:"invoices",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("div",{children:[Br("invoices"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-file-invoice",style:{marginRight:"10px"}}),"Invoices"]}),t.jsx("p",{children:"View and manage all invoices."})]}),t.jsxs("button",{className:"primary-btn",onClick:()=>{Wa("invoice-builder"),We("Redirecting to Invoice Builder...")},children:[t.jsx("i",{className:"fas fa-plus",style:{marginRight:"8px"}}),"Create Invoice"]})]})}),(()=>{const u=r||[],k=u.length,O=u.filter(Ce=>{const Se=Ce?.status||"Unpaid";return Se!=="Paid"&&Se!=="Completed"}),T=u.filter(Ce=>{const Se=Ce?.status||"Unpaid";return Se==="Paid"||Se==="Completed"}),E=u.filter(Ce=>Ce?.status==="Overdue"),X=O.reduce((Ce,Se)=>{const Xe=parseFloat((Se?.amount||"0").replace(/[^0-9.]/g,"")||0);return Ce+Xe},0),V=T.reduce((Ce,Se)=>{const Xe=parseFloat((Se?.amount||"0").replace(/[^0-9.]/g,"")||0);return Ce+Xe},0);return t.jsxs("div",{className:"kpi-grid",style:{marginBottom:"24px"},children:[t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-file-invoice",style:{marginRight:"8px",color:"#5a31ea"}}),"Total Invoices"]}),t.jsx("h4",{children:Cr(k)})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-check-circle",style:{marginRight:"8px",color:"#57BF57"}}),"Paid"]}),t.jsx("h4",{style:{color:"#57BF57"},children:Cr(T.length)})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-exclamation-circle",style:{marginRight:"8px",color:"#ef4444"}}),"Unpaid"]}),t.jsx("h4",{style:{color:"#ef4444"},children:Cr(O.length)})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-exclamation-triangle",style:{marginRight:"8px",color:"#ef4444"}}),"Overdue"]}),t.jsx("h4",{style:{color:"#ef4444"},children:Cr(E.length)})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#ef4444"}}),"Total Unpaid"]}),t.jsxs("h4",{style:{color:"#ef4444"},children:["$",Cr(X,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#57BF57"}}),"Total Collected"]}),t.jsxs("h4",{style:{color:"#57BF57"},children:["$",Cr(V,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})(),t.jsx("div",{className:"card",children:t.jsx("div",{className:"table-wrapper",children:(()=>{let u=r||[];sr!=="All"&&(u=u.filter(X=>{const V=X.status||"Unpaid";return sr==="Paid"?V==="Paid"||V==="Completed":sr==="Unpaid"?V!=="Paid"&&V!=="Completed"&&V!=="Overdue":V===sr}));const k=(Ys-1)*ki,O=k+ki,T=u.slice(k,O),E=Math.ceil(u.length/ki);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a"},children:"Filter by Status:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Paid",label:"Paid"},{value:"Unpaid",label:"Unpaid"},{value:"Overdue",label:"Overdue"},{value:"Pending",label:"Pending"}].map(X=>t.jsx("button",{type:"button",onClick:()=>bi(X.value),style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:sr===X.value?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"transparent",color:sr===X.value?"#ffffff":"#6b7280",boxShadow:sr===X.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:V=>{sr!==X.value&&(V.target.style.background="#e5e7eb",V.target.style.color="#374151")},onMouseLeave:V=>{sr!==X.value&&(V.target.style.background="transparent",V.target.style.color="#6b7280")},children:X.label},X.value))})]}),t.jsx("div",{className:"table-wrapper",children:t.jsx(fi,{columns:["Invoice ID","Member","Period","Amount","Due Date","Status","Actions"],rows:T.map(X=>{const V=X.status==="Paid"||X.status==="Completed";return X.status,{"Invoice ID":X.id||X.invoiceId||"N/A",Member:X.memberName||X.member||"Unknown",Period:X.period||"N/A",Amount:X.amount||"$0","Due Date":X.due?new Date(X.due).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A",Status:{render:()=>t.jsx("span",{className:X.status==="Paid"?"badge badge-paid":X.status==="Overdue"?"badge badge-overdue":X.status==="Pending"?"badge badge-pending":"badge badge-unpaid",children:X.status||"Unpaid"})},Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-start"},children:[t.jsx("button",{className:"icon-btn icon-btn--view",onClick:()=>{const Ce=i.find(Se=>Se.id===X.memberId||Se.email===X.memberEmail||Se.name===X.memberName);Ce&&(tl(Ce),Kt("member-detail"),Xt("Invoices"))},title:"View Invoice Details","aria-label":"View Invoice Details",children:t.jsx("i",{className:"fas fa-eye","aria-hidden":"true"})}),!V&&t.jsx("button",{className:"icon-btn icon-btn--delete",onClick:()=>{(X.id||X._id)&&Zs(X.id||X._id)},title:"Delete Invoice","aria-label":"Delete Invoice",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}})})}),E>0&&r.length>0&&t.jsx(dc,{currentPage:Ys,totalPages:E,onPageChange:go,pageSize:ki,onPageSizeChange:Cs,totalItems:u.length})]})})()})})]}),wt==="payments"&&t.jsxs("article",{className:"screen-card",id:"payments",children:[t.jsx("header",{className:"screen-card__header",children:t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:t.jsxs("div",{children:[Br("payments"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"10px"}}),"Payments"]}),t.jsx("p",{children:"View and manage all payment transactions."})]})})}),ks&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:u=>{u.target===u.currentTarget&&(si(!1),gr(null),_n({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""}))},children:t.jsxs("div",{className:"card",style:{maxWidth:"800px",width:"100%",maxHeight:"90vh",overflowY:"auto",position:"relative"},onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"8px",color:"#5a31ea"}}),oi?"Edit Payment":"Add New Payment"]}),t.jsx("button",{type:"button",onClick:()=>{si(!1),gr(null),_n({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""})},style:{background:"transparent",border:"none",fontSize:"1.5rem",color:"#666",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},onMouseEnter:u=>{u.target.style.background="#f3f4f6",u.target.style.color="#1a1a1a"},onMouseLeave:u=>{u.target.style.background="transparent",u.target.style.color="#666"},children:""})]}),t.jsxs("form",{className:"form-grid",onSubmit:oi?jo:us,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Member ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{ref:u=>{u&&oi&&setTimeout(()=>u.focus(),100)},value:jt.memberId,onChange:u=>{const k=i.find(O=>O.id===u.target.value);_n({...jt,memberId:u.target.value,member:k?k.name:""})},required:!0,children:[t.jsx("option",{value:"",children:"Select Member"}),i.map(u=>t.jsxs("option",{value:u.id,children:[u.name," (",u.id,")"]},u.id))]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-hashtag",style:{marginRight:"8px",color:"#5a31ea"}}),"Invoice ID"]}),t.jsx("input",{type:"text",value:jt.invoiceId,onChange:u=>_n({...jt,invoiceId:u.target.value}),placeholder:"INV-2025-001"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Amount ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:jt.amount,onChange:u=>_n({...jt,amount:u.target.value}),placeholder:"$50",required:!0})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"8px",color:"#5a31ea"}}),"Payment Method ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:jt.method,onChange:u=>_n({...jt,method:u.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Method"}),t.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),t.jsx("option",{value:"FPS",children:"FPS"}),t.jsx("option",{value:"PayMe",children:"PayMe"}),t.jsx("option",{value:"Alipay",children:"Alipay"}),t.jsx("option",{value:"Credit Card",children:"Credit Card"}),t.jsx("option",{value:"Cash",children:"Cash"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-hashtag",style:{marginRight:"8px",color:"#5a31ea"}}),"Reference Number"]}),t.jsx("input",{type:"text",value:jt.reference,onChange:u=>_n({...jt,reference:u.target.value}),placeholder:"Transaction reference"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-day",style:{marginRight:"8px",color:"#5a31ea"}}),"Date"]}),t.jsx("input",{type:"text",value:jt.date,onChange:u=>_n({...jt,date:u.target.value}),placeholder:"01 Jan 2025"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-toggle-on",style:{marginRight:"8px",color:"#5a31ea"}}),"Status ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:jt.status,onChange:u=>_n({...jt,status:u.target.value}),required:!0,children:[t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Completed",children:"Completed"}),t.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-image",style:{marginRight:"8px",color:"#5a31ea"}}),"Screenshot URL ",jt.method==="Cash"&&t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:jt.screenshot,onChange:u=>_n({...jt,screenshot:u.target.value}),placeholder:"https://...",required:jt.method==="Cash"}),jt.method==="Cash"&&!jt.screenshot&&t.jsx("small",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"4px",display:"block"},children:"Screenshot is required for Cash payments"})]}),t.jsxs("label",{style:{gridColumn:"1 / -1"},children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-sticky-note",style:{marginRight:"8px",color:"#5a31ea"}}),"Notes"]}),t.jsx("textarea",{value:jt.notes,onChange:u=>_n({...jt,notes:u.target.value}),rows:3,placeholder:"Additional notes..."})]}),t.jsxs("div",{className:"form-actions",style:{gridColumn:"1 / -1"},children:[t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{si(!1),gr(null),_n({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""})},children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[oi?"Update":"Add"," Payment"]})]})]})]})}),t.jsx("div",{className:"card",children:t.jsxs("div",{style:{padding:"24px"},children:[t.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a"},children:"Filter by Status:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Paid",label:"Paid"},{value:"Rejected",label:"Rejected"}].map(u=>t.jsx("button",{type:"button",onClick:()=>Ti(u.value),style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:Rn===u.value?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"transparent",color:Rn===u.value?"#ffffff":"#6b7280",boxShadow:Rn===u.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:k=>{Rn!==u.value&&(k.target.style.background="#e5e7eb",k.target.style.color="#374151")},onMouseLeave:k=>{Rn!==u.value&&(k.target.style.background="transparent",k.target.style.color="#6b7280")},children:u.label},u.value))})]}),(()=>{const u=(o||[]).filter(V=>Rn==="All"?!0:V.status===Rn).sort((V,Ce)=>{if(V.status==="Pending"&&Ce.status!=="Pending")return-1;if(V.status!=="Pending"&&Ce.status==="Pending")return 1;const Se=V.createdAt?new Date(V.createdAt):new Date(V.date||0);return(Ce.createdAt?new Date(Ce.createdAt):new Date(Ce.date||0))-Se}),k=Math.ceil(u.length/Or)||1,O=Math.min(va,k),T=(O-1)*Or,E=T+Or,X=u.slice(T,E);return t.jsxs(t.Fragment,{children:[t.jsx(fi,{columns:["Date","Member","Invoice ID","Amount","Method","Screenshot","Status","Actions"],rows:X.map(V=>{const Ce=V._id||V.id,Se=Ce?.toString?Ce.toString():Ce;return{Date:V.date||(V.createdAt?new Date(V.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),Member:V.member||"Unknown","Invoice ID":V.invoiceId||"N/A",Amount:V.amount||"$0",Method:Sn(V),Screenshot:{render:()=>V.screenshot?t.jsxs("a",{href:V.screenshot,target:"_blank",rel:"noopener noreferrer",style:{color:"#5a31ea",textDecoration:"none"},children:[t.jsx("i",{className:"fas fa-image",style:{marginRight:"4px"}}),"View"]}):"N/A"},Status:{render:()=>t.jsx("span",{className:V.status==="Paid"||V.status==="Completed"?"badge badge-paid":V.status==="Pending"?"badge badge-pending":V.status==="Rejected"?"badge badge-overdue":"badge badge-active",children:V.status})},Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{className:"ghost-btn icon-btn icon-btn--edit",onClick:()=>Cl(V),title:"Edit Payment",children:t.jsx("i",{className:"fas fa-pen","aria-hidden":"true"})}),t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",style:{color:"#ef4444"},onClick:()=>{Se&&So(Se)},title:"Delete Payment",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}})}),k>0&&u.length>0&&t.jsx(dc,{currentPage:O,totalPages:k,onPageChange:Si,pageSize:Or,onPageSizeChange:Zi,totalItems:u.length})]})})()]})})]}),wt==="donations"&&t.jsxs("article",{className:"screen-card",id:"donations",style:{minHeight:"400px"},children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("div",{children:[Br("donations"),t.jsx("h3",{children:"Donations"}),t.jsx("p",{children:"Manage donation records from members and non-members."})]}),t.jsx("button",{className:"primary-btn",onClick:()=>Di(!0),children:"+ Add Donation"})]})}),Os&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:u=>{u.target===u.currentTarget&&(Di(!1),gn({donorName:"",isMember:!1,memberId:"",amount:"",method:"",date:"",notes:"",reference:"",screenshot:""}),Qa(null),ka(null),wi(""),ii(!1))},children:t.jsxs("div",{className:"card",style:{maxWidth:"800px",width:"100%",maxHeight:"90vh",overflowY:"auto",position:"relative"},onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-heart",style:{marginRight:"8px",color:"#5a31ea"}}),"Add Donation"]}),t.jsx("button",{type:"button",onClick:()=>{Kn({donorName:!1,amount:!1,method:!1,date:!1,reference:!1,screenshot:!1}),Fr(null),Di(!1),gn({donorName:"",isMember:!1,memberId:"",amount:"",method:"",date:"",notes:"",reference:"",screenshot:""}),Qa(null),ka(null),wi(""),ii(!1)},style:{background:"transparent",border:"1px solid #ef4444",fontSize:"1.5rem",color:"#ef4444",fontWeight:"bold",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",cursor:"pointer",padding:"0",transition:"all 0.2s ease"},onMouseEnter:u=>{u.target.style.background="#f3f4f6",u.target.style.color="#1a1a1a"},onMouseLeave:u=>{u.target.style.background="transparent",u.target.style.color="#666"},children:""})]}),t.jsxs("form",{noValidate:!0,onSubmit:async u=>{if(u.preventDefault(),!!(()=>{const O=["donorName","amount","method","date","reference","screenshot"];if(Xn){let T=!0,E="";if(Xn==="donorName"&&!ut.donorName)T=!1,E="Donor name is required";else if(Xn==="amount")if(!ut.amount)T=!1,E="Amount is required";else{const X=parseFloat(ut.amount);(!X||X<=0||isNaN(X))&&(T=!1,E="Amount must be a positive number")}else Xn==="method"&&!ut.method?(T=!1,E="Payment method is required"):Xn==="date"&&!ut.date?(T=!1,E="Date is required"):Xn==="reference"?["Bank Transfer","FPS","PayMe"].includes(ut.method)&&!ut.reference.trim()&&(T=!1,E="Reference number is required for online payment methods"):Xn==="screenshot"&&(ut.method==="Cash"&&!ut.screenshot&&!ls||["Bank Transfer","FPS","PayMe"].includes(ut.method)&&!ut.screenshot&&!ls)&&(T=!1,E="Proof image is required");if(T)Kn(X=>({...X,[Xn]:!1})),Fr(null);else return Kn(X=>({...X,[Xn]:!0})),We(E,"error"),!1}for(const T of O){let E=!0,X="";if(T==="donorName"&&!ut.donorName)E=!1,X="Donor name is required";else if(T==="amount")if(!ut.amount)E=!1,X="Amount is required";else{const V=parseFloat(ut.amount);(!V||V<=0||isNaN(V))&&(E=!1,X="Amount must be a positive number")}else T==="method"&&!ut.method?(E=!1,X="Payment method is required"):T==="date"&&!ut.date?(E=!1,X="Date is required"):T==="reference"?["Bank Transfer","FPS","PayMe"].includes(ut.method)&&!ut.reference.trim()&&(E=!1,X="Reference number is required for online payment methods"):T==="screenshot"&&(ut.method==="Cash"&&!ut.screenshot&&!ls||["Bank Transfer","FPS","PayMe"].includes(ut.method)&&!ut.screenshot&&!ls)&&(E=!1,X="Proof image is required");if(!E)return Kn({donorName:!1,amount:!1,method:!1,date:!1,reference:!1,screenshot:!1}),Kn(V=>({...V,[T]:!0})),Fr(T),We(X,"error"),setTimeout(()=>{if(T==="donorName"){const V=document.querySelectorAll('input[type="text"]'),Ce=Array.from(V).find(Se=>Se.placeholder?.includes("donor name")||Se.placeholder?.includes("Donor name"));Ce?.focus(),Ce?.scrollIntoView({behavior:"smooth",block:"center"})}else if(T==="amount"){const V=document.querySelector('input[type="number"][inputmode="numeric"]');V?.focus(),V?.scrollIntoView({behavior:"smooth",block:"center"})}else if(T==="method"){const V=document.querySelectorAll("select"),Ce=Array.from(V).find(Se=>Se.options[0]?.text==="Select method");Ce?.focus(),Ce?.scrollIntoView({behavior:"smooth",block:"center"})}else if(T==="date"){const V=document.querySelector('input[type="date"]');V?.focus(),V?.scrollIntoView({behavior:"smooth",block:"center"})}else if(T==="reference"){const V=document.querySelectorAll('input[type="text"]'),Ce=Array.from(V).find(Se=>Se.placeholder?.includes("Transaction reference")||Se.placeholder?.includes("reference"));Ce?.focus(),Ce?.scrollIntoView({behavior:"smooth",block:"center"})}else if(T==="screenshot"){const V=document.querySelectorAll('[style*="border"]');Array.from(V).find(Se=>Se.style.border.includes("dashed"))?.scrollIntoView({behavior:"smooth",block:"center"})}},100),!1}return Kn({donorName:!1,amount:!1,method:!1,date:!1,reference:!1,screenshot:!1}),Fr(null),!0})())try{let O=ut.screenshot;if(ls){const T="http://localhost:4000",E=new FormData;E.append("screenshot",ls),E.append("uploadType","donation-proof");const X=await fetch(`${T}/api/upload/screenshot`,{method:"POST",body:E});if(!X.ok){let Ce="Failed to upload image";try{Ce=(await X.json()).error||Ce}catch{Ce=`Upload failed with status ${X.status}`}throw new Error(Ce)}const V=await X.json();if(!V.url)throw new Error("No URL returned from upload. Please try again.");O=V.url}await pe({...ut,amount:amountNum.toFixed(2),screenshot:O}),We("Donation added successfully!"),Di(!1),gn({donorName:"",isMember:!1,memberId:"",amount:"",method:"",date:"",notes:"",reference:"",screenshot:""}),Qa(null),ka(null),wi(""),ii(!1),await le()}catch(O){We(O.message||"Failed to add donation","error")}},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Donor Name ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:ut.donorName,onChange:u=>{gn({...ut,donorName:u.target.value}),$n.donorName&&(Kn(k=>({...k,donorName:!1})),Xn==="donorName"&&Fr(null))},required:!0,placeholder:ut.isMember?"Will be filled automatically when member is selected":"Enter donor name",disabled:!!(ut.isMember&&ut.memberId),style:{background:ut.isMember&&ut.memberId?"#f9fafb":"#fff",cursor:ut.isMember&&ut.memberId?"not-allowed":"text",border:$n.donorName?"2px solid #ef4444":void 0}}),ut.isMember&&ut.memberId&&t.jsx("span",{style:{fontSize:"0.75rem",color:"#666",marginTop:"4px",display:"block"},children:"Donor name is automatically set from selected member"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Amount ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",inputMode:"numeric",value:ut.amount,onChange:u=>{const k=u.target.value.replace(/[^0-9.]/g,"");gn({...ut,amount:k}),$n.amount&&(Kn(O=>({...O,amount:!1})),Xn==="amount"&&Fr(null))},placeholder:"100",required:!0,style:{border:$n.amount?"2px solid #ef4444":void 0}})]})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"12px"},children:"Donor Type"}),t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[t.jsxs("button",{type:"button",onClick:()=>gn({...ut,isMember:!0,memberId:"",donorName:ut.donorName}),style:{flex:"1",minWidth:"150px",padding:"14px 20px",borderRadius:"4px",border:"none",background:ut.isMember?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"#f8f9ff",color:ut.isMember?"#ffffff":"#1a1a1a",boxShadow:ut.isMember?"0 4px 12px rgba(90, 49, 234, 0.3)":"0 2px 4px rgba(90, 49, 234, 0.08)",fontWeight:"600",fontSize:"0.9375rem",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:u=>{ut.isMember||(u.currentTarget.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.15)",u.currentTarget.style.background="#f8f8f8")},onMouseLeave:u=>{ut.isMember||(u.currentTarget.style.borderColor="#e0e0e0",u.currentTarget.style.background="#fff")},children:[t.jsx("span",{style:{color:ut.isMember?"#ffffff":"inherit"},children:""}),t.jsx("span",{style:{color:ut.isMember?"#ffffff":"inherit"},children:"Member"})]}),t.jsxs("button",{type:"button",onClick:()=>gn({...ut,isMember:!1,memberId:"",donorName:ut.donorName}),style:{flex:"1",minWidth:"150px",padding:"14px 20px",borderRadius:"4px",border:"none",background:ut.isMember?"#f8f9ff":"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",color:ut.isMember?"#1a1a1a":"#ffffff",boxShadow:ut.isMember?"0 2px 4px rgba(90, 49, 234, 0.08)":"0 4px 12px rgba(90, 49, 234, 0.3)",fontWeight:"600",fontSize:"0.9375rem",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:u=>{ut.isMember&&(u.currentTarget.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.15)",u.currentTarget.style.background="#f8f8f8")},onMouseLeave:u=>{ut.isMember&&(u.currentTarget.style.borderColor="#e0e0e0",u.currentTarget.style.background="#fff")},children:[t.jsx("span",{style:{color:ut.isMember?"inherit":"#ffffff"},children:""}),t.jsx("span",{style:{color:ut.isMember?"inherit":"#ffffff"},children:"Non-Member"})]})]})]}),ut.isMember&&t.jsx("div",{style:{marginBottom:"16px"},children:t.jsxs("label",{children:["Select Member ",t.jsx("span",{style:{color:"#ef4444"},children:"*"}),t.jsxs("div",{style:{position:"relative"},"data-donation-member-dropdown":!0,children:[t.jsxs("div",{onClick:()=>ii(!Ki),style:{padding:"10px 16px",border:"1px solid #e0e0e0",borderRadius:"4px",background:"#fff",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",color:ut.memberId?"#000":"#999",minHeight:"42px"},children:[t.jsx("span",{children:ut.memberId?(()=>{const u=i.find(k=>k.id===ut.memberId);return u?`${u.name} (${u.id})`:"Select Member"})():"Select Member"}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#5a31ea",transition:"transform 0.2s ease",transform:Ki?"rotate(180deg)":"rotate(0deg)",display:"inline-block"},children:""})]}),Ki&&t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#fff",border:"1px solid #e0e0e0",borderRadius:"4px",marginTop:"4px",maxHeight:"300px",overflow:"hidden",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[t.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid #e0e0e0",background:"#f9fafb"},children:[t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:"text",placeholder:" Search member by name or ID...",value:kr,onChange:u=>wi(u.target.value),onClick:u=>u.stopPropagation(),onKeyDown:u=>u.stopPropagation(),autoFocus:!0,style:{width:"100%",padding:"10px 36px 10px 12px",border:"1px solid #e0e0e0",borderRadius:"4px",fontSize:"0.875rem",outline:"none",background:"#fff",transition:"border-color 0.2s"},onFocus:u=>{u.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1), 0 4px 12px rgba(90, 49, 234, 0.12)",u.target.style.boxShadow="0 0 0 2px rgba(0,0,0,0.05)"},onBlur:u=>{u.target.style.borderColor="#e0e0e0",u.target.style.boxShadow="none"}}),kr&&t.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),wi("")},style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",color:"#666",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center"},title:"Clear search",children:""})]}),kr&&t.jsxs("div",{style:{marginTop:"8px",fontSize:"0.75rem",color:"#666"},children:[i.filter(u=>!kr||u.name?.toLowerCase().includes(kr.toLowerCase())||u.id?.toLowerCase().includes(kr.toLowerCase())).length," member",i.filter(u=>!kr||u.name?.toLowerCase().includes(kr.toLowerCase())||u.id?.toLowerCase().includes(kr.toLowerCase())).length!==1?"s":""," found"]})]}),t.jsxs("div",{style:{maxHeight:"250px",overflowY:"auto"},children:[i.filter(u=>!kr||u.name?.toLowerCase().includes(kr.toLowerCase())||u.id?.toLowerCase().includes(kr.toLowerCase())).map(u=>t.jsxs("div",{onClick:()=>{gn({...ut,memberId:u.id,donorName:u.name||""}),ii(!1),wi("")},style:{padding:"12px 16px",cursor:"pointer",borderBottom:"1px solid #e5e7eb",background:ut.memberId===u.id?"#f9fafb":"#fff",transition:"background 0.2s"},onMouseEnter:k=>{ut.memberId!==u.id&&(k.target.style.background="#f9f9f9")},onMouseLeave:k=>{ut.memberId!==u.id&&(k.target.style.background="#fff")},children:[t.jsx("div",{style:{fontWeight:"500",color:"#000"},children:u.name}),t.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"2px"},children:[u.id," ",u.email?` ${u.email}`:""]})]},u.id)),i.filter(u=>!kr||u.name?.toLowerCase().includes(kr.toLowerCase())||u.id?.toLowerCase().includes(kr.toLowerCase())).length===0&&t.jsx("div",{style:{padding:"16px",textAlign:"center",color:"#999",fontSize:"0.875rem"},children:"No members found"})]})]})]}),!ut.memberId&&t.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"4px",display:"none"},children:"Please select a member"})]})}),t.jsxs("label",{children:["Payment Method ",t.jsx("span",{style:{color:"#ef4444"},children:"*"}),t.jsxs("select",{value:ut.method,onChange:u=>{gn({...ut,method:u.target.value}),$n.method&&(Kn(k=>({...k,method:!1})),Xn==="method"&&Fr(null))},required:!0,style:{border:$n.method?"2px solid #ef4444":void 0},children:[t.jsx("option",{value:"",children:"Select method"}),t.jsx("option",{value:"Cash",children:"Cash"}),t.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),t.jsx("option",{value:"FPS",children:"FPS"}),t.jsx("option",{value:"PayMe",children:"PayMe"})]})]}),["Bank Transfer","FPS","PayMe"].includes(ut.method)&&t.jsxs("label",{children:["Reference Number ",t.jsx("span",{style:{color:"#ef4444"},children:"*"}),t.jsx("input",{type:"text",value:ut.reference,onChange:u=>{gn({...ut,reference:u.target.value}),$n.reference&&(Kn(k=>({...k,reference:!1})),Xn==="reference"&&Fr(null))},placeholder:"Transaction reference number",required:!0,style:{border:$n.reference?"2px solid #ef4444":void 0}})]}),ut.method==="Cash"&&t.jsxs("label",{style:{gridColumn:"1 / -1"},children:["Proof Image ",t.jsx("span",{style:{color:"#ef4444"},children:"*"}),t.jsx("div",{style:{border:$n.screenshot?"2px dashed #ef4444":"2px dashed #d0d0d0",borderRadius:"4px",padding:"24px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",background:Lr||ut.screenshot?"#f9fafb":"#fafafa"},onMouseEnter:u=>{$n.screenshot||(u.currentTarget.style.borderColor="#5a31ea"),u.currentTarget.style.background="#f8f9ff"},onMouseLeave:u=>{u.currentTarget.style.borderColor=$n.screenshot?"#ef4444":"#d0d0d0",u.currentTarget.style.background=Lr||ut.screenshot?"#f9fafb":"#fafafa"},onClick:()=>{const u=document.createElement("input");u.type="file",u.accept="image/*",u.onchange=async k=>{const O=k.target.files[0];if(!O)return;if(!O.type.startsWith("image/")){We("Please upload an image file","error");return}const T=new FileReader;T.onloadend=()=>{Qa(O),ka(T.result),$n.screenshot&&(Kn(E=>({...E,screenshot:!1})),Xn==="screenshot"&&Fr(null))},T.readAsDataURL(O)},u.click()},children:Lr||ut.screenshot?t.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[t.jsx("img",{src:Lr||ut.screenshot,alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"4px",marginBottom:"8px"}}),t.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),Qa(null),ka(null),gn({...ut,screenshot:""}),$n.screenshot&&(Kn(k=>({...k,screenshot:!1})),Xn==="screenshot"&&Fr(null))},style:{position:"absolute",top:"8px",right:"8px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"50%",width:"28px",height:"28px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem"},children:""}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginTop:"8px"},children:"Click to change image"})]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-cloud-upload-alt",style:{fontSize:"2rem",color:"#5a31ea",marginBottom:"8px"}}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginTop:"8px"},children:"Click to upload image"}),t.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"4px"},children:"PNG, JPG, GIF up to 10MB"})]})})]}),["Bank Transfer","FPS","PayMe"].includes(ut.method)&&t.jsxs("label",{style:{gridColumn:"1 / -1"},children:["Proof Image ",t.jsx("span",{style:{color:"#ef4444"},children:"*"}),t.jsx("div",{style:{border:$n.screenshot?"2px dashed #ef4444":"2px dashed #d0d0d0",borderRadius:"4px",padding:"24px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",background:Lr||ut.screenshot?"#f9fafb":"#fafafa"},onMouseEnter:u=>{$n.screenshot||(u.currentTarget.style.borderColor="#5a31ea"),u.currentTarget.style.background="#f8f9ff"},onMouseLeave:u=>{u.currentTarget.style.borderColor=$n.screenshot?"#ef4444":"#d0d0d0",u.currentTarget.style.background=Lr||ut.screenshot?"#f9fafb":"#fafafa"},onClick:()=>{const u=document.createElement("input");u.type="file",u.accept="image/*",u.onchange=async k=>{const O=k.target.files[0];if(!O)return;if(!O.type.startsWith("image/")){We("Please upload an image file","error");return}const T=new FileReader;T.onloadend=()=>{Qa(O),ka(T.result),$n.screenshot&&(Kn(E=>({...E,screenshot:!1})),Xn==="screenshot"&&Fr(null))},T.readAsDataURL(O)},u.click()},children:Lr||ut.screenshot?t.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[t.jsx("img",{src:Lr||ut.screenshot,alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"4px",marginBottom:"8px"}}),t.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),Qa(null),ka(null),gn({...ut,screenshot:""}),$n.screenshot&&(Kn(k=>({...k,screenshot:!1})),Xn==="screenshot"&&Fr(null))},style:{position:"absolute",top:"8px",right:"8px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"50%",width:"28px",height:"28px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem"},children:""}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginTop:"8px"},children:"Click to change image"})]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-cloud-upload-alt",style:{fontSize:"2rem",color:"#5a31ea",marginBottom:"8px"}}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginTop:"8px"},children:"Click to upload image"}),t.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"4px"},children:"PNG, JPG, GIF up to 10MB"})]})})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-day",style:{marginRight:"8px",color:"#5a31ea"}}),"Date ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"date",value:ut.date,onChange:u=>{const k=u.target.value;gn({...ut,date:k}),$n.date&&(Kn(O=>({...O,date:!1})),Xn==="date"&&Fr(null))},onBlur:u=>{const k=u.target.value;if(k){const O=new Date(k);if(isNaN(O.getTime())){We("Invalid date format. Please enter a valid date (YYYY-MM-DD)","error");return}const[T,E,X]=k.split("-").map(Number);if(E<1||E>12){We("Invalid month. Please enter a month between 01 and 12","error");return}if(X<1||X>31){We("Invalid day. Please enter a valid day for the selected month","error");return}const V=new Date(T,E,0).getDate();if(X>V){We(`Invalid date. ${E}/${T} only has ${V} days`,"error");return}}},required:!0,style:{borderRadius:"4px",width:"100%",border:$n.date?"2px solid #ef4444":void 0}})]}),t.jsxs("label",{children:["Notes (Optional)",t.jsx("textarea",{value:ut.notes,onChange:u=>gn({...ut,notes:u.target.value}),rows:3,placeholder:"Additional notes about this donation..."})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[t.jsx("button",{type:"submit",className:"primary-btn",children:"Save Donation"}),t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{Di(!1),gn({donorName:"",isMember:!1,memberId:"",amount:"",method:"",date:"",notes:"",reference:"",screenshot:""}),Qa(null),ka(null),wi(""),ii(!1)},children:"Cancel"})]})]})]})}),t.jsx("div",{className:"card",children:!K||Array.isArray(K)&&K.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#666"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("p",{style:{margin:0,fontSize:"1.125rem",fontWeight:"500"},children:"No donations yet"}),t.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.9375rem",color:"#999"},children:'Click "Add Donation" to record your first donation'})]}):t.jsx("div",{className:"table-wrapper",children:(()=>{const k=(Array.isArray(K)?K:[]).filter(Ce=>Ce!==null),O=Math.ceil(k.length/Yn)||1,T=Math.min(Bi,O),E=(T-1)*Yn,X=E+Yn,V=k.slice(E,X);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666"},children:["Total donations:"," ",t.jsxs("strong",{children:["$",Cr(k.reduce((Ce,Se)=>{const Xe=parseFloat(Se?.amount||0);return Ce+(isNaN(Xe)?0:Xe)},0),{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{try{const Ce=k.map(sn=>({Date:sn.date||(sn.createdAt?new Date(sn.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),DonorName:sn.donorName||"",Type:sn.isMember?"Member":"Non-Member",Amount:sn.amount||"0",Method:sn.method||"",Notes:(sn.notes||"").replace(/\r?\n/g," ")})),Se=["Date","DonorName","Type","Amount","Method","Notes"],Xe=[Se.join(","),...Ce.map(sn=>Se.map(cn=>{const yn=sn[cn]??"";return`"${String(yn).replace(/"/g,'""')}"`}).join(","))],rt=new Blob([Xe.join(`
`)],{type:"text/csv;charset=utf-8;"}),Gt=URL.createObjectURL(rt),yt=document.createElement("a");yt.href=Gt;const vn=new Date().toISOString().slice(0,10);yt.download=`donations-report-${vn}.csv`,document.body.appendChild(yt),yt.click(),document.body.removeChild(yt),URL.revokeObjectURL(Gt),We("Donations report exported as CSV")}catch(Ce){console.error("Export donations CSV failed",Ce),We("Failed to export donations report","error")}},children:" Export Donations CSV"})]}),t.jsx(fi,{columns:["Date","Donor Name","Type","Amount","Method","Notes","Actions"],rows:V.map(Ce=>Ce?{Date:Ce.date||(Ce.createdAt?new Date(Ce.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),"Donor Name":Ce.donorName||"Unknown",Type:Ce.isMember?t.jsx("span",{className:"badge badge-active",children:"Member"}):t.jsx("span",{className:"badge badge-inactive",children:"Non-Member"}),Amount:Ce.amount?`$${Cr(Number(Ce.amount),{minimumFractionDigits:2,maximumFractionDigits:2})}`:"$0.00",Method:Ce.method||"-",Notes:Ce.notes||"-",Actions:{render:()=>t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",onClick:async()=>{ci("Are you sure you want to delete this donation?",async()=>{try{const Xe=Ce._id||Ce.id;await be(Xe),We("Donation deleted successfully!"),await le()}catch(Xe){We(Xe.message||"Failed to delete donation","error")}})},title:"Delete Donation","aria-label":"Delete Donation",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})}}:null).filter(Ce=>Ce!==null)}),O>0&&k.length>0&&t.jsx(dc,{currentPage:T,totalPages:O,onPageChange:Ni,pageSize:Yn,onPageSizeChange:Hs,totalItems:k.length})]})})()})})]}),wt==="reports"&&t.jsxs("article",{className:"screen-card",id:"reports",children:[t.jsxs("header",{className:"screen-card__header",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{children:[Br("reports"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-chart-line",style:{marginRight:"10px"}}),"Financial Reports"]}),t.jsx("p",{children:"Comprehensive financial overview and payment analytics."})]}),at&&t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("button",{type:"button",onClick:zo,title:"Export CSV",style:{padding:"12px",borderRadius:"8px",fontWeight:"600",fontSize:"1.25rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",background:"linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%)",color:"#5a31ea",border:"2px solid #e5e7eb",boxShadow:"none",width:"48px",height:"48px"},onMouseEnter:u=>{u.target.style.background="linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",u.target.style.color="#ffffff",u.target.style.border="2px solid #5a31ea",u.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.3)"},onMouseLeave:u=>{u.target.style.background="linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%)",u.target.style.color="#5a31ea",u.target.style.border="2px solid #e5e7eb",u.target.style.boxShadow="none"},children:t.jsx("i",{className:"fas fa-file-csv"})}),t.jsx("button",{type:"button",onClick:Ko,title:"Export PDF",style:{padding:"12px",borderRadius:"8px",fontWeight:"600",fontSize:"1.25rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",background:"linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%)",color:"#5a31ea",border:"2px solid #e5e7eb",boxShadow:"none",width:"48px",height:"48px"},onMouseEnter:u=>{u.target.style.background="linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",u.target.style.color="#ffffff",u.target.style.border="2px solid #5a31ea",u.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.3)"},onMouseLeave:u=>{u.target.style.background="linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%)",u.target.style.color="#5a31ea",u.target.style.border="2px solid #e5e7eb",u.target.style.boxShadow="none"},children:t.jsx("i",{className:"fas fa-file-pdf"})})]})]}),t.jsx("div",{className:"card",style:{marginBottom:"24px",padding:"20px",background:"linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%)"},children:t.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px",alignItems:"flex-end"},children:[t.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:[t.jsx("i",{className:"fas fa-calendar-alt",style:{marginRight:"6px",color:"#5a31ea"}}),"Date From"]}),t.jsx("input",{type:"date",value:Bn.from,onChange:u=>{const k=u.target.value;Oa({...Bn,from:k})},style:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"2px solid #e5e7eb",fontSize:"0.9375rem",background:"#ffffff",transition:"all 0.2s ease"},onFocus:u=>{u.target.style.borderColor="#5a31ea",u.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1)"},onBlur:u=>{u.target.style.borderColor="#e5e7eb",u.target.style.boxShadow="none"}})]}),t.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:[t.jsx("i",{className:"fas fa-calendar-check",style:{marginRight:"6px",color:"#5a31ea"}}),"Date To"]}),t.jsx("input",{type:"date",value:Bn.to,onChange:u=>{const k=u.target.value;Oa({...Bn,to:k})},style:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"2px solid #e5e7eb",fontSize:"0.9375rem",background:"#ffffff",transition:"all 0.2s ease"},onFocus:u=>{u.target.style.borderColor="#5a31ea",u.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1)"},onBlur:u=>{u.target.style.borderColor="#e5e7eb",u.target.style.boxShadow="none"}})]}),t.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:["This Year","This Quarter","This Month"].map(u=>t.jsx("button",{onClick:()=>{ws(u);const k=new Date;if(u==="This Year")Oa({from:`${k.getFullYear()}-01-01`,to:`${k.getFullYear()}-12-31`});else if(u==="This Quarter"){const T=Math.floor(k.getMonth()/3)*3;Oa({from:`${k.getFullYear()}-${String(T+1).padStart(2,"0")}-01`,to:`${k.getFullYear()}-${String(T+3).padStart(2,"0")}-31`})}else Oa({from:`${k.getFullYear()}-${String(k.getMonth()+1).padStart(2,"0")}-01`,to:`${k.getFullYear()}-${String(k.getMonth()+1).padStart(2,"0")}-31`})},style:{padding:"12px 20px",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",background:gi===u?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"#ffffff",color:gi===u?"#ffffff":"#6b7280",border:gi===u?"none":"2px solid #e5e7eb",boxShadow:gi===u?"0 4px 12px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:k=>{gi!==u&&(k.target.style.background="#f3f4f6",k.target.style.borderColor="#d1d5db")},onMouseLeave:k=>{gi!==u&&(k.target.style.background="#ffffff",k.target.style.borderColor="#e5e7eb")},children:u},u))})]})}),t.jsxs("div",{className:"kpi-grid",style:{marginBottom:"24px"},children:[t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Total Collected"]}),t.jsxs("h4",{children:["$",In.collected.toLocaleString()]}),t.jsxs("small",{children:[Math.round(In.collected/In.expected*100),"% of $",In.expected.toLocaleString()," expected"]})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-exclamation-triangle",style:{marginRight:"8px",color:"#ef4444"}}),"Outstanding"]}),t.jsxs("h4",{children:["$",Cr(vr.outstanding)]}),t.jsx("small",{children:"Pending collection"})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-users",style:{marginRight:"8px",color:"#5a31ea"}}),"Avg per Member"]}),t.jsxs("h4",{children:["$",In.averagePerMember]}),t.jsx("small",{children:"Goal: $800"})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-exchange-alt",style:{marginRight:"8px",color:"#5a31ea"}}),"Transactions"]}),t.jsx("h4",{children:In.transactionCount}),t.jsx("small",{children:"In selected period"})]})]}),t.jsxs("div",{style:{marginBottom:"24px",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"24px"},children:[t.jsxs("div",{className:"card dashboard-card",children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h4",{style:{margin:"0 0 4px 0",fontSize:"1.125rem",fontWeight:"600",color:"#1a1a1a"},children:"Collected vs Outstanding"}),t.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#666"},children:"Financial overview for selected period"})]}),t.jsxs("div",{style:{position:"relative",height:"280px",display:"flex",alignItems:"flex-end",gap:"32px",justifyContent:"center",padding:"0 24px"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"16px",flex:1,maxWidth:"200px"},children:[t.jsxs("div",{style:{width:"100%",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"8px 8px 0 0",minHeight:"60px",height:`${Math.max(60,Math.round(In.collected/(In.collected+vr.outstanding)*200)||0)}px`,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"700",fontSize:"1.125rem",transition:"all 0.2s ease",cursor:"pointer",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.2)"},onMouseEnter:u=>{u.target.style.transform="translateY(-4px)",u.target.style.boxShadow="0 4px 12px rgba(16, 185, 129, 0.3)"},onMouseLeave:u=>{u.target.style.transform="translateY(0)",u.target.style.boxShadow="0 2px 8px rgba(16, 185, 129, 0.2)"},children:["$",Cr(In.collected)]}),t.jsxs("div",{style:{textAlign:"center",width:"100%"},children:[t.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1a1a1a",display:"block",marginBottom:"4px"},children:"Collected"}),t.jsxs("span",{style:{fontSize:"0.75rem",color:"#666"},children:[Math.round(In.collected/(In.collected+vr.outstanding)*100),"%"]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"16px",flex:1,maxWidth:"200px"},children:[t.jsxs("div",{style:{width:"100%",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",borderRadius:"8px 8px 0 0",minHeight:"60px",height:`${Math.max(60,Math.round(vr.outstanding/(In.collected+vr.outstanding)*200)||0)}px`,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"700",fontSize:"1.125rem",transition:"all 0.2s ease",cursor:"pointer",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.2)"},onMouseEnter:u=>{u.target.style.transform="translateY(-4px)",u.target.style.boxShadow="0 4px 12px rgba(239, 68, 68, 0.3)"},onMouseLeave:u=>{u.target.style.transform="translateY(0)",u.target.style.boxShadow="0 2px 8px rgba(239, 68, 68, 0.2)"},children:["$",vr.outstanding.toLocaleString()]}),t.jsxs("div",{style:{textAlign:"center",width:"100%"},children:[t.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1a1a1a",display:"block",marginBottom:"4px"},children:"Outstanding"}),t.jsxs("span",{style:{fontSize:"0.75rem",color:"#666"},children:[Math.round(vr.outstanding/(In.collected+vr.outstanding)*100),"%"]})]})]})]})]}),t.jsxs("div",{className:"card dashboard-card",children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h4",{style:{margin:"0 0 4px 0",fontSize:"1.125rem",fontWeight:"600",color:"#1a1a1a"},children:"Payments Over Time"}),t.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#666"},children:"Payment trends for selected period"})]}),t.jsx("div",{style:{position:"relative",height:"240px",padding:"0 16px"},children:(()=>{const u={},k=new Date(Bn.from),O=new Date(Bn.to),T=Math.ceil((O-k)/(1e3*60*60*24));In.paymentsInRange.forEach(V=>{const Ce=V.date?new Date(V.date):V.createdAt?new Date(V.createdAt):new Date;let Se;if(T<=7)Se=Ce.toLocaleDateString("en-US",{month:"short",day:"numeric"});else if(T<=30){const rt=new Date(Ce);rt.setDate(Ce.getDate()-Ce.getDay()),Se=rt.toLocaleDateString("en-US",{month:"short",day:"numeric"})}else Se=Ce.toLocaleDateString("en-US",{month:"short",year:"numeric"});u[Se]||(u[Se]=0);const Xe=parseFloat(V.amount?.replace(/[^0-9.]/g,"")||0);u[Se]+=Xe});const E=Object.keys(u).sort((V,Ce)=>new Date(V)-new Date(Ce)).slice(-10),X=Math.max(...E.map(V=>u[V]),1);return t.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:"8px",height:"100%",justifyContent:"space-between"},children:E.length>0?E.map((V,Ce)=>{const Se=u[V],Xe=Math.max(30,Se/X*180);return t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",flex:1,minWidth:"50px"},children:[t.jsx("div",{style:{width:"100%",background:"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",borderRadius:"6px 6px 0 0",height:`${Xe}px`,minHeight:"30px",display:"flex",alignItems:"flex-end",justifyContent:"center",paddingBottom:"6px",color:"#fff",fontSize:"0.75rem",fontWeight:"600",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.15)",cursor:"pointer",transition:"all 0.2s ease"},title:`${V}: $${Se.toFixed(2)}`,onMouseEnter:rt=>{rt.currentTarget.style.transform="translateY(-4px)",rt.currentTarget.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.25)"},onMouseLeave:rt=>{rt.currentTarget.style.transform="translateY(0)",rt.currentTarget.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.15)"},children:Xe>40&&`$${Math.round(Se)}`}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#666",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",fontWeight:"500"},children:V.length>10?V.substring(0,8)+"...":V})]},`${V}-${Ce}`)}):t.jsx("div",{style:{width:"100%",textAlign:"center",color:"#999",padding:"60px 0",fontSize:"0.875rem"},children:"No payment data in selected period"})})})()})]})]}),t.jsxs("div",{className:"card",style:{marginBottom:"24px",padding:"24px",background:"linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%)",border:"1px solid #e5e7eb"},children:[t.jsxs("h4",{style:{marginBottom:"20px",fontSize:"1.25rem",fontWeight:"700",color:"#1a1a1a"},children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"10px",color:"#5a31ea"}}),"Payment Method Breakdown"]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:In.methodMix.map(u=>{const O={FPS:"#10b981",PayMe:"#25D366","Bank Transfer":"#3b82f6",Cash:"#f59e0b",Other:"#6b7280"}[u.label]||"#6b7280";return t.jsxs("div",{style:{padding:"16px",borderRadius:"12px",background:"#ffffff",border:`2px solid ${O}`,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},onMouseEnter:T=>{T.currentTarget.style.transform="translateY(-2px)",T.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.12)"},onMouseLeave:T=>{T.currentTarget.style.transform="translateY(0)",T.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.08)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[t.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:O,flexShrink:0}}),t.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1a1a1a",flex:1},children:u.label})]}),t.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:O,marginLeft:"24px"},children:u.value})]},u.label)})})]}),t.jsxs("div",{className:"card",style:{padding:"24px",background:"linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%)",border:"1px solid #e5e7eb"},children:[t.jsxs("div",{style:{marginBottom:"24px",display:"flex",gap:"16px",flexWrap:"wrap",alignItems:"center"},children:[t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsxs("label",{style:{fontWeight:"600",color:"#1a1a1a",fontSize:"0.9375rem"},children:[t.jsx("i",{className:"fas fa-filter",style:{marginRight:"6px",color:"#5a31ea"}}),"Filter by Type:"]}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"8px",flexWrap:"wrap"},children:[{value:"all",label:"All"},{value:"payments",label:"Payments"},{value:"donations",label:"Donations"}].map(u=>t.jsx("button",{type:"button",onClick:()=>x(u.value),style:{padding:"8px 16px",borderRadius:"6px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:xa===u.value?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"transparent",color:xa===u.value?"#ffffff":"#6b7280",boxShadow:xa===u.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:k=>{xa!==u.value&&(k.target.style.background="#e5e7eb",k.target.style.color="#374151")},onMouseLeave:k=>{xa!==u.value&&(k.target.style.background="transparent",k.target.style.color="#6b7280")},children:u.label},u.value))})]}),xa==="donations"&&t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a",fontSize:"0.9375rem"},children:"Filter by Donor Type:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"8px",flexWrap:"wrap"},children:[{value:"all",label:"All"},{value:"member",label:"Members"},{value:"non-member",label:"Non-Members"}].map(u=>t.jsx("button",{type:"button",onClick:()=>ie(u.value),style:{padding:"8px 16px",borderRadius:"6px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:L===u.value?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"transparent",color:L===u.value?"#ffffff":"#6b7280",boxShadow:L===u.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:k=>{L!==u.value&&(k.target.style.background="#e5e7eb",k.target.style.color="#374151")},onMouseLeave:k=>{L!==u.value&&(k.target.style.background="transparent",k.target.style.color="#6b7280")},children:u.label},u.value))})]})]}),t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("h4",{style:{margin:0,fontSize:"1.25rem",fontWeight:"700",color:"#1a1a1a"},children:[t.jsx("i",{className:"fas fa-list",style:{marginRight:"10px",color:"#5a31ea"}}),"Transactions"]}),t.jsx("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:t.jsx("input",{type:"text",placeholder:"Search transactions...",value:me,onChange:u=>{Pe(u.target.value),tt(1)},style:{padding:"10px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.9375rem",minWidth:"250px",background:"#ffffff"}})})]}),t.jsxs("div",{style:{overflow:"hidden",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[t.jsx("div",{className:"table-wrapper",style:{overflowX:"auto",width:"100%",maxWidth:"100%"},children:t.jsx(fi,{columns:["Date","Type","Member / Donor","Invoice ID","Amount","Method","Screenshot","Status","Actions"],rows:(()=>{let k=[...(In.paymentsInRange||[]).map(V=>({...V,type:"Payment",source:V.member||"Unknown",amount:V.amount,method:V.method,screenshot:V.screenshot,status:V.status||"Completed",invoiceId:V.invoiceId,period:V.period,date:V.date||(V.createdAt?new Date(V.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),createdAt:V.createdAt||new Date(V.date||0)})),...(In.donationsInRange||[]).map(V=>({...V,type:"Donation",source:V.donorName,amount:V.amount,method:V.method||"N/A",screenshot:V.screenshot||null,status:"Completed",invoiceId:null,period:null,date:V.date||(V.createdAt?new Date(V.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),createdAt:V.createdAt||new Date(V.date||0),isMember:V.isMember}))].sort((V,Ce)=>{const Se=V.createdAt?new Date(V.createdAt):new Date(V.date||0);return(Ce.createdAt?new Date(Ce.createdAt):new Date(Ce.date||0))-Se}).filter(V=>!(xa==="payments"&&V.type!=="Payment"||xa==="donations"&&V.type!=="Donation"||V.type==="Donation"&&(L==="member"&&!V.isMember||L==="non-member"&&V.isMember)));if(me.trim()){const V=me.toLowerCase();k=k.filter(Ce=>Ce.source&&Ce.source.toLowerCase().includes(V)||Ce.invoiceId&&Ce.invoiceId.toString().toLowerCase().includes(V)||Ce.amount&&Ce.amount.toString().toLowerCase().includes(V)||Ce.method&&Ce.method.toLowerCase().includes(V)||Ce.status&&Ce.status.toLowerCase().includes(V)||Ce.date&&Ce.date.toLowerCase().includes(V))}k.length;const O=(Ke-1)*Nt,T=O+Nt;return k.slice(O,T).map(V=>(V._id||V.id,{Date:V.date||"N/A",Type:{render:()=>V.type==="Payment"?t.jsx("span",{className:"badge badge-paid",children:"Payment"}):t.jsx("span",{className:"badge badge-active",children:"Donation"})},"Member / Donor":V.source||"Unknown","Invoice ID":V.invoiceId||(V.type==="Donation","N/A"),Amount:V.amount||"$0",Method:V.type==="Payment"?Sn(V):V.method||"N/A",Screenshot:{render:()=>V.screenshot?t.jsx("a",{href:V.screenshot,target:"_blank",rel:"noopener noreferrer",style:{color:"#5a31ea",textDecoration:"none"},title:"View screenshot","aria-label":"View screenshot",children:t.jsx("i",{className:"fas fa-image","aria-hidden":"true"})}):"N/A"},Status:{render:()=>t.jsx("span",{className:hi[V.status]||"badge badge-paid",children:V.status})},Actions:{render:()=>t.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:V.type==="Payment"&&V.invoiceId&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--view",onClick:()=>{const Ce=r.find(Xe=>Xe.id===V.invoiceId||Xe._id===V.invoiceId);if(!Ce){We("Invoice not found for this transaction","error");return}const Se=i.find(Xe=>Xe.id===Ce.memberId)||i.find(Xe=>Xe.name&&Ce.memberName&&Xe.name.toLowerCase()===Ce.memberName.toLowerCase());if(!Se){We("Member not found for this invoice","error");return}Q(Se),Kt("member-detail"),Xt("Invoices")},title:"View Invoice",children:t.jsx("i",{className:"fas fa-eye","aria-hidden":"true"})})})}}))})()})}),(()=>{let k=[...(In.paymentsInRange||[]).map(X=>({...X,type:"Payment",source:X.member||"Unknown",amount:X.amount,method:X.method,screenshot:X.screenshot,status:X.status||"Completed",invoiceId:X.invoiceId,period:X.period,date:X.date||(X.createdAt?new Date(X.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),createdAt:X.createdAt||new Date(X.date||0)})),...(In.donationsInRange||[]).map(X=>({...X,type:"Donation",source:X.donorName,amount:X.amount,method:X.method||"N/A",screenshot:X.screenshot||null,status:"Completed",invoiceId:null,period:null,date:X.date||(X.createdAt?new Date(X.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),createdAt:X.createdAt||new Date(X.date||0),isMember:X.isMember}))].sort((X,V)=>{const Ce=X.createdAt?new Date(X.createdAt):new Date(X.date||0);return(V.createdAt?new Date(V.createdAt):new Date(V.date||0))-Ce}).filter(X=>!(xa==="payments"&&X.type!=="Payment"||xa==="donations"&&X.type!=="Donation"||X.type==="Donation"&&(L==="member"&&!X.isMember||L==="non-member"&&X.isMember)));if(me.trim()){const X=me.toLowerCase();k=k.filter(V=>V.source&&V.source.toLowerCase().includes(X)||V.invoiceId&&V.invoiceId.toString().toLowerCase().includes(X)||V.amount&&V.amount.toString().toLowerCase().includes(X)||V.method&&V.method.toLowerCase().includes(X)||V.status&&V.status.toLowerCase().includes(X)||V.date&&V.date.toLowerCase().includes(X))}const O=k.length,T=Math.ceil(O/Nt),E=Math.min(Ke,T||1);return t.jsx(dc,{currentPage:E,totalPages:T||1,onPageChange:tt,pageSize:Nt,onPageSizeChange:X=>{Bt(X),tt(1)},totalItems:O})})()]})]})]})]}),wt==="export-reports"&&t.jsxs("article",{className:"screen-card",id:"export-reports",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Br("export-reports"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-file-export",style:{marginRight:"10px"}}),"Export Reports"]}),t.jsx("p",{children:"Export financial data in various formats."})]})}),t.jsx("div",{className:"card",children:t.jsxs("div",{style:{padding:"24px"},children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h4",{style:{marginBottom:"12px"},children:"Export Options"}),t.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Export your financial data in CSV or PDF format. Select a date range to export specific periods."})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px",marginBottom:"24px"},children:[t.jsxs("div",{className:"card",style:{padding:"20px",background:"linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%)",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"180px"},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{marginBottom:"8px",fontSize:"1rem"},children:" CSV Export"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"16px"},children:"Export all transactions as a CSV file for Excel or spreadsheet applications."})]}),t.jsxs("button",{className:"secondary-btn",onClick:zo,style:{width:"100%",marginTop:"auto"},disabled:!at,title:at?"Export CSV":"Export allowed only for finance roles",children:[t.jsx("i",{className:"fas fa-file-csv",style:{marginRight:"8px"}}),"Export CSV"]})]}),t.jsxs("div",{className:"card",style:{padding:"20px",background:"linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%)",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"180px"},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{marginBottom:"8px",fontSize:"1rem"},children:" PDF Export"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"16px"},children:"Generate a formatted PDF report with charts and summaries."})]}),t.jsxs("button",{className:"secondary-btn",onClick:Ko,style:{width:"100%",marginTop:"auto"},disabled:!at,title:at?"Export PDF":"Export allowed only for finance roles",children:[t.jsx("i",{className:"fas fa-file-pdf",style:{marginRight:"8px"}}),"Export PDF"]})]})]}),t.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"#f8f9ff",borderRadius:"8px"},children:[t.jsxs("p",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"8px"},children:[t.jsx("strong",{children:"Note:"})," For detailed reports with date filters and analytics, visit the Financial Reports section."]}),t.jsxs("button",{className:"ghost-btn",onClick:()=>{Wa("reports"),We("Redirecting to Financial Reports...")},children:[t.jsx("i",{className:"fas fa-chart-bar",style:{marginRight:"8px"}}),"Go to Financial Reports"]})]})]})})]}),wt==="roles"&&Ee&&t.jsxs("article",{className:"screen-card",id:"roles",children:[t.jsx("header",{className:"screen-card__header",children:t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:t.jsxs("div",{children:[Br("roles"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-user-shield",style:{marginRight:"10px"}}),"Roles"]}),t.jsx("p",{children:"Manage admin roles and permissions."})]})})}),t.jsx("div",{className:"card",children:t.jsxs("div",{style:{padding:"24px"},children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h4",{style:{marginBottom:"12px"},children:"Available Roles"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",marginBottom:"24px"},children:[t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"2px solid #5a31ea"},children:[t.jsx("h5",{style:{margin:"0 0 8px 0",color:"#5a31ea"},children:"Admin"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",margin:0},children:"Full access to all features and settings"})]}),t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px"},children:[t.jsx("h5",{style:{margin:"0 0 8px 0"},children:"Finance"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",margin:0},children:"Can manage finances, invoices, and payments"})]}),t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px"},children:[t.jsx("h5",{style:{margin:"0 0 8px 0"},children:"Staff"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",margin:0},children:"Can manage members and view reports, no financial exports"})]}),t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px"},children:[t.jsx("h5",{style:{margin:"0 0 8px 0"},children:"Viewer"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",margin:0},children:"Read-only access to view data"})]})]})]}),t.jsx("div",{className:"table-wrapper",children:t.jsx(fi,{columns:["Name","Email","Role","Status","Actions"],rows:a.map(u=>({Name:u.name||"N/A",Email:u.email||"N/A",Role:{render:()=>t.jsx("span",{className:"badge badge-active",children:u.role||"Viewer"})},Status:{render:()=>t.jsx("span",{className:u.status==="Active"?"badge badge-active":u.status==="Pending"?"badge badge-pending":"badge badge-overdue",children:u.status||"Active"})},Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{className:"ghost-btn icon-btn icon-btn--edit",onClick:async()=>{try{const k=["Admin","Finance","Staff","Viewer"],O=u.role||"Viewer",T=k.indexOf(O),E=T===-1?0:(T+1)%k.length,X=k[E];await fe(u.id,{role:X}),We(`${u.name}'s role updated to ${X}`)}catch(k){We(k.message||"Failed to update role","error")}},title:"Change Role",children:t.jsx("i",{className:"fas fa-sync-alt","aria-hidden":"true"})}),(u.role||"Viewer")!=="Admin"&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",style:{color:"#ef4444"},onClick:async()=>{ci(`Remove ${u.name} from admin users?`,async()=>{try{await Le(u.id),We(`${u.name} removed`),await U()}catch(k){We(k.message||"Failed to delete admin","error")}})},title:"Delete Admin",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}))})})]})})]}),wt==="org-settings"&&t.jsxs("article",{className:"screen-card",id:"org-settings",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Br("org-settings"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-building",style:{marginRight:"10px"}}),"Organization Settings"]}),t.jsx("p",{children:"Manage organization information and preferences."})]})}),t.jsx("div",{className:"settings-container",children:t.jsxs("div",{className:"settings-card",children:[t.jsxs("div",{className:"settings-card__header",children:[t.jsx("h4",{className:"settings-card__title",children:"Organization Info"}),t.jsx("p",{className:"settings-card__subtitle",children:"Update your organization's contact information"})]}),t.jsxs("form",{noValidate:!0,onSubmit:u=>{u.preventDefault(),se(Za),We("Organization info updated!")},className:"settings-form",children:[t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Organization Name",t.jsx("input",{type:"text",className:"settings-form__input",value:Za.name,onChange:u=>cs({...Za,name:u.target.value}),placeholder:"Subscription Manager HK"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Email",t.jsx("input",{type:"email",className:"settings-form__input",value:Za.email,onChange:u=>cs({...Za,email:u.target.value}),placeholder:"support@subscriptionhk.org"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Phone",t.jsx("input",{type:"text",className:"settings-form__input",value:Za.phone,onChange:u=>cs({...Za,phone:u.target.value}),placeholder:"+852 2800 1122"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Address",t.jsx("textarea",{className:"settings-form__input",value:Za.address,onChange:u=>cs({...Za,address:u.target.value}),placeholder:"123 Central Street, Hong Kong",rows:3})]})}),t.jsxs("div",{className:"settings-form__group",children:[t.jsxs("label",{className:"settings-form__label",children:[t.jsx("i",{className:"fas fa-globe",style:{marginRight:"8px",color:"#5a31ea"}}),"Number Format Locale ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("select",{className:"settings-form__input",value:ke,onChange:u=>{Re(u.target.value),We("Number format locale updated! Numbers will refresh automatically.","success")},style:{padding:"12px",border:"1px solid #e5e7eb",borderRadius:"4px",fontSize:"0.875rem",color:"#1a1a1a",backgroundColor:"#ffffff",cursor:"pointer"},children:Ay().map(u=>t.jsx("option",{value:u.value,children:u.label},u.value))}),t.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.75rem",color:"#666"},children:["Choose your preferred number format. Example: ",Cr(123456789e-2,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsx("div",{className:"settings-form__actions",children:t.jsx("button",{type:"submit",className:"primary-btn",children:"Save Changes"})})]})]})})]}),wt==="settings"&&Ee&&t.jsxs("article",{className:"screen-card",id:"settings",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Br("settings"),t.jsx("h3",{children:"Admin Settings"}),t.jsx("p",{children:"Organization profile and admin accounts."})]})}),t.jsx("div",{className:"settings-container",children:t.jsxs("div",{className:"settings-card",children:[t.jsx("div",{className:"settings-card__header",children:t.jsxs("div",{className:"settings-card__header-content",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"settings-card__title",children:"User Management"}),t.jsx("p",{className:"settings-card__subtitle",children:"Manage admin users and their permissions"})]}),t.jsx("button",{className:"settings-card__add-btn secondary-btn",onClick:()=>{if(!Ee){We("Only Admin can add new admin users","error");return}na(!0),Qn({name:"",email:"",password:"",role:"Viewer",status:"Active"})},disabled:!Ee,title:Ee?"Add a new admin user":"Only Admin can add admins",children:"+ Add Admin"})]})}),t.jsx("div",{className:"settings-table-wrapper",children:t.jsx(fi,{columns:["User","Role","Status","Actions"],rows:a.map(u=>({User:u.name,Role:u.role||"Viewer",Status:{render:()=>t.jsx("span",{className:(u.status||"Active")==="Active"?"badge badge-active":"badge badge-inactive",children:u.status||"Active"})},Actions:{render:()=>t.jsxs("div",{className:"settings-table__actions",children:[(u.status||"Active")==="Active"?t.jsx("button",{className:"ghost-btn settings-table__action-btn",onClick:async()=>{try{await fe(u.id,{status:"Inactive"}),We(`${u.name} deactivated`)}catch(k){We(k.message||"Failed to update admin","error")}},children:"Deactivate"}):t.jsx("button",{className:"secondary-btn settings-table__action-btn",onClick:async()=>{try{await fe(u.id,{status:"Active"}),We(`${u.name} activated`)}catch(k){We(k.message||"Failed to update admin","error")}},children:"Activate"}),(u.role||"Viewer")!=="Admin"&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",onClick:async()=>{ci(`Remove ${u.name} from admin users?`,async()=>{try{await Le(u.id),We(`${u.name} removed`),await U()}catch(k){We(k.message||"Failed to delete admin","error")}})},title:"Remove Admin","aria-label":"Remove Admin",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}))})})]})}),Bs&&t.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:u=>{u.target===u.currentTarget&&na(!1)},children:t.jsxs("div",{className:"card",style:{maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",background:"#f9fafb",position:"relative",padding:"24px 24px 20px"},onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"8px",margin:0},children:[t.jsx("i",{className:"fas fa-user-plus","aria-hidden":"true"}),"Add New Admin"]}),t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>na(!1),style:{fontSize:"1.5rem",lineHeight:1,color:"#ef4444",fontWeight:"bold",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",border:"1px solid #ef4444",background:"transparent",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:u=>{u.target.style.background="#fee2e2"},onMouseLeave:u=>{u.target.style.background="transparent"},"aria-label":"Close add admin form",children:""})]}),t.jsxs("form",{noValidate:!0,onSubmit:async u=>{if(u.preventDefault(),!Aa.name){We("Please enter admin name","error");return}if(!Aa.email){We("Please enter admin email","error");return}if(!Aa.password){We("Please enter admin password","error");return}try{await Me(Aa),na(!1),Qn({name:"",email:"",password:"",role:"Viewer",status:"Active"}),We("Admin user added!")}catch(k){We(k.message||"Failed to add admin user","error")}},className:"settings-form",children:[t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Name",t.jsx("input",{type:"text",className:"settings-form__input",required:!0,value:Aa.name,onChange:u=>Qn({...Aa,name:u.target.value}),placeholder:"Enter admin name"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Email",t.jsx("input",{type:"email",className:"settings-form__input",required:!0,value:Aa.email,onChange:u=>Qn({...Aa,email:u.target.value}),placeholder:"Enter admin email"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Password",t.jsx("input",{type:"password",className:"settings-form__input",required:!0,value:Aa.password,onChange:u=>Qn({...Aa,password:u.target.value}),placeholder:"Set a password"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Role",t.jsxs("select",{className:"settings-form__select",value:Aa.role,onChange:u=>Qn({...Aa,role:u.target.value}),children:[t.jsx("option",{children:"Admin"}),t.jsx("option",{children:"Finance"}),t.jsx("option",{children:"Staff"}),t.jsx("option",{children:"Viewer"})]})]})}),t.jsxs("div",{className:"settings-form__actions",children:[t.jsx("button",{type:"button",className:"ghost-btn settings-form__cancel",onClick:()=>na(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"primary-btn settings-form__submit-btn",children:"Add Admin"})]})]})]})})]})]})]})]}),Oo&&aa&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:u=>{u.target===u.currentTarget&&(js(!1),Hi(null),lr({paymentMethod:"Admin",imageFile:null,imagePreview:null,imageUrl:""}))},children:t.jsxs("div",{className:"card",style:{maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",position:"relative"},onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-money-bill-wave",style:{marginRight:"8px",color:"#5a31ea"}}),"Pay Invoice #",aa.id]}),t.jsx("button",{type:"button",onClick:()=>{js(!1),Hi(null),lr({paymentMethod:"Admin",imageFile:null,imagePreview:null,imageUrl:""})},style:{background:"transparent",border:"none",fontSize:"1.5rem",color:"#666",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},onMouseEnter:u=>{u.target.style.background="#f3f4f6",u.target.style.color="#1a1a1a"},onMouseLeave:u=>{u.target.style.background="transparent",u.target.style.color="#666"},children:""})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Amount:"}),t.jsx("strong",{style:{color:"#1a1a1a",fontSize:"1.125rem"},children:aa.amount})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Period:"}),t.jsx("span",{style:{color:"#1a1a1a"},children:aa.period})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Due Date:"}),t.jsx("span",{style:{color:"#1a1a1a"},children:aa.due})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"12px"},children:"Payment Method"}),t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[t.jsxs("button",{type:"button",onClick:()=>lr({...wn,paymentMethod:"Admin"}),style:{flex:"1",minWidth:"150px",padding:"12px 20px",borderRadius:"8px",border:"none",background:wn.paymentMethod==="Admin"?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"#f8f9ff",color:wn.paymentMethod==="Admin"?"#ffffff":"#1a1a1a",boxShadow:wn.paymentMethod==="Admin"?"0 4px 12px rgba(90, 49, 234, 0.3)":"0 2px 4px rgba(90, 49, 234, 0.08)",fontWeight:"600",fontSize:"0.9375rem",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-user-shield"}),"Paid to Admin"]}),t.jsxs("button",{type:"button",onClick:()=>lr({...wn,paymentMethod:"Online"}),style:{flex:"1",minWidth:"150px",padding:"12px 20px",borderRadius:"8px",border:"none",background:wn.paymentMethod==="Online"?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"#f8f9ff",color:wn.paymentMethod==="Online"?"#ffffff":"#1a1a1a",boxShadow:wn.paymentMethod==="Online"?"0 4px 12px rgba(90, 49, 234, 0.3)":"0 2px 4px rgba(90, 49, 234, 0.08)",fontWeight:"600",fontSize:"0.9375rem",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-globe"}),"Paid Online"]})]})]}),wn.paymentMethod==="Online"&&t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:["Reference Number ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:wn.reference,onChange:u=>{lr({...wn,reference:u.target.value}),Hn.reference&&ma({...Hn,reference:!1})},placeholder:"Enter payment reference number",style:{width:"100%",padding:"10px 12px",border:Hn.reference?"2px solid #ef4444":"1px solid #e0e0e0",borderRadius:"8px",fontSize:"0.875rem",outline:"none",transition:"border-color 0.2s",boxShadow:Hn.reference?"0 0 0 3px rgba(239, 68, 68, 0.1)":"none"},onFocus:u=>{Hn.reference||(u.target.style.borderColor="#5a31ea",u.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1)")},onBlur:u=>{Hn.reference||(u.target.style.borderColor="#e0e0e0",u.target.style.boxShadow="none")}})]}),(wn.paymentMethod==="Admin"||wn.paymentMethod==="Online")&&t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"12px"},children:["Attachment Image ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("div",{style:{border:Hn.image?"2px dashed #ef4444":"2px dashed #d0d0d0",borderRadius:"8px",padding:"20px",textAlign:"center",background:Hn.image?"#fef2f2":"#fafafa",cursor:"pointer",transition:"all 0.2s ease",boxShadow:Hn.image?"0 0 0 3px rgba(239, 68, 68, 0.1)":"none"},onMouseEnter:u=>{Hn.image||(u.currentTarget.style.borderColor="#5a31ea",u.currentTarget.style.background="#f8f9ff")},onMouseLeave:u=>{Hn.image?(u.currentTarget.style.borderColor="#ef4444",u.currentTarget.style.background="#fef2f2"):(u.currentTarget.style.borderColor="#d0d0d0",u.currentTarget.style.background="#fafafa")},onClick:()=>{Hn.image&&ma({...Hn,image:!1});const u=document.createElement("input");u.type="file",u.accept="image/*",u.onchange=async k=>{const O=k.target.files[0];if(!O)return;if(!O.type.startsWith("image/")){We("Please upload an image file","error");return}const T=new FileReader;T.onloadend=()=>{lr(E=>({...E,imageFile:O,imagePreview:T.result})),ma(E=>({...E,image:!1}))},T.readAsDataURL(O)},u.click()},children:wn.imagePreview||aa.screenshot&&!wn.imageFile?t.jsxs("div",{style:{position:"relative"},children:[t.jsx("img",{src:wn.imagePreview||aa.screenshot,alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"4px",marginBottom:"8px"}}),t.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),lr({...wn,imageFile:null,imagePreview:null,imageUrl:""}),ma(k=>({...k,image:!1}))},style:{position:"absolute",top:"8px",right:"8px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"50%",width:"28px",height:"28px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem"},children:""})]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-cloud-upload-alt",style:{fontSize:"2rem",color:"#5a31ea",marginBottom:"8px"}}),t.jsx("p",{style:{margin:"0",color:"#666",fontSize:"0.875rem"},children:"Click to upload image"}),t.jsx("p",{style:{margin:"4px 0 0 0",color:"#999",fontSize:"0.75rem"},children:"PNG, JPG, GIF up to 5MB"})]})})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"8px"},children:[t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{js(!1),Hi(null),lr({paymentMethod:"",imageFile:null,imagePreview:null,imageUrl:"",reference:""}),ma({image:!1,reference:!1})},disabled:Ba,children:"Cancel"}),wn.paymentMethod&&t.jsx("button",{type:"button",className:"primary-btn",disabled:Ba,onClick:async()=>{const u=wn.paymentMethod==="Online"?wn.reference.trim():!0;if(wn.paymentMethod==="Online"&&!u){ma({...Hn,reference:!0}),We("Reference number not entered. Please enter a reference number for online payments.","warning");return}if(!(wn.imageFile||wn.imageUrl||aa?.screenshot)){ma({...Hn,image:!0}),We("Image has not been uploaded. Please upload an image attachment.","warning");return}ma({image:!1,reference:!1}),ci(`Are you sure you want to mark Invoice #${aa.id} as paid?`,async()=>{Ca(!0);try{const O="http://localhost:4000";let T=wn.imageUrl||aa.screenshot;if(wn.imageFile){const V=new FormData;V.append("screenshot",wn.imageFile),V.append("uploadType","invoice-payment-attachment");const Ce=await fetch(`${O}/api/upload/screenshot`,{method:"POST",body:V});if(!Ce.ok){let Xe="Failed to upload image";try{const rt=await Ce.json();Xe=rt.error||Xe,console.error("Upload error response:",rt)}catch(rt){console.error("Failed to parse error response:",rt),Xe=`Upload failed with status ${Ce.status}`}throw new Error(Xe)}const Se=await Ce.json();if(!Se.url)throw new Error("No URL returned from upload. Please try again.");T=Se.url}if(!T)throw new Error("Image upload is required for all payments");if(wn.paymentMethod==="Online"&&!wn.reference.trim())throw new Error("Reference number is required for online payments");T&&T!==aa.screenshot&&await ge(aa.id,{screenshot:T});const E=wn.paymentMethod==="Admin"?"Cash":"Online",X=wn.paymentMethod==="Online"?wn.reference.trim():null;await Zo(aa.id,E,T,X),js(!1),Hi(null),lr({paymentMethod:"",imageFile:null,imagePreview:null,imageUrl:"",reference:""}),ma({image:!1,reference:!1}),We(`Invoice #${aa.id} marked as paid!`,"success")}catch(O){console.error("Error processing payment:",O),We(O.message||"Failed to process payment","error")}finally{Ca(!1)}},null,"Confirm")},style:{opacity:Ba?.6:1,cursor:Ba?"not-allowed":"pointer"},children:Ba?"Processing...":"Mark as Paid"})]})]})]})}),en&&kn&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:u=>{u.target===u.currentTarget&&(ai(!1),zs(null))},children:t.jsxs("div",{className:"card",style:{maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",position:"relative"},onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-receipt",style:{marginRight:"8px",color:"#5a31ea"}}),"Payment Details"]}),t.jsx("button",{type:"button",onClick:()=>{ai(!1),zs(null)},style:{background:"transparent",border:"none",fontSize:"1.5rem",color:"#666",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},onMouseEnter:u=>{u.target.style.background="#f3f4f6",u.target.style.color="#1a1a1a"},onMouseLeave:u=>{u.target.style.background="transparent",u.target.style.color="#666"},children:""})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:[kn.date&&t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsx("span",{style:{display:"block",color:"#666",fontSize:"0.875rem",marginBottom:"4px"},children:"Date"}),t.jsx("strong",{style:{color:"#1a1a1a",fontSize:"1rem"},children:kn.date})]}),kn.amount&&t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsx("span",{style:{display:"block",color:"#666",fontSize:"0.875rem",marginBottom:"4px"},children:"Amount"}),t.jsx("strong",{style:{color:"#5a31ea",fontSize:"1.25rem",fontWeight:"700"},children:kn.amount})]}),kn.status&&t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsx("span",{style:{display:"block",color:"#666",fontSize:"0.875rem",marginBottom:"4px"},children:"Status"}),t.jsx("span",{className:`badge ${kn.status==="Paid"||kn.status==="Completed"?"badge-paid":kn.status==="Pending Verification"||kn.status==="Pending"?"badge-pending":"badge-unpaid"}`,style:{fontSize:"0.875rem",padding:"6px 12px",display:"inline-block",marginTop:"4px"},children:kn.status})]}),t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsx("span",{style:{display:"block",color:"#666",fontSize:"0.875rem",marginBottom:"4px"},children:"Payment Method"}),t.jsx("strong",{style:{color:"#1a1a1a",fontSize:"1rem"},children:Sn(kn)})]})]}),t.jsxs("div",{style:{padding:"20px",background:"#fafafa",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsx("h4",{style:{margin:"0 0 16px 0",fontSize:"1rem",fontWeight:"600",color:"#333"},children:"Additional Information"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[kn.reference&&kn.reference!=="N/A"&&kn.reference!=="-"&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Reference:"}),t.jsx("strong",{style:{fontSize:"0.875rem",fontFamily:"monospace",color:"#1a1a1a"},children:kn.reference})]}),kn.paidToAdminName&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Paid to:"}),t.jsx("strong",{style:{fontSize:"0.875rem",color:"#1a1a1a"},children:kn.paidToAdminName})]}),kn.period&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Period:"}),t.jsx("strong",{style:{fontSize:"0.875rem",color:"#1a1a1a"},children:kn.period})]}),kn.member&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Member:"}),t.jsx("strong",{style:{fontSize:"0.875rem",color:"#1a1a1a"},children:kn.member})]}),kn.memberEmail&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Email:"}),t.jsx("strong",{style:{fontSize:"0.875rem",color:"#1a1a1a"},children:kn.memberEmail})]}),kn.invoiceId&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Invoice ID:"}),t.jsx("strong",{style:{fontSize:"0.875rem",fontFamily:"monospace",color:"#1a1a1a"},children:kn.invoiceId})]}),kn.notes&&t.jsxs("div",{style:{marginTop:"8px",paddingTop:"12px",borderTop:"1px solid #e0e0e0"},children:[t.jsx("span",{style:{display:"block",fontSize:"0.875rem",color:"#666",marginBottom:"4px"},children:"Notes:"}),t.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#1a1a1a"},children:kn.notes})]})]})]}),kn.screenshot&&t.jsxs("div",{children:[t.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",fontWeight:"600",color:"#333"},children:[t.jsx("i",{className:"fas fa-image",style:{marginRight:"8px",color:"#5a31ea"}}),"Payment Screenshot"]}),t.jsx("div",{style:{border:"1px solid #e0e0e0",borderRadius:"8px",overflow:"hidden",background:"#fafafa"},children:t.jsx("img",{src:kn.screenshot,alt:"Payment Screenshot",style:{width:"100%",height:"auto",display:"block",cursor:"pointer"},onClick:()=>{const u=window.open();u&&u.document.write(`
                            <html>
                              <head><title>Payment Screenshot</title></head>
                              <body style="margin:0;padding:20px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:100vh;">
                                <img src="${kn.screenshot}" alt="Payment Screenshot" style="max-width:100%;max-height:90vh;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);" />
                              </body>
                            </html>
                          `)}})}),t.jsxs("button",{type:"button",onClick:()=>{const u=window.open();u&&u.document.write(`
                          <html>
                            <head><title>Payment Screenshot</title></head>
                            <body style="margin:0;padding:20px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:100vh;">
                              <img src="${kn.screenshot}" alt="Payment Screenshot" style="max-width:100%;max-height:90vh;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);" />
                            </body>
                          </html>
                        `)},className:"primary-btn",style:{width:"100%",marginTop:"12px",padding:"12px 20px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-expand"}),"Open Screenshot in New Window"]})]}),t.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"8px"},children:t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{ai(!1),zs(null)},children:"Close"})})]})]})}),t.jsx(kc,{})]})}function Py(){const{members:i,admins:a,invoices:r,payments:o,paymentHistory:c,addPayment:l,updateInvoice:m,updateMember:p,fetchInvoices:g,fetchPayments:v,fetchMembers:w,loading:A}=Xd(),R=[{id:"dashboard",label:"Dashboard"},{id:"pay",label:"Pay Now"},{id:"invoices",label:"Invoices"},{id:"history",label:"Payment History"},{id:"profile",label:"Profile"}],[b,U]=Z.useState(R[0].id),[M,I]=Z.useState("Online Payment"),[P,$]=Z.useState([]),[Q,q]=Z.useState(""),[de,ue]=Z.useState(null),[_e,ge]=Z.useState(!1),[te,xe]=Z.useState(null),[z,H]=Z.useState(!1),[ne,se]=Z.useState(null),[ke,Re]=Z.useState("success"),[Me,fe]=Z.useState(!1),[Le,Ie]=Z.useState(!1),[ee,C]=Z.useState(!1),[J,K]=Z.useState(!1),[le,pe]=Z.useState(1),[be,De]=Z.useState(10),Te=sessionStorage.getItem("memberEmail"),ze=sessionStorage.getItem("memberId"),Ee=ze?i.find(Ae=>Ae.id===ze):Te?i.find(Ae=>Ae.email&&Ae.email.toLowerCase()===Te.toLowerCase()):null,[it,ot]=Z.useState(()=>Ee?{name:Ee.name||"",email:Ee.email||"",phone:Ee.phone||"",password:"",emailReminders:!0,whatsappReminders:!0}:{name:"",email:"",phone:"",password:"",emailReminders:!0,whatsappReminders:!0});Z.useEffect(()=>{Ee&&ot({name:Ee.name||"",email:Ee.email||"",phone:Ee.phone||"",password:"",emailReminders:!0,whatsappReminders:!0})},[Ee,i]),Z.useEffect(()=>{(Te||ze)&&!Ee&&!A&&i.length===0&&w()},[Te,ze,Ee,A,i.length]),Z.useEffect(()=>{b==="history"&&pe(1)},[be,b]),Z.useEffect(()=>{(b==="invoices"||b==="history")&&(g(),v())},[b]),Z.useEffect(()=>{const Ae=$e=>{ee&&!$e.target.closest(".admin-menu")&&!$e.target.closest(".mobile-menu-toggle")&&C(!1)};return ee?(document.addEventListener("click",Ae),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.removeEventListener("click",Ae),document.body.style.overflow=""}},[ee]);const at=fo();Um(15);const G=Ae=>{U(Ae),H(!1)},mt=()=>{It("You have been logged out","success"),setTimeout(()=>{at("/login",{replace:!0})},500)},It=(Ae,$e="success")=>{se(Ae),Re($e),setTimeout(()=>se(null),3e3)},Ct=Ae=>{const $e=(o||c||[]).find(oe=>oe.invoiceId===Ae.id);if($e){if($e.status==="Pending")return"Pending Verification";if($e.status==="Completed")return"Paid";if($e.status==="Rejected")return"Unpaid"}return Ae.status},Qe=()=>Ee?r.filter(Ae=>{const $e=Ct(Ae);return(Ae.memberId===Ee.id||Ae.memberEmail===Ee.email||Ae.memberName===Ee.name)&&($e==="Unpaid"||$e==="Overdue")}):[],bt=()=>Qe().map($e=>({label:$e.period,due:$e.due,amount:$e.amount,status:$e.status,id:$e.id})),gt=()=>P.reduce((Ae,$e)=>{const oe=r.find(je=>je.id===$e);return oe?Ae+parseFloat(oe.amount.replace("$","")):Ae},0),Mt=Ae=>{P.includes(Ae)?$(P.filter($e=>$e!==Ae)):$([...P,Ae])},Rt=async Ae=>{if(Ae.preventDefault(),P.length===0){It("Please select at least one invoice","error");return}if(!de){It("Please upload a payment screenshot","error");return}ge(!0);try{const $e="http://localhost:4000",oe=new FormData;oe.append("screenshot",de);const je=await fetch(`${$e}/api/upload-screenshot`,{method:"POST",body:oe});if(!je.ok){let qe="Failed to upload screenshot";try{const ct=await je.json();qe=ct.error||qe,console.error("Upload error response:",ct)}catch(ct){console.error("Failed to parse error response:",ct),qe=`Upload failed with status ${je.status}`}throw new Error(qe)}const nt=await je.json();if(!nt.url)throw new Error("No URL returned from upload. Please try again.");const pt=nt.url;for(const qe of P){const ct=r.find(Zt=>Zt.id===qe);ct&&(await m(qe,{status:"Pending Verification",method:"Screenshot",reference:`PENDING_${Date.now()}`,screenshot:pt}),await l({invoiceId:qe,amount:ct.amount,method:"Screenshot",reference:`PENDING_${Date.now()}`,member:Ee?.name||"Member",memberId:Ee?.id,memberEmail:Ee?.email,period:ct.period,status:"Pending",screenshot:pt}))}ue(null),$([]),H(!0),It(`Payment proof submitted successfully! ${P.length} invoice(s) pending admin approval.`)}catch($e){console.error("Error submitting payment:",$e),It($e.message||"Failed to submit payment. Please try again.","error")}finally{ge(!1)}},wt=async Ae=>{if(Ae.preventDefault(),P.length===0){It("Please select at least one invoice","error");return}if(!Q){It("Please select the admin you paid to","error");return}ge(!0);try{const $e=a.find(je=>je.id===Q);if(!$e){It("Admin not found","error");return}let oe=null;if(de){const je="http://localhost:4000",nt=new FormData;nt.append("screenshot",de);const pt=await fetch(`${je}/api/upload-screenshot`,{method:"POST",body:nt});if(!pt.ok){let ct="Failed to upload screenshot";try{const Zt=await pt.json();ct=Zt.error||ct,console.error("Upload error response:",Zt)}catch(Zt){console.error("Failed to parse error response:",Zt),ct=`Upload failed with status ${pt.status}`}throw new Error(ct)}const qe=await pt.json();if(!qe.url)throw new Error("No URL returned from upload. Please try again.");oe=qe.url}for(const je of P){const nt=r.find(pt=>pt.id===je);nt&&(await m(je,{status:"Pending Verification",method:"Cash to Admin",reference:`CASH_PENDING_${Date.now()}`,paidToAdmin:$e.id,paidToAdminName:$e.name,screenshot:oe}),await l({invoiceId:je,amount:nt.amount,method:"Cash to Admin",reference:`CASH_PENDING_${Date.now()}`,member:Ee?.name||"Member",memberId:Ee?.id,memberEmail:Ee?.email,period:nt.period,status:"Pending",paidToAdmin:$e.id,paidToAdminName:$e.name,screenshot:oe}))}$([]),q(""),ue(null),H(!0),It(`Payment submitted successfully! ${P.length} invoice(s) pending admin approval.`)}catch($e){console.error("Error submitting payment:",$e),It($e.message||"Failed to submit payment. Please try again.","error")}finally{ge(!1)}},Kt=async Ae=>{if(Ae.preventDefault(),!Ee){It("Member not found","error");return}try{const $e={name:it.name,email:it.email,phone:it.phone};if(it.password&&it.password.trim()!==""){if(it.password.length<6){It("Password must be at least 6 characters long","error");return}$e.password=it.password}await p(Ee.id,$e),It("Profile updated successfully!"),fe(!1),ot({...it,password:""})}catch($e){console.error("Error updating profile:",$e),It("Failed to update profile. Please try again.","error")}},Xt=(()=>{const Ae=Qe(),$e=Ae.reduce((ct,Zt)=>{const vt=parseFloat(Zt.amount?.replace(/[^0-9.]/g,"")||0);return ct+vt},0),oe=new Date().getFullYear();let pt=(Ee?c.filter(ct=>(ct.memberId===Ee.id||ct.memberEmail===Ee.email||ct.member===Ee.name)&&(ct.status==="Paid"||ct.status==="Completed")):c.filter(ct=>ct.status==="Paid"||ct.status==="Completed")).filter(ct=>ct.date?new Date(ct.date).getFullYear()===oe:!1).reduce((ct,Zt)=>{const vt=parseFloat(Zt.amount?.replace(/[^0-9.]/g,"")||0);return ct+vt},0);pt===0&&(pt=r.filter(vt=>vt.status==="Paid"&&(vt.memberId===Ee?.id||vt.memberEmail===Ee?.email||vt.memberName===Ee?.name)).filter(vt=>vt.due?new Date(vt.due).getFullYear()===oe:!0).reduce((vt,bn)=>vt+parseFloat(bn.amount.replace("$","")),0));const qe=Ae.sort((ct,Zt)=>new Date(ct.due)-new Date(Zt.due))[0];return{outstanding:$e,paidThisYear:pt,nextDue:qe?.due||"N/A",nextDueAmount:qe?.amount||"$0"}})();return A||(Te||ze)&&!Ee&&i.length===0?t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"16px",background:"linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%)"},children:[t.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTop:"4px solid #5a31ea",borderRadius:"50%",animation:"spin 1s linear infinite"}}),t.jsx("p",{style:{color:"#1a1a1a",fontSize:"1rem",fontWeight:"500"},children:A?"Loading data from server...":"Loading member information..."}),t.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]}):(Te||ze)&&!A&&i.length>0&&!Ee?t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"16px",background:"linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%)",padding:"20px"},children:[t.jsx("div",{style:{fontSize:"3rem",color:"#ef4444",marginBottom:"16px"},children:""}),t.jsx("p",{style:{color:"#1a1a1a",fontSize:"1.125rem",fontWeight:"600",marginBottom:"8px"},children:"Member Not Found"}),t.jsx("p",{style:{color:"#666",fontSize:"0.875rem",textAlign:"center",marginBottom:"24px"},children:"We couldn't find your member account. Please contact support or try logging in again."}),t.jsx("button",{onClick:()=>{sessionStorage.clear(),at("/login")},className:"primary-btn",style:{padding:"12px 24px"},children:"Return to Login"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Nc,{showCTA:!1,showLogout:!0,onLogout:mt,showMobileMenu:!0,isMobileMenuOpen:ee,onMobileMenuToggle:()=>C(!ee),isSticky:!0}),t.jsx(ql,{message:ne,type:ke,onClose:()=>se(null),duration:3e3}),t.jsxs("main",{className:"admin-main admin-main--sticky-header",children:[ee&&t.jsx("div",{className:"mobile-menu-overlay",onClick:()=>C(!1)}),t.jsxs("div",{className:"admin-layout",children:[t.jsxs("aside",{className:`admin-menu ${ee?"mobile-open":""}`,onClick:Ae=>Ae.stopPropagation(),children:[t.jsx("p",{className:"eyebrow light",children:"Member Portal"}),t.jsx("h3",{children:Ee?.name||"Member"}),t.jsx("nav",{children:R.map(Ae=>t.jsx("button",{className:`admin-tab ${b===Ae.id?"active":""}`,onClick:()=>{G(Ae.id),C(!1)},children:Ae.label},Ae.id))})]}),t.jsxs("div",{className:"admin-body",children:[b==="dashboard"&&t.jsxs("article",{className:"screen-card",id:"dashboard",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-chart-line",style:{marginRight:"10px"}}),"Dashboard"]}),t.jsxs("p",{children:["Welcome back, ",Ee?.name?.split(" ")[0]||"Member",". Here's an overview of your membership account."]})]})}),t.jsxs("div",{className:"card dashboard-card",children:[Xt.outstanding>0&&!Le&&t.jsxs("div",{className:"alert-banner alert-warning",style:{marginBottom:"24px"},children:[t.jsxs("div",{className:"alert-content",children:[t.jsx("strong",{children:"Payment Due Soon"}),t.jsxs("p",{children:["You have an outstanding balance of $",Xt.outstanding.toFixed(2),". Please pay to avoid late fees."]})]}),t.jsx("button",{className:"alert-dismiss",onClick:()=>Ie(!0),style:{cursor:"pointer"},children:""})]}),t.jsxs("div",{className:"kpi-grid",children:[t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-exclamation-circle",style:{marginRight:"8px",color:"#ef4444"}}),"Outstanding Balance"]}),t.jsxs("h4",{children:["$",Xt.outstanding.toFixed(2)]}),t.jsxs("small",{children:[Qe().length," invoice(s) pending"]})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px",color:"#5a31ea"}}),"Next Due Date"]}),t.jsx("h4",{children:Xt.nextDue}),t.jsx("small",{children:Xt.nextDueAmount})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-check-circle",style:{marginRight:"8px",color:"#10b981"}}),"Paid This Year"]}),t.jsxs("h4",{children:["$",parseFloat(Xt.paidThisYear).toFixed(2)]}),t.jsx("small",{children:"On track"})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-user-check",style:{marginRight:"8px",color:"#5a31ea"}}),"Membership Plan"]}),t.jsx("h4",{children:"Active"}),t.jsx("small",{children:"Lifetime: $250/year or Yearly + Janaza Fund: $500/year"})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginTop:"24px"},children:[t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header-flex",children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-clock",style:{marginRight:"8px"}}),"Upcoming Payments"]}),t.jsx("span",{className:"badge-count",children:bt().length})]}),t.jsx("div",{className:"payment-list",children:bt().slice(0,3).map(Ae=>t.jsxs("div",{className:"payment-item",children:[t.jsxs("div",{className:"payment-info",children:[t.jsx("strong",{className:"payment-title",children:Ae.label}),t.jsxs("span",{className:"payment-date",children:["Due ",Ae.due]})]}),t.jsxs("div",{className:"payment-right",children:[t.jsx("span",{className:"payment-amount",children:Ae.amount}),t.jsx("span",{className:hi[Ae.status],children:Ae.status})]})]},Ae.id))}),t.jsx("button",{className:"btn-link",onClick:()=>G("invoices"),children:"View All Invoices "})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header-flex",children:t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-history",style:{marginRight:"8px"}}),"Recent Activity"]})}),t.jsx("div",{className:"activity-list",children:(()=>{const $e=(Ee?c.filter(oe=>oe.memberId===Ee.id||oe.memberEmail===Ee.email||oe.member===Ee.name):c).slice(0,3);return $e.length===0?t.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666",fontSize:"0.9rem"},children:"No recent payments"}):$e.map((oe,je)=>t.jsx("div",{className:"activity-item",children:t.jsxs("div",{className:"activity-details",children:[t.jsx("strong",{children:"Payment Made"}),t.jsxs("span",{children:[oe.date,"  ",oe.amount," via ",oe.paidToAdmin||oe.paidToAdminName||oe.method==="Cash to Admin"?"Cash":["Screenshot","Bank Transfer","FPS","PayMe","Alipay","Credit Card","Online Payment"].includes(oe.method)?"Online Payment":oe.method||"N/A",oe.paidToAdminName&&`  Paid to ${oe.paidToAdminName}`,oe.reference&&`  Ref: ${oe.reference}`]})]})},je))})()}),(Ee?c.filter($e=>$e.memberId===Ee.id||$e.memberEmail===Ee.email||$e.member===Ee.name):c).length>0&&t.jsx("button",{className:"btn-link",onClick:()=>G("history"),children:"View Payment History "})]}),t.jsxs("div",{className:"card quick-actions-card",children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-bolt",style:{marginRight:"8px"}}),"Quick Actions"]}),t.jsxs("div",{className:"quick-actions-grid",children:[t.jsxs("button",{className:"quick-action-btn",onClick:()=>G("pay"),children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"8px"}}),t.jsx("span",{className:"action-label",children:"Pay Now"})]}),t.jsxs("button",{className:"quick-action-btn",onClick:()=>G("invoices"),children:[t.jsx("i",{className:"fas fa-file-invoice",style:{marginRight:"8px"}}),t.jsx("span",{className:"action-label",children:"View Invoices"})]}),t.jsxs("button",{className:"quick-action-btn",onClick:()=>G("history"),children:[t.jsx("i",{className:"fas fa-list-alt",style:{marginRight:"8px"}}),t.jsx("span",{className:"action-label",children:"Payment History"})]}),t.jsxs("button",{className:"quick-action-btn",onClick:()=>G("profile"),children:[t.jsx("i",{className:"fas fa-cog",style:{marginRight:"8px"}}),t.jsx("span",{className:"action-label",children:"Settings"})]})]})]})]})]})]}),b==="pay"&&t.jsxs("article",{className:"screen-card",id:"pay",children:[t.jsxs("header",{className:"screen-card__header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"10px"}}),"Pay Now"]}),t.jsx("p",{children:"Select invoices and choose your payment method."})]}),z?t.jsxs("div",{className:"card",style:{textAlign:"center",padding:"40px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("h2",{children:"Payment Submitted"}),t.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:"Your payment has been submitted successfully."}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[t.jsx("button",{className:"primary-btn",onClick:()=>G("dashboard"),children:"Back to Dashboard"}),t.jsx("button",{className:"secondary-btn",onClick:()=>{H(!1),G("invoices")},children:"View Invoices"})]})]}):t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"invoice-selection-section",style:{marginBottom:"32px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"12px"},children:[t.jsx("h4",{style:{margin:0},children:"Select Invoices to Pay"}),Qe().length>0&&t.jsx("button",{type:"button",className:"ghost-btn",style:{fontSize:"0.875rem",padding:"6px 12px"},onClick:()=>{P.length===Qe().length?$([]):$(Qe().map(Ae=>Ae.id))},children:P.length===Qe().length?"Deselect All":"Select All"})]}),Qe().length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666"},children:t.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"No unpaid invoices available."})}):t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px",marginBottom:"24px"},children:Qe().map(Ae=>{const $e=P.includes(Ae.id);return t.jsxs("label",{style:{display:"flex",flexDirection:"column",padding:"16px",border:`2px solid ${$e?"#5a31ea":"#e0e0e0"}`,borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:$e?"rgba(0, 0, 0, 0.02)":"#fff",position:"relative"},onMouseEnter:oe=>{$e||(oe.currentTarget.style.borderColor="#ccc")},onMouseLeave:oe=>{$e||(oe.currentTarget.style.borderColor="#e0e0e0")},children:[t.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"12px"},children:[t.jsx("input",{type:"checkbox",checked:$e,onChange:()=>Mt(Ae.id),style:{marginTop:"2px",width:"18px",height:"18px",cursor:"pointer",flexShrink:0}}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("div",{style:{fontWeight:"600",fontSize:"0.95rem",marginBottom:"4px",color:"#5a31ea"},children:Ae.period}),t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"8px"},children:["Due: ",Ae.due]})]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto",paddingTop:"12px",borderTop:"1px solid #e5e7eb"},children:[t.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#1a1a1a"},children:Ae.amount}),t.jsx("span",{className:hi[Ct(Ae)],style:{fontSize:"0.75rem",padding:"4px 8px"},children:Ct(Ae)})]})]},Ae.id)})}),P.length>0&&t.jsx("div",{style:{padding:"20px",backgroundColor:"#f8f8f8",borderRadius:"8px",border:"1px solid #e0e0e0"},children:t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"12px"},children:t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"4px"},children:[P.length," invoice",P.length>1?"s":""," selected"]}),t.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#5a31ea"},children:["Total: $",gt().toFixed(2)]})]})})})]}),P.length>0&&t.jsxs("div",{className:"payment-methods",children:[t.jsxs("div",{className:"tabs",children:[t.jsx("button",{className:`tab ${M==="Online Payment"?"active":""}`,onClick:()=>I("Online Payment"),children:"Online Payment"}),t.jsx("button",{className:`tab ${M==="Cash Payment"?"active":""}`,onClick:()=>I("Cash Payment"),children:"Cash Payment"})]}),M==="Online Payment"&&t.jsxs("form",{className:"method-panel",onSubmit:Rt,noValidate:!0,children:[t.jsx("p",{style:{marginBottom:"16px",color:"#666"},children:"Upload a screenshot of your payment confirmation for the selected invoice(s). All selected invoices will be marked as paid once the screenshot is uploaded."}),t.jsxs("label",{children:["Upload Payment Screenshot *",t.jsx("input",{type:"file",accept:"image/*",required:!0,onInvalid:Ae=>Ae.preventDefault(),onChange:Ae=>ue(Ae.target.files[0])}),de&&t.jsxs("div",{style:{marginTop:"8px",fontSize:"0.875rem",color:"#666"},children:["Selected: ",de.name]})]}),t.jsx("button",{type:"submit",className:"primary-btn",style:{marginTop:"16px"},disabled:_e,children:_e?"Uploading...":`Pay $${gt().toFixed(2)}`})]}),M==="Cash Payment"&&t.jsxs("form",{className:"method-panel",onSubmit:wt,noValidate:!0,children:[t.jsx("p",{style:{marginBottom:"16px",color:"#666"},children:"Select the admin you paid to. You can optionally upload a payment screenshot as proof. All selected invoices will be pending admin approval."}),t.jsxs("label",{children:["Select Admin You Paid To *",t.jsxs("select",{required:!0,onInvalid:Ae=>Ae.preventDefault(),value:Q||"",onChange:Ae=>q(Ae.target.value),style:{color:"#000"},children:[t.jsx("option",{value:"",children:"Choose an admin"}),a.filter(Ae=>Ae.status==="Active").map(Ae=>t.jsxs("option",{value:Ae.id,children:[Ae.name," (",Ae.email,")"]},Ae.id))]})]}),t.jsxs("label",{children:["Upload Payment Screenshot (Optional)",t.jsx("input",{type:"file",accept:"image/*",onChange:Ae=>ue(Ae.target.files[0])}),de&&t.jsxs("div",{style:{marginTop:"8px",fontSize:"0.875rem",color:"#666"},children:["Selected: ",de.name]})]}),t.jsx("button",{type:"submit",className:"primary-btn",style:{marginTop:"16px"},disabled:_e,children:_e?"Uploading...":`Pay $${gt().toFixed(2)}`})]})]}),P.length===0&&t.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666",border:"2px dashed #e0e0e0",borderRadius:"8px"},children:t.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"Please select at least one invoice above to proceed with payment."})})]})]}),b==="invoices"&&t.jsxs("article",{className:"screen-card",id:"invoices",children:[t.jsxs("header",{className:"screen-card__header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-file-invoice-dollar",style:{marginRight:"10px"}}),"My Invoices"]}),t.jsx("p",{children:"View all your invoices and payment status."})]}),t.jsx("div",{className:"card",children:(()=>{if(!r||!Array.isArray(r))return t.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"Loading invoices..."});const Ae=Ee?r.filter($e=>$e&&($e.memberId===Ee.id||$e.memberEmail===Ee.email||$e.memberName===Ee.name)):r;return Ae.length===0?t.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#666"},children:t.jsx("p",{children:"No invoices found."})}):t.jsx(fi,{columns:["Invoice No","Period","Amount","Status","Due Date","Action"],rows:Ae.map($e=>{if(!$e)return null;const oe=Ct($e);return{"Invoice No":$e.id||"N/A",Period:$e.period||"N/A",Amount:$e.amount||"$0",Status:{render:()=>t.jsx("span",{className:hi[oe]||"badge badge-unpaid",children:oe})},"Due Date":$e.due||"N/A",Action:{render:()=>oe==="Paid"||oe==="Pending Verification"?t.jsx("button",{className:"ghost-btn",style:{padding:"6px 12px"},onClick:()=>xe($e),children:"View"}):t.jsx("button",{className:"primary-btn",style:{padding:"6px 12px"},onClick:()=>{$([$e.id]),G("pay")},children:"Pay Now"})}}}).filter($e=>$e!==null)})})()})]}),te&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"20px"},onClick:()=>xe(null),children:t.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"32px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 24px rgba(0,0,0,0.2)"},onClick:Ae=>Ae.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[t.jsx("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"700"},children:"Invoice Details"}),t.jsx("button",{onClick:()=>xe(null),style:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",transition:"all 0.2s ease"},onMouseEnter:Ae=>{Ae.target.style.background="#f3f4f6",Ae.target.style.color="#000"},onMouseLeave:Ae=>{Ae.target.style.background="transparent",Ae.target.style.color="#666"},children:""})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[t.jsxs("div",{style:{padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Invoice ID:"}),t.jsx("strong",{children:te.id})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Period:"}),t.jsx("strong",{children:te.period})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Amount:"}),t.jsx("strong",{style:{fontSize:"1.25rem",color:"#000"},children:te.amount})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Due Date:"}),t.jsx("strong",{children:te.due})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Status:"}),t.jsx("span",{className:hi[Ct(te)],children:Ct(te)})]})]}),Ct(te)==="Pending Verification"&&t.jsxs("div",{style:{padding:"16px",background:"#fff3cd",borderRadius:"8px",border:"1px solid #ffc107",marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[t.jsx("span",{style:{fontSize:"1.25rem"},children:""}),t.jsx("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"600",color:"#856404"},children:"Payment Pending Approval"})]}),t.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#856404"},children:"Your payment has been submitted and is awaiting admin approval. You will be notified once it's reviewed."}),te.method&&t.jsx("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #ffc107"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#856404",fontSize:"0.875rem"},children:"Payment Method:"}),t.jsx("strong",{style:{color:"#856404"},children:te.method})]})})]}),Ct(te)==="Paid"&&t.jsxs("div",{style:{padding:"16px",background:"#f0f8ff",borderRadius:"8px",border:"1px solid #1677FF"},children:[t.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",fontWeight:"600"},children:"Payment Information"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Payment Method:"}),t.jsx("strong",{children:te.paidToAdmin||te.paidToAdminName||te.method==="Cash to Admin"?"Cash":["Screenshot","Bank Transfer","FPS","PayMe","Alipay","Credit Card","Online Payment"].includes(te.method)?"Online Payment":te.method||"N/A"})]}),te.reference&&te.reference!=="-"&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Reference:"}),t.jsx("strong",{children:te.reference})]}),te.paidToAdminName&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Paid to:"}),t.jsx("strong",{children:te.paidToAdminName})]})]})]}),te.screenshot&&t.jsxs("div",{style:{padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[t.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",fontWeight:"600"},children:"Payment Screenshot"}),t.jsx("button",{onClick:()=>{const Ae=window.open();Ae&&Ae.document.write(`
                                <html>
                                  <head><title>Payment Screenshot - ${te.id}</title></head>
                                  <body style="margin:0;padding:20px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:100vh;">
                                    <img src="${te.screenshot}" alt="Payment Screenshot" style="max-width:100%;max-height:90vh;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);" />
                                  </body>
                                </html>
                              `)},style:{width:"100%",padding:"12px",background:"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",color:"#fff",border:"none",borderRadius:"8px",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.3)"},onMouseEnter:Ae=>{Ae.target.style.background="linear-gradient(135deg, #4a28d0 0%, #6b3fff 100%)",Ae.target.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.4)"},onMouseLeave:Ae=>{Ae.target.style.background="linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",Ae.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.3)"},children:t.jsx("span",{style:{color:"#ffffff"},children:" View Full Screenshot"})}),t.jsx("img",{src:te.screenshot,alt:"Payment Screenshot Preview",style:{width:"100%",maxHeight:"300px",objectFit:"contain",borderRadius:"8px",marginTop:"12px",border:"1px solid #e0e0e0"}})]})]}),t.jsx("div",{style:{marginTop:"24px",display:"flex",justifyContent:"flex-end"},children:t.jsx("button",{onClick:()=>xe(null),style:{padding:"10px 20px",background:"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",color:"#fff",border:"none",borderRadius:"8px",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.3)"},onMouseEnter:Ae=>{Ae.target.style.background="linear-gradient(135deg, #4a28d0 0%, #6b3fff 100%)",Ae.target.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.4)"},onMouseLeave:Ae=>{Ae.target.style.background="linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",Ae.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.3)"},children:"Close"})})]})}),b==="history"&&t.jsxs("article",{className:"screen-card",id:"history",children:[t.jsxs("header",{className:"screen-card__header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-history",style:{marginRight:"10px"}}),"Payment History"]}),t.jsx("p",{children:"Complete record of all your payments."})]}),t.jsx("div",{style:{marginTop:"24px"},children:(()=>{const Ae=Ee?c.filter(qe=>qe.memberId===Ee.id||qe.memberEmail===Ee.email||qe.member===Ee.name):c,$e=Math.ceil(Ae.length/be),oe=Math.min(Math.max(1,le),$e||1),je=oe*be,nt=je-be,pt=Ae.slice(nt,je);return Ae.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#666"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("p",{style:{margin:0,fontSize:"1.125rem",fontWeight:"500"},children:"No payment history yet"}),t.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.9375rem",color:"#999"},children:"Your payment records will appear here"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsxs("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#1a1a1a",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-list",style:{color:"#5a31ea"}}),"Show:"]}),t.jsxs("select",{value:be,onChange:qe=>{De(Number(qe.target.value)),pe(1)},style:{padding:"8px 12px",border:"none",borderRadius:"8px",background:"#f8f9ff",color:"#1a1a1a",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.08)",outline:"none"},children:[t.jsx("option",{value:2,children:"2"}),t.jsx("option",{value:5,children:"5"}),t.jsx("option",{value:10,children:"10"}),t.jsx("option",{value:20,children:"20"}),t.jsx("option",{value:50,children:"50"}),t.jsx("option",{value:100,children:"100"})]}),t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"per page"})]}),t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666"},children:["Showing ",nt+1," to ",Math.min(je,Ae.length)," of ",Ae.length," payments"]})]}),t.jsx("div",{className:"payment-history-list",style:{marginBottom:"24px"},children:pt.map((qe,ct)=>{const Zt=qe.paidToAdmin||qe.paidToAdminName||qe.method==="Cash to Admin"?"Cash":["Screenshot","Bank Transfer","FPS","PayMe","Alipay","Credit Card","Online Payment"].includes(qe.method)?"Online Payment":qe.method||"N/A";return t.jsxs("div",{className:"payment-history-card",children:[t.jsxs("div",{className:"payment-history-card__main",children:[t.jsxs("div",{children:[t.jsx("p",{className:"payment-history-card__amount",children:qe.amount||"$0"}),t.jsx("p",{className:"payment-history-card__date",children:qe.date||"N/A"})]}),t.jsx("div",{className:"payment-history-card__status",children:t.jsx("span",{className:hi[qe.status]||"payment-history-card__status-pill",children:qe.status||"Pending"})})]}),t.jsxs("div",{className:"payment-history-card__meta",children:[t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Method"}),t.jsx("span",{className:"value",children:Zt})]}),qe.reference&&qe.reference!=="-"&&t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Reference"}),t.jsx("span",{className:"value code",children:qe.reference})]}),qe.paidToAdminName&&t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Paid to"}),t.jsx("span",{className:"value",children:qe.paidToAdminName})]}),qe.period&&t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Period"}),t.jsx("span",{className:"value",children:qe.period})]})]}),qe.status==="Pending"&&t.jsx("div",{style:{marginTop:"8px",padding:"8px",background:"#fff3cd",borderRadius:"8px",border:"1px solid #ffc107",fontSize:"0.8rem",color:"#856404"},children:" Your payment is pending admin approval. You will be notified once it's reviewed."}),qe.status==="Rejected"&&qe.rejectionReason&&t.jsxs("div",{style:{marginTop:"8px",padding:"8px",background:"#f8d7da",borderRadius:"8px",border:"1px solid #f5c6cb",fontSize:"0.8rem",color:"#721c24"},children:[" Payment rejected: ",qe.rejectionReason]}),qe.screenshot&&t.jsx("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px solid #e5e7eb"},children:t.jsxs("button",{onClick:()=>{const vt=window.open();vt&&vt.document.write(`
                                            <html>
                                              <head><title>Payment Screenshot</title></head>
                                              <body style="margin:0;padding:20px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:100vh;">
                                                <img src="${qe.screenshot}" alt="Payment Screenshot" style="max-width:100%;max-height:90vh;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);" />
                                              </body>
                                            </html>
                                          `)},style:{width:"100%",padding:"8px 12px",background:"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.3)"},children:[t.jsx("span",{style:{color:"#ffffff"},children:""}),t.jsx("span",{style:{color:"#ffffff"},children:"View Screenshot"})]})})]},ct)})}),$e>1&&t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",marginTop:"32px",flexWrap:"wrap"},children:[t.jsxs("button",{onClick:()=>pe(qe=>Math.max(1,qe-1)),disabled:oe===1,style:{padding:"10px 16px",border:"none",borderRadius:"8px",background:oe===1?"#f3f4f6":"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",color:oe===1?"#999":"#ffffff",fontSize:"0.875rem",fontWeight:"600",cursor:oe===1?"not-allowed":"pointer",boxShadow:oe===1?"none":"0 2px 8px rgba(90, 49, 234, 0.2)",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:qe=>{oe!==1&&(qe.target.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.3)")},onMouseLeave:qe=>{oe!==1&&(qe.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.2)")},children:[t.jsx("i",{className:"fas fa-chevron-left"}),"Previous"]}),t.jsx("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:Array.from({length:$e},(qe,ct)=>ct+1).map(qe=>qe===1||qe===$e||qe>=oe-1&&qe<=oe+1?t.jsx("button",{onClick:()=>pe(qe),style:{padding:"10px 16px",border:"none",borderRadius:"8px",background:oe===qe?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"#f8f9ff",color:oe===qe?"#ffffff":"#1a1a1a",fontSize:"0.875rem",fontWeight:oe===qe?"600":"500",cursor:"pointer",boxShadow:oe===qe?"0 2px 8px rgba(90, 49, 234, 0.3)":"0 2px 4px rgba(90, 49, 234, 0.08)",transition:"all 0.2s ease",minWidth:"40px"},onMouseEnter:Zt=>{oe!==qe&&(Zt.target.style.background="#ffffff",Zt.target.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.15)")},onMouseLeave:Zt=>{oe!==qe&&(Zt.target.style.background="#f8f9ff",Zt.target.style.boxShadow="0 2px 4px rgba(90, 49, 234, 0.08)")},children:qe},qe):qe===oe-2||qe===oe+2?t.jsx("span",{style:{padding:"10px 8px",color:"#666",fontSize:"0.875rem"},children:"..."},qe):null)}),t.jsxs("button",{onClick:()=>pe(qe=>Math.min($e,qe+1)),disabled:oe===$e,style:{padding:"10px 16px",border:"none",borderRadius:"8px",background:oe===$e?"#f3f4f6":"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",color:oe===$e?"#999":"#ffffff",fontSize:"0.875rem",fontWeight:"600",cursor:oe===$e?"not-allowed":"pointer",boxShadow:oe===$e?"none":"0 2px 8px rgba(90, 49, 234, 0.2)",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:qe=>{oe!==$e&&(qe.target.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.3)")},onMouseLeave:qe=>{oe!==$e&&(qe.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.2)")},children:["Next",t.jsx("i",{className:"fas fa-chevron-right"})]})]})]})})()})]}),b==="profile"&&t.jsxs("article",{className:"screen-card",id:"profile",children:[t.jsxs("header",{className:"screen-card__header",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-user-cog",style:{marginRight:"10px"}}),"Profile Settings"]}),t.jsx("p",{children:"Manage your account information and preferences."})]}),!Me&&t.jsx("button",{type:"button",className:"primary-btn",onClick:()=>fe(!0),style:{padding:"10px 20px",fontSize:"0.9rem"},children:"Edit Profile"})]}),t.jsxs("form",{onSubmit:Kt,noValidate:!0,children:[t.jsx("div",{className:"card",style:{padding:"24px",marginBottom:"24px",background:"linear-gradient(135deg, #f8f8f8 0%, #ffffff 100%)",border:"1px solid #e0e0e0",borderRadius:"12px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",flexWrap:"wrap"},children:[t.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"2rem",fontWeight:"600",flexShrink:0},children:Ee?.name?.charAt(0)?.toUpperCase()||"M"}),t.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[t.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"1.5rem",fontWeight:"600"},children:Ee?.name||"Member"}),t.jsx("p",{style:{margin:"0 0 4px 0",color:"#666",fontSize:"0.9rem"},children:Ee?.email||"No email"}),t.jsx("p",{style:{margin:0,color:"#666",fontSize:"0.9rem"},children:Ee?.phone||"No phone"})]}),t.jsx("div",{style:{padding:"8px 16px",background:Ee?.status==="Active"?"linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)":"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",color:Ee?.status==="Active"?"#065f46":"#991b1b",borderRadius:"20px",fontSize:"0.875rem",fontWeight:"500"},children:Ee?.status||"Active"})]})}),t.jsxs("div",{className:"card",style:{padding:"24px",marginBottom:"24px",border:"1px solid #e0e0e0",borderRadius:"12px"},children:[t.jsx("h4",{style:{margin:"0 0 20px 0",fontSize:"1.1rem",fontWeight:"600",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"},children:"Personal Information"}),Me?t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px"},children:[t.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#333"},children:["Full Name ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{required:!0,onInvalid:Ae=>Ae.preventDefault(),value:it.name,onChange:Ae=>ot({...it,name:Ae.target.value}),style:{padding:"12px 16px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border-color 0.2s"},onFocus:Ae=>Ae.target.style.borderColor="#5a31ea",onBlur:Ae=>Ae.target.style.borderColor="#ddd"})]}),t.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#333"},children:["Email Address ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{required:!0,type:"email",onInvalid:Ae=>Ae.preventDefault(),value:it.email,onChange:Ae=>ot({...it,email:Ae.target.value}),style:{padding:"12px 16px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border-color 0.2s"},onFocus:Ae=>Ae.target.style.borderColor="#5a31ea",onBlur:Ae=>Ae.target.style.borderColor="#ddd"})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.jsx(Kd,{label:t.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#333"},children:["Phone Number (WhatsApp) ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),value:it.phone,onChange:Ae=>ot({...it,phone:Ae.target.value}),onError:Ae=>{It(Ae,"error")},placeholder:"Enter phone number",required:!0})}),t.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#333",display:"flex",alignItems:"center",gap:"6px"},children:[t.jsx("i",{className:"fas fa-lock",style:{color:"#5a31ea",fontSize:"0.875rem"}}),"New Password (leave blank to keep current)"]}),t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:J?"text":"password",value:it.password,onChange:Ae=>ot({...it,password:Ae.target.value}),placeholder:"Enter new password (min. 6 characters)",minLength:6,style:{padding:"12px 45px 12px 16px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",width:"100%",transition:"border-color 0.2s"},onFocus:Ae=>Ae.target.style.borderColor="#5a31ea",onBlur:Ae=>Ae.target.style.borderColor="#ddd"}),t.jsx("button",{type:"button",onClick:()=>K(!J),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},"aria-label":J?"Hide password":"Show password",children:J?t.jsx("i",{className:"fas fa-eye-slash",style:{fontSize:"0.875rem"}}):t.jsx("i",{className:"fas fa-eye",style:{fontSize:"0.875rem"}})})]}),t.jsx("small",{style:{fontSize:"0.75rem",color:"#666",marginTop:"-4px"},children:"Leave blank if you don't want to change your password"})]})]}):t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"24px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#666",marginBottom:"8px"},children:"Full Name"}),t.jsx("div",{style:{fontSize:"1rem",fontWeight:"500",color:"#000"},children:Ee?.name||"N/A"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#666",marginBottom:"8px"},children:"Email Address"}),t.jsx("div",{style:{fontSize:"1rem",fontWeight:"500",color:"#000"},children:Ee?.email||"N/A"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#666",marginBottom:"8px"},children:"Phone Number"}),t.jsx("div",{style:{fontSize:"1rem",fontWeight:"500",color:"#000"},children:Ee?.phone||"N/A"})]})]})]}),t.jsxs("div",{className:"card",style:{padding:"24px",marginBottom:"24px",border:"1px solid #e0e0e0",borderRadius:"12px"},children:[t.jsx("h4",{style:{margin:"0 0 20px 0",fontSize:"1.1rem",fontWeight:"600",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"},children:"Notification Preferences"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",border:"1px solid #e0e0e0",borderRadius:"8px",transition:"all 0.2s",background:"#f8f8f8",opacity:"0.8"},children:[t.jsxs("div",{children:[t.jsxs("div",{style:{fontWeight:"500",marginBottom:"4px",display:"flex",alignItems:"center",gap:"8px"},children:["Email Reminders",t.jsx("span",{style:{fontSize:"0.75rem",color:"#666",fontWeight:"normal",fontStyle:"italic"},children:"(Required)"})]}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"Receive payment reminders and updates via email"})]}),t.jsx("div",{style:{position:"relative",width:"50px",height:"28px",borderRadius:"14px",backgroundColor:"#5a31ea",cursor:"not-allowed",transition:"background-color 0.3s ease",flexShrink:0,opacity:"1"},children:t.jsx("div",{style:{position:"absolute",top:"2px",left:"24px",width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#fff",transition:"left 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",border:"1px solid #e0e0e0",borderRadius:"8px",transition:"all 0.2s",background:"#f8f8f8",opacity:"0.8"},children:[t.jsxs("div",{children:[t.jsxs("div",{style:{fontWeight:"500",marginBottom:"4px",display:"flex",alignItems:"center",gap:"8px"},children:["WhatsApp Reminders",t.jsx("span",{style:{fontSize:"0.75rem",color:"#666",fontWeight:"normal",fontStyle:"italic"},children:"(Required)"})]}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"Receive payment reminders via WhatsApp"})]}),t.jsx("div",{style:{position:"relative",width:"50px",height:"28px",borderRadius:"14px",backgroundColor:"#5a31ea",cursor:"not-allowed",transition:"background-color 0.3s ease",flexShrink:0,opacity:"1"},children:t.jsx("div",{style:{position:"absolute",top:"2px",left:"24px",width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#fff",transition:"left 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})})]})]})]}),Me&&t.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"},children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>{fe(!1),Ee&&ot({name:Ee.name||"",email:Ee.email||"",phone:Ee.phone||"",emailReminders:!0,whatsappReminders:!0})},style:{padding:"12px 24px",minWidth:"120px"},children:"Cancel"}),t.jsx("button",{type:"submit",className:"primary-btn",style:{padding:"12px 24px",minWidth:"120px"},children:"Save Changes"})]})]})]})]})]})]}),t.jsx(kc,{})]})}function Ly(){const{members:i,fetchMembers:a}=Xd(),[r,o]=Z.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",subscriptionType:"Lifetime"}),[c,l]=Z.useState(!1),[m,p]=Z.useState(!1),[g,v]=Z.useState(!1),[w,A]=Z.useState(null),[R,b]=Z.useState("error"),[U,M]=Z.useState({name:!1,email:!1,phone:!1,password:!1,confirmPassword:!1}),I=fo();Z.useEffect(()=>{a()},[a]);const P=de=>{if(!de)return!1;const ue=de.trim().toLowerCase();return i.some(ge=>ge.email&&ge.email.toLowerCase()===ue)?(A("This email has already been registered. Please use a different email or try logging in."),b("error"),setTimeout(()=>A(null),3e3),!0):!1},$=de=>{const ue=de.target.value;o({...r,email:ue})},Q=de=>{const ue=de.target.value.trim();ue&&P(ue)},q=async de=>{de.preventDefault();const ue={name:!1,email:!1,phone:!1,password:!1,confirmPassword:!1};if(!r.name||!r.name.trim()){ue.name=!0,A("Name is required"),b("error"),setTimeout(()=>A(null),3e3),M(ue);return}if(!r.email||!r.email.trim()){ue.email=!0,A("Email is required"),b("error"),setTimeout(()=>A(null),3e3),M(ue);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email.trim())){ue.email=!0,A("Please enter a valid email address"),b("error"),setTimeout(()=>A(null),3e3),M(ue);return}if(P(r.email)){ue.email=!0,A("This email has already been registered. Please use a different email or try logging in."),b("error"),setTimeout(()=>A(null),3e3),M(ue);return}if(!r.phone||!r.phone.trim()){ue.phone=!0,A("Phone number is required"),b("error"),setTimeout(()=>A(null),3e3),M(ue);return}if(!r.password){ue.password=!0,A("Password is required"),b("error"),setTimeout(()=>A(null),3e3),M(ue);return}if(r.password.length<6){ue.password=!0,A("Password must be at least 6 characters long"),b("error"),setTimeout(()=>A(null),3e3),M(ue);return}if(r.password!==r.confirmPassword){ue.confirmPassword=!0,A("Passwords do not match"),b("error"),setTimeout(()=>A(null),3e3),M(ue);return}M({name:!1,email:!1,phone:!1,password:!1,confirmPassword:!1}),l(!0);try{const te=await fetch("http://localhost:4000/api/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name.trim(),email:r.email.trim().toLowerCase(),phone:r.phone.trim(),password:r.password,status:"Pending",balance:"$0",nextDue:"",lastPayment:"",subscriptionType:r.subscriptionType})}),xe=await te.json();if(!te.ok){const z=xe.message||xe.error||"Failed to create account";throw z.toLowerCase().includes("email")||z.toLowerCase().includes("already exists")||z.toLowerCase().includes("duplicate")?new Error("This email has already been registered. Please use a different email or try logging in."):new Error(z)}A("Account created successfully! Your account is pending approval. You will be able to login once an admin approves your account."),b("success"),setTimeout(()=>A(null),3e3),setTimeout(()=>{I("/login",{replace:!0,state:{message:"Account created successfully! Your account is pending approval. Please wait for admin approval before logging in.",email:r.email}})},3e3)}catch(ge){console.error("Signup error:",ge),A(ge.message||"Failed to create account. Please try again."),b("error"),setTimeout(()=>A(null),3e3)}finally{l(!1)}};return t.jsxs(t.Fragment,{children:[t.jsx(Nc,{showCTA:!1}),t.jsx("main",{className:"login-main",children:t.jsxs("div",{className:"login-shell",children:[t.jsxs("aside",{className:"login-menu",children:[t.jsx("p",{className:"eyebrow light",children:"Welcome"}),t.jsx("h2",{children:"Subscription Manager HK"}),t.jsx("p",{children:"Create your member account to access the subscription portal."}),t.jsxs("ul",{children:[t.jsx("li",{children:"Track your subscription payments"}),t.jsx("li",{children:"View invoices and payment history"}),t.jsx("li",{children:"Manage your profile and preferences"})]})]}),t.jsxs("div",{className:"login-form-card",children:[t.jsxs("div",{className:"login-form-card__header",children:[t.jsxs("h1",{children:[t.jsx("i",{className:"fas fa-user-plus",style:{marginRight:"12px",color:"#5a31ea"}}),"Create Account"]}),t.jsxs("p",{children:["Already have an account? ",t.jsx(Xc,{to:"/login",style:{color:"#5a31ea",textDecoration:"none",fontWeight:"500"},children:"Sign in"})]})]}),t.jsxs("form",{onSubmit:q,noValidate:!0,children:[t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Full Name ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",required:!0,onInvalid:de=>de.preventDefault(),value:r.name,onChange:de=>{o({...r,name:de.target.value}),U.name&&M(ue=>({...ue,name:!1}))},style:{borderColor:U.name?"#ef4444":void 0,borderWidth:U.name?"2px":void 0},placeholder:"Enter your full name",className:"mono-input"})]}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope",style:{marginRight:"8px",color:"#5a31ea"}}),"Email ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"email",required:!0,onInvalid:de=>de.preventDefault(),value:r.email,onChange:de=>{$(de),U.email&&M(ue=>({...ue,email:!1}))},onBlur:Q,style:{borderColor:U.email?"#ef4444":void 0,borderWidth:U.email?"2px":void 0},placeholder:"Enter your email address",className:"mono-input"})]}),t.jsx("div",{className:"mono-label",children:t.jsx(Kd,{label:t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-phone",style:{marginRight:"8px",color:"#5a31ea"}}),"Phone Number ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),value:r.phone,onChange:de=>{o({...r,phone:de.target.value}),U.phone&&M(ue=>({...ue,phone:!1}))},onError:de=>{A(de),b("error"),setTimeout(()=>A(null),3e3),M(ue=>({...ue,phone:!0}))},style:{border:U.phone?"2px solid #ef4444":void 0},placeholder:"Enter your phone number",required:!0,className:"mono-input"})}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-id-card",style:{marginRight:"8px",color:"#5a31ea"}}),"Subscription Type ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginTop:"8px"},children:[t.jsxs("button",{type:"button",onClick:()=>o({...r,subscriptionType:"Lifetime"}),style:{padding:"16px",border:"none",borderRadius:"10px",background:r.subscriptionType==="Lifetime"?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"#f8f9ff",color:r.subscriptionType==="Lifetime"?"white":"#1a1a1a",cursor:"pointer",fontSize:"1rem",fontWeight:"600",boxShadow:r.subscriptionType==="Lifetime"?"0 4px 12px rgba(90, 49, 234, 0.3)":"0 2px 4px rgba(90, 49, 234, 0.08)"},children:[t.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Lifetime"}),t.jsx("div",{style:{fontSize:"0.875rem",opacity:.9},children:"$250/year"})]}),t.jsxs("button",{type:"button",onClick:()=>o({...r,subscriptionType:"Yearly + Janaza Fund"}),style:{padding:"16px",border:"none",borderRadius:"10px",background:r.subscriptionType==="Yearly + Janaza Fund"?"linear-gradient(135deg, #5a31ea 0%, #7c4eff 100%)":"#f8f9ff",color:r.subscriptionType==="Yearly + Janaza Fund"?"white":"#1a1a1a",cursor:"pointer",fontSize:"1rem",fontWeight:"600",boxShadow:r.subscriptionType==="Yearly + Janaza Fund"?"0 4px 12px rgba(90, 49, 234, 0.3)":"0 2px 4px rgba(90, 49, 234, 0.08)"},children:[t.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Yearly + Janaza Fund"}),t.jsx("div",{style:{fontSize:"0.875rem",opacity:.9},children:"$500/year"})]})]})]}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock",style:{marginRight:"8px",color:"#5a31ea"}}),"Password ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:m?"text":"password",required:!0,onInvalid:de=>de.preventDefault(),value:r.password,onChange:de=>o({...r,password:de.target.value}),placeholder:"Create a password (min. 6 characters)",className:"mono-input",minLength:6,style:{paddingRight:"45px"}}),t.jsx("button",{type:"button",onClick:()=>p(!m),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},"aria-label":m?"Hide password":"Show password",children:m?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock",style:{marginRight:"8px",color:"#5a31ea"}}),"Confirm Password ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:g?"text":"password",required:!0,onInvalid:de=>de.preventDefault(),value:r.confirmPassword,onChange:de=>{o({...r,confirmPassword:de.target.value}),U.confirmPassword&&M(ue=>({...ue,confirmPassword:!1}))},style:{paddingRight:"45px",borderColor:U.confirmPassword?"#ef4444":void 0,borderWidth:U.confirmPassword?"2px":void 0},placeholder:"Confirm your password",className:"mono-input",minLength:6}),t.jsx("button",{type:"button",onClick:()=>v(!g),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},"aria-label":g?"Hide password":"Show password",children:g?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),t.jsx("button",{type:"submit",className:"primary-btn",style:{width:"100%",marginTop:"24px"},disabled:c,children:c?"Creating Account...":"Create Account"})]}),t.jsx(Gc,{isOpen:!!error,message:error,type:"error",onClose:()=>setError(null)}),t.jsx(Gc,{isOpen:!!success,message:success,type:"success",onClose:()=>setSuccess(null)}),t.jsx(ql,{message:w,type:R,onClose:()=>A(null),duration:3e3})]})]})}),t.jsx(kc,{})]})}function _y(){const{members:i,admins:a,invoices:r,payments:o,paymentHistory:c,donations:l,paymentMethods:m,communicationLog:p,fetchMembers:g,fetchAdmins:v,fetchInvoices:w,fetchPayments:A,fetchDonations:R,fetchPaymentMethods:b,addMember:U,updateMember:M,deleteMember:I,addAdminUser:P,updateAdminUser:$,deleteAdminUser:Q,addInvoice:q,updateInvoice:de,deleteInvoice:ue,addDonation:_e,deleteDonation:ge,updatePaymentMethod:te,loading:xe}=Xd(),z=fo(),[H,ne]=Z.useState("members"),[se,ke]=Z.useState(!1),[Re,Me]=Z.useState(null),[fe,Le]=Z.useState(null),[Ie,ee]=Z.useState({name:"",email:"",phone:"",password:"",status:"Active",balance:"$0",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"}),[C,J]=Z.useState({name:"",email:"",password:"",role:"Viewer",status:"Active"}),[K,le]=Z.useState({memberId:"",memberName:"",period:"",amount:"",invoiceType:"Lifetime",due:"",status:"Unpaid",notes:""}),[pe,be]=Z.useState(!1),[De,Te]=Z.useState(!1),[ze,Ee]=Z.useState({donorName:"",isMember:!1,memberId:"",amount:"",notes:""}),[it,ot]=Z.useState({name:"",visible:!0,qrImageUrl:"",details:[]});Z.useEffect(()=>{g(),v(),w(),A(),R(),b()},[]);const at=(he,ft="success")=>{setNotieMessage(he),setNotieType(ft),setTimeout(()=>setNotieMessage(null),3e3)},G=()=>{at("You have been logged out","success"),setTimeout(()=>{sessionStorage.clear(),z("/login",{replace:!0})},500)},mt=async he=>{he.preventDefault();try{await U(Ie),at("Member added successfully!"),ke(!1),bt(),g()}catch(ft){at(ft.message||"Failed to add member","error")}},It=async he=>{he.preventDefault();try{await M(Re.id,Ie),at("Member updated successfully!"),ke(!1),Me(null),bt(),g()}catch(ft){at(ft.message||"Failed to update member","error")}},Ct=async he=>{if(window.confirm("Are you sure you want to delete this member?"))try{await I(he),at("Member deleted successfully!"),g()}catch(ft){at(ft.message||"Failed to delete member","error")}},Qe=he=>{Me(he),ee({name:he.name||"",email:he.email||"",phone:he.phone||"",password:"",status:he.status||"Active",balance:he.balance||"$0",nextDue:he.nextDue||"",lastPayment:he.lastPayment||"",subscriptionType:he.subscriptionType||"Lifetime"}),ke(!0)},bt=()=>{ee({name:"",email:"",phone:"",password:"",status:"Active",balance:"$0",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"})},gt=async he=>{he.preventDefault();try{await P(C),at("Admin added successfully!"),ke(!1),Kt(),v()}catch(ft){at(ft.message||"Failed to add admin","error")}},Mt=async he=>{he.preventDefault();try{await $(Re.id,C),at("Admin updated successfully!"),ke(!1),Me(null),Kt(),v()}catch(ft){at(ft.message||"Failed to update admin","error")}},Rt=async he=>{if(window.confirm("Are you sure you want to delete this admin?"))try{await Q(he),at("Admin deleted successfully!"),v()}catch(ft){at(ft.message||"Failed to delete admin","error")}},wt=he=>{Me(he),J({name:he.name||"",email:he.email||"",password:"",role:he.role||"Viewer",status:he.status||"Active"}),ke(!0)},Kt=()=>{J({name:"",email:"",password:"",role:"Viewer",status:"Active"})},Wt=async he=>{he.preventDefault();try{const ft={...K,amount:K.amount.startsWith("$")?K.amount:`$${K.amount}`};await q(ft),at("Invoice added successfully!"),ke(!1),oe(),w()}catch(ft){at(ft.message||"Failed to add invoice","error")}},Xt=async he=>{he.preventDefault();try{const ft={...K,amount:K.amount.startsWith("$")?K.amount:`$${K.amount}`};await de(Re.id,ft),at("Invoice updated successfully!"),ke(!1),Me(null),oe(),w()}catch(ft){at(ft.message||"Failed to update invoice","error")}},Ae=async he=>{if(window.confirm("Are you sure you want to delete this invoice?"))try{await ue(he),at("Invoice deleted successfully!"),w()}catch(ft){at(ft.message||"Failed to delete invoice","error")}},$e=he=>{Me(he),le({memberId:he.memberId||"",memberName:he.memberName||"",period:he.period||"",amount:he.amount?.replace("$","")||"",invoiceType:he.invoiceType||"Lifetime",due:he.due||"",status:he.status||"Unpaid",notes:he.notes||""}),ke(!0)},oe=()=>{le({memberId:"",memberName:"",period:"",amount:"",invoiceType:"Lifetime",due:"",status:"Unpaid",notes:""})},je=async he=>{he.preventDefault();try{await _e(ze),at("Donation added successfully!"),ke(!1),qe(),R()}catch(ft){at(ft.message||"Failed to add donation","error")}},nt=async he=>{he.preventDefault();try{at("Donation update functionality not available","error"),ke(!1),Me(null),qe()}catch(ft){at(ft.message||"Failed to update donation","error")}},pt=async he=>{if(window.confirm("Are you sure you want to delete this donation?"))try{await ge(he),at("Donation deleted successfully!"),R()}catch(ft){at(ft.message||"Failed to delete donation","error")}},qe=()=>{Ee({donorName:"",isMember:!1,memberId:"",amount:"",notes:""})},ct=async he=>{he.preventDefault();try{const Dt=await fetch("http://localhost:4000/api/payment-methods",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(it)});if(!Dt.ok){const hn=await Dt.json().catch(()=>({}));throw new Error(hn.error||"Failed to add payment method")}at("Payment method added successfully!"),ke(!1),bn(),b()}catch(ft){at(ft.message||"Failed to add payment method","error")}},Zt=async he=>{he.preventDefault();try{await te(Re.name,it),at("Payment method updated successfully!"),ke(!1),Me(null),bn(),b()}catch(ft){at(ft.message||"Failed to update payment method","error")}},vt=he=>{Me(he),ot({name:he.name||"",visible:he.visible!==void 0?he.visible:!0,qrImageUrl:he.qrImageUrl||"",details:Array.isArray(he.details)?he.details:[]}),ke(!0)},bn=()=>{ot({name:"",visible:!0,qrImageUrl:"",details:[]})},qt=()=>{Me(null),H==="members"?bt():H==="admins"?Kt():H==="invoices"?oe():H==="donations"?qe():H==="payment-methods"&&bn(),ke(!0)},zt=()=>{ke(!1),Me(null),H==="members"?bt():H==="admins"?Kt():H==="invoices"?oe():H==="donations"?qe():H==="payment-methods"&&bn()};return xe?t.jsxs("div",{className:"server-loading",children:[t.jsx("div",{className:"server-loading-spinner"}),t.jsx("p",{className:"server-loading-text",children:"Loading data from server..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Nc,{showCTA:!1,showLogout:!0,onLogout:G,isSticky:!0}),t.jsx(ql,{message:notieMessage,type:notieType,onClose:()=>setNotieMessage(null),duration:3e3}),t.jsx("main",{className:"server-main server-main--sticky-header",children:t.jsx("div",{className:"server-layout",children:t.jsxs("article",{className:"server-card",children:[t.jsxs("header",{className:"server-header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-server"}),"Server Management"]}),t.jsx("p",{children:"Manage all data entities: Members, Admins, Invoices, Payments, Donations, and Payment Methods"})]}),t.jsxs("div",{className:"server-nav",children:[t.jsxs("button",{className:`server-nav-btn ${H==="members"?"active":""}`,onClick:()=>{ne("members"),ke(!1),Me(null)},children:[t.jsx("i",{className:"fas fa-users"}),"Members (",i.length,")"]}),t.jsxs("button",{className:`server-nav-btn ${H==="admins"?"active":""}`,onClick:()=>{ne("admins"),ke(!1),Me(null)},children:[t.jsx("i",{className:"fas fa-user-shield"}),"Admins (",a.length,")"]}),t.jsxs("button",{className:`server-nav-btn ${H==="invoices"?"active":""}`,onClick:()=>{ne("invoices"),ke(!1),Me(null)},children:[t.jsx("i",{className:"fas fa-file-invoice"}),"Invoices (",r.length,")"]}),t.jsxs("button",{className:`server-nav-btn ${H==="payments"?"active":""}`,onClick:()=>{ne("payments"),ke(!1),Me(null)},children:[t.jsx("i",{className:"fas fa-credit-card"}),"Payments (",c?.length||0,")"]}),t.jsxs("button",{className:`server-nav-btn ${H==="donations"?"active":""}`,onClick:()=>{ne("donations"),ke(!1),Me(null)},children:[t.jsx("i",{className:"fas fa-hand-holding-heart"}),"Donations (",l?.length||0,")"]}),t.jsxs("button",{className:`server-nav-btn ${H==="payment-methods"?"active":""}`,onClick:()=>{ne("payment-methods"),ke(!1),Me(null)},children:[t.jsx("i",{className:"fas fa-wallet"}),"Payment Methods (",m?.length||0,")"]})]}),t.jsxs("div",{className:"server-content",children:[H==="members"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"server-section-header",children:[t.jsx("h4",{children:"Members Management"}),t.jsxs("button",{className:"server-add-btn",onClick:qt,children:[t.jsx("i",{className:"fas fa-plus"}),"Add Member"]})]}),se&&t.jsxs("div",{className:"server-form-card",children:[t.jsx("h4",{children:Re?"Edit Member":"Add New Member"}),t.jsxs("form",{className:"server-form-grid",onSubmit:Re?It:mt,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Name ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:Ie.name,onChange:he=>ee({...Ie,name:he.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope",style:{marginRight:"8px",color:"#5a31ea"}}),"Email ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"email",required:!0,value:Ie.email,onChange:he=>ee({...Ie,email:he.target.value}),className:"mono-input"})]}),t.jsx("div",{children:t.jsx(Kd,{label:t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-phone",style:{marginRight:"8px",color:"#5a31ea"}}),"Phone"]}),value:Ie.phone,onChange:he=>ee({...Ie,phone:he.target.value}),onError:he=>{at(he,"error")},placeholder:"Enter phone number",className:"mono-input"})}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock",style:{marginRight:"8px",color:"#5a31ea"}}),"Password ",Re?"(leave blank to keep current)":t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:pe?"text":"password",required:!Re,value:Ie.password,onChange:he=>ee({...Ie,password:he.target.value}),className:"mono-input"}),t.jsx("button",{type:"button",onClick:()=>be(!pe),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#666"},children:t.jsx("i",{className:`fas ${pe?"fa-eye-slash":"fa-eye"}`})})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-toggle-on",style:{marginRight:"8px",color:"#5a31ea"}}),"Status"]}),t.jsxs("select",{value:Ie.status,onChange:he=>ee({...Ie,status:he.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"}),t.jsx("option",{value:"Pending",children:"Pending"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Balance"]}),t.jsx("input",{type:"text",value:Ie.balance,onChange:he=>ee({...Ie,balance:he.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar",style:{marginRight:"8px",color:"#5a31ea"}}),"Next Due"]}),t.jsx("input",{type:"text",value:Ie.nextDue,onChange:he=>ee({...Ie,nextDue:he.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-check",style:{marginRight:"8px",color:"#5a31ea"}}),"Last Payment"]}),t.jsx("input",{type:"text",value:Ie.lastPayment,onChange:he=>ee({...Ie,lastPayment:he.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-id-card",style:{marginRight:"8px",color:"#5a31ea"}}),"Subscription Type"]}),t.jsxs("select",{value:Ie.subscriptionType,onChange:he=>ee({...Ie,subscriptionType:he.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Lifetime",children:"Lifetime"}),t.jsx("option",{value:"Yearly + Janaza Fund",children:"Yearly + Janaza Fund"})]})]}),t.jsxs("div",{className:"server-form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:zt,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[Re?"Update":"Add"," Member"]})]})]})]}),t.jsx("div",{className:"server-table-container",children:t.jsx(fi,{columns:["ID","Name","Email","Phone","Status","Balance","Actions"],rows:i.map(he=>({ID:he.id,Name:he.name,Email:he.email,Phone:he.phone||"-",Status:{render:()=>t.jsx("span",{className:he.status==="Active"?"server-badge server-badge--active":he.status==="Pending"?"server-badge server-badge--pending":"server-badge server-badge--inactive",children:he.status})},Balance:he.balance||"$0",Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsxs("button",{className:"server-action-btn server-action-btn--edit",onClick:()=>Qe(he),children:[t.jsx("i",{className:"fas fa-edit"}),"Edit"]}),t.jsx("button",{className:"server-action-btn server-action-btn--delete",onClick:()=>Ct(he.id),title:"Delete Member","aria-label":"Delete Member",children:t.jsx("i",{className:"fas fa-trash"})})]})}}))})})]}),H==="admins"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"server-section-header",children:[t.jsx("h4",{children:"Admins Management"}),t.jsxs("button",{className:"server-add-btn",onClick:qt,children:[t.jsx("i",{className:"fas fa-plus"}),"Add Admin"]})]}),se&&t.jsxs("div",{className:"server-form-card",children:[t.jsx("h4",{children:Re?"Edit Admin":"Add New Admin"}),t.jsxs("form",{className:"server-form-grid",onSubmit:Re?Mt:gt,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Name ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:C.name,onChange:he=>J({...C,name:he.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope",style:{marginRight:"8px",color:"#5a31ea"}}),"Email ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"email",required:!0,value:C.email,onChange:he=>J({...C,email:he.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock",style:{marginRight:"8px",color:"#5a31ea"}}),"Password ",Re?"(leave blank to keep current)":t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:De?"text":"password",required:!Re,value:C.password,onChange:he=>J({...C,password:he.target.value}),className:"mono-input"}),t.jsx("button",{type:"button",onClick:()=>Te(!De),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#666"},children:t.jsx("i",{className:`fas ${De?"fa-eye-slash":"fa-eye"}`})})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user-tag",style:{marginRight:"8px",color:"#5a31ea"}}),"Role"]}),t.jsxs("select",{value:C.role,onChange:he=>J({...C,role:he.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Viewer",children:"Viewer"}),t.jsx("option",{value:"Editor",children:"Editor"}),t.jsx("option",{value:"Admin",children:"Admin"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-toggle-on",style:{marginRight:"8px",color:"#5a31ea"}}),"Status"]}),t.jsxs("select",{value:C.status,onChange:he=>J({...C,status:he.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),t.jsxs("div",{className:"server-form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:zt,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[Re?"Update":"Add"," Admin"]})]})]})]}),t.jsx("div",{className:"server-table-container",children:t.jsx(fi,{columns:["ID","Name","Email","Role","Status","Actions"],rows:a.map(he=>({ID:he.id,Name:he.name,Email:he.email,Role:he.role||"Viewer",Status:{render:()=>t.jsx("span",{className:he.status==="Active"?"server-badge server-badge--active":"server-badge server-badge--inactive",children:he.status})},Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsxs("button",{className:"server-action-btn server-action-btn--edit",onClick:()=>wt(he),children:[t.jsx("i",{className:"fas fa-edit"}),"Edit"]}),t.jsx("button",{className:"server-action-btn server-action-btn--delete",onClick:()=>Rt(he.id),title:"Delete Admin","aria-label":"Delete Admin",children:t.jsx("i",{className:"fas fa-trash"})})]})}}))})})]}),H==="invoices"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"server-section-header",children:[t.jsx("h4",{children:"Invoices Management"}),t.jsxs("button",{className:"server-add-btn",onClick:qt,children:[t.jsx("i",{className:"fas fa-plus"}),"Add Invoice"]})]}),se&&t.jsxs("div",{className:"server-form-card",children:[t.jsx("h4",{children:Re?"Edit Invoice":"Add New Invoice"}),t.jsxs("form",{className:"server-form-grid",onSubmit:Re?Xt:Wt,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Member ID ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:K.memberId,onChange:he=>le({...K,memberId:he.target.value}),className:"mono-input",placeholder:"e.g. HK1001"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Member Name ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:K.memberName,onChange:he=>le({...K,memberName:he.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar",style:{marginRight:"8px",color:"#5a31ea"}}),"Period ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:K.period,onChange:he=>le({...K,period:he.target.value}),className:"mono-input",placeholder:"e.g. Nov 2025"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-id-card",style:{marginRight:"8px",color:"#5a31ea"}}),"Invoice Type"]}),t.jsxs("select",{value:K.invoiceType,onChange:he=>le({...K,invoiceType:he.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Lifetime",children:"Lifetime"}),t.jsx("option",{value:"Yearly + Janaza Fund",children:"Yearly + Janaza Fund"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Amount ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",required:!0,value:K.amount,onChange:he=>le({...K,amount:he.target.value}),className:"mono-input",placeholder:"e.g. 50"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-check",style:{marginRight:"8px",color:"#5a31ea"}}),"Due Date ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"date",required:!0,value:K.due,onChange:he=>{const ft=he.target.value;le({...K,due:ft})},onBlur:he=>{const ft=he.target.value;if(ft){const Dt=new Date(ft);if(isNaN(Dt.getTime())){at("Invalid date format. Please enter a valid date (YYYY-MM-DD)","error");return}const[hn,pa,ln]=ft.split("-").map(Number);if(pa<1||pa>12){at("Invalid month. Please enter a month between 01 and 12","error");return}if(ln<1||ln>31){at("Invalid day. Please enter a valid day for the selected month","error");return}const Tr=new Date(hn,pa,0).getDate();if(ln>Tr){at(`Invalid date. ${pa}/${hn} only has ${Tr} days`,"error");return}}},className:"mono-input",style:{borderRadius:"4px",width:"100%"}})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-info-circle",style:{marginRight:"8px",color:"#5a31ea"}}),"Status"]}),t.jsxs("select",{value:K.status,onChange:he=>le({...K,status:he.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Unpaid",children:"Unpaid"}),t.jsx("option",{value:"Paid",children:"Paid"}),t.jsx("option",{value:"Overdue",children:"Overdue"}),t.jsx("option",{value:"Pending Verification",children:"Pending Verification"})]})]}),t.jsxs("label",{className:"notes",style:{gridColumn:"1 / -1"},children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-sticky-note"}),"Notes"]}),t.jsx("textarea",{value:K.notes,onChange:he=>le({...K,notes:he.target.value}),className:"mono-input",style:{minHeight:"100px"}})]}),t.jsxs("div",{className:"server-form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:zt,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[Re?"Update":"Add"," Invoice"]})]})]})]}),t.jsx("div",{className:"server-table-container",children:t.jsx(fi,{columns:["Invoice #","Member","Period","Amount","Status","Due Date","Actions"],rows:r.map(he=>({"Invoice #":he.id,Member:he.memberName||he.memberId||"-",Period:he.period,Amount:he.amount,Status:{render:()=>t.jsx("span",{className:he.status==="Paid"?"server-badge server-badge--success":he.status==="Overdue"?"server-badge server-badge--danger":he.status==="Pending Verification"?"server-badge server-badge--pending":"server-badge server-badge--warning",children:he.status})},"Due Date":he.due,Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsxs("button",{className:"server-action-btn server-action-btn--edit",onClick:()=>$e(he),children:[t.jsx("i",{className:"fas fa-edit"}),"Edit"]}),t.jsx("button",{className:"server-action-btn server-action-btn--delete",onClick:()=>Ae(he.id),title:"Delete Invoice","aria-label":"Delete Invoice",children:t.jsx("i",{className:"fas fa-trash"})})]})}}))})})]}),H==="payments"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"server-section-header",children:t.jsx("h4",{children:"Payments Management"})}),t.jsx("div",{className:"server-table-container",children:t.jsx(fi,{columns:["Date","Member","Amount","Method","Status","Reference","Period"],rows:(c||[]).map(he=>({Date:he.date||"-",Member:he.member||he.memberName||he.memberId||"-",Amount:he.amount||"$0",Method:he.method||"-",Status:{render:()=>t.jsx("span",{className:he.status==="Paid"||he.status==="Completed"?"server-badge server-badge--success":he.status==="Pending"||he.status==="Pending Verification"?"server-badge server-badge--pending":he.status==="Rejected"?"server-badge server-badge--danger":"server-badge server-badge--warning",children:he.status})},Reference:he.reference||"-",Period:he.period||"-"}))})})]}),H==="donations"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"server-section-header",children:[t.jsx("h4",{children:"Donations Management"}),t.jsxs("button",{className:"server-add-btn",onClick:qt,children:[t.jsx("i",{className:"fas fa-plus"}),"Add Donation"]})]}),se&&t.jsxs("div",{className:"server-form-card",children:[t.jsx("h4",{children:Re?"Edit Donation":"Add New Donation"}),t.jsxs("form",{className:"server-form-grid",onSubmit:Re?nt:je,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Donor Name ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:ze.donorName,onChange:he=>Ee({...ze,donorName:he.target.value}),className:"mono-input",placeholder:"Enter donor name"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Amount ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",required:!0,value:ze.amount,onChange:he=>Ee({...ze,amount:he.target.value}),className:"mono-input",placeholder:"Enter amount"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-check-circle",style:{marginRight:"8px",color:"#5a31ea"}}),"Is Member"]}),t.jsxs("select",{value:ze.isMember?"true":"false",onChange:he=>Ee({...ze,isMember:he.target.value==="true"}),className:"mono-input",children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]}),ze.isMember&&t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Member ID"]}),t.jsx("input",{type:"text",value:ze.memberId,onChange:he=>Ee({...ze,memberId:he.target.value}),className:"mono-input",placeholder:"Enter member ID"})]}),t.jsxs("label",{className:"notes",style:{gridColumn:"1 / -1"},children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-sticky-note"}),"Notes"]}),t.jsx("textarea",{value:ze.notes,onChange:he=>Ee({...ze,notes:he.target.value}),className:"mono-input",style:{minHeight:"100px"}})]}),t.jsxs("div",{className:"server-form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:zt,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[Re?"Update":"Add"," Donation"]})]})]})]}),t.jsx("div",{className:"server-table-container",children:t.jsx(fi,{columns:["Donor","Amount","Is Member","Member ID","Date","Actions"],rows:(l||[]).map(he=>({Donor:he.donorName||"-",Amount:he.amount?`$${he.amount}`:"$0","Is Member":he.isMember?"Yes":"No","Member ID":he.memberId||"-",Date:he.date||"-",Actions:{render:()=>t.jsx("div",{style:{display:"flex",gap:"8px"},children:t.jsx("button",{className:"server-action-btn server-action-btn--delete",onClick:()=>pt(he._id||he.id),title:"Delete Donation","aria-label":"Delete Donation",children:t.jsx("i",{className:"fas fa-trash"})})})}}))})})]}),H==="payment-methods"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"server-section-header",children:[t.jsx("h4",{children:"Payment Methods Management"}),t.jsxs("button",{className:"server-add-btn",onClick:qt,children:[t.jsx("i",{className:"fas fa-plus"}),"Add Payment Method"]})]}),se&&t.jsxs("div",{className:"server-form-card",children:[t.jsx("h4",{children:Re?"Edit Payment Method":"Add New Payment Method"}),t.jsxs("form",{className:"server-form-grid",onSubmit:Re?Zt:ct,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-wallet",style:{marginRight:"8px",color:"#5a31ea"}}),"Name ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:it.name,onChange:he=>ot({...it,name:he.target.value}),className:"mono-input",placeholder:"e.g. FPS, PayMe, Bank Transfer"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-eye",style:{marginRight:"8px",color:"#5a31ea"}}),"Visible"]}),t.jsxs("select",{value:it.visible?"true":"false",onChange:he=>ot({...it,visible:he.target.value==="true"}),className:"mono-input",children:[t.jsx("option",{value:"true",children:"Yes"}),t.jsx("option",{value:"false",children:"No"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-image",style:{marginRight:"8px",color:"#5a31ea"}}),"QR Image URL"]}),t.jsx("input",{type:"url",value:it.qrImageUrl,onChange:he=>ot({...it,qrImageUrl:he.target.value}),className:"mono-input",placeholder:"Enter QR code image URL"})]}),t.jsxs("label",{className:"notes",style:{gridColumn:"1 / -1"},children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-list",style:{marginRight:"8px",color:"#5a31ea"}}),"Details (one per line)"]}),t.jsx("textarea",{value:Array.isArray(it.details)?it.details.join(`
`):"",onChange:he=>ot({...it,details:he.target.value.split(`
`).filter(ft=>ft.trim())}),className:"mono-input",style:{minHeight:"100px"},placeholder:"Enter details, one per line"})]}),t.jsxs("div",{className:"server-form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:zt,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[Re?"Update":"Add"," Payment Method"]})]})]})]}),t.jsx("div",{className:"server-table-container",children:t.jsx(fi,{columns:["Name","Visible","QR Image","Details","Actions"],rows:(m||[]).map(he=>({Name:he.name||"-",Visible:{render:()=>t.jsx("span",{className:he.visible?"server-badge server-badge--success":"server-badge server-badge--inactive",children:he.visible?"Yes":"No"})},"QR Image":he.qrImageUrl?t.jsx("a",{href:he.qrImageUrl,target:"_blank",rel:"noopener noreferrer",style:{color:"#5a31ea"},children:"View Image"}):"-",Details:Array.isArray(he.details)?he.details.join(", "):"-",Actions:{render:()=>t.jsx("div",{style:{display:"flex",gap:"8px"},children:t.jsxs("button",{className:"server-action-btn server-action-btn--edit",onClick:()=>vt(he),children:[t.jsx("i",{className:"fas fa-edit"}),"Edit"]})})}}))})})]})]})]})})}),t.jsx(kc,{})]})}function Iy(){const[i,a]=Z.useState(""),[r,o]=Z.useState("admin"),[c,l]=Z.useState(null),[m,p]=Z.useState(!1),[g,v]=Z.useState(!1),[w,A]=Z.useState(""),[R,b]=Z.useState(null),[U,M]=Z.useState("error"),I=fo(),P=Q=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Q),$=async Q=>{if(Q.preventDefault(),A(""),l(null),!i.trim()){A("Email is required"),b("Email is required"),M("error"),setTimeout(()=>b(null),3e3);return}if(!P(i.trim())){A("Please enter a valid email address"),b("Please enter a valid email address"),M("error"),setTimeout(()=>b(null),3e3);return}p(!0),l(null);try{const de=await fetch("http://localhost:4000/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i.trim(),role:r})});let ue;try{ue=await de.json()}catch(_e){console.error("Failed to parse response:",_e),l({type:"error",text:"Server returned an invalid response. Please try again."}),p(!1);return}if(!de.ok||!ue.success){const _e=ue.message||"Failed to send reset email. Please try again.";_e.toLowerCase().includes("email")?A(_e):l({type:"error",text:_e}),p(!1);return}v(!0),l({type:"success",text:ue.message||"Password reset link has been sent to your email."}),p(!1)}catch(q){console.error("Forgot password error:",q),l({type:"error",text:q.message||"Unable to connect. Please check your connection and try again."}),p(!1)}};return t.jsxs(t.Fragment,{children:[t.jsx(Nc,{showCTA:!1}),t.jsx("main",{className:"login-main",children:t.jsxs("div",{className:"login-shell",children:[t.jsxs("aside",{className:"login-menu",children:[t.jsx("p",{className:"eyebrow light",children:"Password Recovery"}),t.jsx("h2",{children:"Reset Your Password"}),t.jsx("p",{children:"Enter your email address and we'll send you a link to reset your password."}),t.jsxs("ul",{children:[t.jsx("li",{children:"Check your email inbox"}),t.jsx("li",{children:"Click the reset link"}),t.jsx("li",{children:"Create a new password"})]})]}),t.jsxs("div",{className:"login-form-card",children:[t.jsx("div",{className:"login-form-card__header",children:t.jsxs("h1",{children:[t.jsx("i",{className:"fas fa-key",style:{marginRight:"12px",color:"#5a31ea"}}),"Forgot Password"]})}),g?t.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[t.jsx("div",{style:{width:"80px",height:"80px",margin:"0 auto 20px",background:"linear-gradient(135deg, #10b981 0%, #34d399 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",color:"#ffffff"},children:t.jsx("i",{className:"fas fa-check"})}),t.jsx("h3",{style:{marginBottom:"12px",color:"#1a1a1a"},children:"Check Your Email"}),t.jsxs("p",{style:{color:"#666",marginBottom:"24px"},children:["We've sent a password reset link to ",t.jsx("strong",{children:i})]}),t.jsx("p",{style:{color:"#666",fontSize:"0.875rem",marginBottom:"24px"},children:"Please check your inbox and click the link to reset your password. The link will expire in 1 hour."}),t.jsx("div",{className:"login-buttons",children:t.jsx("button",{type:"button",className:"btn-admin",onClick:()=>I("/login"),style:{width:"100%"},children:"Back to Login"})})]}):t.jsxs("form",{onSubmit:$,noValidate:!0,children:[t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope",style:{marginRight:"8px",color:"#5a31ea"}}),"Email ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"email",value:i,onChange:Q=>{a(Q.target.value),w&&A("")},onBlur:()=>{i.trim()&&!P(i.trim())?(A("Please enter a valid email address"),b("Please enter a valid email address"),M("error"),setTimeout(()=>b(null),3e3)):i.trim()?A(""):(A("Email is required"),b("Email is required"),M("error"),setTimeout(()=>b(null),3e3))},onInvalid:Q=>Q.preventDefault(),placeholder:"Enter your email address",className:`mono-input ${w?"input-error":""}`,disabled:m,required:!0})]}),t.jsx("div",{className:"login-buttons",children:t.jsx("button",{type:"submit",className:"btn-admin",disabled:m,style:{position:"relative",opacity:m?.7:1,cursor:m?"not-allowed":"pointer",width:"100%"},children:m?t.jsxs("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[t.jsxs("svg",{style:{animation:"spin 1s linear infinite",width:"16px",height:"16px"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),t.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}),"Sending..."]}):"Send Reset Link"})}),t.jsx("div",{style:{textAlign:"center",marginTop:"16px"},children:t.jsxs(Xc,{to:"/login",style:{color:"#5a31ea",textDecoration:"none",fontSize:"0.875rem",fontWeight:"500"},children:[t.jsx("i",{className:"fas fa-arrow-left",style:{marginRight:"6px"}}),"Back to Login"]})})]}),t.jsx(Gc,{isOpen:!!c,message:c?.text,type:c?.type||"error",onClose:()=>l(null)}),t.jsx(ql,{message:R,type:U,onClose:()=>b(null),duration:3e3})]})]})}),t.jsx(kc,{})]})}function Ey(){const[i]=Bm(),[a,r]=Z.useState(""),[o,c]=Z.useState(""),[l,m]=Z.useState(!1),[p,g]=Z.useState(!1),[v,w]=Z.useState(null),[A,R]=Z.useState(!1),[b,U]=Z.useState(!1),[M,I]=Z.useState({password:"",confirmPassword:""}),[P,$]=Z.useState(null),[Q,q]=Z.useState("error"),de=fo(),ue=i.get("token"),_e=i.get("role")||"admin";Z.useEffect(()=>{ue||w({type:"error",text:"Invalid reset link. Please request a new password reset."})},[ue]);const ge=xe=>xe?xe.length<6?"Password must be at least 6 characters long":"":"Password is required",te=async xe=>{xe.preventDefault();const z=ge(a),H=a!==o?"Passwords do not match":ge(o);if(I({password:z,confirmPassword:H}),z||H){$(z||H),q("error"),setTimeout(()=>$(null),3e3);return}if(!ue){w({type:"error",text:"Invalid reset token. Please request a new password reset."});return}R(!0),w(null);try{const se=await fetch("http://localhost:4000/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:ue,newPassword:a,role:_e})}),ke=await se.json();if(!se.ok||!ke.success){w({type:"error",text:ke.message||"Failed to reset password. Please try again."}),R(!1);return}U(!0),w({type:"success",text:ke.message||"Password has been reset successfully!"}),R(!1),setTimeout(()=>{de("/login")},3e3)}catch(ne){console.error("Reset password error:",ne),w({type:"error",text:"Unable to connect. Please check your connection and try again."}),R(!1)}};return t.jsxs(t.Fragment,{children:[t.jsx(Nc,{showCTA:!1}),t.jsx("main",{className:"login-main",children:t.jsxs("div",{className:"login-shell",children:[t.jsxs("aside",{className:"login-menu",children:[t.jsx("p",{className:"eyebrow light",children:"Password Reset"}),t.jsx("h2",{children:"Create New Password"}),t.jsx("p",{children:"Enter your new password below. Make sure it's strong and secure."}),t.jsxs("ul",{children:[t.jsx("li",{children:"At least 6 characters long"}),t.jsx("li",{children:"Use a combination of letters and numbers"}),t.jsx("li",{children:"Don't reuse your old password"})]})]}),t.jsxs("div",{className:"login-form-card",children:[t.jsx("div",{className:"login-form-card__header",children:t.jsxs("h1",{children:[t.jsx("i",{className:"fas fa-lock",style:{marginRight:"12px",color:"#5a31ea"}}),"Reset Password"]})}),b?t.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[t.jsx("div",{style:{width:"80px",height:"80px",margin:"0 auto 20px",background:"linear-gradient(135deg, #10b981 0%, #34d399 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",color:"#ffffff"},children:t.jsx("i",{className:"fas fa-check"})}),t.jsx("h3",{style:{marginBottom:"12px",color:"#1a1a1a"},children:"Password Reset Successful!"}),t.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:"Your password has been reset successfully. You can now login with your new password."}),t.jsx("p",{style:{color:"#666",fontSize:"0.875rem",marginBottom:"24px"},children:"Redirecting to login page in a few seconds..."}),t.jsx("div",{className:"login-buttons",children:t.jsx("button",{type:"button",className:"btn-admin",onClick:()=>de("/login"),style:{width:"100%"},children:"Go to Login"})})]}):t.jsxs("form",{onSubmit:te,noValidate:!0,children:[t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock",style:{marginRight:"8px",color:"#5a31ea"}}),"New Password ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:l?"text":"password",value:a,onChange:xe=>{r(xe.target.value),M.password&&I({...M,password:""})},onBlur:()=>{const xe=ge(a);I({...M,password:xe}),xe&&($(xe),q("error"),setTimeout(()=>$(null),3e3))},onInvalid:xe=>xe.preventDefault(),placeholder:"Enter new password",className:`mono-input ${M.password?"input-error":""}`,style:{paddingRight:"45px"},disabled:A||!ue,required:!0}),t.jsx("button",{type:"button",onClick:()=>m(!l),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},"aria-label":l?"Hide password":"Show password",disabled:A,children:l?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock",style:{marginRight:"8px",color:"#5a31ea"}}),"Confirm Password ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:p?"text":"password",value:o,onChange:xe=>{c(xe.target.value),M.confirmPassword&&I({...M,confirmPassword:""})},onBlur:()=>{const xe=a!==o?"Passwords do not match":ge(o);I({...M,confirmPassword:xe}),xe&&($(xe),q("error"),setTimeout(()=>$(null),3e3))},onInvalid:xe=>xe.preventDefault(),placeholder:"Confirm new password",className:`mono-input ${M.confirmPassword?"input-error":""}`,style:{paddingRight:"45px"},disabled:A||!ue,required:!0}),t.jsx("button",{type:"button",onClick:()=>g(!p),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},"aria-label":p?"Hide password":"Show password",disabled:A,children:p?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),t.jsx("div",{className:"login-buttons",children:t.jsx("button",{type:"submit",className:"btn-admin",disabled:A||!ue,style:{position:"relative",opacity:A||!ue?.7:1,cursor:A||!ue?"not-allowed":"pointer",width:"100%"},children:A?t.jsxs("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[t.jsxs("svg",{style:{animation:"spin 1s linear infinite",width:"16px",height:"16px"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),t.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}),"Resetting..."]}):"Reset Password"})}),t.jsx("div",{style:{textAlign:"center",marginTop:"16px"},children:t.jsxs(Xc,{to:"/login",style:{color:"#5a31ea",textDecoration:"none",fontSize:"0.875rem",fontWeight:"500"},children:[t.jsx("i",{className:"fas fa-arrow-left",style:{marginRight:"6px"}}),"Back to Login"]})})]}),t.jsx(Gc,{isOpen:!!v,message:v?.text,type:v?.type||"error",onClose:()=>w(null)}),t.jsx(ql,{message:P,type:Q,onClose:()=>$(null),duration:3e3})]})]})}),t.jsx(kc,{})]})}function My(){return t.jsx(R1,{children:t.jsx(j1,{future:{v7_startTransition:!0},children:t.jsxs(p1,{children:[t.jsx(Eo,{path:"/",element:t.jsx(tp,{to:"/login",replace:!0})}),t.jsx(Eo,{path:"/login",element:t.jsx(E1,{})}),t.jsx(Eo,{path:"/signup",element:t.jsx(Ly,{})}),t.jsx(Eo,{path:"/forgot-password",element:t.jsx(Iy,{})}),t.jsx(Eo,{path:"/reset-password",element:t.jsx(Ey,{})}),t.jsx(Eo,{path:"/admin",element:t.jsx(Cy,{})}),t.jsx(Eo,{path:"/member",element:t.jsx(Py,{})}),t.jsx(Eo,{path:"/server",element:t.jsx(_y,{})}),t.jsx(Eo,{path:"*",element:t.jsx(tp,{to:"/login",replace:!0})})]})})})}const Ry="867870699456-djt0cnrakntduqs6g2gm3pk24vj6qoc9.apps.googleusercontent.com",M0=()=>{document.querySelectorAll("input[title], select[title], textarea[title], input[pattern], select[pattern], textarea[pattern]").forEach(a=>{a.removeAttribute("title"),a.removeAttribute("pattern")})},Dy=i=>{if(i.hasAttribute("data-dummy-fields-added"))return;const a=i.closest("form");if(a&&a.querySelector('input[data-dummy-field="true"]')){i.setAttribute("data-dummy-fields-added","true");return}const r=i.parentElement;if(r&&r.querySelector('input[data-dummy-field="true"]')){i.setAttribute("data-dummy-fields-added","true");return}const o=document.createElement("div");o.style.cssText="position: absolute; left: -9999px; opacity: 0; pointer-events: none; height: 0; overflow: hidden; width: 0;",o.setAttribute("data-dummy-container","true"),o.setAttribute("aria-hidden","true");const c=document.createElement("input");c.type="text",c.name="username",c.autoComplete="username",c.tabIndex=-1,c.readOnly=!0,c.setAttribute("data-dummy-field","true"),c.setAttribute("aria-hidden","true"),c.style.cssText="position: absolute; left: -9999px; opacity: 0; pointer-events: none;";const l=document.createElement("input");l.type="password",l.name="password",l.autoComplete="current-password",l.tabIndex=-1,l.readOnly=!0,l.setAttribute("data-dummy-field","true"),l.setAttribute("aria-hidden","true"),l.style.cssText="position: absolute; left: -9999px; opacity: 0; pointer-events: none;",o.appendChild(c),o.appendChild(l),a?a.insertBefore(o,a.firstChild):r?r.insertBefore(o,i):i.parentNode.insertBefore(o,i),i.setAttribute("data-dummy-fields-added","true")},eu=()=>{const i=c=>{if(c.hasAttribute("data-autofill-disabled"))return;const l=c.tagName.toLowerCase();if(l==="input"||l==="textarea"||l==="select"){const m=c.type?.toLowerCase()||"",p=c.name?.toLowerCase()||"",g=c.id?.toLowerCase()||"",v=c.getAttribute("autocomplete"),w=m==="email"||p.includes("email")||g.includes("email")||c.getAttribute("inputmode")==="email",A=m==="password"||p.includes("password")||g.includes("password")||c.getAttribute("data-password-field")==="true"||l==="input"&&(p.includes("pass")||g.includes("pass")),R=m==="text"&&(p.includes("password")||g.includes("password")||c.getAttribute("data-password-field")==="true");A||R?(c.setAttribute("data-password-field","true"),c.setAttribute("autocomplete","new-password"),Dy(c),c.setAttribute("data-form-type","other"),c.setAttribute("data-lpignore","true"),c.setAttribute("data-1p-ignore","true"),c.setAttribute("data-bwignore","true"),c.setAttribute("data-password-manager-disabled","true"),c.setAttribute("data-password-autofill","off")):w?(!v||v==="off"||v==="")&&c.setAttribute("autocomplete","new-email"):(!v||v==="")&&c.setAttribute("autocomplete","off"),c.setAttribute("autocorrect","off"),c.setAttribute("autocapitalize","off"),c.setAttribute("spellcheck","false"),!A&&!R&&(c.setAttribute("data-form-type","other"),c.setAttribute("data-lpignore","true"),c.setAttribute("data-1p-ignore","true"),c.setAttribute("data-bwignore","true")),c.setAttribute("data-autofill-disabled","true")}};document.querySelectorAll("input, textarea, select").forEach(i);const r=new MutationObserver(c=>{c.forEach(l=>{if(l.type==="childList"&&l.addedNodes.forEach(m=>{if(m.nodeType===1){m.tagName&&["INPUT","TEXTAREA","SELECT"].includes(m.tagName)&&i(m);const p=m.querySelectorAll?.("input, textarea, select");p&&p.forEach(i)}}),l.type==="attributes"&&l.target.tagName){const m=l.target;["INPUT","TEXTAREA","SELECT"].includes(m.tagName)&&(l.attributeName==="type"||m.hasAttribute("data-password-field"))&&(m.removeAttribute("data-autofill-disabled"),i(m))}})}),o=()=>{document.body&&r.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["type","data-password-field"]})};document.body?o():document.addEventListener("DOMContentLoaded",o)},Ty=()=>{const i=()=>{document.querySelectorAll("input[required], select[required], textarea[required]").forEach(o=>{o.hasAttribute("data-invalid-handler-added")||(o.addEventListener("invalid",c=>{c.preventDefault(),c.stopPropagation()},{capture:!0}),o.setAttribute("data-invalid-handler-added","true"))})};i();const a=new MutationObserver(()=>{M0(),i(),eu()});document.body?a.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["title","required","pattern"]}):document.addEventListener("DOMContentLoaded",()=>{a.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["title","required","pattern"]})})},Am=()=>{try{M0(),eu(),Ty()}catch(i){console.error("Error initializing global functions:",i)}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Am):Am();setTimeout(()=>{try{eu()}catch(i){console.error("Error in delayed disableBrowserSuggestions:",i)}},100);const Cm=()=>{try{let i=location.href;const a=new MutationObserver(()=>{const r=location.href;r!==i&&(i=r,setTimeout(()=>{try{eu()}catch(o){console.error("Error in route change disableBrowserSuggestions:",o)}},100))});document.body?a.observe(document,{subtree:!0,childList:!0}):document.addEventListener("DOMContentLoaded",()=>{a.observe(document,{subtree:!0,childList:!0})})}catch(i){console.error("Error setting up route change observer:",i)}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Cm):Cm();try{const i=document.getElementById("root");i?jg.createRoot(i).render(t.jsx(Cf.StrictMode,{children:t.jsx(I1,{clientId:Ry,children:t.jsx(My,{})})})):console.error("Root element not found!")}catch(i){console.error("Error rendering React app:",i)}export{ar as _,Fy as c,Pm as g};
