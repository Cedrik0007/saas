function cg(i,a){for(var r=0;r<a.length;r++){const o=a[r];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in i)){const l=Object.getOwnPropertyDescriptor(o,c);l&&Object.defineProperty(i,c,l.get?l:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function r(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(c){if(c.ep)return;c.ep=!0;const l=r(c);fetch(c.href,l)}})();var My=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function km(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Du={exports:{}},Bc={},Fu={exports:{}},Nn={};var Bh;function dg(){if(Bh)return Nn;Bh=1;var i=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),A=Symbol.iterator;function M(te){return te===null||typeof te!="object"?null:(te=A&&te[A]||te["@@iterator"],typeof te=="function"?te:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,E={};function I(te,C,K){this.props=te,this.context=C,this.refs=E,this.updater=K||b}I.prototype.isReactComponent={},I.prototype.setState=function(te,C){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,C,"setState")},I.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function P(){}P.prototype=I.prototype;function W(te,C,K){this.props=te,this.context=C,this.refs=E,this.updater=K||b}var X=W.prototype=new P;X.constructor=W,U(X,I.prototype),X.isPureReactComponent=!0;var H=Array.isArray,fe=Object.prototype.hasOwnProperty,he={current:null},Ee={key:!0,ref:!0,__self:!0,__source:!0};function ge(te,C,K){var Z,de={},ce=null,be=null;if(C!=null)for(Z in C.ref!==void 0&&(be=C.ref),C.key!==void 0&&(ce=""+C.key),C)fe.call(C,Z)&&!Ee.hasOwnProperty(Z)&&(de[Z]=C[Z]);var Me=arguments.length-2;if(Me===1)de.children=K;else if(1<Me){for(var Fe=Array(Me),$e=0;$e<Me;$e++)Fe[$e]=arguments[$e+2];de.children=Fe}if(te&&te.defaultProps)for(Z in Me=te.defaultProps,Me)de[Z]===void 0&&(de[Z]=Me[Z]);return{$$typeof:i,type:te,key:ce,ref:be,props:de,_owner:he.current}}function ee(te,C){return{$$typeof:i,type:te.type,key:C,ref:te.ref,props:te.props,_owner:te._owner}}function xe(te){return typeof te=="object"&&te!==null&&te.$$typeof===i}function z(te){var C={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(K){return C[K]})}var $=/\/+/g;function le(te,C){return typeof te=="object"&&te!==null&&te.key!=null?z(""+te.key):C.toString(36)}function ie(te,C,K,Z,de){var ce=typeof te;(ce==="undefined"||ce==="boolean")&&(te=null);var be=!1;if(te===null)be=!0;else switch(ce){case"string":case"number":be=!0;break;case"object":switch(te.$$typeof){case i:case a:be=!0}}if(be)return be=te,de=de(be),te=Z===""?"."+le(be,0):Z,H(de)?(K="",te!=null&&(K=te.replace($,"$&/")+"/"),ie(de,C,K,"",function($e){return $e})):de!=null&&(xe(de)&&(de=ee(de,K+(!de.key||be&&be.key===de.key?"":(""+de.key).replace($,"$&/")+"/")+te)),C.push(de)),1;if(be=0,Z=Z===""?".":Z+":",H(te))for(var Me=0;Me<te.length;Me++){ce=te[Me];var Fe=Z+le(ce,Me);be+=ie(ce,C,K,Fe,de)}else if(Fe=M(te),typeof Fe=="function")for(te=Fe.call(te),Me=0;!(ce=te.next()).done;)ce=ce.value,Fe=Z+le(ce,Me++),be+=ie(ce,C,K,Fe,de);else if(ce==="object")throw C=String(te),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.");return be}function we(te,C,K){if(te==null)return te;var Z=[],de=0;return ie(te,Z,"","",function(ce){return C.call(K,ce,de++)}),Z}function _e(te){if(te._status===-1){var C=te._result;C=C(),C.then(function(K){(te._status===0||te._status===-1)&&(te._status=1,te._result=K)},function(K){(te._status===0||te._status===-1)&&(te._status=2,te._result=K)}),te._status===-1&&(te._status=0,te._result=C)}if(te._status===1)return te._result.default;throw te._result}var Ie={current:null},pe={transition:null},Pe={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:pe,ReactCurrentOwner:he};function Ue(){throw Error("act(...) is not supported in production builds of React.")}return Nn.Children={map:we,forEach:function(te,C,K){we(te,function(){C.apply(this,arguments)},K)},count:function(te){var C=0;return we(te,function(){C++}),C},toArray:function(te){return we(te,function(C){return C})||[]},only:function(te){if(!xe(te))throw Error("React.Children.only expected to receive a single React element child.");return te}},Nn.Component=I,Nn.Fragment=r,Nn.Profiler=c,Nn.PureComponent=W,Nn.StrictMode=o,Nn.Suspense=g,Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pe,Nn.act=Ue,Nn.cloneElement=function(te,C,K){if(te==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+te+".");var Z=U({},te.props),de=te.key,ce=te.ref,be=te._owner;if(C!=null){if(C.ref!==void 0&&(ce=C.ref,be=he.current),C.key!==void 0&&(de=""+C.key),te.type&&te.type.defaultProps)var Me=te.type.defaultProps;for(Fe in C)fe.call(C,Fe)&&!Ee.hasOwnProperty(Fe)&&(Z[Fe]=C[Fe]===void 0&&Me!==void 0?Me[Fe]:C[Fe])}var Fe=arguments.length-2;if(Fe===1)Z.children=K;else if(1<Fe){Me=Array(Fe);for(var $e=0;$e<Fe;$e++)Me[$e]=arguments[$e+2];Z.children=Me}return{$$typeof:i,type:te.type,key:de,ref:ce,props:Z,_owner:be}},Nn.createContext=function(te){return te={$$typeof:m,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},te.Provider={$$typeof:l,_context:te},te.Consumer=te},Nn.createElement=ge,Nn.createFactory=function(te){var C=ge.bind(null,te);return C.type=te,C},Nn.createRef=function(){return{current:null}},Nn.forwardRef=function(te){return{$$typeof:p,render:te}},Nn.isValidElement=xe,Nn.lazy=function(te){return{$$typeof:j,_payload:{_status:-1,_result:te},_init:_e}},Nn.memo=function(te,C){return{$$typeof:v,type:te,compare:C===void 0?null:C}},Nn.startTransition=function(te){var C=pe.transition;pe.transition={};try{te()}finally{pe.transition=C}},Nn.unstable_act=Ue,Nn.useCallback=function(te,C){return Ie.current.useCallback(te,C)},Nn.useContext=function(te){return Ie.current.useContext(te)},Nn.useDebugValue=function(){},Nn.useDeferredValue=function(te){return Ie.current.useDeferredValue(te)},Nn.useEffect=function(te,C){return Ie.current.useEffect(te,C)},Nn.useId=function(){return Ie.current.useId()},Nn.useImperativeHandle=function(te,C,K){return Ie.current.useImperativeHandle(te,C,K)},Nn.useInsertionEffect=function(te,C){return Ie.current.useInsertionEffect(te,C)},Nn.useLayoutEffect=function(te,C){return Ie.current.useLayoutEffect(te,C)},Nn.useMemo=function(te,C){return Ie.current.useMemo(te,C)},Nn.useReducer=function(te,C,K){return Ie.current.useReducer(te,C,K)},Nn.useRef=function(te){return Ie.current.useRef(te)},Nn.useState=function(te){return Ie.current.useState(te)},Nn.useSyncExternalStore=function(te,C,K){return Ie.current.useSyncExternalStore(te,C,K)},Nn.useTransition=function(){return Ie.current.useTransition()},Nn.version="18.3.1",Nn}var zh;function kf(){return zh||(zh=1,Fu.exports=dg()),Fu.exports}var Uh;function ug(){if(Uh)return Bc;Uh=1;var i=kf(),a=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function m(p,g,v){var j,A={},M=null,b=null;v!==void 0&&(M=""+v),g.key!==void 0&&(M=""+g.key),g.ref!==void 0&&(b=g.ref);for(j in g)o.call(g,j)&&!l.hasOwnProperty(j)&&(A[j]=g[j]);if(p&&p.defaultProps)for(j in g=p.defaultProps,g)A[j]===void 0&&(A[j]=g[j]);return{$$typeof:a,type:p,key:M,ref:b,props:A,_owner:c.current}}return Bc.Fragment=r,Bc.jsx=m,Bc.jsxs=m,Bc}var qh;function fg(){return qh||(qh=1,Du.exports=ug()),Du.exports}var t=fg(),Q=kf();const Af=km(Q),hg=cg({__proto__:null,default:Af},[Q]);var Cd={},Ru={exports:{}},cs={},Tu={exports:{}},Ou={};var $h;function pg(){return $h||($h=1,(function(i){function a(pe,Pe){var Ue=pe.length;pe.push(Pe);e:for(;0<Ue;){var te=Ue-1>>>1,C=pe[te];if(0<c(C,Pe))pe[te]=Pe,pe[Ue]=C,Ue=te;else break e}}function r(pe){return pe.length===0?null:pe[0]}function o(pe){if(pe.length===0)return null;var Pe=pe[0],Ue=pe.pop();if(Ue!==Pe){pe[0]=Ue;e:for(var te=0,C=pe.length,K=C>>>1;te<K;){var Z=2*(te+1)-1,de=pe[Z],ce=Z+1,be=pe[ce];if(0>c(de,Ue))ce<C&&0>c(be,de)?(pe[te]=be,pe[ce]=Ue,te=ce):(pe[te]=de,pe[Z]=Ue,te=Z);else if(ce<C&&0>c(be,Ue))pe[te]=be,pe[ce]=Ue,te=ce;else break e}}return Pe}function c(pe,Pe){var Ue=pe.sortIndex-Pe.sortIndex;return Ue!==0?Ue:pe.id-Pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var m=Date,p=m.now();i.unstable_now=function(){return m.now()-p}}var g=[],v=[],j=1,A=null,M=3,b=!1,U=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(pe){for(var Pe=r(v);Pe!==null;){if(Pe.callback===null)o(v);else if(Pe.startTime<=pe)o(v),Pe.sortIndex=Pe.expirationTime,a(g,Pe);else break;Pe=r(v)}}function H(pe){if(E=!1,X(pe),!U)if(r(g)!==null)U=!0,_e(fe);else{var Pe=r(v);Pe!==null&&Ie(H,Pe.startTime-pe)}}function fe(pe,Pe){U=!1,E&&(E=!1,P(ge),ge=-1),b=!0;var Ue=M;try{for(X(Pe),A=r(g);A!==null&&(!(A.expirationTime>Pe)||pe&&!z());){var te=A.callback;if(typeof te=="function"){A.callback=null,M=A.priorityLevel;var C=te(A.expirationTime<=Pe);Pe=i.unstable_now(),typeof C=="function"?A.callback=C:A===r(g)&&o(g),X(Pe)}else o(g);A=r(g)}if(A!==null)var K=!0;else{var Z=r(v);Z!==null&&Ie(H,Z.startTime-Pe),K=!1}return K}finally{A=null,M=Ue,b=!1}}var he=!1,Ee=null,ge=-1,ee=5,xe=-1;function z(){return!(i.unstable_now()-xe<ee)}function $(){if(Ee!==null){var pe=i.unstable_now();xe=pe;var Pe=!0;try{Pe=Ee(!0,pe)}finally{Pe?le():(he=!1,Ee=null)}}else he=!1}var le;if(typeof W=="function")le=function(){W($)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,we=ie.port2;ie.port1.onmessage=$,le=function(){we.postMessage(null)}}else le=function(){I($,0)};function _e(pe){Ee=pe,he||(he=!0,le())}function Ie(pe,Pe){ge=I(function(){pe(i.unstable_now())},Pe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(pe){pe.callback=null},i.unstable_continueExecution=function(){U||b||(U=!0,_e(fe))},i.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<pe?Math.floor(1e3/pe):5},i.unstable_getCurrentPriorityLevel=function(){return M},i.unstable_getFirstCallbackNode=function(){return r(g)},i.unstable_next=function(pe){switch(M){case 1:case 2:case 3:var Pe=3;break;default:Pe=M}var Ue=M;M=Pe;try{return pe()}finally{M=Ue}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(pe,Pe){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var Ue=M;M=pe;try{return Pe()}finally{M=Ue}},i.unstable_scheduleCallback=function(pe,Pe,Ue){var te=i.unstable_now();switch(typeof Ue=="object"&&Ue!==null?(Ue=Ue.delay,Ue=typeof Ue=="number"&&0<Ue?te+Ue:te):Ue=te,pe){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=Ue+C,pe={id:j++,callback:Pe,priorityLevel:pe,startTime:Ue,expirationTime:C,sortIndex:-1},Ue>te?(pe.sortIndex=Ue,a(v,pe),r(g)===null&&pe===r(v)&&(E?(P(ge),ge=-1):E=!0,Ie(H,Ue-te))):(pe.sortIndex=C,a(g,pe),U||b||(U=!0,_e(fe))),pe},i.unstable_shouldYield=z,i.unstable_wrapCallback=function(pe){var Pe=M;return function(){var Ue=M;M=Pe;try{return pe.apply(this,arguments)}finally{M=Ue}}}})(Ou)),Ou}var Wh;function mg(){return Wh||(Wh=1,Tu.exports=pg()),Tu.exports}var Hh;function gg(){if(Hh)return cs;Hh=1;var i=kf(),a=mg();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function l(e,n){m(e,n),m(e+"Capture",n)}function m(e,n){for(c[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j={},A={};function M(e){return g.call(A,e)?!0:g.call(j,e)?!1:v.test(e)?A[e]=!0:(j[e]=!0,!1)}function b(e,n,s,f){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return f?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function U(e,n,s,f){if(n===null||typeof n>"u"||b(e,n,s,f))return!0;if(f)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function E(e,n,s,f,y,S,R){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=S,this.removeEmptyString=R}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){I[e]=new E(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];I[n]=new E(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){I[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){I[e]=new E(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){I[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){I[e]=new E(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){I[e]=new E(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){I[e]=new E(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){I[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function W(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(P,W);I[n]=new E(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(P,W);I[n]=new E(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(P,W);I[n]=new E(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){I[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)}),I.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){I[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)});function X(e,n,s,f){var y=I.hasOwnProperty(n)?I[n]:null;(y!==null?y.type!==0:f||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(U(n,s,y,f)&&(s=null),f||y===null?M(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):y.mustUseProperty?e[y.propertyName]=s===null?y.type===3?!1:"":s:(n=y.attributeName,f=y.attributeNamespace,s===null?e.removeAttribute(n):(y=y.type,s=y===3||y===4&&s===!0?"":""+s,f?e.setAttributeNS(f,n,s):e.setAttribute(n,s))))}var H=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fe=Symbol.for("react.element"),he=Symbol.for("react.portal"),Ee=Symbol.for("react.fragment"),ge=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),z=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),pe=Symbol.iterator;function Pe(e){return e===null||typeof e!="object"?null:(e=pe&&e[pe]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,te;function C(e){if(te===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);te=n&&n[1]||""}return`
`+te+e}var K=!1;function Z(e,n){if(!e||K)return"";K=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(He){var f=He}Reflect.construct(e,[],n)}else{try{n.call()}catch(He){f=He}e.call(n.prototype)}else{try{throw Error()}catch(He){f=He}e()}}catch(He){if(He&&f&&typeof He.stack=="string"){for(var y=He.stack.split(`
`),S=f.stack.split(`
`),R=y.length-1,ue=S.length-1;1<=R&&0<=ue&&y[R]!==S[ue];)ue--;for(;1<=R&&0<=ue;R--,ue--)if(y[R]!==S[ue]){if(R!==1||ue!==1)do if(R--,ue--,0>ue||y[R]!==S[ue]){var ve=`
`+y[R].replace(" at new "," at ");return e.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",e.displayName)),ve}while(1<=R&&0<=ue);break}}}finally{K=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?C(e):""}function de(e){switch(e.tag){case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1),e;case 11:return e=Z(e.type.render,!1),e;case 1:return e=Z(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ee:return"Fragment";case he:return"Portal";case ee:return"Profiler";case ge:return"StrictMode";case le:return"Suspense";case ie:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case z:return(e.displayName||"Context")+".Consumer";case xe:return(e._context.displayName||"Context")+".Provider";case $:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case we:return n=e.displayName||null,n!==null?n:ce(e.type)||"Memo";case _e:n=e._payload,e=e._init;try{return ce(e(n))}catch{}}return null}function be(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(n);case 8:return n===ge?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fe(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $e(e){var n=Fe(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),f=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var y=s.get,S=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return y.call(this)},set:function(R){f=""+R,S.call(this,R)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function De(e){e._valueTracker||(e._valueTracker=$e(e))}function at(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),f="";return e&&(f=Fe(e)?e.checked?"true":"false":e.value),e=f,e!==s?(n.setValue(e),!0):!1}function ot(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gt(e,n){var s=n.checked;return Ue({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Y(e,n){var s=n.defaultValue==null?"":n.defaultValue,f=n.checked!=null?n.checked:n.defaultChecked;s=Me(n.value!=null?n.value:s),e._wrapperState={initialChecked:f,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function nt(e,n){n=n.checked,n!=null&&X(e,"checked",n,!1)}function It(e,n){nt(e,n);var s=Me(n.value),f=n.type;if(s!=null)f==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(f==="submit"||f==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ke(e,n.type,s):n.hasOwnProperty("defaultValue")&&Ke(e,n.type,Me(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function wt(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var f=n.type;if(!(f!=="submit"&&f!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ke(e,n,s){(n!=="number"||ot(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var _t=Array.isArray;function vt(e,n,s,f){if(e=e.options,n){n={};for(var y=0;y<s.length;y++)n["$"+s[y]]=!0;for(s=0;s<e.length;s++)y=n.hasOwnProperty("$"+e[s].value),e[s].selected!==y&&(e[s].selected=y),y&&f&&(e[s].defaultSelected=!0)}else{for(s=""+Me(s),n=null,y=0;y<e.length;y++){if(e[y].value===s){e[y].selected=!0,f&&(e[y].defaultSelected=!0);return}n!==null||e[y].disabled||(n=e[y])}n!==null&&(n.selected=!0)}}function ct(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return Ue({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function St(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(_t(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:Me(s)}}function nn(e,n){var s=Me(n.value),f=Me(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),f!=null&&(e.defaultValue=""+f)}function Zt(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Jt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gt(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Jt(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ce,ze=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,f,y){MSApp.execUnsafeLocalFunction(function(){return e(n,s,f,y)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ce=Ce||document.createElement("div"),Ce.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function se(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ke={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xe=["Webkit","ms","Moz","O"];Object.keys(ke).forEach(function(e){Xe.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ke[n]=ke[e]})});function ht(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||ke.hasOwnProperty(e)&&ke[e]?(""+n).trim():n+"px"}function Ve(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var f=s.indexOf("--")===0,y=ht(s,n[s],f);s==="float"&&(s="cssFloat"),f?e.setProperty(s,y):e[s]=y}}var ft=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $t(e,n){if(n){if(ft[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function bt(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fn=null;function Bt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kt=null,hn=null,Vt=null;function oe(e){if(e=Ze(e)){if(typeof Kt!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Wt(n),Kt(e.stateNode,e.type,n))}}function dt(e){hn?Vt?Vt.push(e):Vt=[e]:hn=e}function Br(){if(hn){var e=hn,n=Vt;if(Vt=hn=null,oe(e),n)for(e=0;e<n.length;e++)oe(n[e])}}function Yt(e,n){return e(n)}function Dn(){}var Qt=!1;function Nt(e,n,s){if(Qt)return e(n,s);Qt=!0;try{return Yt(e,n,s)}finally{Qt=!1,(hn!==null||Vt!==null)&&(Dn(),Br())}}function za(e,n){var s=e.stateNode;if(s===null)return null;var f=Wt(s);if(f===null)return null;s=f[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(e=e.type,f=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!f;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var ci=!1;if(p)try{var la={};Object.defineProperty(la,"passive",{get:function(){ci=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{ci=!1}function Qa(e,n,s,f,y,S,R,ue,ve){var He=Array.prototype.slice.call(arguments,3);try{n.apply(s,He)}catch(lt){this.onError(lt)}}var An=!1,_r=null,zr=!1,Ii=null,Et={onError:function(e){An=!0,_r=e}};function rr(e,n,s,f,y,S,R,ue,ve){An=!1,_r=null,Qa.apply(Et,arguments)}function di(e,n,s,f,y,S,R,ue,ve){if(rr.apply(this,arguments),An){if(An){var He=_r;An=!1,_r=null}else throw Error(r(198));zr||(zr=!0,Ii=He)}}function Jr(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Fn(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function $n(e){if(Jr(e)!==e)throw Error(r(188))}function cr(e){var n=e.alternate;if(!n){if(n=Jr(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,f=n;;){var y=s.return;if(y===null)break;var S=y.alternate;if(S===null){if(f=y.return,f!==null){s=f;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===s)return $n(y),e;if(S===f)return $n(y),n;S=S.sibling}throw Error(r(188))}if(s.return!==f.return)s=y,f=S;else{for(var R=!1,ue=y.child;ue;){if(ue===s){R=!0,s=y,f=S;break}if(ue===f){R=!0,f=y,s=S;break}ue=ue.sibling}if(!R){for(ue=S.child;ue;){if(ue===s){R=!0,s=S,f=y;break}if(ue===f){R=!0,f=S,s=y;break}ue=ue.sibling}if(!R)throw Error(r(189))}}if(s.alternate!==f)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function dr(e){return e=cr(e),e!==null?Ss(e):null}function Ss(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Ss(e);if(n!==null)return n;e=e.sibling}return null}var ui=a.unstable_scheduleCallback,mt=a.unstable_cancelCallback,Ur=a.unstable_shouldYield,Ns=a.unstable_requestPaint,Cn=a.unstable_now,Ei=a.unstable_getCurrentPriorityLevel,Xa=a.unstable_ImmediatePriority,ur=a.unstable_UserBlockingPriority,Mi=a.unstable_NormalPriority,Jo=a.unstable_LowPriority,Vi=a.unstable_IdlePriority,Kr=null,Qr=null;function Yi(e){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(Kr,e,void 0,(e.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:Ir,gn=Math.log,us=Math.LN2;function Ir(e){return e>>>=0,e===0?32:31-(gn(e)/us|0)|0}var fs=64,ya=4194304;function Di(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function go(e,n){var s=e.pendingLanes;if(s===0)return 0;var f=0,y=e.suspendedLanes,S=e.pingedLanes,R=s&268435455;if(R!==0){var ue=R&~y;ue!==0?f=Di(ue):(S&=R,S!==0&&(f=Di(S)))}else R=s&~y,R!==0?f=Di(R):S!==0&&(f=Di(S));if(f===0)return 0;if(n!==0&&n!==f&&(n&y)===0&&(y=f&-f,S=n&-n,y>=S||y===16&&(S&4194240)!==0))return n;if((f&4)!==0&&(f|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=f;0<n;)s=31-fr(n),y=1<<s,f|=e[s],n&=~y;return f}function Ua(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hr(e,n){for(var s=e.suspendedLanes,f=e.pingedLanes,y=e.expirationTimes,S=e.pendingLanes;0<S;){var R=31-fr(S),ue=1<<R,ve=y[R];ve===-1?((ue&s)===0||(ue&f)!==0)&&(y[R]=Ua(ue,n)):ve<=n&&(e.expiredLanes|=ue),S&=~ue}}function Fi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wn(){var e=fs;return fs<<=1,(fs&4194240)===0&&(fs=64),e}function hs(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Xr(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-fr(n),e[n]=s}function Ri(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var f=e.eventTimes;for(e=e.expirationTimes;0<s;){var y=31-fr(s),S=1<<y;n[y]=0,f[y]=-1,e[y]=-1,s&=~S}}function Ti(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var f=31-fr(s),y=1<<f;y&n|e[f]&n&&(e[f]|=n),s&=~y}}var Pn=0;function zs(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var fi,qr,ks,vn,va,Gi=!1,La=[],pr=null,zn=null,Jn=null,_a=new Map,Xt=new Map,Za=[],jn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Us(e,n){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":_a.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xt.delete(n.pointerId)}}function Er(e,n,s,f,y,S){return e===null||e.nativeEvent!==S?(e={blockedOn:n,domEventName:s,eventSystemFlags:f,nativeEvent:S,targetContainers:[y]},n!==null&&(n=Ze(n),n!==null&&qr(n)),e):(e.eventSystemFlags|=f,n=e.targetContainers,y!==null&&n.indexOf(y)===-1&&n.push(y),e)}function Ji(e,n,s,f,y){switch(n){case"focusin":return pr=Er(pr,e,n,s,f,y),!0;case"dragenter":return zn=Er(zn,e,n,s,f,y),!0;case"mouseover":return Jn=Er(Jn,e,n,s,f,y),!0;case"pointerover":var S=y.pointerId;return _a.set(S,Er(_a.get(S)||null,e,n,s,f,y)),!0;case"gotpointercapture":return S=y.pointerId,Xt.set(S,Er(Xt.get(S)||null,e,n,s,f,y)),!0}return!1}function qs(e){var n=Se(e.target);if(n!==null){var s=Jr(n);if(s!==null){if(n=s.tag,n===13){if(n=Fn(s),n!==null){e.blockedOn=n,va(e.priority,function(){ks(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function As(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ki(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var f=new s.constructor(s.type,s);fn=f,s.target.dispatchEvent(f),fn=null}else return n=Ze(s),n!==null&&qr(n),e.blockedOn=s,!1;n.shift()}return!0}function Ia(e,n,s){As(e)&&s.delete(n)}function Oo(){Gi=!1,pr!==null&&As(pr)&&(pr=null),zn!==null&&As(zn)&&(zn=null),Jn!==null&&As(Jn)&&(Jn=null),_a.forEach(Ia),Xt.forEach(Ia)}function hi(e,n){e.blockedOn===n&&(e.blockedOn=null,Gi||(Gi=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Oo)))}function ar(e){function n(y){return hi(y,e)}if(0<La.length){hi(La[0],e);for(var s=1;s<La.length;s++){var f=La[s];f.blockedOn===e&&(f.blockedOn=null)}}for(pr!==null&&hi(pr,e),zn!==null&&hi(zn,e),Jn!==null&&hi(Jn,e),_a.forEach(n),Xt.forEach(n),s=0;s<Za.length;s++)f=Za[s],f.blockedOn===e&&(f.blockedOn=null);for(;0<Za.length&&(s=Za[0],s.blockedOn===null);)qs(s),s.blockedOn===null&&Za.shift()}var Ea=H.ReactCurrentBatchConfig,ps=!0;function $s(e,n,s,f){var y=Pn,S=Ea.transition;Ea.transition=null;try{Pn=1,Ws(e,n,s,f)}finally{Pn=y,Ea.transition=S}}function Sr(e,n,s,f){var y=Pn,S=Ea.transition;Ea.transition=null;try{Pn=4,Ws(e,n,s,f)}finally{Pn=y,Ea.transition=S}}function Ws(e,n,s,f){if(ps){var y=Ki(e,n,s,f);if(y===null)Uo(e,n,f,pi,s),Us(e,f);else if(Ji(y,e,n,s,f))f.stopPropagation();else if(Us(e,f),n&4&&-1<jn.indexOf(e)){for(;y!==null;){var S=Ze(y);if(S!==null&&fi(S),S=Ki(e,n,s,f),S===null&&Uo(e,n,f,pi,s),S===y)break;y=S}y!==null&&f.stopPropagation()}else Uo(e,n,f,null,s)}}var pi=null;function Ki(e,n,s,f){if(pi=null,e=Bt(f),e=Se(e),e!==null)if(n=Jr(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Fn(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return pi=e,null}function Hs(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ei()){case Xa:return 1;case ur:return 4;case Mi:case Jo:return 16;case Vi:return 536870912;default:return 16}default:return 16}}var ba=null,Zr=null,mi=null;function Ln(){if(mi)return mi;var e,n=Zr,s=n.length,f,y="value"in ba?ba.value:ba.textContent,S=y.length;for(e=0;e<s&&n[e]===y[e];e++);var R=s-e;for(f=1;f<=R&&n[s-f]===y[S-f];f++);return mi=y.slice(e,1<f?1-f:void 0)}function Ma(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function En(){return!0}function Oi(){return!1}function Hn(e){function n(s,f,y,S,R){this._reactName=s,this._targetInst=y,this.type=f,this.nativeEvent=S,this.target=R,this.currentTarget=null;for(var ue in e)e.hasOwnProperty(ue)&&(s=e[ue],this[ue]=s?s(S):S[ue]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?En:Oi,this.isPropagationStopped=Oi,this}return Ue(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=En)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=En)},persist:function(){},isPersistent:En}),n}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Hn(gi),x=Ue({},gi,{view:0,detail:0}),L=Hn(x),ae,me,Le,Qe=Ue({},x,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Le&&(Le&&e.type==="mousemove"?(ae=e.screenX-Le.screenX,me=e.screenY-Le.screenY):me=ae=0,Le=e),ae)},movementY:function(e){return"movementY"in e?e.movementY:me}}),rt=Hn(Qe),kt=Ue({},Qe,{dataTransfer:0}),Tt=Hn(kt),qt=Ue({},x,{relatedTarget:0}),rn=Hn(qt),dn=Ue({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),ir=Hn(dn),sr=Ue({},gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vn=Hn(sr),Nr=Ue({},gi,{data:0}),kr=Hn(Nr),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bi(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Kn[e])?!!n[e]:!1}function Ar(){return Bi}var xi=Ue({},x,{key:function(e){if(e.key){var n=ea[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ma(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(e){return e.type==="keypress"?Ma(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ma(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xi=Hn(xi),Cs=Ue({},Qe,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Hn(Cs),ei=Ue({},x,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar}),mr=Hn(ei),zi=Ue({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ps=Hn(zi),ti=Ue({},Qe,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ni=Hn(ti),gr=[9,13,27,32],es=p&&"CompositionEvent"in window,Da=null;p&&"documentMode"in document&&(Da=document.documentMode);var ts=p&&"TextEvent"in window&&!Da,ja=p&&(!es||Da&&8<Da&&11>=Da),jt=" ",_n=!1;function Ls(e,n){switch(e){case"keyup":return gr.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function ri(e,n){switch(e){case"compositionend":return yi(n);case"keypress":return n.which!==32?null:(_n=!0,jt);case"textInput":return e=n.data,e===jt&&_n?null:e;default:return null}}function Sa(e,n){if(ca)return e==="compositionend"||!es&&Ls(e,n)?(e=Ln(),mi=Zr=ba=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ja&&n.locale!=="ko"?null:n.data;default:return null}}var vi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $r(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!vi[e.type]:n==="textarea"}function ns(e,n,s,f){dt(f),n=ai(n,"onChange"),0<n.length&&(s=new wa("onChange","change",null,s,f),e.push({event:s,listeners:n}))}var Ui=null,bi=null;function Yn(e){ko(e,0)}function Vs(e){var n=it(e);if(at(n))return e}function rs(e,n){if(e==="change")return n}var qa=!1;if(p){var Ys;if(p){var xo="oninput"in document;if(!xo){var Gs=document.createElement("div");Gs.setAttribute("oninput","return;"),xo=typeof Gs.oninput=="function"}Ys=xo}else Ys=!1;qa=Ys&&(!document.documentMode||9<document.documentMode)}function yo(){Ui&&(Ui.detachEvent("onpropertychange",wi),bi=Ui=null)}function wi(e){if(e.propertyName==="value"&&Vs(bi)){var n=[];ns(n,bi,e,Bt(e)),Nt(Yn,n)}}function _s(e,n,s){e==="focusin"?(yo(),Ui=n,bi=s,Ui.attachEvent("onpropertychange",wi)):e==="focusout"&&yo()}function ta(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vs(bi)}function Js(e,n){if(e==="click")return Vs(n)}function na(e,n){if(e==="input"||e==="change")return Vs(n)}function Ks(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var xr=typeof Object.is=="function"?Object.is:Ks;function $a(e,n){if(xr(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),f=Object.keys(n);if(s.length!==f.length)return!1;for(f=0;f<s.length;f++){var y=s[f];if(!g.call(n,y)||!xr(e[y],n[y]))return!1}return!0}function Mn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bn(e,n){var s=Mn(e);e=0;for(var f;s;){if(s.nodeType===3){if(f=e+s.textContent.length,e<=n&&f>=n)return{node:s,offset:n-e};e=f}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Mn(s)}}function yr(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?yr(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Mr(){for(var e=window,n=ot();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ot(e.document)}return n}function ji(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function vr(e){var n=Mr(),s=e.focusedElem,f=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&yr(s.ownerDocument.documentElement,s)){if(f!==null&&ji(s)){if(n=f.start,e=f.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var y=s.textContent.length,S=Math.min(f.start,y);f=f.end===void 0?S:Math.min(f.end,y),!e.extend&&S>f&&(y=f,f=S,S=y),y=bn(s,S);var R=bn(s,f);y&&R&&(e.rangeCount!==1||e.anchorNode!==y.node||e.anchorOffset!==y.offset||e.focusNode!==R.node||e.focusOffset!==R.offset)&&(n=n.createRange(),n.setStart(y.node,y.offset),e.removeAllRanges(),S>f?(e.addRange(n),e.extend(R.node,R.offset)):(n.setEnd(R.node,R.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vo=p&&"documentMode"in document&&11>=document.documentMode,Is=null,In=null,bo=null,Bo=!1;function Ko(e,n,s){var f=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Bo||Is==null||Is!==ot(f)||(f=Is,"selectionStart"in f&&ji(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),bo&&$a(bo,f)||(bo=f,f=ai(In,"onSelect"),0<f.length&&(n=new wa("onSelect","select",null,n,s),e.push({event:n,listeners:f}),n.target=Is)))}function zo(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Qs={animationend:zo("Animation","AnimationEnd"),animationiteration:zo("Animation","AnimationIteration"),animationstart:zo("Animation","AnimationStart"),transitionend:zo("Transition","TransitionEnd")},Xs={},wo={};p&&(wo=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function jo(e){if(Xs[e])return Xs[e];if(!Qs[e])return e;var n=Qs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in wo)return Xs[e]=n[s];return e}var wl=jo("animationend"),jl=jo("animationiteration"),Sl=jo("animationstart"),Nl=jo("transitionend"),kl=new Map,Al="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(e,n){kl.set(e,n),l(n,[e])}for(var So=0;So<Al.length;So++){var Fa=Al[So],Si=Fa.toLowerCase(),Qo=Fa[0].toUpperCase()+Fa.slice(1);as(Si,"on"+Qo)}as(wl,"onAnimationEnd"),as(jl,"onAnimationIteration"),as(Sl,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(Nl,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cl=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function No(e,n,s){var f=e.type||"unknown-event";e.currentTarget=s,di(f,n,void 0,e),e.currentTarget=null}function ko(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var f=e[s],y=f.event;f=f.listeners;e:{var S=void 0;if(n)for(var R=f.length-1;0<=R;R--){var ue=f[R],ve=ue.instance,He=ue.currentTarget;if(ue=ue.listener,ve!==S&&y.isPropagationStopped())break e;No(y,ue,He),S=ve}else for(R=0;R<f.length;R++){if(ue=f[R],ve=ue.instance,He=ue.currentTarget,ue=ue.listener,ve!==S&&y.isPropagationStopped())break e;No(y,ue,He),S=ve}}}if(zr)throw e=Ii,zr=!1,Ii=null,e}function Un(e,n){var s=n[G];s===void 0&&(s=n[G]=new Set);var f=e+"__bubble";s.has(f)||(Ra(n,e,2,!1),s.add(f))}function Xo(e,n,s){var f=0;n&&(f|=4),Ra(s,e,f,n)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){if(!e[Ao]){e[Ao]=!0,o.forEach(function(s){s!=="selectionchange"&&(Cl.has(s)||Xo(s,!1,e),Xo(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ao]||(n[Ao]=!0,Xo("selectionchange",!1,n))}}function Ra(e,n,s,f){switch(Hs(n)){case 1:var y=$s;break;case 4:y=Sr;break;default:y=Ws}s=y.bind(null,n,s,e),y=void 0,!ci||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(y=!0),f?y!==void 0?e.addEventListener(n,s,{capture:!0,passive:y}):e.addEventListener(n,s,!0):y!==void 0?e.addEventListener(n,s,{passive:y}):e.addEventListener(n,s,!1)}function Uo(e,n,s,f,y){var S=f;if((n&1)===0&&(n&2)===0&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var ue=f.stateNode.containerInfo;if(ue===y||ue.nodeType===8&&ue.parentNode===y)break;if(R===4)for(R=f.return;R!==null;){var ve=R.tag;if((ve===3||ve===4)&&(ve=R.stateNode.containerInfo,ve===y||ve.nodeType===8&&ve.parentNode===y))return;R=R.return}for(;ue!==null;){if(R=Se(ue),R===null)return;if(ve=R.tag,ve===5||ve===6){f=S=R;continue e}ue=ue.parentNode}}f=f.return}Nt(function(){var He=S,lt=Bt(s),ut=[];e:{var st=kl.get(e);if(st!==void 0){var Ct=wa,Ft=e;switch(e){case"keypress":if(Ma(s)===0)break e;case"keydown":case"keyup":Ct=Xi;break;case"focusin":Ft="focus",Ct=rn;break;case"focusout":Ft="blur",Ct=rn;break;case"beforeblur":case"afterblur":Ct=rn;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ct=rt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ct=Tt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ct=mr;break;case wl:case jl:case Sl:Ct=ir;break;case Nl:Ct=Ps;break;case"scroll":Ct=L;break;case"wheel":Ct=ni;break;case"copy":case"cut":case"paste":Ct=Vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ct=Zi}var Ot=(n&4)!==0,ha=!Ot&&e==="scroll",Oe=Ot?st!==null?st+"Capture":null:st;Ot=[];for(var Ne=He,We;Ne!==null;){We=Ne;var pt=We.stateNode;if(We.tag===5&&pt!==null&&(We=pt,Oe!==null&&(pt=za(Ne,Oe),pt!=null&&Ot.push(qe(Ne,pt,We)))),ha)break;Ne=Ne.return}0<Ot.length&&(st=new Ct(st,Ft,null,s,lt),ut.push({event:st,listeners:Ot}))}}if((n&7)===0){e:{if(st=e==="mouseover"||e==="pointerover",Ct=e==="mouseout"||e==="pointerout",st&&s!==fn&&(Ft=s.relatedTarget||s.fromElement)&&(Se(Ft)||Ft[D]))break e;if((Ct||st)&&(st=lt.window===lt?lt:(st=lt.ownerDocument)?st.defaultView||st.parentWindow:window,Ct?(Ft=s.relatedTarget||s.toElement,Ct=He,Ft=Ft?Se(Ft):null,Ft!==null&&(ha=Jr(Ft),Ft!==ha||Ft.tag!==5&&Ft.tag!==6)&&(Ft=null)):(Ct=null,Ft=He),Ct!==Ft)){if(Ot=rt,pt="onMouseLeave",Oe="onMouseEnter",Ne="mouse",(e==="pointerout"||e==="pointerover")&&(Ot=Zi,pt="onPointerLeave",Oe="onPointerEnter",Ne="pointer"),ha=Ct==null?st:it(Ct),We=Ft==null?st:it(Ft),st=new Ot(pt,Ne+"leave",Ct,s,lt),st.target=ha,st.relatedTarget=We,pt=null,Se(lt)===He&&(Ot=new Ot(Oe,Ne+"enter",Ft,s,lt),Ot.target=We,Ot.relatedTarget=ha,pt=Ot),ha=pt,Ct&&Ft)t:{for(Ot=Ct,Oe=Ft,Ne=0,We=Ot;We;We=Zs(We))Ne++;for(We=0,pt=Oe;pt;pt=Zs(pt))We++;for(;0<Ne-We;)Ot=Zs(Ot),Ne--;for(;0<We-Ne;)Oe=Zs(Oe),We--;for(;Ne--;){if(Ot===Oe||Oe!==null&&Ot===Oe.alternate)break t;Ot=Zs(Ot),Oe=Zs(Oe)}Ot=null}else Ot=null;Ct!==null&&Vl(ut,st,Ct,Ot,!1),Ft!==null&&ha!==null&&Vl(ut,ha,Ft,Ot,!0)}}e:{if(st=He?it(He):window,Ct=st.nodeName&&st.nodeName.toLowerCase(),Ct==="select"||Ct==="input"&&st.type==="file")var Ut=rs;else if($r(st))if(qa)Ut=na;else{Ut=ta;var en=_s}else(Ct=st.nodeName)&&Ct.toLowerCase()==="input"&&(st.type==="checkbox"||st.type==="radio")&&(Ut=Js);if(Ut&&(Ut=Ut(e,He))){ns(ut,Ut,s,lt);break e}en&&en(e,st,He),e==="focusout"&&(en=st._wrapperState)&&en.controlled&&st.type==="number"&&Ke(st,"number",st.value)}switch(en=He?it(He):window,e){case"focusin":($r(en)||en.contentEditable==="true")&&(Is=en,In=He,bo=null);break;case"focusout":bo=In=Is=null;break;case"mousedown":Bo=!0;break;case"contextmenu":case"mouseup":case"dragend":Bo=!1,Ko(ut,s,lt);break;case"selectionchange":if(vo)break;case"keydown":case"keyup":Ko(ut,s,lt)}var tn;if(es)e:{switch(e){case"compositionstart":var ln="onCompositionStart";break e;case"compositionend":ln="onCompositionEnd";break e;case"compositionupdate":ln="onCompositionUpdate";break e}ln=void 0}else ca?Ls(e,s)&&(ln="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ln="onCompositionStart");ln&&(ja&&s.locale!=="ko"&&(ca||ln!=="onCompositionStart"?ln==="onCompositionEnd"&&ca&&(tn=Ln()):(ba=lt,Zr="value"in ba?ba.value:ba.textContent,ca=!0)),en=ai(He,ln),0<en.length&&(ln=new kr(ln,e,null,s,lt),ut.push({event:ln,listeners:en}),tn?ln.data=tn:(tn=yi(s),tn!==null&&(ln.data=tn)))),(tn=ts?ri(e,s):Sa(e,s))&&(He=ai(He,"onBeforeInput"),0<He.length&&(lt=new kr("onBeforeInput","beforeinput",null,s,lt),ut.push({event:lt,listeners:He}),lt.data=tn))}ko(ut,n)})}function qe(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ai(e,n){for(var s=n+"Capture",f=[];e!==null;){var y=e,S=y.stateNode;y.tag===5&&S!==null&&(y=S,S=za(e,s),S!=null&&f.unshift(qe(e,S,y)),S=za(e,n),S!=null&&f.push(qe(e,S,y))),e=e.return}return f}function Zs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vl(e,n,s,f,y){for(var S=n._reactName,R=[];s!==null&&s!==f;){var ue=s,ve=ue.alternate,He=ue.stateNode;if(ve!==null&&ve===f)break;ue.tag===5&&He!==null&&(ue=He,y?(ve=za(s,S),ve!=null&&R.unshift(qe(s,ve,ue))):y||(ve=za(s,S),ve!=null&&R.push(qe(s,ve,ue)))),s=s.return}R.length!==0&&e.push({event:n,listeners:R})}var kc=/\r\n?/g,Ac=/\u0000|\uFFFD/g;function Yl(e){return(typeof e=="string"?e:""+e).replace(kc,`
`).replace(Ac,"")}function Zo(e,n,s){if(n=Yl(n),Yl(e)!==n&&s)throw Error(r(425))}function eo(){}var Co=null,Es=null;function Po(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var el=typeof setTimeout=="function"?setTimeout:void 0,Gl=typeof clearTimeout=="function"?clearTimeout:void 0,Pl=typeof Promise=="function"?Promise:void 0,tl=typeof queueMicrotask=="function"?queueMicrotask:typeof Pl<"u"?function(e){return Pl.resolve(null).then(e).catch(Lo)}:el;function Lo(e){setTimeout(function(){throw e})}function to(e,n){var s=n,f=0;do{var y=s.nextSibling;if(e.removeChild(s),y&&y.nodeType===8)if(s=y.data,s==="/$"){if(f===0){e.removeChild(y),ar(n);return}f--}else s!=="$"&&s!=="$?"&&s!=="$!"||f++;s=y}while(s);ar(n)}function Ta(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function u(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var N=Math.random().toString(36).slice(2),O="__reactFiber$"+N,F="__reactProps$"+N,D="__reactContainer$"+N,G="__reactEvents$"+N,V="__reactListeners$"+N,Ae="__reactHandles$"+N;function Se(e){var n=e[O];if(n)return n;for(var s=e.parentNode;s;){if(n=s[D]||s[O]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=u(e);e!==null;){if(s=e[O])return s;e=u(e)}return n}e=s,s=e.parentNode}return null}function Ze(e){return e=e[O]||e[D],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function it(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Wt(e){return e[F]||null}var yt=[],yn=-1;function an(e){return{current:e}}function on(e){0>yn||(e.current=yt[yn],yt[yn]=null,yn--)}function xn(e,n){yn++,yt[yn]=e.current,e.current=n}var Na={},da=an(Na),Wa=an(!1),At=Na;function qn(e,n){var s=e.type.contextTypes;if(!s)return Na;var f=e.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===n)return f.__reactInternalMemoizedMaskedChildContext;var y={},S;for(S in s)y[S]=n[S];return f&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=y),y}function Qn(e){return e=e.childContextTypes,e!=null}function Ms(){on(Wa),on(da)}function Jl(e,n,s){if(da.current!==Na)throw Error(r(168));xn(da,n),xn(Wa,s)}function Cc(e,n,s){var f=e.stateNode;if(n=n.childContextTypes,typeof f.getChildContext!="function")return s;f=f.getChildContext();for(var y in f)if(!(y in n))throw Error(r(108,be(e)||"Unknown",y));return Ue({},s,f)}function qo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Na,At=da.current,xn(da,e),xn(Wa,Wa.current),!0}function Zc(e,n,s){var f=e.stateNode;if(!f)throw Error(r(169));s?(e=Cc(e,n,At),f.__reactInternalMemoizedMergedChildContext=e,on(Wa),on(da),xn(da,e)):on(Wa),xn(Wa,s)}var no=null,Ll=!1,d=!1;function h(e){no===null?no=[e]:no.push(e)}function w(e){Ll=!0,h(e)}function k(){if(!d&&no!==null){d=!0;var e=0,n=Pn;try{var s=no;for(Pn=1;e<s.length;e++){var f=s[e];do f=f(!0);while(f!==null)}no=null,Ll=!1}catch(y){throw no!==null&&(no=no.slice(e+1)),ui(Xa,k),y}finally{Pn=n,d=!1}}return null}var _=[],T=0,B=null,q=0,J=[],ne=0,ye=null,Te=1,re="";function je(e,n){_[T++]=q,_[T++]=B,B=e,q=n}function Re(e,n,s){J[ne++]=Te,J[ne++]=re,J[ne++]=ye,ye=e;var f=Te;e=re;var y=32-fr(f)-1;f&=~(1<<y),s+=1;var S=32-fr(n)+y;if(30<S){var R=y-y%5;S=(f&(1<<R)-1).toString(32),f>>=R,y-=R,Te=1<<32-fr(n)+y|s<<y|f,re=S+e}else Te=1<<S|s<<y|f,re=e}function Je(e){e.return!==null&&(je(e,1),Re(e,1,0))}function Be(e){for(;e===B;)B=_[--T],_[T]=null,q=_[--T],_[T]=null;for(;e===ye;)ye=J[--ne],J[ne]=null,re=J[--ne],J[ne]=null,Te=J[--ne],J[ne]=null}var Ye=null,Ge=null,et=!1,tt=null;function zt(e,n){var s=Os(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Pt(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Ye=e,Ge=Ta(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Ye=e,Ge=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=ye!==null?{id:Te,overflow:re}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Os(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,Ye=e,Ge=null,!0):!1;default:return!1}}function un(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dt(e){if(et){var n=Ge;if(n){var s=n;if(!Pt(e,n)){if(un(e))throw Error(r(418));n=Ta(s.nextSibling);var f=Ye;n&&Pt(e,n)?zt(f,s):(e.flags=e.flags&-4097|2,et=!1,Ye=e)}}else{if(un(e))throw Error(r(418));e.flags=e.flags&-4097|2,et=!1,Ye=e}}}function Sn(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ye=e}function Fr(e){if(e!==Ye)return!1;if(!et)return Sn(e),et=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Po(e.type,e.memoizedProps)),n&&(n=Ge)){if(un(e))throw pn(),Error(r(418));for(;n;)zt(e,n),n=Ta(n.nextSibling)}if(Sn(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){Ge=Ta(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}Ge=null}}else Ge=Ye?Ta(e.stateNode.nextSibling):null;return!0}function pn(){for(var e=Ge;e;)e=Ta(e.nextSibling)}function Lt(){Ge=Ye=null,et=!1}function xt(e){tt===null?tt=[e]:tt.push(e)}var Wr=H.ReactCurrentBatchConfig;function sn(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var f=s.stateNode}if(!f)throw Error(r(147,e));var y=f,S=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===S?n.ref:(n=function(R){var ue=y.refs;R===null?delete ue[S]:ue[S]=R},n._stringRef=S,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function wn(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function nr(e){var n=e._init;return n(e._payload)}function ka(e){function n(Oe,Ne){if(e){var We=Oe.deletions;We===null?(Oe.deletions=[Ne],Oe.flags|=16):We.push(Ne)}}function s(Oe,Ne){if(!e)return null;for(;Ne!==null;)n(Oe,Ne),Ne=Ne.sibling;return null}function f(Oe,Ne){for(Oe=new Map;Ne!==null;)Ne.key!==null?Oe.set(Ne.key,Ne):Oe.set(Ne.index,Ne),Ne=Ne.sibling;return Oe}function y(Oe,Ne){return Oe=ul(Oe,Ne),Oe.index=0,Oe.sibling=null,Oe}function S(Oe,Ne,We){return Oe.index=We,e?(We=Oe.alternate,We!==null?(We=We.index,We<Ne?(Oe.flags|=2,Ne):We):(Oe.flags|=2,Ne)):(Oe.flags|=1048576,Ne)}function R(Oe){return e&&Oe.alternate===null&&(Oe.flags|=2),Oe}function ue(Oe,Ne,We,pt){return Ne===null||Ne.tag!==6?(Ne=Pu(We,Oe.mode,pt),Ne.return=Oe,Ne):(Ne=y(Ne,We),Ne.return=Oe,Ne)}function ve(Oe,Ne,We,pt){var Ut=We.type;return Ut===Ee?lt(Oe,Ne,We.props.children,pt,We.key):Ne!==null&&(Ne.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===_e&&nr(Ut)===Ne.type)?(pt=y(Ne,We.props),pt.ref=sn(Oe,Ne,We),pt.return=Oe,pt):(pt=vd(We.type,We.key,We.props,null,Oe.mode,pt),pt.ref=sn(Oe,Ne,We),pt.return=Oe,pt)}function He(Oe,Ne,We,pt){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==We.containerInfo||Ne.stateNode.implementation!==We.implementation?(Ne=Lu(We,Oe.mode,pt),Ne.return=Oe,Ne):(Ne=y(Ne,We.children||[]),Ne.return=Oe,Ne)}function lt(Oe,Ne,We,pt,Ut){return Ne===null||Ne.tag!==7?(Ne=Tl(We,Oe.mode,pt,Ut),Ne.return=Oe,Ne):(Ne=y(Ne,We),Ne.return=Oe,Ne)}function ut(Oe,Ne,We){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return Ne=Pu(""+Ne,Oe.mode,We),Ne.return=Oe,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case fe:return We=vd(Ne.type,Ne.key,Ne.props,null,Oe.mode,We),We.ref=sn(Oe,null,Ne),We.return=Oe,We;case he:return Ne=Lu(Ne,Oe.mode,We),Ne.return=Oe,Ne;case _e:var pt=Ne._init;return ut(Oe,pt(Ne._payload),We)}if(_t(Ne)||Pe(Ne))return Ne=Tl(Ne,Oe.mode,We,null),Ne.return=Oe,Ne;wn(Oe,Ne)}return null}function st(Oe,Ne,We,pt){var Ut=Ne!==null?Ne.key:null;if(typeof We=="string"&&We!==""||typeof We=="number")return Ut!==null?null:ue(Oe,Ne,""+We,pt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case fe:return We.key===Ut?ve(Oe,Ne,We,pt):null;case he:return We.key===Ut?He(Oe,Ne,We,pt):null;case _e:return Ut=We._init,st(Oe,Ne,Ut(We._payload),pt)}if(_t(We)||Pe(We))return Ut!==null?null:lt(Oe,Ne,We,pt,null);wn(Oe,We)}return null}function Ct(Oe,Ne,We,pt,Ut){if(typeof pt=="string"&&pt!==""||typeof pt=="number")return Oe=Oe.get(We)||null,ue(Ne,Oe,""+pt,Ut);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case fe:return Oe=Oe.get(pt.key===null?We:pt.key)||null,ve(Ne,Oe,pt,Ut);case he:return Oe=Oe.get(pt.key===null?We:pt.key)||null,He(Ne,Oe,pt,Ut);case _e:var en=pt._init;return Ct(Oe,Ne,We,en(pt._payload),Ut)}if(_t(pt)||Pe(pt))return Oe=Oe.get(We)||null,lt(Ne,Oe,pt,Ut,null);wn(Ne,pt)}return null}function Ft(Oe,Ne,We,pt){for(var Ut=null,en=null,tn=Ne,ln=Ne=0,Ja=null;tn!==null&&ln<We.length;ln++){tn.index>ln?(Ja=tn,tn=null):Ja=tn.sibling;var Bn=st(Oe,tn,We[ln],pt);if(Bn===null){tn===null&&(tn=Ja);break}e&&tn&&Bn.alternate===null&&n(Oe,tn),Ne=S(Bn,Ne,ln),en===null?Ut=Bn:en.sibling=Bn,en=Bn,tn=Ja}if(ln===We.length)return s(Oe,tn),et&&je(Oe,ln),Ut;if(tn===null){for(;ln<We.length;ln++)tn=ut(Oe,We[ln],pt),tn!==null&&(Ne=S(tn,Ne,ln),en===null?Ut=tn:en.sibling=tn,en=tn);return et&&je(Oe,ln),Ut}for(tn=f(Oe,tn);ln<We.length;ln++)Ja=Ct(tn,Oe,ln,We[ln],pt),Ja!==null&&(e&&Ja.alternate!==null&&tn.delete(Ja.key===null?ln:Ja.key),Ne=S(Ja,Ne,ln),en===null?Ut=Ja:en.sibling=Ja,en=Ja);return e&&tn.forEach(function(fl){return n(Oe,fl)}),et&&je(Oe,ln),Ut}function Ot(Oe,Ne,We,pt){var Ut=Pe(We);if(typeof Ut!="function")throw Error(r(150));if(We=Ut.call(We),We==null)throw Error(r(151));for(var en=Ut=null,tn=Ne,ln=Ne=0,Ja=null,Bn=We.next();tn!==null&&!Bn.done;ln++,Bn=We.next()){tn.index>ln?(Ja=tn,tn=null):Ja=tn.sibling;var fl=st(Oe,tn,Bn.value,pt);if(fl===null){tn===null&&(tn=Ja);break}e&&tn&&fl.alternate===null&&n(Oe,tn),Ne=S(fl,Ne,ln),en===null?Ut=fl:en.sibling=fl,en=fl,tn=Ja}if(Bn.done)return s(Oe,tn),et&&je(Oe,ln),Ut;if(tn===null){for(;!Bn.done;ln++,Bn=We.next())Bn=ut(Oe,Bn.value,pt),Bn!==null&&(Ne=S(Bn,Ne,ln),en===null?Ut=Bn:en.sibling=Bn,en=Bn);return et&&je(Oe,ln),Ut}for(tn=f(Oe,tn);!Bn.done;ln++,Bn=We.next())Bn=Ct(tn,Oe,ln,Bn.value,pt),Bn!==null&&(e&&Bn.alternate!==null&&tn.delete(Bn.key===null?ln:Bn.key),Ne=S(Bn,Ne,ln),en===null?Ut=Bn:en.sibling=Bn,en=Bn);return e&&tn.forEach(function(lg){return n(Oe,lg)}),et&&je(Oe,ln),Ut}function ha(Oe,Ne,We,pt){if(typeof We=="object"&&We!==null&&We.type===Ee&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case fe:e:{for(var Ut=We.key,en=Ne;en!==null;){if(en.key===Ut){if(Ut=We.type,Ut===Ee){if(en.tag===7){s(Oe,en.sibling),Ne=y(en,We.props.children),Ne.return=Oe,Oe=Ne;break e}}else if(en.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===_e&&nr(Ut)===en.type){s(Oe,en.sibling),Ne=y(en,We.props),Ne.ref=sn(Oe,en,We),Ne.return=Oe,Oe=Ne;break e}s(Oe,en);break}else n(Oe,en);en=en.sibling}We.type===Ee?(Ne=Tl(We.props.children,Oe.mode,pt,We.key),Ne.return=Oe,Oe=Ne):(pt=vd(We.type,We.key,We.props,null,Oe.mode,pt),pt.ref=sn(Oe,Ne,We),pt.return=Oe,Oe=pt)}return R(Oe);case he:e:{for(en=We.key;Ne!==null;){if(Ne.key===en)if(Ne.tag===4&&Ne.stateNode.containerInfo===We.containerInfo&&Ne.stateNode.implementation===We.implementation){s(Oe,Ne.sibling),Ne=y(Ne,We.children||[]),Ne.return=Oe,Oe=Ne;break e}else{s(Oe,Ne);break}else n(Oe,Ne);Ne=Ne.sibling}Ne=Lu(We,Oe.mode,pt),Ne.return=Oe,Oe=Ne}return R(Oe);case _e:return en=We._init,ha(Oe,Ne,en(We._payload),pt)}if(_t(We))return Ft(Oe,Ne,We,pt);if(Pe(We))return Ot(Oe,Ne,We,pt);wn(Oe,We)}return typeof We=="string"&&We!==""||typeof We=="number"?(We=""+We,Ne!==null&&Ne.tag===6?(s(Oe,Ne.sibling),Ne=y(Ne,We),Ne.return=Oe,Oe=Ne):(s(Oe,Ne),Ne=Pu(We,Oe.mode,pt),Ne.return=Oe,Oe=Ne),R(Oe)):s(Oe,Ne)}return ha}var ra=ka(!0),Cr=ka(!1),ua=an(null),Aa=null,br=null,kn=null;function Rn(){kn=br=Aa=null}function wr(e){var n=ua.current;on(ua),e._currentValue=n}function Tn(e,n,s){for(;e!==null;){var f=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,f!==null&&(f.childLanes|=n)):f!==null&&(f.childLanes&n)!==n&&(f.childLanes|=n),e===s)break;e=e.return}}function Rr(e,n){Aa=e,kn=br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(ss=!0),e.firstContext=null)}function Tr(e){var n=e._currentValue;if(kn!==e)if(e={context:e,memoizedValue:n,next:null},br===null){if(Aa===null)throw Error(r(308));br=e,Aa.dependencies={lanes:0,firstContext:e}}else br=br.next=e;return n}var Xn=null;function Ha(e){Xn===null?Xn=[e]:Xn.push(e)}function Gn(e,n,s,f){var y=n.interleaved;return y===null?(s.next=s,Ha(n)):(s.next=y.next,y.next=s),n.interleaved=s,Zn(e,f)}function Zn(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ni(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Vr(e,n,s){var f=e.updateQueue;if(f===null)return null;if(f=f.shared,(On&2)!==0){var y=f.pending;return y===null?n.next=n:(n.next=y.next,y.next=n),f.pending=n,Zn(e,s)}return y=f.interleaved,y===null?(n.next=n,Ha(f)):(n.next=y.next,y.next=n),f.interleaved=n,Zn(e,s)}function Va(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var f=n.lanes;f&=e.pendingLanes,s|=f,n.lanes=s,Ti(e,s)}}function er(e,n){var s=e.updateQueue,f=e.alternate;if(f!==null&&(f=f.updateQueue,s===f)){var y=null,S=null;if(s=s.firstBaseUpdate,s!==null){do{var R={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};S===null?y=S=R:S=S.next=R,s=s.next}while(s!==null);S===null?y=S=n:S=S.next=n}else y=S=n;s={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:f.shared,effects:f.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Ya(e,n,s,f){var y=e.updateQueue;aa=!1;var S=y.firstBaseUpdate,R=y.lastBaseUpdate,ue=y.shared.pending;if(ue!==null){y.shared.pending=null;var ve=ue,He=ve.next;ve.next=null,R===null?S=He:R.next=He,R=ve;var lt=e.alternate;lt!==null&&(lt=lt.updateQueue,ue=lt.lastBaseUpdate,ue!==R&&(ue===null?lt.firstBaseUpdate=He:ue.next=He,lt.lastBaseUpdate=ve))}if(S!==null){var ut=y.baseState;R=0,lt=He=ve=null,ue=S;do{var st=ue.lane,Ct=ue.eventTime;if((f&st)===st){lt!==null&&(lt=lt.next={eventTime:Ct,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var Ft=e,Ot=ue;switch(st=n,Ct=s,Ot.tag){case 1:if(Ft=Ot.payload,typeof Ft=="function"){ut=Ft.call(Ct,ut,st);break e}ut=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Ot.payload,st=typeof Ft=="function"?Ft.call(Ct,ut,st):Ft,st==null)break e;ut=Ue({},ut,st);break e;case 2:aa=!0}}ue.callback!==null&&ue.lane!==0&&(e.flags|=64,st=y.effects,st===null?y.effects=[ue]:st.push(ue))}else Ct={eventTime:Ct,lane:st,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},lt===null?(He=lt=Ct,ve=ut):lt=lt.next=Ct,R|=st;if(ue=ue.next,ue===null){if(ue=y.shared.pending,ue===null)break;st=ue,ue=st.next,st.next=null,y.lastBaseUpdate=st,y.shared.pending=null}}while(!0);if(lt===null&&(ve=ut),y.baseState=ve,y.firstBaseUpdate=He,y.lastBaseUpdate=lt,n=y.shared.interleaved,n!==null){y=n;do R|=y.lane,y=y.next;while(y!==n)}else S===null&&(y.shared.lanes=0);Ml|=R,e.lanes=R,e.memoizedState=ut}}function is(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var f=e[n],y=f.callback;if(y!==null){if(f.callback=null,f=s,typeof y!="function")throw Error(r(191,y));y.call(f)}}}var gs={},Ca=an(gs),Yr=an(gs),_o=an(gs);function ro(e){if(e===gs)throw Error(r(174));return e}function nl(e,n){switch(xn(_o,n),xn(Yr,e),xn(Ca,gs),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Gt(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Gt(n,e)}on(Ca),xn(Ca,n)}function Ds(){on(Ca),on(Yr),on(_o)}function ed(e){ro(_o.current);var n=ro(Ca.current),s=Gt(n,e.type);n!==s&&(xn(Yr,e),xn(Ca,s))}function Pc(e){Yr.current===e&&(on(Ca),on(Yr))}var or=an(0);function xs(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Lc=[];function _c(){for(var e=0;e<Lc.length;e++)Lc[e]._workInProgressVersionPrimary=null;Lc.length=0}var Kl=H.ReactCurrentDispatcher,Ql=H.ReactCurrentBatchConfig,Fs=0,jr=null,ia=null,Gr=null,rl=!1,ao=!1,al=0,eu=0;function fa(){throw Error(r(321))}function Xl(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!xr(e[s],n[s]))return!1;return!0}function _l(e,n,s,f,y,S){if(Fs=S,jr=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Kl.current=e===null||e.memoizedState===null?D0:F0,e=s(f,y),ao){S=0;do{if(ao=!1,al=0,25<=S)throw Error(r(301));S+=1,Gr=ia=null,n.updateQueue=null,Kl.current=R0,e=s(f,y)}while(ao)}if(Kl.current=id,n=ia!==null&&ia.next!==null,Fs=0,Gr=ia=jr=null,rl=!1,n)throw Error(r(300));return e}function Rs(){var e=al!==0;return al=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?jr.memoizedState=Gr=e:Gr=Gr.next=e,Gr}function qi(){if(ia===null){var e=jr.alternate;e=e!==null?e.memoizedState:null}else e=ia.next;var n=Gr===null?jr.memoizedState:Gr.next;if(n!==null)Gr=n,ia=e;else{if(e===null)throw Error(r(310));ia=e,e={memoizedState:ia.memoizedState,baseState:ia.baseState,baseQueue:ia.baseQueue,queue:ia.queue,next:null},Gr===null?jr.memoizedState=Gr=e:Gr=Gr.next=e}return Gr}function Il(e,n){return typeof n=="function"?n(e):n}function Zl(e){var n=qi(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var f=ia,y=f.baseQueue,S=s.pending;if(S!==null){if(y!==null){var R=y.next;y.next=S.next,S.next=R}f.baseQueue=y=S,s.pending=null}if(y!==null){S=y.next,f=f.baseState;var ue=R=null,ve=null,He=S;do{var lt=He.lane;if((Fs&lt)===lt)ve!==null&&(ve=ve.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),f=He.hasEagerState?He.eagerState:e(f,He.action);else{var ut={lane:lt,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};ve===null?(ue=ve=ut,R=f):ve=ve.next=ut,jr.lanes|=lt,Ml|=lt}He=He.next}while(He!==null&&He!==S);ve===null?R=f:ve.next=ue,xr(f,n.memoizedState)||(ss=!0),n.memoizedState=f,n.baseState=R,n.baseQueue=ve,s.lastRenderedState=f}if(e=s.interleaved,e!==null){y=e;do S=y.lane,jr.lanes|=S,Ml|=S,y=y.next;while(y!==e)}else y===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Io(e){var n=qi(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var f=s.dispatch,y=s.pending,S=n.memoizedState;if(y!==null){s.pending=null;var R=y=y.next;do S=e(S,R.action),R=R.next;while(R!==y);xr(S,n.memoizedState)||(ss=!0),n.memoizedState=S,n.baseQueue===null&&(n.baseState=S),s.lastRenderedState=S}return[S,f]}function td(){}function Ic(e,n){var s=jr,f=qi(),y=n(),S=!xr(f.memoizedState,y);if(S&&(f.memoizedState=y,ss=!0),f=f.queue,nc(rd.bind(null,s,f,e),[e]),f.getSnapshot!==n||S||Gr!==null&&Gr.memoizedState.tag&1){if(s.flags|=2048,$i(9,Ec.bind(null,s,f,y,n),void 0,null),Ga===null)throw Error(r(349));(Fs&30)!==0||nd(s,n,y)}return y}function nd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=jr.updateQueue,n===null?(n={lastEffect:null,stores:null},jr.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Ec(e,n,s,f){n.value=s,n.getSnapshot=f,il(n)&&ec(e)}function rd(e,n,s){return s(function(){il(n)&&ec(e)})}function il(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!xr(e,s)}catch{return!0}}function ec(e){var n=Zn(e,1);n!==null&&co(n,e,1,-1)}function El(e){var n=ys();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:e},n.queue=e,e=e.dispatch=M0.bind(null,jr,e),[n.memoizedState,e]}function $i(e,n,s,f){return e={tag:e,create:n,destroy:s,deps:f,next:null},n=jr.updateQueue,n===null?(n={lastEffect:null,stores:null},jr.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(f=s.next,s.next=e,e.next=f,n.lastEffect=e)),e}function io(){return qi().memoizedState}function vs(e,n,s,f){var y=ys();jr.flags|=e,y.memoizedState=$i(1|n,s,void 0,f===void 0?null:f)}function $o(e,n,s,f){var y=qi();f=f===void 0?null:f;var S=void 0;if(ia!==null){var R=ia.memoizedState;if(S=R.destroy,f!==null&&Xl(f,R.deps)){y.memoizedState=$i(n,s,S,f);return}}jr.flags|=e,y.memoizedState=$i(1|n,s,S,f)}function tc(e,n){return vs(8390656,8,e,n)}function nc(e,n){return $o(2048,8,e,n)}function ad(e,n){return $o(4,2,e,n)}function rc(e,n){return $o(4,4,e,n)}function ac(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tf(e,n,s){return s=s!=null?s.concat([e]):null,$o(4,4,ac.bind(null,n,e),s)}function tu(){}function Of(e,n){var s=qi();n=n===void 0?null:n;var f=s.memoizedState;return f!==null&&n!==null&&Xl(n,f[1])?f[0]:(s.memoizedState=[e,n],e)}function Bf(e,n){var s=qi();n=n===void 0?null:n;var f=s.memoizedState;return f!==null&&n!==null&&Xl(n,f[1])?f[0]:(e=e(),s.memoizedState=[e,n],e)}function zf(e,n,s){return(Fs&21)===0?(e.baseState&&(e.baseState=!1,ss=!0),e.memoizedState=s):(xr(s,n)||(s=Wn(),jr.lanes|=s,Ml|=s,e.baseState=!0),n)}function I0(e,n){var s=Pn;Pn=s!==0&&4>s?s:4,e(!0);var f=Ql.transition;Ql.transition={};try{e(!1),n()}finally{Pn=s,Ql.transition=f}}function Uf(){return qi().memoizedState}function E0(e,n,s){var f=cl(e);if(s={lane:f,action:s,hasEagerState:!1,eagerState:null,next:null},qf(e))$f(n,s);else if(s=Gn(e,n,s,f),s!==null){var y=Hi();co(s,e,f,y),Wf(s,n,f)}}function M0(e,n,s){var f=cl(e),y={lane:f,action:s,hasEagerState:!1,eagerState:null,next:null};if(qf(e))$f(n,y);else{var S=e.alternate;if(e.lanes===0&&(S===null||S.lanes===0)&&(S=n.lastRenderedReducer,S!==null))try{var R=n.lastRenderedState,ue=S(R,s);if(y.hasEagerState=!0,y.eagerState=ue,xr(ue,R)){var ve=n.interleaved;ve===null?(y.next=y,Ha(n)):(y.next=ve.next,ve.next=y),n.interleaved=y;return}}catch{}finally{}s=Gn(e,n,y,f),s!==null&&(y=Hi(),co(s,e,f,y),Wf(s,n,f))}}function qf(e){var n=e.alternate;return e===jr||n!==null&&n===jr}function $f(e,n){ao=rl=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Wf(e,n,s){if((s&4194240)!==0){var f=n.lanes;f&=e.pendingLanes,s|=f,n.lanes=s,Ti(e,s)}}var id={readContext:Tr,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},D0={readContext:Tr,useCallback:function(e,n){return ys().memoizedState=[e,n===void 0?null:n],e},useContext:Tr,useEffect:tc,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,vs(4194308,4,ac.bind(null,n,e),s)},useLayoutEffect:function(e,n){return vs(4194308,4,e,n)},useInsertionEffect:function(e,n){return vs(4,2,e,n)},useMemo:function(e,n){var s=ys();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var f=ys();return n=s!==void 0?s(n):n,f.memoizedState=f.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},f.queue=e,e=e.dispatch=E0.bind(null,jr,e),[f.memoizedState,e]},useRef:function(e){var n=ys();return e={current:e},n.memoizedState=e},useState:El,useDebugValue:tu,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=El(!1),n=e[0];return e=I0.bind(null,e[1]),ys().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var f=jr,y=ys();if(et){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Ga===null)throw Error(r(349));(Fs&30)!==0||nd(f,n,s)}y.memoizedState=s;var S={value:s,getSnapshot:n};return y.queue=S,tc(rd.bind(null,f,S,e),[e]),f.flags|=2048,$i(9,Ec.bind(null,f,S,s,n),void 0,null),s},useId:function(){var e=ys(),n=Ga.identifierPrefix;if(et){var s=re,f=Te;s=(f&~(1<<32-fr(f)-1)).toString(32)+s,n=":"+n+"R"+s,s=al++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=eu++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},F0={readContext:Tr,useCallback:Of,useContext:Tr,useEffect:nc,useImperativeHandle:Tf,useInsertionEffect:ad,useLayoutEffect:rc,useMemo:Bf,useReducer:Zl,useRef:io,useState:function(){return Zl(Il)},useDebugValue:tu,useDeferredValue:function(e){var n=qi();return zf(n,ia.memoizedState,e)},useTransition:function(){var e=Zl(Il)[0],n=qi().memoizedState;return[e,n]},useMutableSource:td,useSyncExternalStore:Ic,useId:Uf,unstable_isNewReconciler:!1},R0={readContext:Tr,useCallback:Of,useContext:Tr,useEffect:nc,useImperativeHandle:Tf,useInsertionEffect:ad,useLayoutEffect:rc,useMemo:Bf,useReducer:Io,useRef:io,useState:function(){return Io(Il)},useDebugValue:tu,useDeferredValue:function(e){var n=qi();return ia===null?n.memoizedState=e:zf(n,ia.memoizedState,e)},useTransition:function(){var e=Io(Il)[0],n=qi().memoizedState;return[e,n]},useMutableSource:td,useSyncExternalStore:Ic,useId:Uf,unstable_isNewReconciler:!1};function so(e,n){if(e&&e.defaultProps){n=Ue({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function nu(e,n,s,f){n=e.memoizedState,s=s(f,n),s=s==null?n:Ue({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var sd={isMounted:function(e){return(e=e._reactInternals)?Jr(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var f=Hi(),y=cl(e),S=Hr(f,y);S.payload=n,s!=null&&(S.callback=s),n=Vr(e,S,y),n!==null&&(co(n,e,y,f),Va(n,e,y))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var f=Hi(),y=cl(e),S=Hr(f,y);S.tag=1,S.payload=n,s!=null&&(S.callback=s),n=Vr(e,S,y),n!==null&&(co(n,e,y,f),Va(n,e,y))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Hi(),f=cl(e),y=Hr(s,f);y.tag=2,n!=null&&(y.callback=n),n=Vr(e,y,f),n!==null&&(co(n,e,f,s),Va(n,e,f))}};function Hf(e,n,s,f,y,S,R){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(f,S,R):n.prototype&&n.prototype.isPureReactComponent?!$a(s,f)||!$a(y,S):!0}function Vf(e,n,s){var f=!1,y=Na,S=n.contextType;return typeof S=="object"&&S!==null?S=Tr(S):(y=Qn(n)?At:da.current,f=n.contextTypes,S=(f=f!=null)?qn(e,y):Na),n=new n(s,S),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=sd,e.stateNode=n,n._reactInternals=e,f&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=y,e.__reactInternalMemoizedMaskedChildContext=S),n}function Yf(e,n,s,f){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,f),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,f),n.state!==e&&sd.enqueueReplaceState(n,n.state,null)}function ru(e,n,s,f){var y=e.stateNode;y.props=s,y.state=e.memoizedState,y.refs={},Oa(e);var S=n.contextType;typeof S=="object"&&S!==null?y.context=Tr(S):(S=Qn(n)?At:da.current,y.context=qn(e,S)),y.state=e.memoizedState,S=n.getDerivedStateFromProps,typeof S=="function"&&(nu(e,n,S,s),y.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(n=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),n!==y.state&&sd.enqueueReplaceState(y,y.state,null),Ya(e,s,y,f),y.state=e.memoizedState),typeof y.componentDidMount=="function"&&(e.flags|=4194308)}function ic(e,n){try{var s="",f=n;do s+=de(f),f=f.return;while(f);var y=s}catch(S){y=`
Error generating stack: `+S.message+`
`+S.stack}return{value:e,source:n,stack:y,digest:null}}function au(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function iu(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var T0=typeof WeakMap=="function"?WeakMap:Map;function Gf(e,n,s){s=Hr(-1,s),s.tag=3,s.payload={element:null};var f=n.value;return s.callback=function(){hd||(hd=!0,bu=f),iu(e,n)},s}function Jf(e,n,s){s=Hr(-1,s),s.tag=3;var f=e.type.getDerivedStateFromError;if(typeof f=="function"){var y=n.value;s.payload=function(){return f(y)},s.callback=function(){iu(e,n)}}var S=e.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){iu(e,n),typeof f!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var R=n.stack;this.componentDidCatch(n.value,{componentStack:R!==null?R:""})}),s}function Kf(e,n,s){var f=e.pingCache;if(f===null){f=e.pingCache=new T0;var y=new Set;f.set(n,y)}else y=f.get(n),y===void 0&&(y=new Set,f.set(n,y));y.has(s)||(y.add(s),e=Q0.bind(null,e,n,s),n.then(e,e))}function Qf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Xf(e,n,s,f,y){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Hr(-1,1),n.tag=2,Vr(s,n,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=y,e)}var O0=H.ReactCurrentOwner,ss=!1;function Wi(e,n,s,f){n.child=e===null?Cr(n,null,s,f):ra(n,e.child,s,f)}function Zf(e,n,s,f,y){s=s.render;var S=n.ref;return Rr(n,y),f=_l(e,n,s,f,S,y),s=Rs(),e!==null&&!ss?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~y,Wo(e,n,y)):(et&&s&&Je(n),n.flags|=1,Wi(e,n,f,y),n.child)}function eh(e,n,s,f,y){if(e===null){var S=s.type;return typeof S=="function"&&!Cu(S)&&S.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=S,th(e,n,S,f,y)):(e=vd(s.type,null,f,n,n.mode,y),e.ref=n.ref,e.return=n,n.child=e)}if(S=e.child,(e.lanes&y)===0){var R=S.memoizedProps;if(s=s.compare,s=s!==null?s:$a,s(R,f)&&e.ref===n.ref)return Wo(e,n,y)}return n.flags|=1,e=ul(S,f),e.ref=n.ref,e.return=n,n.child=e}function th(e,n,s,f,y){if(e!==null){var S=e.memoizedProps;if($a(S,f)&&e.ref===n.ref)if(ss=!1,n.pendingProps=f=S,(e.lanes&y)!==0)(e.flags&131072)!==0&&(ss=!0);else return n.lanes=e.lanes,Wo(e,n,y)}return su(e,n,s,f,y)}function nh(e,n,s){var f=n.pendingProps,y=f.children,S=e!==null?e.memoizedState:null;if(f.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},xn(oc,bs),bs|=s;else{if((s&1073741824)===0)return e=S!==null?S.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,xn(oc,bs),bs|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=S!==null?S.baseLanes:s,xn(oc,bs),bs|=f}else S!==null?(f=S.baseLanes|s,n.memoizedState=null):f=s,xn(oc,bs),bs|=f;return Wi(e,n,y,s),n.child}function rh(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function su(e,n,s,f,y){var S=Qn(s)?At:da.current;return S=qn(n,S),Rr(n,y),s=_l(e,n,s,f,S,y),f=Rs(),e!==null&&!ss?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~y,Wo(e,n,y)):(et&&f&&Je(n),n.flags|=1,Wi(e,n,s,y),n.child)}function ah(e,n,s,f,y){if(Qn(s)){var S=!0;qo(n)}else S=!1;if(Rr(n,y),n.stateNode===null)ld(e,n),Vf(n,s,f),ru(n,s,f,y),f=!0;else if(e===null){var R=n.stateNode,ue=n.memoizedProps;R.props=ue;var ve=R.context,He=s.contextType;typeof He=="object"&&He!==null?He=Tr(He):(He=Qn(s)?At:da.current,He=qn(n,He));var lt=s.getDerivedStateFromProps,ut=typeof lt=="function"||typeof R.getSnapshotBeforeUpdate=="function";ut||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(ue!==f||ve!==He)&&Yf(n,R,f,He),aa=!1;var st=n.memoizedState;R.state=st,Ya(n,f,R,y),ve=n.memoizedState,ue!==f||st!==ve||Wa.current||aa?(typeof lt=="function"&&(nu(n,s,lt,f),ve=n.memoizedState),(ue=aa||Hf(n,s,ue,f,st,ve,He))?(ut||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(n.flags|=4194308)):(typeof R.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=f,n.memoizedState=ve),R.props=f,R.state=ve,R.context=He,f=ue):(typeof R.componentDidMount=="function"&&(n.flags|=4194308),f=!1)}else{R=n.stateNode,Ni(e,n),ue=n.memoizedProps,He=n.type===n.elementType?ue:so(n.type,ue),R.props=He,ut=n.pendingProps,st=R.context,ve=s.contextType,typeof ve=="object"&&ve!==null?ve=Tr(ve):(ve=Qn(s)?At:da.current,ve=qn(n,ve));var Ct=s.getDerivedStateFromProps;(lt=typeof Ct=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(ue!==ut||st!==ve)&&Yf(n,R,f,ve),aa=!1,st=n.memoizedState,R.state=st,Ya(n,f,R,y);var Ft=n.memoizedState;ue!==ut||st!==Ft||Wa.current||aa?(typeof Ct=="function"&&(nu(n,s,Ct,f),Ft=n.memoizedState),(He=aa||Hf(n,s,He,f,st,Ft,ve)||!1)?(lt||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(f,Ft,ve),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(f,Ft,ve)),typeof R.componentDidUpdate=="function"&&(n.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof R.componentDidUpdate!="function"||ue===e.memoizedProps&&st===e.memoizedState||(n.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||ue===e.memoizedProps&&st===e.memoizedState||(n.flags|=1024),n.memoizedProps=f,n.memoizedState=Ft),R.props=f,R.state=Ft,R.context=ve,f=He):(typeof R.componentDidUpdate!="function"||ue===e.memoizedProps&&st===e.memoizedState||(n.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||ue===e.memoizedProps&&st===e.memoizedState||(n.flags|=1024),f=!1)}return ou(e,n,s,f,S,y)}function ou(e,n,s,f,y,S){rh(e,n);var R=(n.flags&128)!==0;if(!f&&!R)return y&&Zc(n,s,!1),Wo(e,n,S);f=n.stateNode,O0.current=n;var ue=R&&typeof s.getDerivedStateFromError!="function"?null:f.render();return n.flags|=1,e!==null&&R?(n.child=ra(n,e.child,null,S),n.child=ra(n,null,ue,S)):Wi(e,n,ue,S),n.memoizedState=f.state,y&&Zc(n,s,!0),n.child}function ih(e){var n=e.stateNode;n.pendingContext?Jl(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Jl(e,n.context,!1),nl(e,n.containerInfo)}function sh(e,n,s,f,y){return Lt(),xt(y),n.flags|=256,Wi(e,n,s,f),n.child}var lu={dehydrated:null,treeContext:null,retryLane:0};function cu(e){return{baseLanes:e,cachePool:null,transitions:null}}function oh(e,n,s){var f=n.pendingProps,y=or.current,S=!1,R=(n.flags&128)!==0,ue;if((ue=R)||(ue=e!==null&&e.memoizedState===null?!1:(y&2)!==0),ue?(S=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(y|=1),xn(or,y&1),e===null)return Dt(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(R=f.children,e=f.fallback,S?(f=n.mode,S=n.child,R={mode:"hidden",children:R},(f&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=R):S=bd(R,f,0,null),e=Tl(e,f,s,null),S.return=n,e.return=n,S.sibling=e,n.child=S,n.child.memoizedState=cu(s),n.memoizedState=lu,e):du(n,R));if(y=e.memoizedState,y!==null&&(ue=y.dehydrated,ue!==null))return B0(e,n,R,f,ue,y,s);if(S){S=f.fallback,R=n.mode,y=e.child,ue=y.sibling;var ve={mode:"hidden",children:f.children};return(R&1)===0&&n.child!==y?(f=n.child,f.childLanes=0,f.pendingProps=ve,n.deletions=null):(f=ul(y,ve),f.subtreeFlags=y.subtreeFlags&14680064),ue!==null?S=ul(ue,S):(S=Tl(S,R,s,null),S.flags|=2),S.return=n,f.return=n,f.sibling=S,n.child=f,f=S,S=n.child,R=e.child.memoizedState,R=R===null?cu(s):{baseLanes:R.baseLanes|s,cachePool:null,transitions:R.transitions},S.memoizedState=R,S.childLanes=e.childLanes&~s,n.memoizedState=lu,f}return S=e.child,e=S.sibling,f=ul(S,{mode:"visible",children:f.children}),(n.mode&1)===0&&(f.lanes=s),f.return=n,f.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=f,n.memoizedState=null,f}function du(e,n){return n=bd({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function od(e,n,s,f){return f!==null&&xt(f),ra(n,e.child,null,s),e=du(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function B0(e,n,s,f,y,S,R){if(s)return n.flags&256?(n.flags&=-257,f=au(Error(r(422))),od(e,n,R,f)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(S=f.fallback,y=n.mode,f=bd({mode:"visible",children:f.children},y,0,null),S=Tl(S,y,R,null),S.flags|=2,f.return=n,S.return=n,f.sibling=S,n.child=f,(n.mode&1)!==0&&ra(n,e.child,null,R),n.child.memoizedState=cu(R),n.memoizedState=lu,S);if((n.mode&1)===0)return od(e,n,R,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var ue=f.dgst;return f=ue,S=Error(r(419)),f=au(S,f,void 0),od(e,n,R,f)}if(ue=(R&e.childLanes)!==0,ss||ue){if(f=Ga,f!==null){switch(R&-R){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|R))!==0?0:y,y!==0&&y!==S.retryLane&&(S.retryLane=y,Zn(e,y),co(f,e,y,-1))}return Au(),f=au(Error(r(421))),od(e,n,R,f)}return y.data==="$?"?(n.flags|=128,n.child=e.child,n=X0.bind(null,e),y._reactRetry=n,null):(e=S.treeContext,Ge=Ta(y.nextSibling),Ye=n,et=!0,tt=null,e!==null&&(J[ne++]=Te,J[ne++]=re,J[ne++]=ye,Te=e.id,re=e.overflow,ye=n),n=du(n,f.children),n.flags|=4096,n)}function lh(e,n,s){e.lanes|=n;var f=e.alternate;f!==null&&(f.lanes|=n),Tn(e.return,n,s)}function uu(e,n,s,f,y){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:f,tail:s,tailMode:y}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=f,S.tail=s,S.tailMode=y)}function ch(e,n,s){var f=n.pendingProps,y=f.revealOrder,S=f.tail;if(Wi(e,n,f.children,s),f=or.current,(f&2)!==0)f=f&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lh(e,s,n);else if(e.tag===19)lh(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}f&=1}if(xn(or,f),(n.mode&1)===0)n.memoizedState=null;else switch(y){case"forwards":for(s=n.child,y=null;s!==null;)e=s.alternate,e!==null&&xs(e)===null&&(y=s),s=s.sibling;s=y,s===null?(y=n.child,n.child=null):(y=s.sibling,s.sibling=null),uu(n,!1,y,s,S);break;case"backwards":for(s=null,y=n.child,n.child=null;y!==null;){if(e=y.alternate,e!==null&&xs(e)===null){n.child=y;break}e=y.sibling,y.sibling=s,s=y,y=e}uu(n,!0,s,null,S);break;case"together":uu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ld(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Wo(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ml|=n.lanes,(s&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=ul(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ul(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function z0(e,n,s){switch(n.tag){case 3:ih(n),Lt();break;case 5:ed(n);break;case 1:Qn(n.type)&&qo(n);break;case 4:nl(n,n.stateNode.containerInfo);break;case 10:var f=n.type._context,y=n.memoizedProps.value;xn(ua,f._currentValue),f._currentValue=y;break;case 13:if(f=n.memoizedState,f!==null)return f.dehydrated!==null?(xn(or,or.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?oh(e,n,s):(xn(or,or.current&1),e=Wo(e,n,s),e!==null?e.sibling:null);xn(or,or.current&1);break;case 19:if(f=(s&n.childLanes)!==0,(e.flags&128)!==0){if(f)return ch(e,n,s);n.flags|=128}if(y=n.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),xn(or,or.current),f)break;return null;case 22:case 23:return n.lanes=0,nh(e,n,s)}return Wo(e,n,s)}var dh,fu,uh,fh;dh=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},fu=function(){},uh=function(e,n,s,f){var y=e.memoizedProps;if(y!==f){e=n.stateNode,ro(Ca.current);var S=null;switch(s){case"input":y=gt(e,y),f=gt(e,f),S=[];break;case"select":y=Ue({},y,{value:void 0}),f=Ue({},f,{value:void 0}),S=[];break;case"textarea":y=ct(e,y),f=ct(e,f),S=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(e.onclick=eo)}$t(s,f);var R;s=null;for(He in y)if(!f.hasOwnProperty(He)&&y.hasOwnProperty(He)&&y[He]!=null)if(He==="style"){var ue=y[He];for(R in ue)ue.hasOwnProperty(R)&&(s||(s={}),s[R]="")}else He!=="dangerouslySetInnerHTML"&&He!=="children"&&He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&He!=="autoFocus"&&(c.hasOwnProperty(He)?S||(S=[]):(S=S||[]).push(He,null));for(He in f){var ve=f[He];if(ue=y?.[He],f.hasOwnProperty(He)&&ve!==ue&&(ve!=null||ue!=null))if(He==="style")if(ue){for(R in ue)!ue.hasOwnProperty(R)||ve&&ve.hasOwnProperty(R)||(s||(s={}),s[R]="");for(R in ve)ve.hasOwnProperty(R)&&ue[R]!==ve[R]&&(s||(s={}),s[R]=ve[R])}else s||(S||(S=[]),S.push(He,s)),s=ve;else He==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ue=ue?ue.__html:void 0,ve!=null&&ue!==ve&&(S=S||[]).push(He,ve)):He==="children"?typeof ve!="string"&&typeof ve!="number"||(S=S||[]).push(He,""+ve):He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&(c.hasOwnProperty(He)?(ve!=null&&He==="onScroll"&&Un("scroll",e),S||ue===ve||(S=[])):(S=S||[]).push(He,ve))}s&&(S=S||[]).push("style",s);var He=S;(n.updateQueue=He)&&(n.flags|=4)}},fh=function(e,n,s,f){s!==f&&(n.flags|=4)};function Mc(e,n){if(!et)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:f.sibling=null}}function ki(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,f=0;if(n)for(var y=e.child;y!==null;)s|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=e,y=y.sibling;else for(y=e.child;y!==null;)s|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=e,y=y.sibling;return e.subtreeFlags|=f,e.childLanes=s,n}function U0(e,n,s){var f=n.pendingProps;switch(Be(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ki(n),null;case 1:return Qn(n.type)&&Ms(),ki(n),null;case 3:return f=n.stateNode,Ds(),on(Wa),on(da),_c(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(e===null||e.child===null)&&(Fr(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tt!==null&&(Su(tt),tt=null))),fu(e,n),ki(n),null;case 5:Pc(n);var y=ro(_o.current);if(s=n.type,e!==null&&n.stateNode!=null)uh(e,n,s,f,y),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!f){if(n.stateNode===null)throw Error(r(166));return ki(n),null}if(e=ro(Ca.current),Fr(n)){f=n.stateNode,s=n.type;var S=n.memoizedProps;switch(f[O]=n,f[F]=S,e=(n.mode&1)!==0,s){case"dialog":Un("cancel",f),Un("close",f);break;case"iframe":case"object":case"embed":Un("load",f);break;case"video":case"audio":for(y=0;y<ms.length;y++)Un(ms[y],f);break;case"source":Un("error",f);break;case"img":case"image":case"link":Un("error",f),Un("load",f);break;case"details":Un("toggle",f);break;case"input":Y(f,S),Un("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!S.multiple},Un("invalid",f);break;case"textarea":St(f,S),Un("invalid",f)}$t(s,S),y=null;for(var R in S)if(S.hasOwnProperty(R)){var ue=S[R];R==="children"?typeof ue=="string"?f.textContent!==ue&&(S.suppressHydrationWarning!==!0&&Zo(f.textContent,ue,e),y=["children",ue]):typeof ue=="number"&&f.textContent!==""+ue&&(S.suppressHydrationWarning!==!0&&Zo(f.textContent,ue,e),y=["children",""+ue]):c.hasOwnProperty(R)&&ue!=null&&R==="onScroll"&&Un("scroll",f)}switch(s){case"input":De(f),wt(f,S,!0);break;case"textarea":De(f),Zt(f);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(f.onclick=eo)}f=y,n.updateQueue=f,f!==null&&(n.flags|=4)}else{R=y.nodeType===9?y:y.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jt(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=R.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof f.is=="string"?e=R.createElement(s,{is:f.is}):(e=R.createElement(s),s==="select"&&(R=e,f.multiple?R.multiple=!0:f.size&&(R.size=f.size))):e=R.createElementNS(e,s),e[O]=n,e[F]=f,dh(e,n,!1,!1),n.stateNode=e;e:{switch(R=bt(s,f),s){case"dialog":Un("cancel",e),Un("close",e),y=f;break;case"iframe":case"object":case"embed":Un("load",e),y=f;break;case"video":case"audio":for(y=0;y<ms.length;y++)Un(ms[y],e);y=f;break;case"source":Un("error",e),y=f;break;case"img":case"image":case"link":Un("error",e),Un("load",e),y=f;break;case"details":Un("toggle",e),y=f;break;case"input":Y(e,f),y=gt(e,f),Un("invalid",e);break;case"option":y=f;break;case"select":e._wrapperState={wasMultiple:!!f.multiple},y=Ue({},f,{value:void 0}),Un("invalid",e);break;case"textarea":St(e,f),y=ct(e,f),Un("invalid",e);break;default:y=f}$t(s,y),ue=y;for(S in ue)if(ue.hasOwnProperty(S)){var ve=ue[S];S==="style"?Ve(e,ve):S==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&ze(e,ve)):S==="children"?typeof ve=="string"?(s!=="textarea"||ve!=="")&&se(e,ve):typeof ve=="number"&&se(e,""+ve):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(c.hasOwnProperty(S)?ve!=null&&S==="onScroll"&&Un("scroll",e):ve!=null&&X(e,S,ve,R))}switch(s){case"input":De(e),wt(e,f,!1);break;case"textarea":De(e),Zt(e);break;case"option":f.value!=null&&e.setAttribute("value",""+Me(f.value));break;case"select":e.multiple=!!f.multiple,S=f.value,S!=null?vt(e,!!f.multiple,S,!1):f.defaultValue!=null&&vt(e,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(e.onclick=eo)}switch(s){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return ki(n),null;case 6:if(e&&n.stateNode!=null)fh(e,n,e.memoizedProps,f);else{if(typeof f!="string"&&n.stateNode===null)throw Error(r(166));if(s=ro(_o.current),ro(Ca.current),Fr(n)){if(f=n.stateNode,s=n.memoizedProps,f[O]=n,(S=f.nodeValue!==s)&&(e=Ye,e!==null))switch(e.tag){case 3:Zo(f.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zo(f.nodeValue,s,(e.mode&1)!==0)}S&&(n.flags|=4)}else f=(s.nodeType===9?s:s.ownerDocument).createTextNode(f),f[O]=n,n.stateNode=f}return ki(n),null;case 13:if(on(or),f=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(et&&Ge!==null&&(n.mode&1)!==0&&(n.flags&128)===0)pn(),Lt(),n.flags|=98560,S=!1;else if(S=Fr(n),f!==null&&f.dehydrated!==null){if(e===null){if(!S)throw Error(r(318));if(S=n.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[O]=n}else Lt(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ki(n),S=!1}else tt!==null&&(Su(tt),tt=null),S=!0;if(!S)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(f=f!==null,f!==(e!==null&&e.memoizedState!==null)&&f&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(or.current&1)!==0?Ba===0&&(Ba=3):Au())),n.updateQueue!==null&&(n.flags|=4),ki(n),null);case 4:return Ds(),fu(e,n),e===null&&Dr(n.stateNode.containerInfo),ki(n),null;case 10:return wr(n.type._context),ki(n),null;case 17:return Qn(n.type)&&Ms(),ki(n),null;case 19:if(on(or),S=n.memoizedState,S===null)return ki(n),null;if(f=(n.flags&128)!==0,R=S.rendering,R===null)if(f)Mc(S,!1);else{if(Ba!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(R=xs(e),R!==null){for(n.flags|=128,Mc(S,!1),f=R.updateQueue,f!==null&&(n.updateQueue=f,n.flags|=4),n.subtreeFlags=0,f=s,s=n.child;s!==null;)S=s,e=f,S.flags&=14680066,R=S.alternate,R===null?(S.childLanes=0,S.lanes=e,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=R.childLanes,S.lanes=R.lanes,S.child=R.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=R.memoizedProps,S.memoizedState=R.memoizedState,S.updateQueue=R.updateQueue,S.type=R.type,e=R.dependencies,S.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return xn(or,or.current&1|2),n.child}e=e.sibling}S.tail!==null&&Cn()>lc&&(n.flags|=128,f=!0,Mc(S,!1),n.lanes=4194304)}else{if(!f)if(e=xs(R),e!==null){if(n.flags|=128,f=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Mc(S,!0),S.tail===null&&S.tailMode==="hidden"&&!R.alternate&&!et)return ki(n),null}else 2*Cn()-S.renderingStartTime>lc&&s!==1073741824&&(n.flags|=128,f=!0,Mc(S,!1),n.lanes=4194304);S.isBackwards?(R.sibling=n.child,n.child=R):(s=S.last,s!==null?s.sibling=R:n.child=R,S.last=R)}return S.tail!==null?(n=S.tail,S.rendering=n,S.tail=n.sibling,S.renderingStartTime=Cn(),n.sibling=null,s=or.current,xn(or,f?s&1|2:s&1),n):(ki(n),null);case 22:case 23:return ku(),f=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==f&&(n.flags|=8192),f&&(n.mode&1)!==0?(bs&1073741824)!==0&&(ki(n),n.subtreeFlags&6&&(n.flags|=8192)):ki(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function q0(e,n){switch(Be(n),n.tag){case 1:return Qn(n.type)&&Ms(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ds(),on(Wa),on(da),_c(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Pc(n),null;case 13:if(on(or),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Lt()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return on(or),null;case 4:return Ds(),null;case 10:return wr(n.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var cd=!1,Ai=!1,$0=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function sc(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(f){sa(e,n,f)}else s.current=null}function hu(e,n,s){try{s()}catch(f){sa(e,n,f)}}var hh=!1;function W0(e,n){if(Co=ps,e=Mr(),ji(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var f=s.getSelection&&s.getSelection();if(f&&f.rangeCount!==0){s=f.anchorNode;var y=f.anchorOffset,S=f.focusNode;f=f.focusOffset;try{s.nodeType,S.nodeType}catch{s=null;break e}var R=0,ue=-1,ve=-1,He=0,lt=0,ut=e,st=null;t:for(;;){for(var Ct;ut!==s||y!==0&&ut.nodeType!==3||(ue=R+y),ut!==S||f!==0&&ut.nodeType!==3||(ve=R+f),ut.nodeType===3&&(R+=ut.nodeValue.length),(Ct=ut.firstChild)!==null;)st=ut,ut=Ct;for(;;){if(ut===e)break t;if(st===s&&++He===y&&(ue=R),st===S&&++lt===f&&(ve=R),(Ct=ut.nextSibling)!==null)break;ut=st,st=ut.parentNode}ut=Ct}s=ue===-1||ve===-1?null:{start:ue,end:ve}}else s=null}s=s||{start:0,end:0}}else s=null;for(Es={focusedElem:e,selectionRange:s},ps=!1,Mt=n;Mt!==null;)if(n=Mt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Mt=e;else for(;Mt!==null;){n=Mt;try{var Ft=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Ft!==null){var Ot=Ft.memoizedProps,ha=Ft.memoizedState,Oe=n.stateNode,Ne=Oe.getSnapshotBeforeUpdate(n.elementType===n.type?Ot:so(n.type,Ot),ha);Oe.__reactInternalSnapshotBeforeUpdate=Ne}break;case 3:var We=n.stateNode.containerInfo;We.nodeType===1?We.textContent="":We.nodeType===9&&We.documentElement&&We.removeChild(We.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(pt){sa(n,n.return,pt)}if(e=n.sibling,e!==null){e.return=n.return,Mt=e;break}Mt=n.return}return Ft=hh,hh=!1,Ft}function Dc(e,n,s){var f=n.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&e)===e){var S=y.destroy;y.destroy=void 0,S!==void 0&&hu(n,s,S)}y=y.next}while(y!==f)}}function dd(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var f=s.create;s.destroy=f()}s=s.next}while(s!==n)}}function pu(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function ph(e){var n=e.alternate;n!==null&&(e.alternate=null,ph(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[O],delete n[F],delete n[G],delete n[V],delete n[Ae])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mh(e){return e.tag===5||e.tag===3||e.tag===4}function gh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mu(e,n,s){var f=e.tag;if(f===5||f===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=eo));else if(f!==4&&(e=e.child,e!==null))for(mu(e,n,s),e=e.sibling;e!==null;)mu(e,n,s),e=e.sibling}function gu(e,n,s){var f=e.tag;if(f===5||f===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(f!==4&&(e=e.child,e!==null))for(gu(e,n,s),e=e.sibling;e!==null;)gu(e,n,s),e=e.sibling}var ii=null,oo=!1;function sl(e,n,s){for(s=s.child;s!==null;)xh(e,n,s),s=s.sibling}function xh(e,n,s){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(Kr,s)}catch{}switch(s.tag){case 5:Ai||sc(s,n);case 6:var f=ii,y=oo;ii=null,sl(e,n,s),ii=f,oo=y,ii!==null&&(oo?(e=ii,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):ii.removeChild(s.stateNode));break;case 18:ii!==null&&(oo?(e=ii,s=s.stateNode,e.nodeType===8?to(e.parentNode,s):e.nodeType===1&&to(e,s),ar(e)):to(ii,s.stateNode));break;case 4:f=ii,y=oo,ii=s.stateNode.containerInfo,oo=!0,sl(e,n,s),ii=f,oo=y;break;case 0:case 11:case 14:case 15:if(!Ai&&(f=s.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var S=y,R=S.destroy;S=S.tag,R!==void 0&&((S&2)!==0||(S&4)!==0)&&hu(s,n,R),y=y.next}while(y!==f)}sl(e,n,s);break;case 1:if(!Ai&&(sc(s,n),f=s.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=s.memoizedProps,f.state=s.memoizedState,f.componentWillUnmount()}catch(ue){sa(s,n,ue)}sl(e,n,s);break;case 21:sl(e,n,s);break;case 22:s.mode&1?(Ai=(f=Ai)||s.memoizedState!==null,sl(e,n,s),Ai=f):sl(e,n,s);break;default:sl(e,n,s)}}function yh(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new $0),n.forEach(function(f){var y=Z0.bind(null,e,f);s.has(f)||(s.add(f),f.then(y,y))})}}function lo(e,n){var s=n.deletions;if(s!==null)for(var f=0;f<s.length;f++){var y=s[f];try{var S=e,R=n,ue=R;e:for(;ue!==null;){switch(ue.tag){case 5:ii=ue.stateNode,oo=!1;break e;case 3:ii=ue.stateNode.containerInfo,oo=!0;break e;case 4:ii=ue.stateNode.containerInfo,oo=!0;break e}ue=ue.return}if(ii===null)throw Error(r(160));xh(S,R,y),ii=null,oo=!1;var ve=y.alternate;ve!==null&&(ve.return=null),y.return=null}catch(He){sa(y,n,He)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)vh(n,e),n=n.sibling}function vh(e,n){var s=e.alternate,f=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lo(n,e),Eo(e),f&4){try{Dc(3,e,e.return),dd(3,e)}catch(Ot){sa(e,e.return,Ot)}try{Dc(5,e,e.return)}catch(Ot){sa(e,e.return,Ot)}}break;case 1:lo(n,e),Eo(e),f&512&&s!==null&&sc(s,s.return);break;case 5:if(lo(n,e),Eo(e),f&512&&s!==null&&sc(s,s.return),e.flags&32){var y=e.stateNode;try{se(y,"")}catch(Ot){sa(e,e.return,Ot)}}if(f&4&&(y=e.stateNode,y!=null)){var S=e.memoizedProps,R=s!==null?s.memoizedProps:S,ue=e.type,ve=e.updateQueue;if(e.updateQueue=null,ve!==null)try{ue==="input"&&S.type==="radio"&&S.name!=null&&nt(y,S),bt(ue,R);var He=bt(ue,S);for(R=0;R<ve.length;R+=2){var lt=ve[R],ut=ve[R+1];lt==="style"?Ve(y,ut):lt==="dangerouslySetInnerHTML"?ze(y,ut):lt==="children"?se(y,ut):X(y,lt,ut,He)}switch(ue){case"input":It(y,S);break;case"textarea":nn(y,S);break;case"select":var st=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!S.multiple;var Ct=S.value;Ct!=null?vt(y,!!S.multiple,Ct,!1):st!==!!S.multiple&&(S.defaultValue!=null?vt(y,!!S.multiple,S.defaultValue,!0):vt(y,!!S.multiple,S.multiple?[]:"",!1))}y[F]=S}catch(Ot){sa(e,e.return,Ot)}}break;case 6:if(lo(n,e),Eo(e),f&4){if(e.stateNode===null)throw Error(r(162));y=e.stateNode,S=e.memoizedProps;try{y.nodeValue=S}catch(Ot){sa(e,e.return,Ot)}}break;case 3:if(lo(n,e),Eo(e),f&4&&s!==null&&s.memoizedState.isDehydrated)try{ar(n.containerInfo)}catch(Ot){sa(e,e.return,Ot)}break;case 4:lo(n,e),Eo(e);break;case 13:lo(n,e),Eo(e),y=e.child,y.flags&8192&&(S=y.memoizedState!==null,y.stateNode.isHidden=S,!S||y.alternate!==null&&y.alternate.memoizedState!==null||(vu=Cn())),f&4&&yh(e);break;case 22:if(lt=s!==null&&s.memoizedState!==null,e.mode&1?(Ai=(He=Ai)||lt,lo(n,e),Ai=He):lo(n,e),Eo(e),f&8192){if(He=e.memoizedState!==null,(e.stateNode.isHidden=He)&&!lt&&(e.mode&1)!==0)for(Mt=e,lt=e.child;lt!==null;){for(ut=Mt=lt;Mt!==null;){switch(st=Mt,Ct=st.child,st.tag){case 0:case 11:case 14:case 15:Dc(4,st,st.return);break;case 1:sc(st,st.return);var Ft=st.stateNode;if(typeof Ft.componentWillUnmount=="function"){f=st,s=st.return;try{n=f,Ft.props=n.memoizedProps,Ft.state=n.memoizedState,Ft.componentWillUnmount()}catch(Ot){sa(f,s,Ot)}}break;case 5:sc(st,st.return);break;case 22:if(st.memoizedState!==null){jh(ut);continue}}Ct!==null?(Ct.return=st,Mt=Ct):jh(ut)}lt=lt.sibling}e:for(lt=null,ut=e;;){if(ut.tag===5){if(lt===null){lt=ut;try{y=ut.stateNode,He?(S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(ue=ut.stateNode,ve=ut.memoizedProps.style,R=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,ue.style.display=ht("display",R))}catch(Ot){sa(e,e.return,Ot)}}}else if(ut.tag===6){if(lt===null)try{ut.stateNode.nodeValue=He?"":ut.memoizedProps}catch(Ot){sa(e,e.return,Ot)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===e)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===e)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===e)break e;lt===ut&&(lt=null),ut=ut.return}lt===ut&&(lt=null),ut.sibling.return=ut.return,ut=ut.sibling}}break;case 19:lo(n,e),Eo(e),f&4&&yh(e);break;case 21:break;default:lo(n,e),Eo(e)}}function Eo(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(mh(s)){var f=s;break e}s=s.return}throw Error(r(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(se(y,""),f.flags&=-33);var S=gh(e);gu(e,S,y);break;case 3:case 4:var R=f.stateNode.containerInfo,ue=gh(e);mu(e,ue,R);break;default:throw Error(r(161))}}catch(ve){sa(e,e.return,ve)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function H0(e,n,s){Mt=e,bh(e)}function bh(e,n,s){for(var f=(e.mode&1)!==0;Mt!==null;){var y=Mt,S=y.child;if(y.tag===22&&f){var R=y.memoizedState!==null||cd;if(!R){var ue=y.alternate,ve=ue!==null&&ue.memoizedState!==null||Ai;ue=cd;var He=Ai;if(cd=R,(Ai=ve)&&!He)for(Mt=y;Mt!==null;)R=Mt,ve=R.child,R.tag===22&&R.memoizedState!==null?Sh(y):ve!==null?(ve.return=R,Mt=ve):Sh(y);for(;S!==null;)Mt=S,bh(S),S=S.sibling;Mt=y,cd=ue,Ai=He}wh(e)}else(y.subtreeFlags&8772)!==0&&S!==null?(S.return=y,Mt=S):wh(e)}}function wh(e){for(;Mt!==null;){var n=Mt;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Ai||dd(5,n);break;case 1:var f=n.stateNode;if(n.flags&4&&!Ai)if(s===null)f.componentDidMount();else{var y=n.elementType===n.type?s.memoizedProps:so(n.type,s.memoizedProps);f.componentDidUpdate(y,s.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var S=n.updateQueue;S!==null&&is(n,S,f);break;case 3:var R=n.updateQueue;if(R!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}is(n,R,s)}break;case 5:var ue=n.stateNode;if(s===null&&n.flags&4){s=ue;var ve=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&s.focus();break;case"img":ve.src&&(s.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var He=n.alternate;if(He!==null){var lt=He.memoizedState;if(lt!==null){var ut=lt.dehydrated;ut!==null&&ar(ut)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ai||n.flags&512&&pu(n)}catch(st){sa(n,n.return,st)}}if(n===e){Mt=null;break}if(s=n.sibling,s!==null){s.return=n.return,Mt=s;break}Mt=n.return}}function jh(e){for(;Mt!==null;){var n=Mt;if(n===e){Mt=null;break}var s=n.sibling;if(s!==null){s.return=n.return,Mt=s;break}Mt=n.return}}function Sh(e){for(;Mt!==null;){var n=Mt;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{dd(4,n)}catch(ve){sa(n,s,ve)}break;case 1:var f=n.stateNode;if(typeof f.componentDidMount=="function"){var y=n.return;try{f.componentDidMount()}catch(ve){sa(n,y,ve)}}var S=n.return;try{pu(n)}catch(ve){sa(n,S,ve)}break;case 5:var R=n.return;try{pu(n)}catch(ve){sa(n,R,ve)}}}catch(ve){sa(n,n.return,ve)}if(n===e){Mt=null;break}var ue=n.sibling;if(ue!==null){ue.return=n.return,Mt=ue;break}Mt=n.return}}var V0=Math.ceil,ud=H.ReactCurrentDispatcher,xu=H.ReactCurrentOwner,Ts=H.ReactCurrentBatchConfig,On=0,Ga=null,Pa=null,si=0,bs=0,oc=an(0),Ba=0,Fc=null,Ml=0,fd=0,yu=0,Rc=null,os=null,vu=0,lc=1/0,Ho=null,hd=!1,bu=null,ol=null,pd=!1,ll=null,md=0,Tc=0,wu=null,gd=-1,xd=0;function Hi(){return(On&6)!==0?Cn():gd!==-1?gd:gd=Cn()}function cl(e){return(e.mode&1)===0?1:(On&2)!==0&&si!==0?si&-si:Wr.transition!==null?(xd===0&&(xd=Wn()),xd):(e=Pn,e!==0||(e=window.event,e=e===void 0?16:Hs(e.type)),e)}function co(e,n,s,f){if(50<Tc)throw Tc=0,wu=null,Error(r(185));Xr(e,s,f),((On&2)===0||e!==Ga)&&(e===Ga&&((On&2)===0&&(fd|=s),Ba===4&&dl(e,si)),ls(e,f),s===1&&On===0&&(n.mode&1)===0&&(lc=Cn()+500,Ll&&k()))}function ls(e,n){var s=e.callbackNode;hr(e,n);var f=go(e,e===Ga?si:0);if(f===0)s!==null&&mt(s),e.callbackNode=null,e.callbackPriority=0;else if(n=f&-f,e.callbackPriority!==n){if(s!=null&&mt(s),n===1)e.tag===0?w(kh.bind(null,e)):h(kh.bind(null,e)),tl(function(){(On&6)===0&&k()}),s=null;else{switch(zs(f)){case 1:s=Xa;break;case 4:s=ur;break;case 16:s=Mi;break;case 536870912:s=Vi;break;default:s=Mi}s=Mh(s,Nh.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Nh(e,n){if(gd=-1,xd=0,(On&6)!==0)throw Error(r(327));var s=e.callbackNode;if(cc()&&e.callbackNode!==s)return null;var f=go(e,e===Ga?si:0);if(f===0)return null;if((f&30)!==0||(f&e.expiredLanes)!==0||n)n=yd(e,f);else{n=f;var y=On;On|=2;var S=Ch();(Ga!==e||si!==n)&&(Ho=null,lc=Cn()+500,Fl(e,n));do try{J0();break}catch(ue){Ah(e,ue)}while(!0);Rn(),ud.current=S,On=y,Pa!==null?n=0:(Ga=null,si=0,n=Ba)}if(n!==0){if(n===2&&(y=Fi(e),y!==0&&(f=y,n=ju(e,y))),n===1)throw s=Fc,Fl(e,0),dl(e,f),ls(e,Cn()),s;if(n===6)dl(e,f);else{if(y=e.current.alternate,(f&30)===0&&!Y0(y)&&(n=yd(e,f),n===2&&(S=Fi(e),S!==0&&(f=S,n=ju(e,S))),n===1))throw s=Fc,Fl(e,0),dl(e,f),ls(e,Cn()),s;switch(e.finishedWork=y,e.finishedLanes=f,n){case 0:case 1:throw Error(r(345));case 2:Rl(e,os,Ho);break;case 3:if(dl(e,f),(f&130023424)===f&&(n=vu+500-Cn(),10<n)){if(go(e,0)!==0)break;if(y=e.suspendedLanes,(y&f)!==f){Hi(),e.pingedLanes|=e.suspendedLanes&y;break}e.timeoutHandle=el(Rl.bind(null,e,os,Ho),n);break}Rl(e,os,Ho);break;case 4:if(dl(e,f),(f&4194240)===f)break;for(n=e.eventTimes,y=-1;0<f;){var R=31-fr(f);S=1<<R,R=n[R],R>y&&(y=R),f&=~S}if(f=y,f=Cn()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*V0(f/1960))-f,10<f){e.timeoutHandle=el(Rl.bind(null,e,os,Ho),f);break}Rl(e,os,Ho);break;case 5:Rl(e,os,Ho);break;default:throw Error(r(329))}}}return ls(e,Cn()),e.callbackNode===s?Nh.bind(null,e):null}function ju(e,n){var s=Rc;return e.current.memoizedState.isDehydrated&&(Fl(e,n).flags|=256),e=yd(e,n),e!==2&&(n=os,os=s,n!==null&&Su(n)),e}function Su(e){os===null?os=e:os.push.apply(os,e)}function Y0(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var f=0;f<s.length;f++){var y=s[f],S=y.getSnapshot;y=y.value;try{if(!xr(S(),y))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function dl(e,n){for(n&=~yu,n&=~fd,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-fr(n),f=1<<s;e[s]=-1,n&=~f}}function kh(e){if((On&6)!==0)throw Error(r(327));cc();var n=go(e,0);if((n&1)===0)return ls(e,Cn()),null;var s=yd(e,n);if(e.tag!==0&&s===2){var f=Fi(e);f!==0&&(n=f,s=ju(e,f))}if(s===1)throw s=Fc,Fl(e,0),dl(e,n),ls(e,Cn()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Rl(e,os,Ho),ls(e,Cn()),null}function Nu(e,n){var s=On;On|=1;try{return e(n)}finally{On=s,On===0&&(lc=Cn()+500,Ll&&k())}}function Dl(e){ll!==null&&ll.tag===0&&(On&6)===0&&cc();var n=On;On|=1;var s=Ts.transition,f=Pn;try{if(Ts.transition=null,Pn=1,e)return e()}finally{Pn=f,Ts.transition=s,On=n,(On&6)===0&&k()}}function ku(){bs=oc.current,on(oc)}function Fl(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Gl(s)),Pa!==null)for(s=Pa.return;s!==null;){var f=s;switch(Be(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ms();break;case 3:Ds(),on(Wa),on(da),_c();break;case 5:Pc(f);break;case 4:Ds();break;case 13:on(or);break;case 19:on(or);break;case 10:wr(f.type._context);break;case 22:case 23:ku()}s=s.return}if(Ga=e,Pa=e=ul(e.current,null),si=bs=n,Ba=0,Fc=null,yu=fd=Ml=0,os=Rc=null,Xn!==null){for(n=0;n<Xn.length;n++)if(s=Xn[n],f=s.interleaved,f!==null){s.interleaved=null;var y=f.next,S=s.pending;if(S!==null){var R=S.next;S.next=y,f.next=R}s.pending=f}Xn=null}return e}function Ah(e,n){do{var s=Pa;try{if(Rn(),Kl.current=id,rl){for(var f=jr.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}rl=!1}if(Fs=0,Gr=ia=jr=null,ao=!1,al=0,xu.current=null,s===null||s.return===null){Ba=1,Fc=n,Pa=null;break}e:{var S=e,R=s.return,ue=s,ve=n;if(n=si,ue.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var He=ve,lt=ue,ut=lt.tag;if((lt.mode&1)===0&&(ut===0||ut===11||ut===15)){var st=lt.alternate;st?(lt.updateQueue=st.updateQueue,lt.memoizedState=st.memoizedState,lt.lanes=st.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var Ct=Qf(R);if(Ct!==null){Ct.flags&=-257,Xf(Ct,R,ue,S,n),Ct.mode&1&&Kf(S,He,n),n=Ct,ve=He;var Ft=n.updateQueue;if(Ft===null){var Ot=new Set;Ot.add(ve),n.updateQueue=Ot}else Ft.add(ve);break e}else{if((n&1)===0){Kf(S,He,n),Au();break e}ve=Error(r(426))}}else if(et&&ue.mode&1){var ha=Qf(R);if(ha!==null){(ha.flags&65536)===0&&(ha.flags|=256),Xf(ha,R,ue,S,n),xt(ic(ve,ue));break e}}S=ve=ic(ve,ue),Ba!==4&&(Ba=2),Rc===null?Rc=[S]:Rc.push(S),S=R;do{switch(S.tag){case 3:S.flags|=65536,n&=-n,S.lanes|=n;var Oe=Gf(S,ve,n);er(S,Oe);break e;case 1:ue=ve;var Ne=S.type,We=S.stateNode;if((S.flags&128)===0&&(typeof Ne.getDerivedStateFromError=="function"||We!==null&&typeof We.componentDidCatch=="function"&&(ol===null||!ol.has(We)))){S.flags|=65536,n&=-n,S.lanes|=n;var pt=Jf(S,ue,n);er(S,pt);break e}}S=S.return}while(S!==null)}Lh(s)}catch(Ut){n=Ut,Pa===s&&s!==null&&(Pa=s=s.return);continue}break}while(!0)}function Ch(){var e=ud.current;return ud.current=id,e===null?id:e}function Au(){(Ba===0||Ba===3||Ba===2)&&(Ba=4),Ga===null||(Ml&268435455)===0&&(fd&268435455)===0||dl(Ga,si)}function yd(e,n){var s=On;On|=2;var f=Ch();(Ga!==e||si!==n)&&(Ho=null,Fl(e,n));do try{G0();break}catch(y){Ah(e,y)}while(!0);if(Rn(),On=s,ud.current=f,Pa!==null)throw Error(r(261));return Ga=null,si=0,Ba}function G0(){for(;Pa!==null;)Ph(Pa)}function J0(){for(;Pa!==null&&!Ur();)Ph(Pa)}function Ph(e){var n=Eh(e.alternate,e,bs);e.memoizedProps=e.pendingProps,n===null?Lh(e):Pa=n,xu.current=null}function Lh(e){var n=e;do{var s=n.alternate;if(e=n.return,(n.flags&32768)===0){if(s=U0(s,n,bs),s!==null){Pa=s;return}}else{if(s=q0(s,n),s!==null){s.flags&=32767,Pa=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ba=6,Pa=null;return}}if(n=n.sibling,n!==null){Pa=n;return}Pa=n=e}while(n!==null);Ba===0&&(Ba=5)}function Rl(e,n,s){var f=Pn,y=Ts.transition;try{Ts.transition=null,Pn=1,K0(e,n,s,f)}finally{Ts.transition=y,Pn=f}return null}function K0(e,n,s,f){do cc();while(ll!==null);if((On&6)!==0)throw Error(r(327));s=e.finishedWork;var y=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var S=s.lanes|s.childLanes;if(Ri(e,S),e===Ga&&(Pa=Ga=null,si=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||pd||(pd=!0,Mh(Mi,function(){return cc(),null})),S=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||S){S=Ts.transition,Ts.transition=null;var R=Pn;Pn=1;var ue=On;On|=4,xu.current=null,W0(e,s),vh(s,e),vr(Es),ps=!!Co,Es=Co=null,e.current=s,H0(s),Ns(),On=ue,Pn=R,Ts.transition=S}else e.current=s;if(pd&&(pd=!1,ll=e,md=y),S=e.pendingLanes,S===0&&(ol=null),Yi(s.stateNode),ls(e,Cn()),n!==null)for(f=e.onRecoverableError,s=0;s<n.length;s++)y=n[s],f(y.value,{componentStack:y.stack,digest:y.digest});if(hd)throw hd=!1,e=bu,bu=null,e;return(md&1)!==0&&e.tag!==0&&cc(),S=e.pendingLanes,(S&1)!==0?e===wu?Tc++:(Tc=0,wu=e):Tc=0,k(),null}function cc(){if(ll!==null){var e=zs(md),n=Ts.transition,s=Pn;try{if(Ts.transition=null,Pn=16>e?16:e,ll===null)var f=!1;else{if(e=ll,ll=null,md=0,(On&6)!==0)throw Error(r(331));var y=On;for(On|=4,Mt=e.current;Mt!==null;){var S=Mt,R=S.child;if((Mt.flags&16)!==0){var ue=S.deletions;if(ue!==null){for(var ve=0;ve<ue.length;ve++){var He=ue[ve];for(Mt=He;Mt!==null;){var lt=Mt;switch(lt.tag){case 0:case 11:case 15:Dc(8,lt,S)}var ut=lt.child;if(ut!==null)ut.return=lt,Mt=ut;else for(;Mt!==null;){lt=Mt;var st=lt.sibling,Ct=lt.return;if(ph(lt),lt===He){Mt=null;break}if(st!==null){st.return=Ct,Mt=st;break}Mt=Ct}}}var Ft=S.alternate;if(Ft!==null){var Ot=Ft.child;if(Ot!==null){Ft.child=null;do{var ha=Ot.sibling;Ot.sibling=null,Ot=ha}while(Ot!==null)}}Mt=S}}if((S.subtreeFlags&2064)!==0&&R!==null)R.return=S,Mt=R;else e:for(;Mt!==null;){if(S=Mt,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Dc(9,S,S.return)}var Oe=S.sibling;if(Oe!==null){Oe.return=S.return,Mt=Oe;break e}Mt=S.return}}var Ne=e.current;for(Mt=Ne;Mt!==null;){R=Mt;var We=R.child;if((R.subtreeFlags&2064)!==0&&We!==null)We.return=R,Mt=We;else e:for(R=Ne;Mt!==null;){if(ue=Mt,(ue.flags&2048)!==0)try{switch(ue.tag){case 0:case 11:case 15:dd(9,ue)}}catch(Ut){sa(ue,ue.return,Ut)}if(ue===R){Mt=null;break e}var pt=ue.sibling;if(pt!==null){pt.return=ue.return,Mt=pt;break e}Mt=ue.return}}if(On=y,k(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(Kr,e)}catch{}f=!0}return f}finally{Pn=s,Ts.transition=n}}return!1}function _h(e,n,s){n=ic(s,n),n=Gf(e,n,1),e=Vr(e,n,1),n=Hi(),e!==null&&(Xr(e,1,n),ls(e,n))}function sa(e,n,s){if(e.tag===3)_h(e,e,s);else for(;n!==null;){if(n.tag===3){_h(n,e,s);break}else if(n.tag===1){var f=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ol===null||!ol.has(f))){e=ic(s,e),e=Jf(n,e,1),n=Vr(n,e,1),e=Hi(),n!==null&&(Xr(n,1,e),ls(n,e));break}}n=n.return}}function Q0(e,n,s){var f=e.pingCache;f!==null&&f.delete(n),n=Hi(),e.pingedLanes|=e.suspendedLanes&s,Ga===e&&(si&s)===s&&(Ba===4||Ba===3&&(si&130023424)===si&&500>Cn()-vu?Fl(e,0):yu|=s),ls(e,n)}function Ih(e,n){n===0&&((e.mode&1)===0?n=1:(n=ya,ya<<=1,(ya&130023424)===0&&(ya=4194304)));var s=Hi();e=Zn(e,n),e!==null&&(Xr(e,n,s),ls(e,s))}function X0(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ih(e,s)}function Z0(e,n){var s=0;switch(e.tag){case 13:var f=e.stateNode,y=e.memoizedState;y!==null&&(s=y.retryLane);break;case 19:f=e.stateNode;break;default:throw Error(r(314))}f!==null&&f.delete(n),Ih(e,s)}var Eh;Eh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||Wa.current)ss=!0;else{if((e.lanes&s)===0&&(n.flags&128)===0)return ss=!1,z0(e,n,s);ss=(e.flags&131072)!==0}else ss=!1,et&&(n.flags&1048576)!==0&&Re(n,q,n.index);switch(n.lanes=0,n.tag){case 2:var f=n.type;ld(e,n),e=n.pendingProps;var y=qn(n,da.current);Rr(n,s),y=_l(null,n,f,e,y,s);var S=Rs();return n.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Qn(f)?(S=!0,qo(n)):S=!1,n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Oa(n),y.updater=sd,n.stateNode=y,y._reactInternals=n,ru(n,f,e,s),n=ou(null,n,f,!0,S,s)):(n.tag=0,et&&S&&Je(n),Wi(null,n,y,s),n=n.child),n;case 16:f=n.elementType;e:{switch(ld(e,n),e=n.pendingProps,y=f._init,f=y(f._payload),n.type=f,y=n.tag=tg(f),e=so(f,e),y){case 0:n=su(null,n,f,e,s);break e;case 1:n=ah(null,n,f,e,s);break e;case 11:n=Zf(null,n,f,e,s);break e;case 14:n=eh(null,n,f,so(f.type,e),s);break e}throw Error(r(306,f,""))}return n;case 0:return f=n.type,y=n.pendingProps,y=n.elementType===f?y:so(f,y),su(e,n,f,y,s);case 1:return f=n.type,y=n.pendingProps,y=n.elementType===f?y:so(f,y),ah(e,n,f,y,s);case 3:e:{if(ih(n),e===null)throw Error(r(387));f=n.pendingProps,S=n.memoizedState,y=S.element,Ni(e,n),Ya(n,f,null,s);var R=n.memoizedState;if(f=R.element,S.isDehydrated)if(S={element:f,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},n.updateQueue.baseState=S,n.memoizedState=S,n.flags&256){y=ic(Error(r(423)),n),n=sh(e,n,f,s,y);break e}else if(f!==y){y=ic(Error(r(424)),n),n=sh(e,n,f,s,y);break e}else for(Ge=Ta(n.stateNode.containerInfo.firstChild),Ye=n,et=!0,tt=null,s=Cr(n,null,f,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Lt(),f===y){n=Wo(e,n,s);break e}Wi(e,n,f,s)}n=n.child}return n;case 5:return ed(n),e===null&&Dt(n),f=n.type,y=n.pendingProps,S=e!==null?e.memoizedProps:null,R=y.children,Po(f,y)?R=null:S!==null&&Po(f,S)&&(n.flags|=32),rh(e,n),Wi(e,n,R,s),n.child;case 6:return e===null&&Dt(n),null;case 13:return oh(e,n,s);case 4:return nl(n,n.stateNode.containerInfo),f=n.pendingProps,e===null?n.child=ra(n,null,f,s):Wi(e,n,f,s),n.child;case 11:return f=n.type,y=n.pendingProps,y=n.elementType===f?y:so(f,y),Zf(e,n,f,y,s);case 7:return Wi(e,n,n.pendingProps,s),n.child;case 8:return Wi(e,n,n.pendingProps.children,s),n.child;case 12:return Wi(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(f=n.type._context,y=n.pendingProps,S=n.memoizedProps,R=y.value,xn(ua,f._currentValue),f._currentValue=R,S!==null)if(xr(S.value,R)){if(S.children===y.children&&!Wa.current){n=Wo(e,n,s);break e}}else for(S=n.child,S!==null&&(S.return=n);S!==null;){var ue=S.dependencies;if(ue!==null){R=S.child;for(var ve=ue.firstContext;ve!==null;){if(ve.context===f){if(S.tag===1){ve=Hr(-1,s&-s),ve.tag=2;var He=S.updateQueue;if(He!==null){He=He.shared;var lt=He.pending;lt===null?ve.next=ve:(ve.next=lt.next,lt.next=ve),He.pending=ve}}S.lanes|=s,ve=S.alternate,ve!==null&&(ve.lanes|=s),Tn(S.return,s,n),ue.lanes|=s;break}ve=ve.next}}else if(S.tag===10)R=S.type===n.type?null:S.child;else if(S.tag===18){if(R=S.return,R===null)throw Error(r(341));R.lanes|=s,ue=R.alternate,ue!==null&&(ue.lanes|=s),Tn(R,s,n),R=S.sibling}else R=S.child;if(R!==null)R.return=S;else for(R=S;R!==null;){if(R===n){R=null;break}if(S=R.sibling,S!==null){S.return=R.return,R=S;break}R=R.return}S=R}Wi(e,n,y.children,s),n=n.child}return n;case 9:return y=n.type,f=n.pendingProps.children,Rr(n,s),y=Tr(y),f=f(y),n.flags|=1,Wi(e,n,f,s),n.child;case 14:return f=n.type,y=so(f,n.pendingProps),y=so(f.type,y),eh(e,n,f,y,s);case 15:return th(e,n,n.type,n.pendingProps,s);case 17:return f=n.type,y=n.pendingProps,y=n.elementType===f?y:so(f,y),ld(e,n),n.tag=1,Qn(f)?(e=!0,qo(n)):e=!1,Rr(n,s),Vf(n,f,y),ru(n,f,y,s),ou(null,n,f,!0,e,s);case 19:return ch(e,n,s);case 22:return nh(e,n,s)}throw Error(r(156,n.tag))};function Mh(e,n){return ui(e,n)}function eg(e,n,s,f){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(e,n,s,f){return new eg(e,n,s,f)}function Cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tg(e){if(typeof e=="function")return Cu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$)return 11;if(e===we)return 14}return 2}function ul(e,n){var s=e.alternate;return s===null?(s=Os(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function vd(e,n,s,f,y,S){var R=2;if(f=e,typeof e=="function")Cu(e)&&(R=1);else if(typeof e=="string")R=5;else e:switch(e){case Ee:return Tl(s.children,y,S,n);case ge:R=8,y|=8;break;case ee:return e=Os(12,s,n,y|2),e.elementType=ee,e.lanes=S,e;case le:return e=Os(13,s,n,y),e.elementType=le,e.lanes=S,e;case ie:return e=Os(19,s,n,y),e.elementType=ie,e.lanes=S,e;case Ie:return bd(s,y,S,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xe:R=10;break e;case z:R=9;break e;case $:R=11;break e;case we:R=14;break e;case _e:R=16,f=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Os(R,s,n,y),n.elementType=e,n.type=f,n.lanes=S,n}function Tl(e,n,s,f){return e=Os(7,e,f,n),e.lanes=s,e}function bd(e,n,s,f){return e=Os(22,e,f,n),e.elementType=Ie,e.lanes=s,e.stateNode={isHidden:!1},e}function Pu(e,n,s){return e=Os(6,e,null,n),e.lanes=s,e}function Lu(e,n,s){return n=Os(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ng(e,n,s,f,y){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hs(0),this.expirationTimes=hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function _u(e,n,s,f,y,S,R,ue,ve){return e=new ng(e,n,s,ue,ve),n===1?(n=1,S===!0&&(n|=8)):n=0,S=Os(3,null,null,n),e.current=S,S.stateNode=e,S.memoizedState={element:f,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(S),e}function rg(e,n,s){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:he,key:f==null?null:""+f,children:e,containerInfo:n,implementation:s}}function Dh(e){if(!e)return Na;e=e._reactInternals;e:{if(Jr(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Qn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(Qn(s))return Cc(e,s,n)}return n}function Fh(e,n,s,f,y,S,R,ue,ve){return e=_u(s,f,!0,e,y,S,R,ue,ve),e.context=Dh(null),s=e.current,f=Hi(),y=cl(s),S=Hr(f,y),S.callback=n??null,Vr(s,S,y),e.current.lanes=y,Xr(e,y,f),ls(e,f),e}function wd(e,n,s,f){var y=n.current,S=Hi(),R=cl(y);return s=Dh(s),n.context===null?n.context=s:n.pendingContext=s,n=Hr(S,R),n.payload={element:e},f=f===void 0?null:f,f!==null&&(n.callback=f),e=Vr(y,n,R),e!==null&&(co(e,y,R,S),Va(e,y,R)),R}function jd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Iu(e,n){Rh(e,n),(e=e.alternate)&&Rh(e,n)}function ag(){return null}var Th=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eu(e){this._internalRoot=e}Sd.prototype.render=Eu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));wd(e,n,null,null)},Sd.prototype.unmount=Eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Dl(function(){wd(null,e,null,null)}),n[D]=null}};function Sd(e){this._internalRoot=e}Sd.prototype.unstable_scheduleHydration=function(e){if(e){var n=vn();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Za.length&&n!==0&&n<Za[s].priority;s++);Za.splice(s,0,e),s===0&&qs(e)}};function Mu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Oh(){}function ig(e,n,s,f,y){if(y){if(typeof f=="function"){var S=f;f=function(){var He=jd(R);S.call(He)}}var R=Fh(n,f,e,0,null,!1,!1,"",Oh);return e._reactRootContainer=R,e[D]=R.current,Dr(e.nodeType===8?e.parentNode:e),Dl(),R}for(;y=e.lastChild;)e.removeChild(y);if(typeof f=="function"){var ue=f;f=function(){var He=jd(ve);ue.call(He)}}var ve=_u(e,0,!1,null,null,!1,!1,"",Oh);return e._reactRootContainer=ve,e[D]=ve.current,Dr(e.nodeType===8?e.parentNode:e),Dl(function(){wd(n,ve,s,f)}),ve}function kd(e,n,s,f,y){var S=s._reactRootContainer;if(S){var R=S;if(typeof y=="function"){var ue=y;y=function(){var ve=jd(R);ue.call(ve)}}wd(n,R,e,y)}else R=ig(s,n,e,y,f);return jd(R)}fi=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Di(n.pendingLanes);s!==0&&(Ti(n,s|1),ls(n,Cn()),(On&6)===0&&(lc=Cn()+500,k()))}break;case 13:Dl(function(){var f=Zn(e,1);if(f!==null){var y=Hi();co(f,e,1,y)}}),Iu(e,1)}},qr=function(e){if(e.tag===13){var n=Zn(e,134217728);if(n!==null){var s=Hi();co(n,e,134217728,s)}Iu(e,134217728)}},ks=function(e){if(e.tag===13){var n=cl(e),s=Zn(e,n);if(s!==null){var f=Hi();co(s,e,n,f)}Iu(e,n)}},vn=function(){return Pn},va=function(e,n){var s=Pn;try{return Pn=e,n()}finally{Pn=s}},Kt=function(e,n,s){switch(n){case"input":if(It(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var f=s[n];if(f!==e&&f.form===e.form){var y=Wt(f);if(!y)throw Error(r(90));at(f),It(f,y)}}}break;case"textarea":nn(e,s);break;case"select":n=s.value,n!=null&&vt(e,!!s.multiple,n,!1)}},Yt=Nu,Dn=Dl;var sg={usingClientEntryPoint:!1,Events:[Ze,it,Wt,dt,Br,Nu]},Oc={findFiberByHostInstance:Se,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},og={bundleType:Oc.bundleType,version:Oc.version,rendererPackageName:Oc.rendererPackageName,rendererConfig:Oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dr(e),e===null?null:e.stateNode},findFiberByHostInstance:Oc.findFiberByHostInstance||ag,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{Kr=Ad.inject(og),Qr=Ad}catch{}}return cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sg,cs.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mu(n))throw Error(r(200));return rg(e,n,null,s)},cs.createRoot=function(e,n){if(!Mu(e))throw Error(r(299));var s=!1,f="",y=Th;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(f=n.identifierPrefix),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=_u(e,1,!1,null,null,s,!1,f,y),e[D]=n.current,Dr(e.nodeType===8?e.parentNode:e),new Eu(n)},cs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=dr(n),e=e===null?null:e.stateNode,e},cs.flushSync=function(e){return Dl(e)},cs.hydrate=function(e,n,s){if(!Nd(n))throw Error(r(200));return kd(null,e,n,!0,s)},cs.hydrateRoot=function(e,n,s){if(!Mu(e))throw Error(r(405));var f=s!=null&&s.hydratedSources||null,y=!1,S="",R=Th;if(s!=null&&(s.unstable_strictMode===!0&&(y=!0),s.identifierPrefix!==void 0&&(S=s.identifierPrefix),s.onRecoverableError!==void 0&&(R=s.onRecoverableError)),n=Fh(n,null,e,1,s??null,y,!1,S,R),e[D]=n.current,Dr(e),f)for(e=0;e<f.length;e++)s=f[e],y=s._getVersion,y=y(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,y]:n.mutableSourceEagerHydrationData.push(s,y);return new Sd(n)},cs.render=function(e,n,s){if(!Nd(n))throw Error(r(200));return kd(null,e,n,!1,s)},cs.unmountComponentAtNode=function(e){if(!Nd(e))throw Error(r(40));return e._reactRootContainer?(Dl(function(){kd(null,null,e,!1,function(){e._reactRootContainer=null,e[D]=null})}),!0):!1},cs.unstable_batchedUpdates=Nu,cs.unstable_renderSubtreeIntoContainer=function(e,n,s,f){if(!Nd(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return kd(e,n,s,!1,f)},cs.version="18.3.1-next-f1338f8080-20240426",cs}var Vh;function Am(){if(Vh)return Ru.exports;Vh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),Ru.exports=gg(),Ru.exports}var Yh;function xg(){if(Yh)return Cd;Yh=1;var i=Am();return Cd.createRoot=i.createRoot,Cd.hydrateRoot=i.hydrateRoot,Cd}var yg=xg();const vg=km(yg);Am();function Wc(){return Wc=Object.assign?Object.assign.bind():function(i){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},Wc.apply(this,arguments)}var ml;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(ml||(ml={}));const Gh="popstate";function bg(i){i===void 0&&(i={});function a(o,c){let{pathname:l,search:m,hash:p}=o.location;return df("",{pathname:l,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(o,c){return typeof c=="string"?c:Wd(c)}return jg(a,r,null,i)}function xa(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function Cf(i,a){if(!i){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function wg(){return Math.random().toString(36).substr(2,8)}function Jh(i,a){return{usr:i.state,key:i.key,idx:a}}function df(i,a,r,o){return r===void 0&&(r=null),Wc({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof a=="string"?wc(a):a,{state:r,key:a&&a.key||o||wg()})}function Wd(i){let{pathname:a="/",search:r="",hash:o=""}=i;return r&&r!=="?"&&(a+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(a+=o.charAt(0)==="#"?o:"#"+o),a}function wc(i){let a={};if(i){let r=i.indexOf("#");r>=0&&(a.hash=i.substr(r),i=i.substr(0,r));let o=i.indexOf("?");o>=0&&(a.search=i.substr(o),i=i.substr(0,o)),i&&(a.pathname=i)}return a}function jg(i,a,r,o){o===void 0&&(o={});let{window:c=document.defaultView,v5Compat:l=!1}=o,m=c.history,p=ml.Pop,g=null,v=j();v==null&&(v=0,m.replaceState(Wc({},m.state,{idx:v}),""));function j(){return(m.state||{idx:null}).idx}function A(){p=ml.Pop;let I=j(),P=I==null?null:I-v;v=I,g&&g({action:p,location:E.location,delta:P})}function M(I,P){p=ml.Push;let W=df(E.location,I,P);v=j()+1;let X=Jh(W,v),H=E.createHref(W);try{m.pushState(X,"",H)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;c.location.assign(H)}l&&g&&g({action:p,location:E.location,delta:1})}function b(I,P){p=ml.Replace;let W=df(E.location,I,P);v=j();let X=Jh(W,v),H=E.createHref(W);m.replaceState(X,"",H),l&&g&&g({action:p,location:E.location,delta:0})}function U(I){let P=c.location.origin!=="null"?c.location.origin:c.location.href,W=typeof I=="string"?I:Wd(I);return W=W.replace(/ $/,"%20"),xa(P,"No window.location.(origin|href) available to create URL for href: "+W),new URL(W,P)}let E={get action(){return p},get location(){return i(c,m)},listen(I){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Gh,A),g=I,()=>{c.removeEventListener(Gh,A),g=null}},createHref(I){return a(c,I)},createURL:U,encodeLocation(I){let P=U(I);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:M,replace:b,go(I){return m.go(I)}};return E}var Kh;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(Kh||(Kh={}));function Sg(i,a,r){return r===void 0&&(r="/"),Ng(i,a,r)}function Ng(i,a,r,o){let c=typeof a=="string"?wc(a):a,l=Pf(c.pathname||"/",r);if(l==null)return null;let m=Cm(i);kg(m);let p=null;for(let g=0;p==null&&g<m.length;++g){let v=Tg(l);p=Dg(m[g],v)}return p}function Cm(i,a,r,o){a===void 0&&(a=[]),r===void 0&&(r=[]),o===void 0&&(o="");let c=(l,m,p)=>{let g={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:m,route:l};g.relativePath.startsWith("/")&&(xa(g.relativePath.startsWith(o),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(o.length));let v=xl([o,g.relativePath]),j=r.concat(g);l.children&&l.children.length>0&&(xa(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Cm(l.children,a,j,v)),!(l.path==null&&!l.index)&&a.push({path:v,score:Eg(v,l.index),routesMeta:j})};return i.forEach((l,m)=>{var p;if(l.path===""||!((p=l.path)!=null&&p.includes("?")))c(l,m);else for(let g of Pm(l.path))c(l,m,g)}),a}function Pm(i){let a=i.split("/");if(a.length===0)return[];let[r,...o]=a,c=r.endsWith("?"),l=r.replace(/\?$/,"");if(o.length===0)return c?[l,""]:[l];let m=Pm(o.join("/")),p=[];return p.push(...m.map(g=>g===""?l:[l,g].join("/"))),c&&p.push(...m),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function kg(i){i.sort((a,r)=>a.score!==r.score?r.score-a.score:Mg(a.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const Ag=/^:[\w-]+$/,Cg=3,Pg=2,Lg=1,_g=10,Ig=-2,Qh=i=>i==="*";function Eg(i,a){let r=i.split("/"),o=r.length;return r.some(Qh)&&(o+=Ig),a&&(o+=Pg),r.filter(c=>!Qh(c)).reduce((c,l)=>c+(Ag.test(l)?Cg:l===""?Lg:_g),o)}function Mg(i,a){return i.length===a.length&&i.slice(0,-1).every((o,c)=>o===a[c])?i[i.length-1]-a[a.length-1]:0}function Dg(i,a,r){let{routesMeta:o}=i,c={},l="/",m=[];for(let p=0;p<o.length;++p){let g=o[p],v=p===o.length-1,j=l==="/"?a:a.slice(l.length)||"/",A=Fg({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},j),M=g.route;if(!A)return null;Object.assign(c,A.params),m.push({params:c,pathname:xl([l,A.pathname]),pathnameBase:qg(xl([l,A.pathnameBase])),route:M}),A.pathnameBase!=="/"&&(l=xl([l,A.pathnameBase]))}return m}function Fg(i,a){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,o]=Rg(i.path,i.caseSensitive,i.end),c=a.match(r);if(!c)return null;let l=c[0],m=l.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:o.reduce((v,j,A)=>{let{paramName:M,isOptional:b}=j;if(M==="*"){let E=p[A]||"";m=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const U=p[A];return b&&!U?v[M]=void 0:v[M]=(U||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:m,pattern:i}}function Rg(i,a,r){a===void 0&&(a=!1),r===void 0&&(r=!0),Cf(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let o=[],c="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,p,g)=>(o.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),c+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":i!==""&&i!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),o]}function Tg(i){try{return i.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Cf(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),i}}function Pf(i,a){if(a==="/")return i;if(!i.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,o=i.charAt(r);return o&&o!=="/"?null:i.slice(r)||"/"}const Og=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bg=i=>Og.test(i);function zg(i,a){a===void 0&&(a="/");let{pathname:r,search:o="",hash:c=""}=typeof i=="string"?wc(i):i,l;if(r)if(Bg(r))l=r;else{if(r.includes("//")){let m=r;r=r.replace(/\/\/+/g,"/"),Cf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(m+" -> "+r))}r.startsWith("/")?l=Xh(r.substring(1),"/"):l=Xh(r,a)}else l=a;return{pathname:l,search:$g(o),hash:Wg(c)}}function Xh(i,a){let r=a.replace(/\/+$/,"").split("/");return i.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function Bu(i,a,r,o){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ug(i){return i.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function Lf(i,a){let r=Ug(i);return a?r.map((o,c)=>c===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function _f(i,a,r,o){o===void 0&&(o=!1);let c;typeof i=="string"?c=wc(i):(c=Wc({},i),xa(!c.pathname||!c.pathname.includes("?"),Bu("?","pathname","search",c)),xa(!c.pathname||!c.pathname.includes("#"),Bu("#","pathname","hash",c)),xa(!c.search||!c.search.includes("#"),Bu("#","search","hash",c)));let l=i===""||c.pathname==="",m=l?"/":c.pathname,p;if(m==null)p=r;else{let A=a.length-1;if(!o&&m.startsWith("..")){let M=m.split("/");for(;M[0]==="..";)M.shift(),A-=1;c.pathname=M.join("/")}p=A>=0?a[A]:"/"}let g=zg(c,p),v=m&&m!=="/"&&m.endsWith("/"),j=(l||m===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(v||j)&&(g.pathname+="/"),g}const xl=i=>i.join("/").replace(/\/\/+/g,"/"),qg=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),$g=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Wg=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Hg(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const Lm=["post","put","patch","delete"];new Set(Lm);const Vg=["get",...Lm];new Set(Vg);function Hc(){return Hc=Object.assign?Object.assign.bind():function(i){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},Hc.apply(this,arguments)}const If=Q.createContext(null),Yg=Q.createContext(null),vl=Q.createContext(null),Kd=Q.createContext(null),bl=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),_m=Q.createContext(null);function Gg(i,a){let{relative:r}=a===void 0?{}:a;jc()||xa(!1);let{basename:o,navigator:c}=Q.useContext(vl),{hash:l,pathname:m,search:p}=Em(i,{relative:r}),g=m;return o!=="/"&&(g=m==="/"?o:xl([o,m])),c.createHref({pathname:g,search:p,hash:l})}function jc(){return Q.useContext(Kd)!=null}function Sc(){return jc()||xa(!1),Q.useContext(Kd).location}function Im(i){Q.useContext(vl).static||Q.useLayoutEffect(i)}function ho(){let{isDataRoute:i}=Q.useContext(bl);return i?o1():Jg()}function Jg(){jc()||xa(!1);let i=Q.useContext(If),{basename:a,future:r,navigator:o}=Q.useContext(vl),{matches:c}=Q.useContext(bl),{pathname:l}=Sc(),m=JSON.stringify(Lf(c,r.v7_relativeSplatPath)),p=Q.useRef(!1);return Im(()=>{p.current=!0}),Q.useCallback(function(v,j){if(j===void 0&&(j={}),!p.current)return;if(typeof v=="number"){o.go(v);return}let A=_f(v,JSON.parse(m),l,j.relative==="path");i==null&&a!=="/"&&(A.pathname=A.pathname==="/"?a:xl([a,A.pathname])),(j.replace?o.replace:o.push)(A,j.state,j)},[a,o,m,l,i])}function Em(i,a){let{relative:r}=a===void 0?{}:a,{future:o}=Q.useContext(vl),{matches:c}=Q.useContext(bl),{pathname:l}=Sc(),m=JSON.stringify(Lf(c,o.v7_relativeSplatPath));return Q.useMemo(()=>_f(i,JSON.parse(m),l,r==="path"),[i,m,l,r])}function Kg(i,a){return Qg(i,a)}function Qg(i,a,r,o){jc()||xa(!1);let{navigator:c}=Q.useContext(vl),{matches:l}=Q.useContext(bl),m=l[l.length-1],p=m?m.params:{};m&&m.pathname;let g=m?m.pathnameBase:"/";m&&m.route;let v=Sc(),j;if(a){var A;let I=typeof a=="string"?wc(a):a;g==="/"||(A=I.pathname)!=null&&A.startsWith(g)||xa(!1),j=I}else j=v;let M=j.pathname||"/",b=M;if(g!=="/"){let I=g.replace(/^\//,"").split("/");b="/"+M.replace(/^\//,"").split("/").slice(I.length).join("/")}let U=Sg(i,{pathname:b}),E=n1(U&&U.map(I=>Object.assign({},I,{params:Object.assign({},p,I.params),pathname:xl([g,c.encodeLocation?c.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?g:xl([g,c.encodeLocation?c.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),l,r,o);return a&&E?Q.createElement(Kd.Provider,{value:{location:Hc({pathname:"/",search:"",hash:"",state:null,key:"default"},j),navigationType:ml.Pop}},E):E}function Xg(){let i=s1(),a=Hg(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},a),r?Q.createElement("pre",{style:c},r):null,null)}const Zg=Q.createElement(Xg,null);class e1 extends Q.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,r){return r.location!==a.location||r.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:r.error,location:r.location,revalidation:a.revalidation||r.revalidation}}componentDidCatch(a,r){console.error("React Router caught the following error during render",a,r)}render(){return this.state.error!==void 0?Q.createElement(bl.Provider,{value:this.props.routeContext},Q.createElement(_m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t1(i){let{routeContext:a,match:r,children:o}=i,c=Q.useContext(If);return c&&c.static&&c.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=r.route.id),Q.createElement(bl.Provider,{value:a},o)}function n1(i,a,r,o){var c;if(a===void 0&&(a=[]),r===void 0&&(r=null),o===void 0&&(o=null),i==null){var l;if(!r)return null;if(r.errors)i=r.matches;else if((l=o)!=null&&l.v7_partialHydration&&a.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let m=i,p=(c=r)==null?void 0:c.errors;if(p!=null){let j=m.findIndex(A=>A.route.id&&p?.[A.route.id]!==void 0);j>=0||xa(!1),m=m.slice(0,Math.min(m.length,j+1))}let g=!1,v=-1;if(r&&o&&o.v7_partialHydration)for(let j=0;j<m.length;j++){let A=m[j];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(v=j),A.route.id){let{loaderData:M,errors:b}=r,U=A.route.loader&&M[A.route.id]===void 0&&(!b||b[A.route.id]===void 0);if(A.route.lazy||U){g=!0,v>=0?m=m.slice(0,v+1):m=[m[0]];break}}}return m.reduceRight((j,A,M)=>{let b,U=!1,E=null,I=null;r&&(b=p&&A.route.id?p[A.route.id]:void 0,E=A.route.errorElement||Zg,g&&(v<0&&M===0?(l1("route-fallback"),U=!0,I=null):v===M&&(U=!0,I=A.route.hydrateFallbackElement||null)));let P=a.concat(m.slice(0,M+1)),W=()=>{let X;return b?X=E:U?X=I:A.route.Component?X=Q.createElement(A.route.Component,null):A.route.element?X=A.route.element:X=j,Q.createElement(t1,{match:A,routeContext:{outlet:j,matches:P,isDataRoute:r!=null},children:X})};return r&&(A.route.ErrorBoundary||A.route.errorElement||M===0)?Q.createElement(e1,{location:r.location,revalidation:r.revalidation,component:E,error:b,children:W(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):W()},null)}var Mm=(function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i})(Mm||{}),Dm=(function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i})(Dm||{});function r1(i){let a=Q.useContext(If);return a||xa(!1),a}function a1(i){let a=Q.useContext(Yg);return a||xa(!1),a}function i1(i){let a=Q.useContext(bl);return a||xa(!1),a}function Fm(i){let a=i1(),r=a.matches[a.matches.length-1];return r.route.id||xa(!1),r.route.id}function s1(){var i;let a=Q.useContext(_m),r=a1(),o=Fm();return a!==void 0?a:(i=r.errors)==null?void 0:i[o]}function o1(){let{router:i}=r1(Mm.UseNavigateStable),a=Fm(Dm.UseNavigateStable),r=Q.useRef(!1);return Im(()=>{r.current=!0}),Q.useCallback(function(c,l){l===void 0&&(l={}),r.current&&(typeof c=="number"?i.navigate(c):i.navigate(c,Hc({fromRouteId:a},l)))},[i,a])}const Zh={};function l1(i,a,r){Zh[i]||(Zh[i]=!0)}function c1(i,a){i?.v7_startTransition,i?.v7_relativeSplatPath}function ep(i){let{to:a,replace:r,state:o,relative:c}=i;jc()||xa(!1);let{future:l,static:m}=Q.useContext(vl),{matches:p}=Q.useContext(bl),{pathname:g}=Sc(),v=ho(),j=_f(a,Lf(p,l.v7_relativeSplatPath),g,c==="path"),A=JSON.stringify(j);return Q.useEffect(()=>v(JSON.parse(A),{replace:r,state:o,relative:c}),[v,A,c,r,o]),null}function Do(i){xa(!1)}function d1(i){let{basename:a="/",children:r=null,location:o,navigationType:c=ml.Pop,navigator:l,static:m=!1,future:p}=i;jc()&&xa(!1);let g=a.replace(/^\/*/,"/"),v=Q.useMemo(()=>({basename:g,navigator:l,static:m,future:Hc({v7_relativeSplatPath:!1},p)}),[g,p,l,m]);typeof o=="string"&&(o=wc(o));let{pathname:j="/",search:A="",hash:M="",state:b=null,key:U="default"}=o,E=Q.useMemo(()=>{let I=Pf(j,g);return I==null?null:{location:{pathname:I,search:A,hash:M,state:b,key:U},navigationType:c}},[g,j,A,M,b,U,c]);return E==null?null:Q.createElement(vl.Provider,{value:v},Q.createElement(Kd.Provider,{children:r,value:E}))}function u1(i){let{children:a,location:r}=i;return Kg(uf(a),r)}new Promise(()=>{});function uf(i,a){a===void 0&&(a=[]);let r=[];return Q.Children.forEach(i,(o,c)=>{if(!Q.isValidElement(o))return;let l=[...a,c];if(o.type===Q.Fragment){r.push.apply(r,uf(o.props.children,l));return}o.type!==Do&&xa(!1),!o.props.index||!o.props.children||xa(!1);let m={id:o.props.id||l.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=uf(o.props.children,l)),r.push(m)}),r}function ff(){return ff=Object.assign?Object.assign.bind():function(i){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},ff.apply(this,arguments)}function f1(i,a){if(i==null)return{};var r={},o=Object.keys(i),c,l;for(l=0;l<o.length;l++)c=o[l],!(a.indexOf(c)>=0)&&(r[c]=i[c]);return r}function h1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function p1(i,a){return i.button===0&&(!a||a==="_self")&&!h1(i)}function hf(i){return i===void 0&&(i=""),new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((a,r)=>{let o=i[r];return a.concat(Array.isArray(o)?o.map(c=>[r,c]):[[r,o]])},[]))}function m1(i,a){let r=hf(i);return a&&a.forEach((o,c)=>{r.has(c)||a.getAll(c).forEach(l=>{r.append(c,l)})}),r}const g1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],x1="6";try{window.__reactRouterVersion=x1}catch{}const y1="startTransition",tp=hg[y1];function v1(i){let{basename:a,children:r,future:o,window:c}=i,l=Q.useRef();l.current==null&&(l.current=bg({window:c,v5Compat:!0}));let m=l.current,[p,g]=Q.useState({action:m.action,location:m.location}),{v7_startTransition:v}=o||{},j=Q.useCallback(A=>{v&&tp?tp(()=>g(A)):g(A)},[g,v]);return Q.useLayoutEffect(()=>m.listen(j),[m,j]),Q.useEffect(()=>c1(o),[o]),Q.createElement(d1,{basename:a,children:r,location:p.location,navigationType:p.action,navigator:m,future:o})}const b1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jc=Q.forwardRef(function(a,r){let{onClick:o,relative:c,reloadDocument:l,replace:m,state:p,target:g,to:v,preventScrollReset:j,viewTransition:A}=a,M=f1(a,g1),{basename:b}=Q.useContext(vl),U,E=!1;if(typeof v=="string"&&w1.test(v)&&(U=v,b1))try{let X=new URL(window.location.href),H=v.startsWith("//")?new URL(X.protocol+v):new URL(v),fe=Pf(H.pathname,b);H.origin===X.origin&&fe!=null?v=fe+H.search+H.hash:E=!0}catch{}let I=Gg(v,{relative:c}),P=j1(v,{replace:m,state:p,target:g,preventScrollReset:j,relative:c,viewTransition:A});function W(X){o&&o(X),X.defaultPrevented||P(X)}return Q.createElement("a",ff({},M,{href:U||I,onClick:E||l?o:W,ref:r,target:g}))});var np;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(np||(np={}));var rp;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(rp||(rp={}));function j1(i,a){let{target:r,replace:o,state:c,preventScrollReset:l,relative:m,viewTransition:p}=a===void 0?{}:a,g=ho(),v=Sc(),j=Em(i,{relative:m});return Q.useCallback(A=>{if(p1(A,r)){A.preventDefault();let M=o!==void 0?o:Wd(v)===Wd(j);g(i,{replace:M,state:c,preventScrollReset:l,relative:m,viewTransition:p})}},[v,g,j,o,c,r,i,l,m,p])}function Rm(i){let a=Q.useRef(hf(i)),r=Q.useRef(!1),o=Sc(),c=Q.useMemo(()=>m1(o.search,r.current?null:a.current),[o.search]),l=ho(),m=Q.useCallback((p,g)=>{const v=hf(typeof p=="function"?p(c):p);r.current=!0,l("?"+v,g)},[l,c]);return[c,m]}function Hd({isOpen:i,message:a,type:r="success",onClose:o,title:c}){if(!i||!a)return null;const l=r==="success"?"success":"error",m=()=>{switch(l){case"success":return"fa-check-circle";case"error":return"fa-exclamation-circle";default:return"fa-exclamation-circle"}};return t.jsx("div",{className:"alert-modal-overlay",onClick:p=>{p.stopPropagation()},children:t.jsxs("div",{className:`alert-modal alert-modal--${l}`,onClick:p=>p.stopPropagation(),children:[t.jsxs("div",{className:"alert-modal-content",children:[t.jsxs("div",{className:"alert-modal-header",children:[t.jsx("div",{className:"alert-modal-icon",children:t.jsx("i",{className:`fas ${m()}`})}),c&&t.jsx("h3",{className:"alert-modal-title",children:c})]}),t.jsx("div",{className:"alert-modal-message",children:a})]}),t.jsx("div",{className:"alert-modal-divider"}),t.jsx("div",{className:"alert-modal-actions",children:t.jsx("button",{className:"primary-btn",onClick:o,children:"OK"})})]})})}function $l({message:i,type:a="success",onClose:r,duration:o=3e3}){const[c,l]=Q.useState(!1),[m,p]=Q.useState(i),[g,v]=Q.useState(a),j=Q.useRef(null),A=Q.useRef(null);if(Q.useEffect(()=>{i&&(j.current&&clearTimeout(j.current),A.current&&clearTimeout(A.current),p(i),v(a),l(!1))},[i,a]),Q.useEffect(()=>(j.current&&clearTimeout(j.current),A.current&&clearTimeout(A.current),m&&!c&&o>0&&(j.current=setTimeout(()=>{l(!0),A.current=setTimeout(()=>{r&&r(),p(null),l(!1)},350)},o)),()=>{j.current&&clearTimeout(j.current),A.current&&clearTimeout(A.current)}),[m,o,r,c]),!m)return null;const M=g==="success"?"success":"error";return t.jsx("div",{className:`notie notie--${M} ${c?"notie--exiting":""}`,children:t.jsx("div",{className:"notie-content",children:m})})}const ap={totalMembers:312,collectedMonth:12450,collectedYear:220800,outstanding:18400,overdueMembers:27,expectedAnnual:249600},ip=[{member:"Fatima Hussain",period:"Oct 2025",amount:"$50",method:"PayMe",status:"Paid",date:"02 Oct  09:11"},{member:"Ahmed Al-Rashid",period:"Oct 2025",amount:"$50",method:"FPS",status:"Paid",date:"05 Oct  10:22"},{member:"Aisha Malik",period:"Sep 2025",amount:"$100",method:"Card",status:"Unpaid",date:"30 Sep  12:44"},{member:"Omar Rahman",period:"Sep 2025",amount:"$100",method:"PayMe",status:"Overdue",date:"20 Sep  14:10"}],S1=[{id:"HK1001",name:"Shan Yeager",email:"0741sanjai@gmail.com",phone:"+852 9000 1234",status:"Active",balance:"$250 Outstanding",nextDue:"20 Nov 2025",lastPayment:"15 Oct 2025"},{id:"HK1021",name:"Ahmed Al-Rashid",email:"ahmed.rashid@hk.org",phone:"+852 9123 4567",status:"Active",balance:"$150 Outstanding",nextDue:"05 Nov 2025",lastPayment:"05 Oct 2025"},{id:"HK1088",name:"Fatima Hussain",email:"fatima.hussain@hk.org",phone:"+852 6789 1234",status:"Active",balance:"$0",nextDue:"05 Nov 2025",lastPayment:"02 Oct 2025"},{id:"HK1104",name:"Omar Rahman",email:"omar.rahman@hk.org",phone:"+852 9555 2011",status:"Inactive",balance:"$250 Overdue",nextDue:"20 Sep 2025",lastPayment:"15 Jul 2025"},{id:"HK1112",name:"Aisha Malik",email:"aisha.malik@hk.org",phone:"+852 9988 7766",status:"Active",balance:"$100 Unpaid",nextDue:"30 Sep 2025",lastPayment:"05 Aug 2025"},{id:"HK1125",name:"Yusuf Ibrahim",email:"yusuf.ibrahim@hk.org",phone:"+852 9234 5678",status:"Active",balance:"$50 Outstanding",nextDue:"10 Nov 2025",lastPayment:"10 Oct 2025"},{id:"HK1136",name:"Mariam Abdullah",email:"mariam.abdullah@hk.org",phone:"+852 9345 6789",status:"Active",balance:"$0",nextDue:"15 Nov 2025",lastPayment:"15 Oct 2025"},{id:"HK1147",name:"Hassan Al-Farsi",email:"hassan.farsi@hk.org",phone:"+852 9456 7890",status:"Active",balance:"$0",nextDue:"20 Nov 2025",lastPayment:"20 Oct 2025"},{id:"HK1158",name:"Zainab Mustafa",email:"zainab.mustafa@hk.org",phone:"+852 9567 8901",status:"Inactive",balance:"$200 Overdue",nextDue:"01 Oct 2025",lastPayment:"01 Aug 2025"}],N1=[{id:1,name:"Ibrahim Khan",role:"Owner",status:"Active"},{id:2,name:"Yasmin Ahmed",role:"Finance Admin",status:"Active"},{id:3,name:"Khalid Hassan",role:"Viewer",status:"Pending"}],k1=[{id:"INV-2025-095",memberId:"HK1001",memberName:"Shan Yeager",period:"Nov 2025 Monthly",amount:"$50",status:"Unpaid",due:"20 Nov 2025",method:"-",reference:"-"},{id:"INV-2025-094",memberId:"HK1001",memberName:"Shan Yeager",period:"Oct 2025 Monthly",amount:"$50",status:"Overdue",due:"20 Oct 2025",method:"-",reference:"-"},{id:"INV-2025-093",memberId:"HK1001",memberName:"Shan Yeager",period:"Sep 2025 Eid 2",amount:"$100",status:"Overdue",due:"30 Sep 2025",method:"-",reference:"-"},{id:"INV-2025-092",memberId:"HK1001",memberName:"Shan Yeager",period:"Sep 2025 Monthly",amount:"$50",status:"Overdue",due:"20 Sep 2025",method:"-",reference:"-"},{id:"INV-2025-091",memberId:"HK1021",memberName:"Ahmed Al-Rashid",period:"Oct 2025",amount:"$50",status:"Paid",due:"05 Oct 2025",method:"FPS",reference:"FP89231"},{id:"INV-2025-072",memberId:"HK1112",memberName:"Aisha Malik",period:"Sep 2025 (Eid)",amount:"$100",status:"Unpaid",due:"30 Sep 2025",method:"PayMe",reference:"PM22011"},{id:"INV-2025-051",memberId:"HK1021",memberName:"Ahmed Al-Rashid",period:"Aug 2025",amount:"$50",status:"Paid",due:"05 Aug 2025",method:"Bank Transfer",reference:"BT99127"}],sp=[{date:"05 Oct 2025",amount:"$50",method:"FPS",reference:"FP89231"},{date:"05 Sep 2025",amount:"$50",method:"PayMe",reference:"PM22110"},{date:"02 Apr 2025",amount:"$100",method:"Bank Transfer",reference:"BT44881"}],op=[{channel:"Email",message:"Upcoming due reminder",status:"Delivered",date:"02 Oct 2025"},{channel:"WhatsApp",message:"Overdue alert",status:"Pending",date:"01 Oct 2025"}],zu=[{label:"3 days before due date",channels:["Email","WhatsApp"]},{label:"On due date",channels:["Email","WhatsApp"]},{label:"5 days after due date",channels:["Email"]}],lp=[{name:"Direct Bank Transfer",visible:!0,details:["HSBC Hong Kong","123-456789-001","Subscription Manager HK"]},{name:"FPS",visible:!0,details:["FPS ID 1234567"]},{name:"Alipay",visible:!0,details:["Upload QR placeholder"]},{name:"PayMe",visible:!0,details:["Upload QR placeholder"]},{name:"Credit/Debit Cards",visible:!0,details:["Gateway: Stripe"]}];function A1(i={}){const{nonce:a,onScriptLoadSuccess:r,onScriptLoadError:o}=i,[c,l]=Q.useState(!1),m=Q.useRef(r);m.current=r;const p=Q.useRef(o);return p.current=o,Q.useEffect(()=>{const g=document.createElement("script");return g.src="https://accounts.google.com/gsi/client",g.async=!0,g.defer=!0,g.nonce=a,g.onload=()=>{var v;l(!0),(v=m.current)===null||v===void 0||v.call(m)},g.onerror=()=>{var v;l(!1),(v=p.current)===null||v===void 0||v.call(p)},document.body.appendChild(g),()=>{document.body.removeChild(g)}},[a]),c}const C1=Q.createContext(null);function P1({clientId:i,nonce:a,onScriptLoadSuccess:r,onScriptLoadError:o,children:c}){const l=A1({nonce:a,onScriptLoadSuccess:r,onScriptLoadError:o}),m=Q.useMemo(()=>({clientId:i,scriptLoadedSuccessfully:l}),[i,l]);return Af.createElement(C1.Provider,{value:m},c)}function L1(){const[i,a]=Q.useState(null),[r,o]=Q.useState(null),[c,l]=Q.useState({email:"",password:""}),[m,p]=Q.useState(!1),[g,v]=Q.useState({email:"",password:""}),[j,A]=Q.useState(null),[M,b]=Q.useState("error"),U=ho();Q.useEffect(()=>{sessionStorage.getItem("logoutReason")==="inactivity"&&(sessionStorage.removeItem("logoutReason"),a({type:"error",text:"Session expired due to inactivity. Please login again."}))},[]),Q.useEffect(()=>(document.body.classList.add("login-page-body"),()=>{document.body.classList.remove("login-page-body")}),[]);const E=X=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(X),I=()=>{const X={email:"",password:""};return c.email.trim()?E(c.email.trim())?c.password?(v(X),!0):(X.password="Password is required",v(X),A("Password is required"),b("error"),!1):(X.email="Please enter a valid email address",v(X),A("Please enter a valid email address"),b("error"),!1):(X.email="Email is required",v(X),A("Email is required"),b("error"),!1)},P=!1,W=async X=>{{if(r!==null||!I())return;o(X),a(null),v({email:"",password:""}),A(null);try{const fe=await fetch("http://localhost:4000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email.trim(),password:c.password,role:X})});let he;try{he=await fe.json()}catch(Ee){console.error("JSON parse error:",Ee),A("Invalid response from server. Please try again."),b("error"),o(null);return}if(!fe.ok||!he.success){he.locked?A(he.message||"Account temporarily locked due to multiple failed login attempts. Please try again later."):A(he.message||"Invalid email or password. Please check your credentials and try again."),b("error"),o(null);return}sessionStorage.setItem("authToken",he.token),he.role==="Admin"?(sessionStorage.setItem("adminEmail",he.email),sessionStorage.setItem("adminName",he.name),he.adminId&&sessionStorage.setItem("adminId",he.adminId),he.adminRole&&sessionStorage.setItem("adminRole",he.adminRole),o(null),U("/admin",{replace:!0,state:{role:"Admin",token:he.token,email:he.email,name:he.name,adminId:he.adminId,adminRole:he.adminRole}})):(sessionStorage.setItem("memberEmail",he.email),sessionStorage.setItem("memberName",he.name),sessionStorage.setItem("memberId",he.memberId),o(null),U("/member",{replace:!0,state:{role:"Member",token:he.token,email:he.email,name:he.name,memberId:he.memberId,phone:he.phone}}))}catch(H){console.error("Login error:",H),A("Unable to connect. Please check your connection and try again."),b("error"),o(null)}}};return t.jsx(t.Fragment,{children:t.jsx("main",{className:"login-main login-page",children:t.jsxs("div",{className:"login-shell",children:[t.jsxs("aside",{className:"login-menu",children:[t.jsx("p",{className:"eyebrow light",children:"Welcome"}),t.jsx("h2",{children:"Subscription Manager HK"}),t.jsx("p",{children:"Streamlined portal for Hong Kong membership dues. Track monthly payments and automations from one place."}),t.jsxs("ul",{children:[t.jsx("li",{children:"Supports FPS, PayMe, bank transfers, cards"}),t.jsx("li",{children:"Automated reminders via email and WhatsApp"}),t.jsx("li",{children:"Clear dashboards for admins and members"})]})]}),t.jsxs("div",{className:"login-form-card",children:[t.jsx("div",{className:"login-form-card__header",children:t.jsxs("h1",{children:[t.jsx("i",{className:"fas fa-sign-in-alt login-title-icon"}),"Sign in"]})}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope login-icon"}),"Email ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsx("input",{type:"text",inputMode:"email",value:c.email,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","data-form-type":"other","data-lpignore":"true","data-1p-ignore":"true",title:"",onInvalid:X=>X.preventDefault(),onChange:X=>{l({...c,email:X.target.value}),g.email&&v({...g,email:""})},placeholder:"Enter your email address",className:`mono-input ${g.email?"input-error":""}`,disabled:r!==null})]}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock login-icon"}),"Password ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsxs("div",{className:"login-input-wrapper",children:[t.jsx("input",{type:m?"text":"password",value:c.password,autoComplete:"new-password",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","data-form-type":"other","data-lpignore":"true","data-1p-ignore":"true",title:"",onInvalid:X=>X.preventDefault(),onChange:X=>{l({...c,password:X.target.value}),g.password&&v({...g,password:""})},placeholder:"Enter your password",className:`mono-input login-input--with-icon ${g.password?"input-error":""}`,disabled:r!==null}),t.jsx("button",{type:"button",onClick:()=>p(!m),className:"login-password-toggle","aria-label":m?"Hide password":"Show password",disabled:r!==null,children:m?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),t.jsx("div",{className:"login-forgot-link",children:t.jsx(Jc,{to:"/forgot-password",onClick:X=>{r!==null&&X.preventDefault()},children:"Forgot Password?"})})]}),t.jsxs("div",{className:"login-hints",children:[t.jsxs("p",{className:"login-hints-title",children:[t.jsx("i",{className:"fas fa-info-circle login-icon"}),"Demo Credentials"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Admin:"})," admin2002@gmail.com / #Admin2204"]}),P]}),t.jsxs("div",{className:"login-buttons",children:[t.jsx("button",{type:"button",className:`btn-admin login-btn-wrapper ${r!==null?"login-btn--loading":""}`,onClick:()=>W("admin"),disabled:r!==null,children:r==="admin"?t.jsxs("span",{className:"login-btn-spinner",children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),t.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}),"Authorising"]}):"Login"}),P]}),P,t.jsx(Hd,{isOpen:!!i,message:i?.text,type:i?.type||"error",onClose:()=>a(null)}),t.jsx($l,{message:j,type:M,onClose:()=>A(null),duration:3e3})]})]})})})}function Kc({showCTA:i=!0,showLogout:a=!1,onLogout:r,showMobileMenu:o=!1,isMobileMenuOpen:c=!1,onMobileMenuToggle:l,isSticky:m=!1}){return t.jsxs("header",{className:`site-header ${m?"site-header--sticky":""}`,children:[o&&t.jsx("button",{className:"mobile-menu-toggle",onClick:p=>{p.stopPropagation(),l&&l()},"aria-label":"Toggle menu",type:"button",children:t.jsxs("span",{className:`hamburger ${c?"active":""}`,children:[t.jsx("span",{}),t.jsx("span",{}),t.jsx("span",{})]})}),t.jsxs("div",{className:"brand",children:[t.jsx("span",{className:"logo-mark",children:"SM"}),t.jsxs("div",{children:[t.jsx("p",{className:"logo-title",children:"Subscription Manager HK"}),t.jsx("p",{className:"logo-subtitle",children:"Recurring payments for Hong Kong memberships"})]})]}),i&&t.jsx(Jc,{className:"primary-btn",to:"/login",children:"Launch Demo"}),a&&t.jsx("button",{onClick:r,className:"ghost-btn",children:"Logout"})]})}function Qc(){return t.jsxs("footer",{className:"site-footer",children:[t.jsx("p",{children:" 2025 Subscription Manager HK  Built for recurring memberships in Hong Kong."}),t.jsx("p",{})]})}const li={Paid:"badge badge-paid",Unpaid:"badge badge-unpaid",Overdue:"badge badge-overdue","Due Soon":"badge badge-unpaid","Pending Verification":"badge badge-pending",Active:"badge badge-active",Inactive:"badge badge-inactive",Delivered:"badge badge-paid",Pending:"badge badge-pending",Completed:"badge badge-paid",Rejected:"badge badge-overdue"};function oi({columns:i,rows:a}){const[r,o]=Q.useState(!1),[c,l]=Q.useState(null),[m,p]=Q.useState({column:null,direction:"asc"});Q.useEffect(()=>{const I=()=>{o(window.innerWidth<=768)};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),Q.useEffect(()=>{const I=P=>{P.key==="Escape"&&c!==null&&l(null)};return c!==null?(document.addEventListener("keydown",I),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.removeEventListener("keydown",I),document.body.style.overflow=""}},[c]);const g=(I,P)=>{const W=["Name","Member","User","Donor Name","Source"];for(const X of W)if(P.includes(X)){const H=I[X];if(H&&H!=="-"&&H!=="N/A"){if(typeof H=="object"&&H!==null&&H.render)continue;return H}}return null},v=(I,P)=>{if(!P.includes("Status"))return{status:null,borderClass:""};const W=I.Status;let X=null;if(typeof W=="object"&&W!==null&&W.render){const he=W.render();typeof he=="string"?X=he:he?.props?.children&&(X=he.props.children)}else W&&(X=W);if(!X||X==="-"||X==="N/A")return{status:null,borderClass:""};const H=X.toLowerCase();let fe="mobile-card-border-default";return H.includes("active")||H.includes("paid")||H.includes("completed")?fe="mobile-card-border-success":H.includes("pending")?fe="mobile-card-border-warning":(H.includes("inactive")||H.includes("overdue")||H.includes("rejected"))&&(fe="mobile-card-border-danger"),{status:X,borderClass:fe,statusValue:W}},j=(I,P)=>{const W=["Balance","Amount"];for(const X of W)if(P.includes(X)){const H=I[X];if(H&&H!=="-"&&H!=="N/A"&&H!=="$0"){if(typeof H=="object"&&H!==null&&H.render)continue;return{label:X,value:H}}}return null},A=I=>{const P=["Amount","Balance","Outstanding","Total","Collected","Expected","Avg per Member","Transactions","Donation","Donations","Invoice #"];return I==="Status"||I==="Actions"?"center":P.includes(I)?"right":"left"},M=I=>{if(I==null)return"";if(typeof I=="number")return I;if(typeof I=="string"){const P=parseFloat(I.replace(/[^0-9.-]/g,"")||"NaN");return isNaN(P)?I.toLowerCase():P}return I},b=I=>{p(P=>P.column===I?{column:I,direction:P.direction==="asc"?"desc":"asc"}:{column:I,direction:"asc"})},U=Q.useMemo(()=>{if(!m.column)return a;const I=m.column,P=m.direction==="asc"?1:-1;return[...a].sort((W,X)=>{const H=W[I],fe=X[I];if(typeof H=="object"&&H!==null&&H.render||typeof fe=="object"&&fe!==null&&fe.render)return 0;const he=M(H),Ee=M(fe);return he<Ee?-1*P:he>Ee?1*P:0})},[a,m]),E=(I,P,W,X)=>{const H=g(I,W),fe=j(I,W);return W.map(he=>{if(["Name","Member","User","Donor Name","Source"].includes(he)&&H)return null;const ee=I[he];let xe;if(typeof ee=="object"&&ee!==null&&ee.render?xe=ee.render():xe=typeof ee=="string"&&li[ee]&&he==="Status"?t.jsx("span",{className:li[ee],children:ee}):ee,!xe&&xe!==0&&xe!=="$0"||fe&&he===fe.label)return null;if(he==="Actions"){const le=I[he];if(typeof le=="object"&&le!==null&&le.render)return t.jsxs("div",{className:"mobile-card-modal-row mobile-card-modal-row-actions",onClick:ie=>{(ie.target.tagName==="BUTTON"||ie.target.closest("button"))&&setTimeout(()=>{X()},150)},children:[t.jsx("div",{className:"mobile-card-modal-label",children:he}),t.jsx("div",{className:"mobile-card-modal-value",children:le.render()})]},`${he}-${P}`)}const $=(le=>({Email:"fa-envelope",WhatsApp:"fa-phone",Phone:"fa-phone",Balance:"fa-wallet",Amount:"fa-dollar-sign",Date:"fa-calendar","Due Date":"fa-calendar-alt",Period:"fa-calendar-week",Method:"fa-credit-card",Reference:"fa-hashtag",Status:"fa-info-circle",Type:"fa-tag",Details:"fa-file-alt",ID:"fa-id-card","Invoice #":"fa-file-invoice"})[le]||null)(he);return t.jsxs("div",{className:"mobile-card-modal-row",children:[t.jsxs("div",{className:"mobile-card-modal-label",children:[$&&t.jsx("i",{className:`fas ${$}`,style:{marginRight:"6px",color:"#5a31ea",fontSize:"0.75rem"}}),he]}),t.jsx("div",{className:"mobile-card-modal-value",children:xe})]},`${he}-${P}`)})};if(r){const I=c!==null?U[c]:null;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mobile-table-cards",children:U.map((P,W)=>{const X=g(P,i)||"View Details",H=v(P,i),fe=j(P,i);return t.jsx("div",{className:`mobile-table-card ${H.borderClass}`,style:P._rowStyle||{},onClick:()=>l(W),children:t.jsx("div",{className:"mobile-table-card-header",children:t.jsxs("div",{className:"mobile-table-card-header-content",children:[t.jsxs("div",{className:"mobile-table-card-title-section",children:[t.jsx("div",{className:"mobile-table-card-title",children:X}),fe&&t.jsxs("div",{className:"mobile-table-card-metric",children:[fe.label==="Balance"&&t.jsx("i",{className:"fas fa-wallet",style:{fontSize:"0.75rem",marginRight:"4px",color:"#666"}}),fe.label==="Amount"&&t.jsx("i",{className:"fas fa-dollar-sign",style:{fontSize:"0.75rem",marginRight:"4px",color:"#666"}}),t.jsx("span",{children:fe.value})]})]}),t.jsxs("div",{className:"mobile-table-card-header-right",children:[H.status&&t.jsx("div",{className:"mobile-table-card-status",children:typeof H.statusValue=="object"&&H.statusValue!==null&&H.statusValue.render?H.statusValue.render():t.jsx("span",{className:li[H.status]||"badge",children:H.status})}),t.jsx("div",{className:"mobile-table-card-arrow",children:t.jsx("i",{className:"fa-solid fa-chevron-right"})})]})]})})},`mobile-row-${W}`)})}),c!==null&&I&&t.jsx("div",{className:"mobile-card-modal-overlay",onClick:()=>l(null),children:t.jsxs("div",{className:"mobile-card-modal",onClick:P=>P.stopPropagation(),children:[t.jsxs("div",{className:"mobile-card-modal-header",children:[t.jsxs("div",{className:"mobile-card-modal-title-section",children:[t.jsx("div",{className:"mobile-card-modal-title",children:g(I,i)||"Details"}),j(I,i)&&t.jsxs("div",{className:"mobile-card-modal-metric",children:[j(I,i).label==="Balance"&&t.jsx("i",{className:"fas fa-wallet",style:{fontSize:"0.75rem",marginRight:"4px",color:"#666"}}),j(I,i).label==="Amount"&&t.jsx("i",{className:"fas fa-dollar-sign",style:{fontSize:"0.75rem",marginRight:"4px",color:"#666"}}),t.jsx("span",{children:j(I,i).value})]})]}),t.jsx("button",{className:"mobile-card-modal-close",onClick:()=>l(null),"aria-label":"Close",children:t.jsx("i",{className:"fa-solid fa-times"})})]}),t.jsx("div",{className:"mobile-card-modal-content",children:E(I,c,i,()=>l(null))})]})})]})}return t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsx("tr",{children:i.map(I=>{const P=A(I),W=m.column===I,X=W?m.direction==="asc"?"":"":"";return t.jsx("th",{style:{textAlign:P,cursor:"pointer",whiteSpace:"nowrap"},onClick:()=>b(I),"aria-sort":W?m.direction==="asc"?"ascending":"descending":"none",children:t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px"},children:[t.jsx("span",{children:I}),t.jsx("span",{style:{fontSize:"0.7rem",opacity:.7},children:X})]})},I)})})}),t.jsx("tbody",{children:U.map((I,P)=>{let W=!1;const X=I.Status;if(X)if(typeof X=="object"&&X!==null&&X.render){const H=X.render();if(typeof H=="object"&&H?.props){const fe=H.props.className||"",he=H.props.children;W=fe.includes("badge-overdue")||fe.includes("badge-unpaid")||typeof he=="string"&&(he.toLowerCase().includes("overdue")||he.toLowerCase().includes("unpaid")||he.toLowerCase().includes("rejected"))}}else typeof X=="string"&&(W=X==="Overdue"||X==="Unpaid"||X==="Rejected"||li[X]?.includes("badge-overdue")||li[X]?.includes("badge-unpaid"));return t.jsx("tr",{style:{...I._rowStyle||{},background:W?"#fef2f2":void 0},children:i.map(H=>{const fe=I[H],he=A(H);if(typeof fe=="object"&&fe!==null&&fe.render){const ge=fe.render();return t.jsx("td",{"data-label":H,style:{textAlign:he,verticalAlign:"middle"},children:ge},`${H}-render-${P}`)}const Ee=typeof fe=="string"&&li[fe]&&H==="Status";return t.jsx("td",{"data-label":H,style:{textAlign:he,verticalAlign:"middle"},children:Ee?t.jsx("span",{className:li[fe],children:fe}):fe},`${H}-${P}`)})},`${I.id??P}-${P}`)})})]})}function dc({currentPage:i,totalPages:a,onPageChange:r,pageSize:o,onPageSizeChange:c,totalItems:l,pageSizeOptions:m=[5,10,20,50,100]}){if(a<=1&&o>=l)return null;const p=(i-1)*o+1,g=Math.min(i*o,l);return t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"16px",padding:"16px",borderTop:"1px solid #e0e0e0",background:"#f9fafb"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:[t.jsxs("span",{style:{fontSize:"0.875rem",color:"#666"},children:["Showing ",p," to ",g," of ",l," items"]}),t.jsxs("label",{style:{fontSize:"0.875rem",color:"#666",display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap"},children:[t.jsx("span",{children:"Items per page:"}),t.jsx("select",{value:o,onChange:v=>{c(Number(v.target.value)),r(1)},style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #e0e0e0",fontSize:"0.875rem",background:"#fff",cursor:"pointer",minWidth:"70px"},children:m.map(v=>t.jsx("option",{value:v,children:v},v))})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("button",{onClick:()=>r(1),disabled:i===1,style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #e0e0e0",background:i===1?"#f5f5f5":"#fff",cursor:i===1?"not-allowed":"pointer",fontSize:"0.875rem",color:i===1?"#999":"#333",opacity:i===1?.5:1},children:" First"}),t.jsx("button",{onClick:()=>r(i-1),disabled:i===1,style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #e0e0e0",background:i===1?"#f5f5f5":"#fff",cursor:i===1?"not-allowed":"pointer",fontSize:"0.875rem",color:i===1?"#999":"#333",opacity:i===1?.5:1},children:" Prev"}),t.jsxs("span",{style:{fontSize:"0.875rem",color:"#666",padding:"0 8px"},children:["Page ",i," of ",a]}),t.jsx("button",{onClick:()=>r(i+1),disabled:i===a,style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #e0e0e0",background:i===a?"#f5f5f5":"#fff",cursor:i===a?"not-allowed":"pointer",fontSize:"0.875rem",color:i===a?"#999":"#333",opacity:i===a?.5:1},children:"Next "}),t.jsx("button",{onClick:()=>r(a),disabled:i===a,style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #e0e0e0",background:i===a?"#f5f5f5":"#fff",cursor:i===a?"not-allowed":"pointer",fontSize:"0.875rem",color:i===a?"#999":"#333",opacity:i===a?.5:1},children:"Last "})]})]})}function _1({text:i,children:a,position:r="top",delay:o=200}){const[c,l]=Q.useState(!1),[m,p]=Q.useState({top:0,left:0}),g=Q.useRef(null),v=Q.useRef(null),j=Q.useRef(null);Q.useEffect(()=>()=>{j.current&&clearTimeout(j.current)},[]);const A=()=>{if(!v.current||!g.current)return;const U=v.current.getBoundingClientRect(),E=g.current.getBoundingClientRect(),I=8;let P=0,W=0;switch(r){case"top":P=U.top-E.height-I,W=U.left+U.width/2-E.width/2;break;case"bottom":P=U.bottom+I,W=U.left+U.width/2-E.width/2;break;case"left":P=U.top+U.height/2-E.height/2,W=U.left-E.width-I;break;case"right":P=U.top+U.height/2-E.height/2,W=U.right+I;break;default:P=U.top-E.height-I,W=U.left+U.width/2-E.width/2}const X=window.innerWidth,H=window.innerHeight;W<8&&(W=8),W+E.width>X-8&&(W=X-E.width-8),P<8&&(P=8),P+E.height>H-8&&(P=H-E.height-8),p({top:P,left:W})},M=()=>{j.current=setTimeout(()=>{l(!0),setTimeout(()=>{A()},10)},o)},b=()=>{j.current&&clearTimeout(j.current),l(!1)};return i?t.jsxs("span",{ref:v,className:"tooltip-trigger",onMouseEnter:M,onMouseLeave:b,style:{display:"inline-block",position:"relative"},children:[a,c&&t.jsxs("div",{ref:g,className:`tooltip tooltip--${r}`,style:{top:`${m.top}px`,left:`${m.left}px`},children:[t.jsx("div",{className:"tooltip-content",children:i}),t.jsx("div",{className:`tooltip-arrow tooltip-arrow--${r}`})]})]}):a}const Td=[{code:"HK",name:"Hong Kong",dialCode:"+852",flag:"",minLength:8,maxLength:8},{code:"CN",name:"China",dialCode:"+86",flag:"",minLength:11,maxLength:11},{code:"US",name:"United States",dialCode:"+1",flag:"",minLength:10,maxLength:10},{code:"GB",name:"United Kingdom",dialCode:"+44",flag:"",minLength:10,maxLength:10},{code:"IN",name:"India",dialCode:"+91",flag:"",minLength:10,maxLength:10},{code:"SG",name:"Singapore",dialCode:"+65",flag:"",minLength:8,maxLength:8},{code:"MY",name:"Malaysia",dialCode:"+60",flag:"",minLength:9,maxLength:10},{code:"TH",name:"Thailand",dialCode:"+66",flag:"",minLength:9,maxLength:9},{code:"PH",name:"Philippines",dialCode:"+63",flag:"",minLength:10,maxLength:10},{code:"ID",name:"Indonesia",dialCode:"+62",flag:"",minLength:9,maxLength:12},{code:"AU",name:"Australia",dialCode:"+61",flag:"",minLength:9,maxLength:9},{code:"NZ",name:"New Zealand",dialCode:"+64",flag:"",minLength:8,maxLength:10},{code:"JP",name:"Japan",dialCode:"+81",flag:"",minLength:10,maxLength:11},{code:"KR",name:"South Korea",dialCode:"+82",flag:"",minLength:9,maxLength:11},{code:"TW",name:"Taiwan",dialCode:"+886",flag:"",minLength:9,maxLength:9},{code:"VN",name:"Vietnam",dialCode:"+84",flag:"",minLength:9,maxLength:10},{code:"CA",name:"Canada",dialCode:"+1",flag:"",minLength:10,maxLength:10},{code:"DE",name:"Germany",dialCode:"+49",flag:"",minLength:10,maxLength:11},{code:"FR",name:"France",dialCode:"+33",flag:"",minLength:9,maxLength:9},{code:"IT",name:"Italy",dialCode:"+39",flag:"",minLength:9,maxLength:10},{code:"ES",name:"Spain",dialCode:"+34",flag:"",minLength:9,maxLength:9},{code:"NL",name:"Netherlands",dialCode:"+31",flag:"",minLength:9,maxLength:9},{code:"BE",name:"Belgium",dialCode:"+32",flag:"",minLength:9,maxLength:9},{code:"CH",name:"Switzerland",dialCode:"+41",flag:"",minLength:9,maxLength:9},{code:"AT",name:"Austria",dialCode:"+43",flag:"",minLength:10,maxLength:13},{code:"SE",name:"Sweden",dialCode:"+46",flag:"",minLength:9,maxLength:9},{code:"NO",name:"Norway",dialCode:"+47",flag:"",minLength:8,maxLength:8},{code:"DK",name:"Denmark",dialCode:"+45",flag:"",minLength:8,maxLength:8},{code:"FI",name:"Finland",dialCode:"+358",flag:"",minLength:9,maxLength:10},{code:"PL",name:"Poland",dialCode:"+48",flag:"",minLength:9,maxLength:9},{code:"BR",name:"Brazil",dialCode:"+55",flag:"",minLength:10,maxLength:11},{code:"MX",name:"Mexico",dialCode:"+52",flag:"",minLength:10,maxLength:10},{code:"AR",name:"Argentina",dialCode:"+54",flag:"",minLength:10,maxLength:10},{code:"ZA",name:"South Africa",dialCode:"+27",flag:"",minLength:9,maxLength:9},{code:"AE",name:"UAE",dialCode:"+971",flag:"",minLength:9,maxLength:9},{code:"SA",name:"Saudi Arabia",dialCode:"+966",flag:"",minLength:9,maxLength:9},{code:"IL",name:"Israel",dialCode:"+972",flag:"",minLength:9,maxLength:9},{code:"TR",name:"Turkey",dialCode:"+90",flag:"",minLength:10,maxLength:10},{code:"RU",name:"Russia",dialCode:"+7",flag:"",minLength:10,maxLength:10},{code:"EG",name:"Egypt",dialCode:"+20",flag:"",minLength:10,maxLength:10},{code:"NG",name:"Nigeria",dialCode:"+234",flag:"",minLength:10,maxLength:10},{code:"KE",name:"Kenya",dialCode:"+254",flag:"",minLength:9,maxLength:9}],cp=i=>{if(!i)return{country:Td[0],number:""};const a=i.replace(/[^\d+]/g,"");for(const r of Td)if(a.startsWith(r.dialCode)){const o=a.substring(r.dialCode.length);return{country:r,number:o}}return{country:Td[0],number:a.replace(/[^\d]/g,"")}},Vc=({value:i="",onChange:a,onBlur:r,required:o=!1,placeholder:c="Enter phone number",className:l="",style:m={},error:p=null,label:g=null,id:v=null,"aria-invalid":j=!1,onError:A=null})=>{const M=cp(i),[b,U]=Q.useState(M.country),[E,I]=Q.useState(M.number),[P,W]=Q.useState(!1),[X,H]=Q.useState(""),fe=Q.useRef(null),he=Q.useRef(null);Q.useEffect(()=>{const ie=cp(i);U(ie.country),I(ie.number)},[i]),Q.useEffect(()=>{const ie=we=>{fe.current&&!fe.current.contains(we.target)&&(W(!1),H(""))};return document.addEventListener("mousedown",ie),()=>document.removeEventListener("mousedown",ie)},[]);const Ee=Td.filter(ie=>{const we=X.toLowerCase().trim();return!!(!we||ie.name.toLowerCase().includes(we)||ie.dialCode.includes(X)||ie.code.toLowerCase().includes(we))}),ge=ie=>{U(ie),W(!1),H("");const we=E?`${ie.dialCode}${E}`:"";a?.({target:{value:we}}),setTimeout(()=>he.current?.focus(),0)},ee=ie=>{const _e=ie.target.value.replace(/\D/g,"");I(_e);const Ie=_e?`${b.dialCode}${_e}`:"";a?.({target:{value:Ie}})},xe=(ie=!0)=>E?E.replace(/\D/g,"").length<b.minLength?`Phone number must be at least ${b.minLength} digits for ${b.name}`:null:ie&&o?"Phone number is required":null,z=xe(!0),$=z||l&&l.includes("admin-phone-input-error"),le=ie=>{const we=xe(!1);we&&A&&A(we),r&&r(ie)};return t.jsxs("div",{className:"phone-input-container",children:[g&&t.jsx("div",{className:"phone-input-label-wrapper",children:typeof g=="string"?t.jsx("span",{className:"phone-input-label-text",children:g}):g}),t.jsxs("div",{className:"phone-input-wrapper",children:[t.jsxs("div",{className:"phone-input-country-selector",ref:fe,children:[t.jsxs("button",{type:"button",onClick:()=>W(!P),className:`phone-input-country-button ${$?"phone-input-country-button-error":""}`,children:[t.jsx("span",{className:`fi fi-${b.code.toLowerCase()} phone-input-country-flag`}),t.jsx("span",{className:"phone-input-country-code",children:b.dialCode}),t.jsx("i",{className:`fas fa-chevron-down phone-input-country-chevron ${P?"phone-input-country-chevron-open":""}`})]}),P&&t.jsxs("div",{className:"phone-input-country-dropdown",children:[t.jsx("div",{className:"phone-input-country-search",children:t.jsx("input",{type:"text",placeholder:"Search by name or code...",value:X,onChange:ie=>H(ie.target.value),className:"phone-input-country-search-input",autoFocus:!0})}),t.jsx("div",{className:"phone-input-country-list",children:Ee.length===0?t.jsx("div",{className:"phone-input-country-empty",children:"No countries found"}):Ee.map(ie=>t.jsxs("button",{type:"button",onClick:()=>ge(ie),className:`phone-input-country-item ${b.code===ie.code?"phone-input-country-item-selected":""}`,children:[t.jsx("span",{className:`fi fi-${ie.code.toLowerCase()} phone-input-country-item-flag`}),t.jsx("span",{className:"phone-input-country-item-name",children:ie.name}),t.jsx("span",{className:"phone-input-country-item-code",children:ie.dialCode})]},ie.code))})]})]}),t.jsx("input",{ref:he,id:v,type:"tel",inputMode:"numeric",required:o,value:E,onChange:ee,onBlur:le,placeholder:c,className:`phone-input-field ${l||""} ${$?"phone-input-field-error":""}`,"aria-invalid":j||!!z,onInvalid:ie=>ie.preventDefault()})]})]})},Tm=Q.createContext();function I1({children:i}){const[a,r]=Q.useState([]),[o,c]=Q.useState([]),[l,m]=Q.useState([]),[p,g]=Q.useState([]),[v,j]=Q.useState([]),[A,M]=Q.useState(!0),[b,U]=Q.useState(()=>{const se=localStorage.getItem("recentPayments");return se?JSON.parse(se):ip}),[E,I]=Q.useState(()=>{const se=localStorage.getItem("paymentHistory");return se?JSON.parse(se):sp}),[P,W]=Q.useState(()=>{const se=localStorage.getItem("communicationLog");return se?JSON.parse(se):op}),[X,H]=Q.useState([]),[fe,he]=Q.useState(lp),[Ee,ge]=Q.useState(()=>{const se=localStorage.getItem("metrics");return se?JSON.parse(se):ap}),[ee,xe]=Q.useState(()=>{try{const se=localStorage.getItem("reminderRules");return se?JSON.parse(se):zu}catch{return zu}}),[z,$]=Q.useState(!0),[le,ie]=Q.useState(()=>{const se=localStorage.getItem("reminderTemplates");return se?JSON.parse(se):{upcomingDue:"Hi {{member_name}}, friendly reminder your {{period}} subscription of ${{amount}} is due on {{due_date}}. You can pay via FPS, PayMe, or card. Thank you!",overdue:"Hi {{member_name}}, your {{period}} contribution of ${{amount}} is now overdue. Please settle via the member portal or reply once paid."}}),[we,_e]=Q.useState(()=>{const se=localStorage.getItem("organizationInfo");return se?JSON.parse(se):{name:"Subscription Manager HK",email:"support@subscriptionhk.org",phone:"+852 2800 1122",address:"123 Central Street, Hong Kong"}}),[Ie,pe]=Q.useState(()=>{try{const se=localStorage.getItem("userLocale");return se||navigator.language||navigator.userLanguage||"en-US"}catch(se){return console.error("Error getting user locale:",se),"en-US"}}),Pe=se=>{try{localStorage.setItem("userLocale",se),pe(se),window.dispatchEvent(new CustomEvent("localeChanged",{detail:{locale:se}}))}catch(ke){console.error("Error setting user locale:",ke)}},[Ue,te]=Q.useState(null),C="http://localhost:4000",K=async()=>{try{const se=await fetch(`${C}/api/members`);if(!se.ok)throw new Error("Failed to fetch members");const ke=await se.json();r(ke),console.log(" Loaded",ke.length,"members from server")}catch(se){throw console.error("Error fetching members:",se),r([]),se}},Z=async()=>{try{const se=await fetch(`${C}/api/admins`);if(!se.ok)throw new Error("Failed to fetch admins");const ke=await se.json();c(ke),console.log(" Loaded",ke.length,"Admins from server")}catch(se){throw console.error("Error fetching Admins:",se),c([]),se}},de=async()=>{try{const se=await fetch(`${C}/api/invoices`);if(!se.ok)throw new Error("Failed to fetch invoices");const ke=await se.json();m(ke),console.log(" Loaded",ke.length,"invoices from MongoDB")}catch(se){throw console.error("Error fetching invoices:",se),m([]),se}},ce=async()=>{try{const se=await fetch(`${C}/api/payments`);if(!se.ok)throw new Error("Failed to fetch payments");const ke=await se.json();g(ke),I(ke),U(ke.slice(0,10)),console.log(" Loaded",ke.length,"payments from MongoDB")}catch(se){throw console.error("Error fetching payments:",se),g([]),I([]),U([]),se}},be=async()=>{try{const se=await fetch(`${C}/api/donations`);if(!se.ok)throw new Error("Failed to fetch donations");const ke=await se.json();j(ke),console.log(" Loaded",ke.length,"donations from MongoDB")}catch(se){console.error("Error fetching donations:",se),j([])}},Me=async()=>{try{const se=await fetch(`${C}/api/payment-methods`);if(!se.ok)throw new Error("Failed to fetch payment methods");const ke=await se.json();if(ke.length===0){console.log(" No payment methods in database, initializing defaults...");const Xe=[{name:"Alipay",visible:!1,qrImageUrl:"",details:[]},{name:"PayMe",visible:!1,qrImageUrl:"",details:[]},{name:"FPS",visible:!0,details:["FPS ID 1234567"]},{name:"Direct Bank Transfer",visible:!0,details:["HSBC Hong Kong","123-456789-001","Subscription Manager HK"]},{name:"Credit/Debit Cards",visible:!0,details:["Gateway: Stripe"]}];for(const ht of Xe)try{await fetch(`${C}/api/payment-methods`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ht)})}catch(Ve){console.error(`Error initializing payment method ${ht.name}:`,Ve)}he(Xe),console.log(" Initialized default payment methods in database")}else he(ke),console.log(" Loaded",ke.length,"payment methods from MongoDB")}catch(se){throw console.error("Error fetching payment methods:",se),he([]),se}},Fe=async()=>{try{const se=await fetch(`${C}/api/reminders/logs`);if(!se.ok)throw new Error("Failed to fetch reminder logs");const ke=await se.json();H(ke),console.log(" Loaded",ke.length,"reminder logs from MongoDB")}catch(se){console.error("Error fetching reminder logs:",se),H([])}};Q.useEffect(()=>{(async()=>{try{const ke=Promise.allSettled([K(),Z(),de()]),Xe=Promise.allSettled([ce(),be(),Me(),Fe()]);await Promise.allSettled([ke,Xe]),M(!1)}catch(ke){console.error("Error fetching initial data:",ke),M(!1)}})()},[]),Q.useEffect(()=>{localStorage.setItem("recentPayments",JSON.stringify(b))},[b]),Q.useEffect(()=>{localStorage.setItem("paymentHistory",JSON.stringify(E))},[E]),Q.useEffect(()=>{localStorage.setItem("communicationLog",JSON.stringify(P))},[P]),Q.useEffect(()=>{localStorage.setItem("metrics",JSON.stringify(Ee))},[Ee]),Q.useEffect(()=>{localStorage.setItem("reminderRules",JSON.stringify(ee))},[ee]),Q.useEffect(()=>{localStorage.setItem("reminderTemplates",JSON.stringify(le))},[le]),Q.useEffect(()=>{localStorage.setItem("organizationInfo",JSON.stringify(we))},[we]),Q.useEffect(()=>{},[]);const $e=async se=>{try{const ke=await fetch(`${C}/api/members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});if(!ke.ok)throw new Error("Failed to add member");const Xe=await ke.json();return r([...a,Xe]),Ke({totalMembers:Ee.totalMembers+1}),console.log(" Member added to server:",Xe),Xe}catch(ke){throw console.error("Error adding member:",ke),ke}},De=async(se,ke)=>{try{const Xe=await fetch(`${C}/api/members/${se}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ke)});if(!Xe.ok)throw new Error("Failed to update member");const ht=await Xe.json();r(a.map(Ve=>Ve.id===se?ht:Ve)),console.log(" Member updated on server:",ht)}catch(Xe){throw console.error("Error updating member:",Xe),Xe}},at=async se=>{try{if(!(await fetch(`${C}/api/members/${se}`,{method:"DELETE"})).ok)throw new Error("Failed to delete member");r(a.filter(Xe=>Xe.id!==se)),m(l.filter(Xe=>Xe.memberId!==se)),Ke({totalMembers:Ee.totalMembers-1}),console.log(" Member deleted from server:",se)}catch(ke){throw console.error("Error deleting member:",ke),ke}},ot=async se=>{try{const ke=await fetch(`${C}/api/invoices`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});if(!ke.ok)throw new Error("Failed to add invoice");const Xe=await ke.json();return m([Xe,...l]),console.log(" Invoice added to server:",Xe),Xe}catch(ke){throw console.error("Error adding invoice:",ke),ke}},gt=async(se,ke)=>{try{const Xe=await fetch(`${C}/api/invoices/${se}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ke)});if(!Xe.ok)throw new Error("Failed to update invoice");const ht=await Xe.json();if(m(l.map(Ve=>Ve.id===se?ht:Ve)),ke.status==="Paid"){const Ve=l.find(ft=>ft.id===se);if(Ve&&Ve.status!=="Paid"){const ft=parseFloat(Ve.amount.replace("$",""));Ke({collectedMonth:Ee.collectedMonth+ft,collectedYear:Ee.collectedYear+ft,outstanding:Ee.outstanding-ft})}}console.log(" Invoice updated on server:",ht)}catch(Xe){throw console.error("Error updating invoice:",Xe),Xe}},Y=async se=>{try{if(!(await fetch(`${C}/api/invoices/${se}`,{method:"DELETE"})).ok)throw new Error("Failed to delete invoice");m(l.filter(Xe=>Xe.id!==se)),console.log(" Invoice deleted from server:",se)}catch(ke){throw console.error("Error deleting invoice:",ke),ke}},nt=async se=>{try{const ke={...se,date:se.date||new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})},Xe=await fetch(`${C}/api/payments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ke)});if(!Xe.ok){const ft=await Xe.json().catch(()=>({}));throw new Error(ft.error||"Failed to save payment")}const ht=await Xe.json();g([ht,...p]),U([ht,...b]),I([ht,...E]),se.invoiceId&&await gt(se.invoiceId,{status:"Paid",method:se.method,reference:se.reference,screenshot:se.screenshot||se.screenshotUrl,paidToAdmin:se.paidToAdmin,paidToAdminName:se.paidToAdminName});const Ve=parseFloat(se.amount.replace("$",""));return Ke({collectedMonth:Ee.collectedMonth+Ve,collectedYear:Ee.collectedYear+Ve,outstanding:Math.max(0,Ee.outstanding-Ve)}),console.log(" Payment saved to MongoDB:",ht),ht}catch(ke){console.error("Error adding payment:",ke);const Xe={...se,date:se.date||new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})};throw U([Xe,...b]),I([Xe,...E]),ke}},It=se=>{const ke={...se,date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Delivered"};return W([ke,...P]),ke},wt=async(se,ke)=>{try{const Xe=await fetch(`${C}/api/payment-methods/${se}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ke)});if(!Xe.ok)throw new Error("Failed to update payment method");const ht=await Xe.json();return he(fe.map(Ve=>Ve.name===se?ht:Ve)),console.log(" Payment method updated in database:",ht),ht}catch(Xe){throw console.error("Error updating payment method:",Xe),he(fe.map(ht=>ht.name===se?{...ht,...ke}:ht)),Xe}},Ke=se=>{ge({...Ee,...se})},ze={members:a,invoices:l,payments:p,donations:v,loading:A,fetchMembers:K,fetchAdmins:Z,fetchInvoices:de,fetchPayments:ce,fetchDonations:be,fetchPaymentMethods:Me,fetchReminderLogs:Fe,recentPayments:b,paymentHistory:E,communicationLog:P,reminderLogs:X,paymentMethods:fe,metrics:Ee,reminderRules:ee,automationEnabled:z,setAutomationEnabled:$,reminderTemplates:le,organizationInfo:we,admins:o,selectedMember:Ue,setSelectedMember:te,addMember:$e,updateMember:De,deleteMember:at,addInvoice:ot,updateInvoice:gt,deleteInvoice:Y,addPayment:nt,addDonation:async se=>{try{const ke=await fetch(`${C}/api/donations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});if(!ke.ok){const ht=await ke.json().catch(()=>({}));throw new Error(ht.error||"Failed to add donation")}const Xe=await ke.json();return j([Xe,...v]),console.log(" Donation added to server:",Xe),Xe}catch(ke){throw console.error("Error adding donation:",ke),ke}},deleteDonation:async se=>{try{const ke=await fetch(`${C}/api/donations/${se}`,{method:"DELETE"});if(!ke.ok){const Xe=await ke.json().catch(()=>({}));throw new Error(Xe.error||"Failed to delete donation")}j(v.filter(Xe=>Xe._id!==se)),console.log(" Donation deleted from server:",se)}catch(ke){throw console.error("Error deleting donation:",ke),ke}},addCommunication:It,updatePaymentMethod:wt,updateMetrics:Ke,updateReminderRule:(se,ke)=>{xe(ee.map(Xe=>Xe.label===se?{...Xe,channels:ke}:Xe))},updateReminderTemplate:(se,ke)=>{ie({...le,[se]:ke})},updateOrganizationInfo:se=>{_e({...we,...se})},userLocale:Ie,updateUserLocale:Pe,addAdminUser:async se=>{try{const ke=await fetch(`${C}/api/admins`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:se.name,email:se.email||"",role:se.role||"Viewer",status:se.status||"Active",password:se.password||""})});if(!ke.ok){const ht=await ke.json().catch(()=>({}));throw new Error(ht.message||"Failed to create admin")}const Xe=await ke.json();return c([...o,Xe]),await Z(),Xe}catch(ke){throw console.error("Error adding admin:",ke),ke}},updateAdminUser:async(se,ke)=>{try{const Xe=await fetch(`${C}/api/admins/${se}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ke)});if(!Xe.ok){const Ve=await Xe.json().catch(()=>({}));throw new Error(Ve.message||"Failed to update admin")}const ht=await Xe.json();return c(o.map(Ve=>Ve.id===se?ht:Ve)),await Z(),ht}catch(Xe){throw console.error("Error updating admin:",Xe),Xe}},deleteAdminUser:async se=>{try{const ke=await fetch(`${C}/api/admins/${se}`,{method:"DELETE"});if(!ke.ok){const Xe=await ke.json().catch(()=>({}));throw new Error(Xe.message||"Failed to delete admin")}c(o.filter(Xe=>Xe.id!==se)),await Z()}catch(ke){throw console.error("Error deleting admin:",ke),ke}},resetAllData:()=>{localStorage.clear(),r(S1),c(N1),m(k1),U(ip),I(sp),W(op),he(lp),ge(ap),xe(zu),$(!0),localStorage.setItem("dataVersion","v2.0")}};return t.jsx(Tm.Provider,{value:ze,children:i})}function Qd(){const i=Q.useContext(Tm);if(!i)throw new Error("useApp must be used within AppProvider");return i}function Om(i=15){const a=ho(),r=Q.useRef(null),o=Q.useRef(Date.now()),c=()=>{o.current=Date.now(),r.current&&clearTimeout(r.current);const l=i*60*1e3;r.current=setTimeout(()=>{sessionStorage.clear(),sessionStorage.setItem("logoutReason","inactivity"),a("/login",{replace:!0})},l)};Q.useEffect(()=>{const l=["mousedown","mousemove","keypress","scroll","touchstart","click","keydown"],m=()=>{c()};return c(),l.forEach(p=>{document.addEventListener(p,m,!0)}),()=>{l.forEach(p=>{document.removeEventListener(p,m,!0)}),r.current&&clearTimeout(r.current)}},[a,i])}const E1="modulepreload",M1=function(i){return"/"+i},dp={},Uu=function(a,r,o){let c=Promise.resolve();if(r&&r.length>0){let g=function(v){return Promise.all(v.map(j=>Promise.resolve(j).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");c=g(r.map(v=>{if(v=M1(v),v in dp)return;dp[v]=!0;const j=v.endsWith(".css"),A=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${A}`))return;const M=document.createElement("link");if(M.rel=j?"stylesheet":E1,j||(M.as="script"),M.crossOrigin="",M.href=v,p&&M.setAttribute("nonce",p),document.head.appendChild(M),j)return new Promise((b,U)=>{M.addEventListener("load",b),M.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return c.then(m=>{for(const p of m||[])p.status==="rejected"&&l(p.reason);return a().catch(l)})};function tr(i){"@babel/helpers - typeof";return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},tr(i)}var fo=Uint8Array,js=Uint16Array,Ef=Int32Array,Mf=new fo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Df=new fo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),up=new fo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Bm=function(i,a){for(var r=new js(31),o=0;o<31;++o)r[o]=a+=1<<i[o-1];for(var c=new Ef(r[30]),o=1;o<30;++o)for(var l=r[o];l<r[o+1];++l)c[l]=l-r[o]<<5|o;return{b:r,r:c}},zm=Bm(Mf,2),D1=zm.b,pf=zm.r;D1[28]=258,pf[258]=28;var F1=Bm(Df,0),fp=F1.r,mf=new js(32768);for(var Lr=0;Lr<32768;++Lr){var hl=(Lr&43690)>>1|(Lr&21845)<<1;hl=(hl&52428)>>2|(hl&13107)<<2,hl=(hl&61680)>>4|(hl&3855)<<4,mf[Lr]=((hl&65280)>>8|(hl&255)<<8)>>1}var qc=(function(i,a,r){for(var o=i.length,c=0,l=new js(a);c<o;++c)i[c]&&++l[i[c]-1];var m=new js(a);for(c=1;c<a;++c)m[c]=m[c-1]+l[c-1]<<1;var p;if(r){p=new js(1<<a);var g=15-a;for(c=0;c<o;++c)if(i[c])for(var v=c<<4|i[c],j=a-i[c],A=m[i[c]-1]++<<j,M=A|(1<<j)-1;A<=M;++A)p[mf[A]>>g]=v}else for(p=new js(o),c=0;c<o;++c)i[c]&&(p[c]=mf[m[i[c]-1]++]>>15-i[c]);return p}),Ul=new fo(288);for(var Lr=0;Lr<144;++Lr)Ul[Lr]=8;for(var Lr=144;Lr<256;++Lr)Ul[Lr]=9;for(var Lr=256;Lr<280;++Lr)Ul[Lr]=7;for(var Lr=280;Lr<288;++Lr)Ul[Lr]=8;var Vd=new fo(32);for(var Lr=0;Lr<32;++Lr)Vd[Lr]=5;var R1=qc(Ul,9,0),T1=qc(Vd,5,0),Um=function(i){return(i+7)/8|0},O1=function(i,a,r){return(r==null||r>i.length)&&(r=i.length),new fo(i.subarray(a,r))},Vo=function(i,a,r){r<<=a&7;var o=a/8|0;i[o]|=r,i[o+1]|=r>>8},zc=function(i,a,r){r<<=a&7;var o=a/8|0;i[o]|=r,i[o+1]|=r>>8,i[o+2]|=r>>16},qu=function(i,a){for(var r=[],o=0;o<i.length;++o)i[o]&&r.push({s:o,f:i[o]});var c=r.length,l=r.slice();if(!c)return{t:$m,l:0};if(c==1){var m=new fo(r[0].s+1);return m[r[0].s]=1,{t:m,l:1}}r.sort(function(fe,he){return fe.f-he.f}),r.push({s:-1,f:25001});var p=r[0],g=r[1],v=0,j=1,A=2;for(r[0]={s:-1,f:p.f+g.f,l:p,r:g};j!=c-1;)p=r[r[v].f<r[A].f?v++:A++],g=r[v!=j&&r[v].f<r[A].f?v++:A++],r[j++]={s:-1,f:p.f+g.f,l:p,r:g};for(var M=l[0].s,o=1;o<c;++o)l[o].s>M&&(M=l[o].s);var b=new js(M+1),U=gf(r[j-1],b,0);if(U>a){var o=0,E=0,I=U-a,P=1<<I;for(l.sort(function(he,Ee){return b[Ee.s]-b[he.s]||he.f-Ee.f});o<c;++o){var W=l[o].s;if(b[W]>a)E+=P-(1<<U-b[W]),b[W]=a;else break}for(E>>=I;E>0;){var X=l[o].s;b[X]<a?E-=1<<a-b[X]++-1:++o}for(;o>=0&&E;--o){var H=l[o].s;b[H]==a&&(--b[H],++E)}U=a}return{t:new fo(b),l:U}},gf=function(i,a,r){return i.s==-1?Math.max(gf(i.l,a,r+1),gf(i.r,a,r+1)):a[i.s]=r},hp=function(i){for(var a=i.length;a&&!i[--a];);for(var r=new js(++a),o=0,c=i[0],l=1,m=function(g){r[o++]=g},p=1;p<=a;++p)if(i[p]==c&&p!=a)++l;else{if(!c&&l>2){for(;l>138;l-=138)m(32754);l>2&&(m(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(m(c),--l;l>6;l-=6)m(8304);l>2&&(m(l-3<<5|8208),l=0)}for(;l--;)m(c);l=1,c=i[p]}return{c:r.subarray(0,o),n:a}},Uc=function(i,a){for(var r=0,o=0;o<a.length;++o)r+=i[o]*a[o];return r},qm=function(i,a,r){var o=r.length,c=Um(a+2);i[c]=o&255,i[c+1]=o>>8,i[c+2]=i[c]^255,i[c+3]=i[c+1]^255;for(var l=0;l<o;++l)i[c+l+4]=r[l];return(c+4+o)*8},pp=function(i,a,r,o,c,l,m,p,g,v,j){Vo(a,j++,r),++c[256];for(var A=qu(c,15),M=A.t,b=A.l,U=qu(l,15),E=U.t,I=U.l,P=hp(M),W=P.c,X=P.n,H=hp(E),fe=H.c,he=H.n,Ee=new js(19),ge=0;ge<W.length;++ge)++Ee[W[ge]&31];for(var ge=0;ge<fe.length;++ge)++Ee[fe[ge]&31];for(var ee=qu(Ee,7),xe=ee.t,z=ee.l,$=19;$>4&&!xe[up[$-1]];--$);var le=v+5<<3,ie=Uc(c,Ul)+Uc(l,Vd)+m,we=Uc(c,M)+Uc(l,E)+m+14+3*$+Uc(Ee,xe)+2*Ee[16]+3*Ee[17]+7*Ee[18];if(g>=0&&le<=ie&&le<=we)return qm(a,j,i.subarray(g,g+v));var _e,Ie,pe,Pe;if(Vo(a,j,1+(we<ie)),j+=2,we<ie){_e=qc(M,b,0),Ie=M,pe=qc(E,I,0),Pe=E;var Ue=qc(xe,z,0);Vo(a,j,X-257),Vo(a,j+5,he-1),Vo(a,j+10,$-4),j+=14;for(var ge=0;ge<$;++ge)Vo(a,j+3*ge,xe[up[ge]]);j+=3*$;for(var te=[W,fe],C=0;C<2;++C)for(var K=te[C],ge=0;ge<K.length;++ge){var Z=K[ge]&31;Vo(a,j,Ue[Z]),j+=xe[Z],Z>15&&(Vo(a,j,K[ge]>>5&127),j+=K[ge]>>12)}}else _e=R1,Ie=Ul,pe=T1,Pe=Vd;for(var ge=0;ge<p;++ge){var de=o[ge];if(de>255){var Z=de>>18&31;zc(a,j,_e[Z+257]),j+=Ie[Z+257],Z>7&&(Vo(a,j,de>>23&31),j+=Mf[Z]);var ce=de&31;zc(a,j,pe[ce]),j+=Pe[ce],ce>3&&(zc(a,j,de>>5&8191),j+=Df[ce])}else zc(a,j,_e[de]),j+=Ie[de]}return zc(a,j,_e[256]),j+Ie[256]},B1=new Ef([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$m=new fo(0),z1=function(i,a,r,o,c,l){var m=l.z||i.length,p=new fo(o+m+5*(1+Math.ceil(m/7e3))+c),g=p.subarray(o,p.length-c),v=l.l,j=(l.r||0)&7;if(a){j&&(g[0]=l.r>>3);for(var A=B1[a-1],M=A>>13,b=A&8191,U=(1<<r)-1,E=l.p||new js(32768),I=l.h||new js(U+1),P=Math.ceil(r/3),W=2*P,X=function(gt){return(i[gt]^i[gt+1]<<P^i[gt+2]<<W)&U},H=new Ef(25e3),fe=new js(288),he=new js(32),Ee=0,ge=0,ee=l.i||0,xe=0,z=l.w||0,$=0;ee+2<m;++ee){var le=X(ee),ie=ee&32767,we=I[le];if(E[ie]=we,I[le]=ie,z<=ee){var _e=m-ee;if((Ee>7e3||xe>24576)&&(_e>423||!v)){j=pp(i,g,0,H,fe,he,ge,xe,$,ee-$,j),xe=Ee=ge=0,$=ee;for(var Ie=0;Ie<286;++Ie)fe[Ie]=0;for(var Ie=0;Ie<30;++Ie)he[Ie]=0}var pe=2,Pe=0,Ue=b,te=ie-we&32767;if(_e>2&&le==X(ee-te))for(var C=Math.min(M,_e)-1,K=Math.min(32767,ee),Z=Math.min(258,_e);te<=K&&--Ue&&ie!=we;){if(i[ee+pe]==i[ee+pe-te]){for(var de=0;de<Z&&i[ee+de]==i[ee+de-te];++de);if(de>pe){if(pe=de,Pe=te,de>C)break;for(var ce=Math.min(te,de-2),be=0,Ie=0;Ie<ce;++Ie){var Me=ee-te+Ie&32767,Fe=E[Me],$e=Me-Fe&32767;$e>be&&(be=$e,we=Me)}}}ie=we,we=E[ie],te+=ie-we&32767}if(Pe){H[xe++]=268435456|pf[pe]<<18|fp[Pe];var De=pf[pe]&31,at=fp[Pe]&31;ge+=Mf[De]+Df[at],++fe[257+De],++he[at],z=ee+pe,++Ee}else H[xe++]=i[ee],++fe[i[ee]]}}for(ee=Math.max(ee,z);ee<m;++ee)H[xe++]=i[ee],++fe[i[ee]];j=pp(i,g,v,H,fe,he,ge,xe,$,ee-$,j),v||(l.r=j&7|g[j/8|0]<<3,j-=7,l.h=I,l.p=E,l.i=ee,l.w=z)}else{for(var ee=l.w||0;ee<m+v;ee+=65535){var ot=ee+65535;ot>=m&&(g[j/8|0]=v,ot=m),j=qm(g,j+1,i.subarray(ee,ot))}l.i=m}return O1(p,0,o+Um(j)+c)},Wm=function(){var i=1,a=0;return{p:function(r){for(var o=i,c=a,l=r.length|0,m=0;m!=l;){for(var p=Math.min(m+2655,l);m<p;++m)c+=o+=r[m];o=(o&65535)+15*(o>>16),c=(c&65535)+15*(c>>16)}i=o,a=c},d:function(){return i%=65521,a%=65521,(i&255)<<24|(i&65280)<<8|(a&255)<<8|a>>8}}},U1=function(i,a,r,o,c){if(!c&&(c={l:1},a.dictionary)){var l=a.dictionary.subarray(-32768),m=new fo(l.length+i.length);m.set(l),m.set(i,l.length),i=m,c.w=l.length}return z1(i,a.level==null?6:a.level,a.mem==null?c.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+a.mem,r,o,c)},Hm=function(i,a,r){for(;r;++a)i[a]=r,r>>>=8},q1=function(i,a){var r=a.level,o=r==0?0:r<6?1:r==9?3:2;if(i[0]=120,i[1]=o<<6|(a.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,a.dictionary){var c=Wm();c.p(a.dictionary),Hm(i,2,c.d())}};function xf(i,a){a||(a={});var r=Wm();r.p(i);var o=U1(i,a,a.dictionary?6:2,4);return q1(o,a),Hm(o,o.length-4,r.d()),o}var $1=typeof TextDecoder<"u"&&new TextDecoder,W1=0;try{$1.decode($m,{stream:!0}),W1=1}catch{}function H1(i){if(Array.isArray(i))return i}function V1(i,a){var r=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(r!=null){var o,c,l,m,p=[],g=!0,v=!1;try{if(l=(r=r.call(i)).next,a!==0)for(;!(g=(o=l.call(r)).done)&&(p.push(o.value),p.length!==a);g=!0);}catch(j){v=!0,c=j}finally{try{if(!g&&r.return!=null&&(m=r.return(),Object(m)!==m))return}finally{if(v)throw c}}return p}}function mp(i,a){(a==null||a>i.length)&&(a=i.length);for(var r=0,o=Array(a);r<a;r++)o[r]=i[r];return o}function Y1(i,a){if(i){if(typeof i=="string")return mp(i,a);var r={}.toString.call(i).slice(8,-1);return r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set"?Array.from(i):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mp(i,a):void 0}}function G1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gp(i,a){return H1(i)||V1(i,a)||Y1(i,a)||G1()}function xp(i,a="utf8"){return new TextDecoder(a).decode(i)}const J1=new TextEncoder;function K1(i){return J1.encode(i)}const Q1=1024*8,X1=(()=>{const i=new Uint8Array(4),a=new Uint32Array(i.buffer);return!((a[0]=1)&i[0])})(),$u={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ff{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(a=Q1,r={}){let o=!1;typeof a=="number"?a=new ArrayBuffer(a):(o=!0,this.lastWrittenByte=a.byteLength);const c=r.offset?r.offset>>>0:0,l=a.byteLength-c;let m=c;(ArrayBuffer.isView(a)||a instanceof Ff)&&(a.byteLength!==a.buffer.byteLength&&(m=a.byteOffset+c),a=a.buffer),o?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=a,this.length=l,this.byteLength=l,this.byteOffset=m,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,m,l),this._mark=0,this._marks=[]}available(a=1){return this.offset+a<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(a=1){return this.offset+=a,this}back(a=1){return this.offset-=a,this}seek(a){return this.offset=a,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const a=this._marks.pop();if(a===void 0)throw new Error("Mark stack empty");return this.seek(a),this}rewind(){return this.offset=0,this}ensureAvailable(a=1){if(!this.available(a)){const o=(this.offset+a)*2,c=new Uint8Array(o);c.set(new Uint8Array(this.buffer)),this.buffer=c.buffer,this.length=o,this.byteLength=o,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(a=1){return this.readArray(a,"uint8")}readArray(a,r){const o=$u[r].BYTES_PER_ELEMENT*a,c=this.byteOffset+this.offset,l=this.buffer.slice(c,c+o);if(this.littleEndian===X1&&r!=="uint8"&&r!=="int8"){const p=new Uint8Array(this.buffer.slice(c,c+o));p.reverse();const g=new $u[r](p.buffer);return this.offset+=o,g.reverse(),g}const m=new $u[r](l);return this.offset+=o,m}readInt16(){const a=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,a}readUint16(){const a=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,a}readInt32(){const a=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,a}readUint32(){const a=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,a}readFloat32(){const a=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,a}readFloat64(){const a=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,a}readBigInt64(){const a=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,a}readBigUint64(){const a=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,a}readChar(){return String.fromCharCode(this.readInt8())}readChars(a=1){let r="";for(let o=0;o<a;o++)r+=this.readChar();return r}readUtf8(a=1){return xp(this.readBytes(a))}decodeText(a=1,r="utf8"){return xp(this.readBytes(a),r)}writeBoolean(a){return this.writeUint8(a?255:0),this}writeInt8(a){return this.ensureAvailable(1),this._data.setInt8(this.offset++,a),this._updateLastWrittenByte(),this}writeUint8(a){return this.ensureAvailable(1),this._data.setUint8(this.offset++,a),this._updateLastWrittenByte(),this}writeByte(a){return this.writeUint8(a)}writeBytes(a){this.ensureAvailable(a.length);for(let r=0;r<a.length;r++)this._data.setUint8(this.offset++,a[r]);return this._updateLastWrittenByte(),this}writeInt16(a){return this.ensureAvailable(2),this._data.setInt16(this.offset,a,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(a){return this.ensureAvailable(2),this._data.setUint16(this.offset,a,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(a){return this.ensureAvailable(4),this._data.setInt32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(a){return this.ensureAvailable(4),this._data.setUint32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(a){return this.ensureAvailable(4),this._data.setFloat32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(a){return this.ensureAvailable(8),this._data.setFloat64(this.offset,a,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(a){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,a,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(a){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,a,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(a){return this.writeUint8(a.charCodeAt(0))}writeChars(a){for(let r=0;r<a.length;r++)this.writeUint8(a.charCodeAt(r));return this}writeUtf8(a){return this.writeBytes(K1(a))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Nc(i){let a=i.length;for(;--a>=0;)i[a]=0}const Z1=3,e2=258,Vm=29,t2=256,n2=t2+1+Vm,Ym=30,r2=512,a2=new Array((n2+2)*2);Nc(a2);const i2=new Array(Ym*2);Nc(i2);const s2=new Array(r2);Nc(s2);const o2=new Array(e2-Z1+1);Nc(o2);const l2=new Array(Vm);Nc(l2);const c2=new Array(Ym);Nc(c2);const d2=(i,a,r,o)=>{let c=i&65535|0,l=i>>>16&65535|0,m=0;for(;r!==0;){m=r>2e3?2e3:r,r-=m;do c=c+a[o++]|0,l=l+c|0;while(--m);c%=65521,l%=65521}return c|l<<16|0};var yf=d2;const u2=()=>{let i,a=[];for(var r=0;r<256;r++){i=r;for(var o=0;o<8;o++)i=i&1?3988292384^i>>>1:i>>>1;a[r]=i}return a},f2=new Uint32Array(u2()),h2=(i,a,r,o)=>{const c=f2,l=o+r;i^=-1;for(let m=o;m<l;m++)i=i>>>8^c[(i^a[m])&255];return i^-1};var Mo=h2,vf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Gm={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const p2=(i,a)=>Object.prototype.hasOwnProperty.call(i,a);var m2=function(i){const a=Array.prototype.slice.call(arguments,1);for(;a.length;){const r=a.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const o in r)p2(r,o)&&(i[o]=r[o])}}return i},g2=i=>{let a=0;for(let o=0,c=i.length;o<c;o++)a+=i[o].length;const r=new Uint8Array(a);for(let o=0,c=0,l=i.length;o<l;o++){let m=i[o];r.set(m,c),c+=m.length}return r},Jm={assign:m2,flattenChunks:g2};let Km=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Km=!1}const Yc=new Uint8Array(256);for(let i=0;i<256;i++)Yc[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;Yc[254]=Yc[254]=1;var x2=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let a,r,o,c,l,m=i.length,p=0;for(c=0;c<m;c++)r=i.charCodeAt(c),(r&64512)===55296&&c+1<m&&(o=i.charCodeAt(c+1),(o&64512)===56320&&(r=65536+(r-55296<<10)+(o-56320),c++)),p+=r<128?1:r<2048?2:r<65536?3:4;for(a=new Uint8Array(p),l=0,c=0;l<p;c++)r=i.charCodeAt(c),(r&64512)===55296&&c+1<m&&(o=i.charCodeAt(c+1),(o&64512)===56320&&(r=65536+(r-55296<<10)+(o-56320),c++)),r<128?a[l++]=r:r<2048?(a[l++]=192|r>>>6,a[l++]=128|r&63):r<65536?(a[l++]=224|r>>>12,a[l++]=128|r>>>6&63,a[l++]=128|r&63):(a[l++]=240|r>>>18,a[l++]=128|r>>>12&63,a[l++]=128|r>>>6&63,a[l++]=128|r&63);return a};const y2=(i,a)=>{if(a<65534&&i.subarray&&Km)return String.fromCharCode.apply(null,i.length===a?i:i.subarray(0,a));let r="";for(let o=0;o<a;o++)r+=String.fromCharCode(i[o]);return r};var v2=(i,a)=>{const r=a||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,a));let o,c;const l=new Array(r*2);for(c=0,o=0;o<r;){let m=i[o++];if(m<128){l[c++]=m;continue}let p=Yc[m];if(p>4){l[c++]=65533,o+=p-1;continue}for(m&=p===2?31:p===3?15:7;p>1&&o<r;)m=m<<6|i[o++]&63,p--;if(p>1){l[c++]=65533;continue}m<65536?l[c++]=m:(m-=65536,l[c++]=55296|m>>10&1023,l[c++]=56320|m&1023)}return y2(l,c)},b2=(i,a)=>{a=a||i.length,a>i.length&&(a=i.length);let r=a-1;for(;r>=0&&(i[r]&192)===128;)r--;return r<0||r===0?a:r+Yc[i[r]]>a?r:a},bf={string2buf:x2,buf2string:v2,utf8border:b2};function w2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var j2=w2;const Pd=16209,S2=16191;var N2=function(a,r){let o,c,l,m,p,g,v,j,A,M,b,U,E,I,P,W,X,H,fe,he,Ee,ge,ee,xe;const z=a.state;o=a.next_in,ee=a.input,c=o+(a.avail_in-5),l=a.next_out,xe=a.output,m=l-(r-a.avail_out),p=l+(a.avail_out-257),g=z.dmax,v=z.wsize,j=z.whave,A=z.wnext,M=z.window,b=z.hold,U=z.bits,E=z.lencode,I=z.distcode,P=(1<<z.lenbits)-1,W=(1<<z.distbits)-1;e:do{U<15&&(b+=ee[o++]<<U,U+=8,b+=ee[o++]<<U,U+=8),X=E[b&P];t:for(;;){if(H=X>>>24,b>>>=H,U-=H,H=X>>>16&255,H===0)xe[l++]=X&65535;else if(H&16){fe=X&65535,H&=15,H&&(U<H&&(b+=ee[o++]<<U,U+=8),fe+=b&(1<<H)-1,b>>>=H,U-=H),U<15&&(b+=ee[o++]<<U,U+=8,b+=ee[o++]<<U,U+=8),X=I[b&W];n:for(;;){if(H=X>>>24,b>>>=H,U-=H,H=X>>>16&255,H&16){if(he=X&65535,H&=15,U<H&&(b+=ee[o++]<<U,U+=8,U<H&&(b+=ee[o++]<<U,U+=8)),he+=b&(1<<H)-1,he>g){a.msg="invalid distance too far back",z.mode=Pd;break e}if(b>>>=H,U-=H,H=l-m,he>H){if(H=he-H,H>j&&z.sane){a.msg="invalid distance too far back",z.mode=Pd;break e}if(Ee=0,ge=M,A===0){if(Ee+=v-H,H<fe){fe-=H;do xe[l++]=M[Ee++];while(--H);Ee=l-he,ge=xe}}else if(A<H){if(Ee+=v+A-H,H-=A,H<fe){fe-=H;do xe[l++]=M[Ee++];while(--H);if(Ee=0,A<fe){H=A,fe-=H;do xe[l++]=M[Ee++];while(--H);Ee=l-he,ge=xe}}}else if(Ee+=A-H,H<fe){fe-=H;do xe[l++]=M[Ee++];while(--H);Ee=l-he,ge=xe}for(;fe>2;)xe[l++]=ge[Ee++],xe[l++]=ge[Ee++],xe[l++]=ge[Ee++],fe-=3;fe&&(xe[l++]=ge[Ee++],fe>1&&(xe[l++]=ge[Ee++]))}else{Ee=l-he;do xe[l++]=xe[Ee++],xe[l++]=xe[Ee++],xe[l++]=xe[Ee++],fe-=3;while(fe>2);fe&&(xe[l++]=xe[Ee++],fe>1&&(xe[l++]=xe[Ee++]))}}else if((H&64)===0){X=I[(X&65535)+(b&(1<<H)-1)];continue n}else{a.msg="invalid distance code",z.mode=Pd;break e}break}}else if((H&64)===0){X=E[(X&65535)+(b&(1<<H)-1)];continue t}else if(H&32){z.mode=S2;break e}else{a.msg="invalid literal/length code",z.mode=Pd;break e}break}}while(o<c&&l<p);fe=U>>3,o-=fe,U-=fe<<3,b&=(1<<U)-1,a.next_in=o,a.next_out=l,a.avail_in=o<c?5+(c-o):5-(o-c),a.avail_out=l<p?257+(p-l):257-(l-p),z.hold=b,z.bits=U};const uc=15,yp=852,vp=592,bp=0,Wu=1,wp=2,k2=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),A2=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),C2=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),P2=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),L2=(i,a,r,o,c,l,m,p)=>{const g=p.bits;let v=0,j=0,A=0,M=0,b=0,U=0,E=0,I=0,P=0,W=0,X,H,fe,he,Ee,ge=null,ee;const xe=new Uint16Array(uc+1),z=new Uint16Array(uc+1);let $=null,le,ie,we;for(v=0;v<=uc;v++)xe[v]=0;for(j=0;j<o;j++)xe[a[r+j]]++;for(b=g,M=uc;M>=1&&xe[M]===0;M--);if(b>M&&(b=M),M===0)return c[l++]=1<<24|64<<16|0,c[l++]=1<<24|64<<16|0,p.bits=1,0;for(A=1;A<M&&xe[A]===0;A++);for(b<A&&(b=A),I=1,v=1;v<=uc;v++)if(I<<=1,I-=xe[v],I<0)return-1;if(I>0&&(i===bp||M!==1))return-1;for(z[1]=0,v=1;v<uc;v++)z[v+1]=z[v]+xe[v];for(j=0;j<o;j++)a[r+j]!==0&&(m[z[a[r+j]]++]=j);if(i===bp?(ge=$=m,ee=20):i===Wu?(ge=k2,$=A2,ee=257):(ge=C2,$=P2,ee=0),W=0,j=0,v=A,Ee=l,U=b,E=0,fe=-1,P=1<<b,he=P-1,i===Wu&&P>yp||i===wp&&P>vp)return 1;for(;;){le=v-E,m[j]+1<ee?(ie=0,we=m[j]):m[j]>=ee?(ie=$[m[j]-ee],we=ge[m[j]-ee]):(ie=96,we=0),X=1<<v-E,H=1<<U,A=H;do H-=X,c[Ee+(W>>E)+H]=le<<24|ie<<16|we|0;while(H!==0);for(X=1<<v-1;W&X;)X>>=1;if(X!==0?(W&=X-1,W+=X):W=0,j++,--xe[v]===0){if(v===M)break;v=a[r+m[j]]}if(v>b&&(W&he)!==fe){for(E===0&&(E=b),Ee+=A,U=v-E,I=1<<U;U+E<M&&(I-=xe[U+E],!(I<=0));)U++,I<<=1;if(P+=1<<U,i===Wu&&P>yp||i===wp&&P>vp)return 1;fe=W&he,c[fe]=b<<24|U<<16|Ee-l|0}}return W!==0&&(c[Ee+W]=v-E<<24|64<<16|0),p.bits=b,0};var $c=L2;const _2=0,Qm=1,Xm=2,{Z_FINISH:jp,Z_BLOCK:I2,Z_TREES:Ld,Z_OK:ql,Z_STREAM_END:E2,Z_NEED_DICT:M2,Z_STREAM_ERROR:Bs,Z_DATA_ERROR:Zm,Z_MEM_ERROR:e0,Z_BUF_ERROR:D2,Z_DEFLATED:Sp}=Gm,Xd=16180,Np=16181,kp=16182,Ap=16183,Cp=16184,Pp=16185,Lp=16186,_p=16187,Ip=16188,Ep=16189,Yd=16190,Yo=16191,Hu=16192,Mp=16193,Vu=16194,Dp=16195,Fp=16196,Rp=16197,Tp=16198,_d=16199,Id=16200,Op=16201,Bp=16202,zp=16203,Up=16204,qp=16205,Yu=16206,$p=16207,Wp=16208,Or=16209,t0=16210,n0=16211,F2=852,R2=592,T2=15,O2=T2,Hp=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function B2(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Wl=i=>{if(!i)return 1;const a=i.state;return!a||a.strm!==i||a.mode<Xd||a.mode>n0?1:0},r0=i=>{if(Wl(i))return Bs;const a=i.state;return i.total_in=i.total_out=a.total=0,i.msg="",a.wrap&&(i.adler=a.wrap&1),a.mode=Xd,a.last=0,a.havedict=0,a.flags=-1,a.dmax=32768,a.head=null,a.hold=0,a.bits=0,a.lencode=a.lendyn=new Int32Array(F2),a.distcode=a.distdyn=new Int32Array(R2),a.sane=1,a.back=-1,ql},a0=i=>{if(Wl(i))return Bs;const a=i.state;return a.wsize=0,a.whave=0,a.wnext=0,r0(i)},i0=(i,a)=>{let r;if(Wl(i))return Bs;const o=i.state;return a<0?(r=0,a=-a):(r=(a>>4)+5,a<48&&(a&=15)),a&&(a<8||a>15)?Bs:(o.window!==null&&o.wbits!==a&&(o.window=null),o.wrap=r,o.wbits=a,a0(i))},s0=(i,a)=>{if(!i)return Bs;const r=new B2;i.state=r,r.strm=i,r.window=null,r.mode=Xd;const o=i0(i,a);return o!==ql&&(i.state=null),o},z2=i=>s0(i,O2);let Vp=!0,Gu,Ju;const U2=i=>{if(Vp){Gu=new Int32Array(512),Ju=new Int32Array(32);let a=0;for(;a<144;)i.lens[a++]=8;for(;a<256;)i.lens[a++]=9;for(;a<280;)i.lens[a++]=7;for(;a<288;)i.lens[a++]=8;for($c(Qm,i.lens,0,288,Gu,0,i.work,{bits:9}),a=0;a<32;)i.lens[a++]=5;$c(Xm,i.lens,0,32,Ju,0,i.work,{bits:5}),Vp=!1}i.lencode=Gu,i.lenbits=9,i.distcode=Ju,i.distbits=5},o0=(i,a,r,o)=>{let c;const l=i.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),o>=l.wsize?(l.window.set(a.subarray(r-l.wsize,r),0),l.wnext=0,l.whave=l.wsize):(c=l.wsize-l.wnext,c>o&&(c=o),l.window.set(a.subarray(r-o,r-o+c),l.wnext),o-=c,o?(l.window.set(a.subarray(r-o,r),0),l.wnext=o,l.whave=l.wsize):(l.wnext+=c,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=c))),0},q2=(i,a)=>{let r,o,c,l,m,p,g,v,j,A,M,b,U,E,I=0,P,W,X,H,fe,he,Ee,ge;const ee=new Uint8Array(4);let xe,z;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Wl(i)||!i.output||!i.input&&i.avail_in!==0)return Bs;r=i.state,r.mode===Yo&&(r.mode=Hu),m=i.next_out,c=i.output,g=i.avail_out,l=i.next_in,o=i.input,p=i.avail_in,v=r.hold,j=r.bits,A=p,M=g,ge=ql;e:for(;;)switch(r.mode){case Xd:if(r.wrap===0){r.mode=Hu;break}for(;j<16;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}if(r.wrap&2&&v===35615){r.wbits===0&&(r.wbits=15),r.check=0,ee[0]=v&255,ee[1]=v>>>8&255,r.check=Mo(r.check,ee,2,0),v=0,j=0,r.mode=Np;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((v&255)<<8)+(v>>8))%31){i.msg="incorrect header check",r.mode=Or;break}if((v&15)!==Sp){i.msg="unknown compression method",r.mode=Or;break}if(v>>>=4,j-=4,Ee=(v&15)+8,r.wbits===0&&(r.wbits=Ee),Ee>15||Ee>r.wbits){i.msg="invalid window size",r.mode=Or;break}r.dmax=1<<r.wbits,r.flags=0,i.adler=r.check=1,r.mode=v&512?Ep:Yo,v=0,j=0;break;case Np:for(;j<16;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}if(r.flags=v,(r.flags&255)!==Sp){i.msg="unknown compression method",r.mode=Or;break}if(r.flags&57344){i.msg="unknown header flags set",r.mode=Or;break}r.head&&(r.head.text=v>>8&1),r.flags&512&&r.wrap&4&&(ee[0]=v&255,ee[1]=v>>>8&255,r.check=Mo(r.check,ee,2,0)),v=0,j=0,r.mode=kp;case kp:for(;j<32;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}r.head&&(r.head.time=v),r.flags&512&&r.wrap&4&&(ee[0]=v&255,ee[1]=v>>>8&255,ee[2]=v>>>16&255,ee[3]=v>>>24&255,r.check=Mo(r.check,ee,4,0)),v=0,j=0,r.mode=Ap;case Ap:for(;j<16;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}r.head&&(r.head.xflags=v&255,r.head.os=v>>8),r.flags&512&&r.wrap&4&&(ee[0]=v&255,ee[1]=v>>>8&255,r.check=Mo(r.check,ee,2,0)),v=0,j=0,r.mode=Cp;case Cp:if(r.flags&1024){for(;j<16;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}r.length=v,r.head&&(r.head.extra_len=v),r.flags&512&&r.wrap&4&&(ee[0]=v&255,ee[1]=v>>>8&255,r.check=Mo(r.check,ee,2,0)),v=0,j=0}else r.head&&(r.head.extra=null);r.mode=Pp;case Pp:if(r.flags&1024&&(b=r.length,b>p&&(b=p),b&&(r.head&&(Ee=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(o.subarray(l,l+b),Ee)),r.flags&512&&r.wrap&4&&(r.check=Mo(r.check,o,b,l)),p-=b,l+=b,r.length-=b),r.length))break e;r.length=0,r.mode=Lp;case Lp:if(r.flags&2048){if(p===0)break e;b=0;do Ee=o[l+b++],r.head&&Ee&&r.length<65536&&(r.head.name+=String.fromCharCode(Ee));while(Ee&&b<p);if(r.flags&512&&r.wrap&4&&(r.check=Mo(r.check,o,b,l)),p-=b,l+=b,Ee)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=_p;case _p:if(r.flags&4096){if(p===0)break e;b=0;do Ee=o[l+b++],r.head&&Ee&&r.length<65536&&(r.head.comment+=String.fromCharCode(Ee));while(Ee&&b<p);if(r.flags&512&&r.wrap&4&&(r.check=Mo(r.check,o,b,l)),p-=b,l+=b,Ee)break e}else r.head&&(r.head.comment=null);r.mode=Ip;case Ip:if(r.flags&512){for(;j<16;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}if(r.wrap&4&&v!==(r.check&65535)){i.msg="header crc mismatch",r.mode=Or;break}v=0,j=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),i.adler=r.check=0,r.mode=Yo;break;case Ep:for(;j<32;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}i.adler=r.check=Hp(v),v=0,j=0,r.mode=Yd;case Yd:if(r.havedict===0)return i.next_out=m,i.avail_out=g,i.next_in=l,i.avail_in=p,r.hold=v,r.bits=j,M2;i.adler=r.check=1,r.mode=Yo;case Yo:if(a===I2||a===Ld)break e;case Hu:if(r.last){v>>>=j&7,j-=j&7,r.mode=Yu;break}for(;j<3;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}switch(r.last=v&1,v>>>=1,j-=1,v&3){case 0:r.mode=Mp;break;case 1:if(U2(r),r.mode=_d,a===Ld){v>>>=2,j-=2;break e}break;case 2:r.mode=Fp;break;case 3:i.msg="invalid block type",r.mode=Or}v>>>=2,j-=2;break;case Mp:for(v>>>=j&7,j-=j&7;j<32;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}if((v&65535)!==(v>>>16^65535)){i.msg="invalid stored block lengths",r.mode=Or;break}if(r.length=v&65535,v=0,j=0,r.mode=Vu,a===Ld)break e;case Vu:r.mode=Dp;case Dp:if(b=r.length,b){if(b>p&&(b=p),b>g&&(b=g),b===0)break e;c.set(o.subarray(l,l+b),m),p-=b,l+=b,g-=b,m+=b,r.length-=b;break}r.mode=Yo;break;case Fp:for(;j<14;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}if(r.nlen=(v&31)+257,v>>>=5,j-=5,r.ndist=(v&31)+1,v>>>=5,j-=5,r.ncode=(v&15)+4,v>>>=4,j-=4,r.nlen>286||r.ndist>30){i.msg="too many length or distance symbols",r.mode=Or;break}r.have=0,r.mode=Rp;case Rp:for(;r.have<r.ncode;){for(;j<3;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}r.lens[$[r.have++]]=v&7,v>>>=3,j-=3}for(;r.have<19;)r.lens[$[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,xe={bits:r.lenbits},ge=$c(_2,r.lens,0,19,r.lencode,0,r.work,xe),r.lenbits=xe.bits,ge){i.msg="invalid code lengths set",r.mode=Or;break}r.have=0,r.mode=Tp;case Tp:for(;r.have<r.nlen+r.ndist;){for(;I=r.lencode[v&(1<<r.lenbits)-1],P=I>>>24,W=I>>>16&255,X=I&65535,!(P<=j);){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}if(X<16)v>>>=P,j-=P,r.lens[r.have++]=X;else{if(X===16){for(z=P+2;j<z;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}if(v>>>=P,j-=P,r.have===0){i.msg="invalid bit length repeat",r.mode=Or;break}Ee=r.lens[r.have-1],b=3+(v&3),v>>>=2,j-=2}else if(X===17){for(z=P+3;j<z;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}v>>>=P,j-=P,Ee=0,b=3+(v&7),v>>>=3,j-=3}else{for(z=P+7;j<z;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}v>>>=P,j-=P,Ee=0,b=11+(v&127),v>>>=7,j-=7}if(r.have+b>r.nlen+r.ndist){i.msg="invalid bit length repeat",r.mode=Or;break}for(;b--;)r.lens[r.have++]=Ee}}if(r.mode===Or)break;if(r.lens[256]===0){i.msg="invalid code -- missing end-of-block",r.mode=Or;break}if(r.lenbits=9,xe={bits:r.lenbits},ge=$c(Qm,r.lens,0,r.nlen,r.lencode,0,r.work,xe),r.lenbits=xe.bits,ge){i.msg="invalid literal/lengths set",r.mode=Or;break}if(r.distbits=6,r.distcode=r.distdyn,xe={bits:r.distbits},ge=$c(Xm,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,xe),r.distbits=xe.bits,ge){i.msg="invalid distances set",r.mode=Or;break}if(r.mode=_d,a===Ld)break e;case _d:r.mode=Id;case Id:if(p>=6&&g>=258){i.next_out=m,i.avail_out=g,i.next_in=l,i.avail_in=p,r.hold=v,r.bits=j,N2(i,M),m=i.next_out,c=i.output,g=i.avail_out,l=i.next_in,o=i.input,p=i.avail_in,v=r.hold,j=r.bits,r.mode===Yo&&(r.back=-1);break}for(r.back=0;I=r.lencode[v&(1<<r.lenbits)-1],P=I>>>24,W=I>>>16&255,X=I&65535,!(P<=j);){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}if(W&&(W&240)===0){for(H=P,fe=W,he=X;I=r.lencode[he+((v&(1<<H+fe)-1)>>H)],P=I>>>24,W=I>>>16&255,X=I&65535,!(H+P<=j);){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}v>>>=H,j-=H,r.back+=H}if(v>>>=P,j-=P,r.back+=P,r.length=X,W===0){r.mode=qp;break}if(W&32){r.back=-1,r.mode=Yo;break}if(W&64){i.msg="invalid literal/length code",r.mode=Or;break}r.extra=W&15,r.mode=Op;case Op:if(r.extra){for(z=r.extra;j<z;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}r.length+=v&(1<<r.extra)-1,v>>>=r.extra,j-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Bp;case Bp:for(;I=r.distcode[v&(1<<r.distbits)-1],P=I>>>24,W=I>>>16&255,X=I&65535,!(P<=j);){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}if((W&240)===0){for(H=P,fe=W,he=X;I=r.distcode[he+((v&(1<<H+fe)-1)>>H)],P=I>>>24,W=I>>>16&255,X=I&65535,!(H+P<=j);){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}v>>>=H,j-=H,r.back+=H}if(v>>>=P,j-=P,r.back+=P,W&64){i.msg="invalid distance code",r.mode=Or;break}r.offset=X,r.extra=W&15,r.mode=zp;case zp:if(r.extra){for(z=r.extra;j<z;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}r.offset+=v&(1<<r.extra)-1,v>>>=r.extra,j-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){i.msg="invalid distance too far back",r.mode=Or;break}r.mode=Up;case Up:if(g===0)break e;if(b=M-g,r.offset>b){if(b=r.offset-b,b>r.whave&&r.sane){i.msg="invalid distance too far back",r.mode=Or;break}b>r.wnext?(b-=r.wnext,U=r.wsize-b):U=r.wnext-b,b>r.length&&(b=r.length),E=r.window}else E=c,U=m-r.offset,b=r.length;b>g&&(b=g),g-=b,r.length-=b;do c[m++]=E[U++];while(--b);r.length===0&&(r.mode=Id);break;case qp:if(g===0)break e;c[m++]=r.length,g--,r.mode=Id;break;case Yu:if(r.wrap){for(;j<32;){if(p===0)break e;p--,v|=o[l++]<<j,j+=8}if(M-=g,i.total_out+=M,r.total+=M,r.wrap&4&&M&&(i.adler=r.check=r.flags?Mo(r.check,c,M,m-M):yf(r.check,c,M,m-M)),M=g,r.wrap&4&&(r.flags?v:Hp(v))!==r.check){i.msg="incorrect data check",r.mode=Or;break}v=0,j=0}r.mode=$p;case $p:if(r.wrap&&r.flags){for(;j<32;){if(p===0)break e;p--,v+=o[l++]<<j,j+=8}if(r.wrap&4&&v!==(r.total&4294967295)){i.msg="incorrect length check",r.mode=Or;break}v=0,j=0}r.mode=Wp;case Wp:ge=E2;break e;case Or:ge=Zm;break e;case t0:return e0;case n0:default:return Bs}return i.next_out=m,i.avail_out=g,i.next_in=l,i.avail_in=p,r.hold=v,r.bits=j,(r.wsize||M!==i.avail_out&&r.mode<Or&&(r.mode<Yu||a!==jp))&&o0(i,i.output,i.next_out,M-i.avail_out),A-=i.avail_in,M-=i.avail_out,i.total_in+=A,i.total_out+=M,r.total+=M,r.wrap&4&&M&&(i.adler=r.check=r.flags?Mo(r.check,c,M,i.next_out-M):yf(r.check,c,M,i.next_out-M)),i.data_type=r.bits+(r.last?64:0)+(r.mode===Yo?128:0)+(r.mode===_d||r.mode===Vu?256:0),(A===0&&M===0||a===jp)&&ge===ql&&(ge=D2),ge},$2=i=>{if(Wl(i))return Bs;let a=i.state;return a.window&&(a.window=null),i.state=null,ql},W2=(i,a)=>{if(Wl(i))return Bs;const r=i.state;return(r.wrap&2)===0?Bs:(r.head=a,a.done=!1,ql)},H2=(i,a)=>{const r=a.length;let o,c,l;return Wl(i)||(o=i.state,o.wrap!==0&&o.mode!==Yd)?Bs:o.mode===Yd&&(c=1,c=yf(c,a,r,0),c!==o.check)?Zm:(l=o0(i,a,r,r),l?(o.mode=t0,e0):(o.havedict=1,ql))};var V2=a0,Y2=i0,G2=r0,J2=z2,K2=s0,Q2=q2,X2=$2,Z2=W2,ex=H2,tx="pako inflate (from Nodeca project)",Go={inflateReset:V2,inflateReset2:Y2,inflateResetKeep:G2,inflateInit:J2,inflateInit2:K2,inflate:Q2,inflateEnd:X2,inflateGetHeader:Z2,inflateSetDictionary:ex,inflateInfo:tx};function nx(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var rx=nx;const l0=Object.prototype.toString,{Z_NO_FLUSH:ax,Z_FINISH:ix,Z_OK:Gc,Z_STREAM_END:Ku,Z_NEED_DICT:Qu,Z_STREAM_ERROR:sx,Z_DATA_ERROR:Yp,Z_MEM_ERROR:ox}=Gm;function Xc(i){this.options=Jm.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const a=this.options;a.raw&&a.windowBits>=0&&a.windowBits<16&&(a.windowBits=-a.windowBits,a.windowBits===0&&(a.windowBits=-15)),a.windowBits>=0&&a.windowBits<16&&!(i&&i.windowBits)&&(a.windowBits+=32),a.windowBits>15&&a.windowBits<48&&(a.windowBits&15)===0&&(a.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j2,this.strm.avail_out=0;let r=Go.inflateInit2(this.strm,a.windowBits);if(r!==Gc)throw new Error(vf[r]);if(this.header=new rx,Go.inflateGetHeader(this.strm,this.header),a.dictionary&&(typeof a.dictionary=="string"?a.dictionary=bf.string2buf(a.dictionary):l0.call(a.dictionary)==="[object ArrayBuffer]"&&(a.dictionary=new Uint8Array(a.dictionary)),a.raw&&(r=Go.inflateSetDictionary(this.strm,a.dictionary),r!==Gc)))throw new Error(vf[r])}Xc.prototype.push=function(i,a){const r=this.strm,o=this.options.chunkSize,c=this.options.dictionary;let l,m,p;if(this.ended)return!1;for(a===~~a?m=a:m=a===!0?ix:ax,l0.call(i)==="[object ArrayBuffer]"?r.input=new Uint8Array(i):r.input=i,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(o),r.next_out=0,r.avail_out=o),l=Go.inflate(r,m),l===Qu&&c&&(l=Go.inflateSetDictionary(r,c),l===Gc?l=Go.inflate(r,m):l===Yp&&(l=Qu));r.avail_in>0&&l===Ku&&r.state.wrap>0&&i[r.next_in]!==0;)Go.inflateReset(r),l=Go.inflate(r,m);switch(l){case sx:case Yp:case Qu:case ox:return this.onEnd(l),this.ended=!0,!1}if(p=r.avail_out,r.next_out&&(r.avail_out===0||l===Ku))if(this.options.to==="string"){let g=bf.utf8border(r.output,r.next_out),v=r.next_out-g,j=bf.buf2string(r.output,g);r.next_out=v,r.avail_out=o-v,v&&r.output.set(r.output.subarray(g,g+v),0),this.onData(j)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(l===Gc&&p===0)){if(l===Ku)return l=Go.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Xc.prototype.onData=function(i){this.chunks.push(i)};Xc.prototype.onEnd=function(i){i===Gc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Jm.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function lx(i,a){const r=new Xc(a);if(r.push(i),r.err)throw r.msg||vf[r.err];return r.result}var cx=Xc,dx=lx,ux={Inflate:cx,inflate:dx};const{Inflate:fx,inflate:hx}=ux;var Gp=fx,px=hx;const c0=[];for(let i=0;i<256;i++){let a=i;for(let r=0;r<8;r++)a&1?a=3988292384^a>>>1:a=a>>>1;c0[i]=a}const Jp=4294967295;function mx(i,a,r){let o=i;for(let c=0;c<r;c++)o=c0[(o^a[c])&255]^o>>>8;return o}function gx(i,a){return(mx(Jp,i,a)^Jp)>>>0}function Kp(i,a,r){const o=i.readUint32(),c=gx(new Uint8Array(i.buffer,i.byteOffset+i.offset-a-4,a),a);if(c!==o)throw new Error(`CRC mismatch for chunk ${r}. Expected ${o}, found ${c}`)}function d0(i,a,r){for(let o=0;o<r;o++)a[o]=i[o]}function u0(i,a,r,o){let c=0;for(;c<o;c++)a[c]=i[c];for(;c<r;c++)a[c]=i[c]+a[c-o]&255}function f0(i,a,r,o){let c=0;if(r.length===0)for(;c<o;c++)a[c]=i[c];else for(;c<o;c++)a[c]=i[c]+r[c]&255}function h0(i,a,r,o,c){let l=0;if(r.length===0){for(;l<c;l++)a[l]=i[l];for(;l<o;l++)a[l]=i[l]+(a[l-c]>>1)&255}else{for(;l<c;l++)a[l]=i[l]+(r[l]>>1)&255;for(;l<o;l++)a[l]=i[l]+(a[l-c]+r[l]>>1)&255}}function p0(i,a,r,o,c){let l=0;if(r.length===0){for(;l<c;l++)a[l]=i[l];for(;l<o;l++)a[l]=i[l]+a[l-c]&255}else{for(;l<c;l++)a[l]=i[l]+r[l]&255;for(;l<o;l++)a[l]=i[l]+xx(a[l-c],r[l],r[l-c])&255}}function xx(i,a,r){const o=i+a-r,c=Math.abs(o-i),l=Math.abs(o-a),m=Math.abs(o-r);return c<=l&&c<=m?i:l<=m?a:r}function yx(i,a,r,o,c,l){switch(i){case 0:d0(a,r,c);break;case 1:u0(a,r,c,l);break;case 2:f0(a,r,o,c);break;case 3:h0(a,r,o,c,l);break;case 4:p0(a,r,o,c,l);break;default:throw new Error(`Unsupported filter: ${i}`)}}const vx=new Uint16Array([255]),bx=new Uint8Array(vx.buffer),wx=bx[0]===255;function jx(i){const{data:a,width:r,height:o,channels:c,depth:l}=i,m=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],p=Math.ceil(l/8)*c,g=new Uint8Array(o*r*p);let v=0;for(let j=0;j<7;j++){const A=m[j],M=Math.ceil((r-A.x)/A.xStep),b=Math.ceil((o-A.y)/A.yStep);if(M<=0||b<=0)continue;const U=M*p,E=new Uint8Array(U);for(let I=0;I<b;I++){const P=a[v++],W=a.subarray(v,v+U);v+=U;const X=new Uint8Array(U);yx(P,W,X,E,U,p),E.set(X);for(let H=0;H<M;H++){const fe=A.x+H*A.xStep,he=A.y+I*A.yStep;if(!(fe>=r||he>=o))for(let Ee=0;Ee<p;Ee++)g[(he*r+fe)*p+Ee]=X[H*p+Ee]}}}if(l===16){const j=new Uint16Array(g.buffer);if(wx)for(let A=0;A<j.length;A++)j[A]=Sx(j[A]);return j}else return g}function Sx(i){return(i&255)<<8|i>>8&255}const Nx=new Uint16Array([255]),kx=new Uint8Array(Nx.buffer),Ax=kx[0]===255,Cx=new Uint8Array(0);function Qp(i){const{data:a,width:r,height:o,channels:c,depth:l}=i,m=Math.ceil(l/8)*c,p=Math.ceil(l/8*c*r),g=new Uint8Array(o*p);let v=Cx,j=0,A,M;for(let b=0;b<o;b++){switch(A=a.subarray(j+1,j+1+p),M=g.subarray(b*p,(b+1)*p),a[j]){case 0:d0(A,M,p);break;case 1:u0(A,M,p,m);break;case 2:f0(A,M,v,p);break;case 3:h0(A,M,v,p,m);break;case 4:p0(A,M,v,p,m);break;default:throw new Error(`Unsupported filter: ${a[j]}`)}v=M,j+=p+1}if(l===16){const b=new Uint16Array(g.buffer);if(Ax)for(let U=0;U<b.length;U++)b[U]=Px(b[U]);return b}else return g}function Px(i){return(i&255)<<8|i>>8&255}const Od=Uint8Array.of(137,80,78,71,13,10,26,10);function Xp(i){if(!Lx(i.readBytes(Od.length)))throw new Error("wrong PNG signature")}function Lx(i){if(i.length<Od.length)return!1;for(let a=0;a<Od.length;a++)if(i[a]!==Od[a])return!1;return!0}const _x="tEXt",Ix=0,m0=new TextDecoder("latin1");function Ex(i){if(Dx(i),i.length===0||i.length>79)throw new Error("keyword length must be between 1 and 79")}const Mx=/^[\u0000-\u00FF]*$/;function Dx(i){if(!Mx.test(i))throw new Error("invalid latin1 text")}function Fx(i,a,r){const o=g0(a);i[o]=Rx(a,r-o.length-1)}function g0(i){for(i.mark();i.readByte()!==Ix;);const a=i.offset;i.reset();const r=m0.decode(i.readBytes(a-i.offset-1));return i.skip(1),Ex(r),r}function Rx(i,a){return m0.decode(i.readBytes(a))}const ws={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Xu={UNKNOWN:-1,DEFLATE:0},Zp={UNKNOWN:-1,ADAPTIVE:0},Zu={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ed={NONE:0,BACKGROUND:1,PREVIOUS:2},ef={SOURCE:0,OVER:1};class Tx extends Ff{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(a,r={}){super(a);const{checkCrc:o=!1}=r;this._checkCrc=o,this._inflator=new Gp,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Xu.UNKNOWN,this._filterMethod=Zp.UNKNOWN,this._interlaceMethod=Zu.UNKNOWN,this._colorType=ws.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Xp(this);!this._end;){const a=this.readUint32(),r=this.readChars(4);this.decodeChunk(a,r)}return this.decodeImage(),this._png}decodeApng(){for(Xp(this);!this._end;){const a=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(a,r)}return this.decodeApngImage(),this._apng}decodeChunk(a,r){const o=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(a);break;case"IDAT":this.decodeIDAT(a);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(a);break;case"iCCP":this.decodeiCCP(a);break;case _x:Fx(this._png.text,this,a);break;case"pHYs":this.decodepHYs();break;default:this.skip(a);break}if(this.offset-o!==a)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Kp(this,a+4,r):this.skip(4)}decodeApngChunk(a,r){const o=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(a);break;default:this.decodeChunk(a,r),this.offset=o+a;break}if(this.offset-o!==a)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Kp(this,a+4,r):this.skip(4)}decodeIHDR(){const a=this._png;a.width=this.readUint32(),a.height=this.readUint32(),a.depth=Ox(this.readUint8());const r=this.readUint8();this._colorType=r;let o;switch(r){case ws.GREYSCALE:o=1;break;case ws.TRUECOLOUR:o=3;break;case ws.INDEXED_COLOUR:o=1;break;case ws.GREYSCALE_ALPHA:o=2;break;case ws.TRUECOLOUR_ALPHA:o=4;break;case ws.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=o,this._compressionMethod=this.readUint8(),this._compressionMethod!==Xu.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const a={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(a)}decodePLTE(a){if(a%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${a}`);const r=a/3;this._hasPalette=!0;const o=[];this._palette=o;for(let c=0;c<r;c++)o.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(a){this._writingDataChunks=!0;const r=a,o=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,o,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(a)}decodeFDAT(a){this._writingDataChunks=!0;let r=a,o=this.offset+this.byteOffset;if(o+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,o,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(a)}decodetRNS(a){switch(this._colorType){case ws.GREYSCALE:case ws.TRUECOLOUR:{if(a%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${a}`);if(a/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${a/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(a/2);for(let r=0;r<a/2;r++)this._transparency[r]=this.readUint16();break}case ws.INDEXED_COLOUR:{if(a>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${a} vs ${this._palette.length})`);let r=0;for(;r<a;r++){const o=this.readByte();this._palette[r].push(o)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case ws.UNKNOWN:case ws.GREYSCALE_ALPHA:case ws.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(a){const r=g0(this),o=this.readUint8();if(o!==Xu.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${o}`);const c=this.readBytes(a-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:px(c)}}decodepHYs(){const a=this.readUint32(),r=this.readUint32(),o=this.readByte();this._png.resolution={x:a,y:r,unit:o}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let a=0;a<this._numberOfFrames;a++){const r={sequenceNumber:this._frames[a].sequenceNumber,delayNumber:this._frames[a].delayNumber,delayDenominator:this._frames[a].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},o=this._frames.at(a);if(o){if(o.data=Qp({data:o.data,width:o.width,height:o.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),a===0||o.xOffset===0&&o.yOffset===0&&o.width===this._png.width&&o.height===this._png.height)r.data=o.data;else{const c=this._apng.frames.at(a-1);this.disposeFrame(o,c,r),this.addFrameDataToCanvas(r,o)}this._apng.frames.push(r)}}return this._apng}disposeFrame(a,r,o){switch(a.disposeOp){case Ed.NONE:break;case Ed.BACKGROUND:for(let c=0;c<this._png.height;c++)for(let l=0;l<this._png.width;l++){const m=(c*a.width+l)*this._png.channels;for(let p=0;p<this._png.channels;p++)o.data[m+p]=0}break;case Ed.PREVIOUS:o.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(a,r){const o=1<<this._png.depth,c=(l,m)=>{const p=((l+r.yOffset)*this._png.width+r.xOffset+m)*this._png.channels,g=(l*r.width+m)*this._png.channels;return{index:p,frameIndex:g}};switch(r.blendOp){case ef.SOURCE:for(let l=0;l<r.height;l++)for(let m=0;m<r.width;m++){const{index:p,frameIndex:g}=c(l,m);for(let v=0;v<this._png.channels;v++)a.data[p+v]=r.data[g+v]}break;case ef.OVER:for(let l=0;l<r.height;l++)for(let m=0;m<r.width;m++){const{index:p,frameIndex:g}=c(l,m);for(let v=0;v<this._png.channels;v++){const j=r.data[g+this._png.channels-1]/o,A=v%(this._png.channels-1)===0?1:r.data[g+v],M=Math.floor(j*A+(1-j)*a.data[p+v]);a.data[p+v]+=M}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const a=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Zp.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Zu.NO_INTERLACE)this._png.data=Qp({data:a,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Zu.ADAM7)this._png.data=jx({data:a,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const a=this._inflator.result,r=this._frames.at(-1);r?r.data=a:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ed.NONE,blendOp:ef.SOURCE,data:a}),this._inflator=new Gp,this._writingDataChunks=!1}}function Ox(i){if(i!==1&&i!==2&&i!==4&&i!==8&&i!==16)throw new Error(`invalid bit depth: ${i}`);return i}var em;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.METRE=1]="METRE"})(em||(em={}));function Bx(i,a){return new Tx(i,a).decode()}var cn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function tf(){cn.console&&typeof cn.console.log=="function"&&cn.console.log.apply(cn.console,arguments)}var lr={log:tf,warn:function(i){cn.console&&(typeof cn.console.warn=="function"?cn.console.warn.apply(cn.console,arguments):tf.call(null,arguments))},error:function(i){cn.console&&(typeof cn.console.error=="function"?cn.console.error.apply(cn.console,arguments):tf(i))}};function nf(i,a,r){var o=new XMLHttpRequest;o.open("GET",i),o.responseType="blob",o.onload=function(){Ol(o.response,a,r)},o.onerror=function(){lr.error("could not download file")},o.send()}function tm(i){var a=new XMLHttpRequest;a.open("HEAD",i,!1);try{a.send()}catch{}return a.status>=200&&a.status<=299}function Md(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(a)}}var Ol=cn.saveAs||((typeof window>"u"?"undefined":tr(window))!=="object"||window!==cn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,a,r){var o=cn.URL||cn.webkitURL,c=document.createElement("a");a=a||i.name||"download",c.download=a,c.rel="noopener",typeof i=="string"?(c.href=i,c.origin!==location.origin?tm(c.href)?nf(i,a,r):Md(c,c.target="_blank"):Md(c)):(c.href=o.createObjectURL(i),setTimeout(function(){o.revokeObjectURL(c.href)},4e4),setTimeout(function(){Md(c)},0))}:"msSaveOrOpenBlob"in navigator?function(i,a,r){if(a=a||i.name||"download",typeof i=="string")if(tm(i))nf(i,a,r);else{var o=document.createElement("a");o.href=i,o.target="_blank",setTimeout(function(){Md(o)})}else navigator.msSaveOrOpenBlob((function(c,l){return l===void 0?l={autoBom:!1}:tr(l)!=="object"&&(lr.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c})(i,r),a)}:function(i,a,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),typeof i=="string")return nf(i,a,r);var c=i.type==="application/octet-stream",l=/constructor/i.test(cn.HTMLElement)||cn.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||c&&l)&&(typeof FileReader>"u"?"undefined":tr(FileReader))==="object"){var p=new FileReader;p.onloadend=function(){var j=p.result;j=m?j:j.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=j:location=j,o=null},p.readAsDataURL(i)}else{var g=cn.URL||cn.webkitURL,v=g.createObjectURL(i);o?o.location=v:location.href=v,o=null,setTimeout(function(){g.revokeObjectURL(v)},4e4)}});function x0(i){var a;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(p){return[parseInt(p[1]),parseInt(p[2]),parseInt(p[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(p){return[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(p){return[parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16),parseInt(p[3]+p[3],16)]}}],o=0;o<r.length;o++){var c=r[o].re,l=r[o].process,m=c.exec(i);m&&(a=l(m),this.r=a[0],this.g=a[1],this.b=a[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var p=this.r.toString(16),g=this.g.toString(16),v=this.b.toString(16);return p.length==1&&(p="0"+p),g.length==1&&(g="0"+g),v.length==1&&(v="0"+v),"#"+p+g+v}}var Bd=cn.atob.bind(cn),nm=cn.btoa.bind(cn);function rf(i,a){var r=i[0],o=i[1],c=i[2],l=i[3];r=Ci(r,o,c,l,a[0],7,-680876936),l=Ci(l,r,o,c,a[1],12,-389564586),c=Ci(c,l,r,o,a[2],17,606105819),o=Ci(o,c,l,r,a[3],22,-1044525330),r=Ci(r,o,c,l,a[4],7,-176418897),l=Ci(l,r,o,c,a[5],12,1200080426),c=Ci(c,l,r,o,a[6],17,-1473231341),o=Ci(o,c,l,r,a[7],22,-45705983),r=Ci(r,o,c,l,a[8],7,1770035416),l=Ci(l,r,o,c,a[9],12,-1958414417),c=Ci(c,l,r,o,a[10],17,-42063),o=Ci(o,c,l,r,a[11],22,-1990404162),r=Ci(r,o,c,l,a[12],7,1804603682),l=Ci(l,r,o,c,a[13],12,-40341101),c=Ci(c,l,r,o,a[14],17,-1502002290),r=Pi(r,o=Ci(o,c,l,r,a[15],22,1236535329),c,l,a[1],5,-165796510),l=Pi(l,r,o,c,a[6],9,-1069501632),c=Pi(c,l,r,o,a[11],14,643717713),o=Pi(o,c,l,r,a[0],20,-373897302),r=Pi(r,o,c,l,a[5],5,-701558691),l=Pi(l,r,o,c,a[10],9,38016083),c=Pi(c,l,r,o,a[15],14,-660478335),o=Pi(o,c,l,r,a[4],20,-405537848),r=Pi(r,o,c,l,a[9],5,568446438),l=Pi(l,r,o,c,a[14],9,-1019803690),c=Pi(c,l,r,o,a[3],14,-187363961),o=Pi(o,c,l,r,a[8],20,1163531501),r=Pi(r,o,c,l,a[13],5,-1444681467),l=Pi(l,r,o,c,a[2],9,-51403784),c=Pi(c,l,r,o,a[7],14,1735328473),r=Li(r,o=Pi(o,c,l,r,a[12],20,-1926607734),c,l,a[5],4,-378558),l=Li(l,r,o,c,a[8],11,-2022574463),c=Li(c,l,r,o,a[11],16,1839030562),o=Li(o,c,l,r,a[14],23,-35309556),r=Li(r,o,c,l,a[1],4,-1530992060),l=Li(l,r,o,c,a[4],11,1272893353),c=Li(c,l,r,o,a[7],16,-155497632),o=Li(o,c,l,r,a[10],23,-1094730640),r=Li(r,o,c,l,a[13],4,681279174),l=Li(l,r,o,c,a[0],11,-358537222),c=Li(c,l,r,o,a[3],16,-722521979),o=Li(o,c,l,r,a[6],23,76029189),r=Li(r,o,c,l,a[9],4,-640364487),l=Li(l,r,o,c,a[12],11,-421815835),c=Li(c,l,r,o,a[15],16,530742520),r=_i(r,o=Li(o,c,l,r,a[2],23,-995338651),c,l,a[0],6,-198630844),l=_i(l,r,o,c,a[7],10,1126891415),c=_i(c,l,r,o,a[14],15,-1416354905),o=_i(o,c,l,r,a[5],21,-57434055),r=_i(r,o,c,l,a[12],6,1700485571),l=_i(l,r,o,c,a[3],10,-1894986606),c=_i(c,l,r,o,a[10],15,-1051523),o=_i(o,c,l,r,a[1],21,-2054922799),r=_i(r,o,c,l,a[8],6,1873313359),l=_i(l,r,o,c,a[15],10,-30611744),c=_i(c,l,r,o,a[6],15,-1560198380),o=_i(o,c,l,r,a[13],21,1309151649),r=_i(r,o,c,l,a[4],6,-145523070),l=_i(l,r,o,c,a[11],10,-1120210379),c=_i(c,l,r,o,a[2],15,718787259),o=_i(o,c,l,r,a[9],21,-343485551),i[0]=gl(r,i[0]),i[1]=gl(o,i[1]),i[2]=gl(c,i[2]),i[3]=gl(l,i[3])}function Zd(i,a,r,o,c,l){return a=gl(gl(a,i),gl(o,l)),gl(a<<c|a>>>32-c,r)}function Ci(i,a,r,o,c,l,m){return Zd(a&r|~a&o,i,a,c,l,m)}function Pi(i,a,r,o,c,l,m){return Zd(a&o|r&~o,i,a,c,l,m)}function Li(i,a,r,o,c,l,m){return Zd(a^r^o,i,a,c,l,m)}function _i(i,a,r,o,c,l,m){return Zd(r^(a|~o),i,a,c,l,m)}function y0(i){var a,r=i.length,o=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=i.length;a+=64)rf(o,zx(i.substring(a-64,a)));i=i.substring(a-64);var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(a=0;a<i.length;a++)c[a>>2]|=i.charCodeAt(a)<<(a%4<<3);if(c[a>>2]|=128<<(a%4<<3),a>55)for(rf(o,c),a=0;a<16;a++)c[a]=0;return c[14]=8*r,rf(o,c),o}function zx(i){var a,r=[];for(a=0;a<64;a+=4)r[a>>2]=i.charCodeAt(a)+(i.charCodeAt(a+1)<<8)+(i.charCodeAt(a+2)<<16)+(i.charCodeAt(a+3)<<24);return r}var rm="0123456789abcdef".split("");function Ux(i){for(var a="",r=0;r<4;r++)a+=rm[i>>8*r+4&15]+rm[i>>8*r&15];return a}function qx(i){return String.fromCharCode(255&i,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function wf(i){return y0(i).map(qx).join("")}var $x=(function(i){for(var a=0;a<i.length;a++)i[a]=Ux(i[a]);return i.join("")})(y0("hello"))!="5d41402abc4b2a76b9719d911017c592";function gl(i,a){if($x){var r=(65535&i)+(65535&a);return(i>>16)+(a>>16)+(r>>16)<<16|65535&r}return i+a&4294967295}function jf(i,a){var r,o,c,l;if(i!==r){for(var m=(c=i,l=1+(256/i.length|0),new Array(l+1).join(c)),p=[],g=0;g<256;g++)p[g]=g;var v=0;for(g=0;g<256;g++){var j=p[g];v=(v+j+m.charCodeAt(g))%256,p[g]=p[v],p[v]=j}r=i,o=p}else p=o;var A=a.length,M=0,b=0,U="";for(g=0;g<A;g++)b=(b+(j=p[M=(M+1)%256]))%256,p[M]=p[b],p[b]=j,m=p[(p[M]+p[b])%256],U+=String.fromCharCode(a.charCodeAt(g)^m);return U}var am={print:4,modify:8,copy:16,"annot-forms":32};function pc(i,a,r,o){this.v=1,this.r=2;var c=192;i.forEach(function(p){if(am.perm!==void 0)throw new Error("Invalid permission: "+p);c+=am[p]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(a+this.padding).substr(0,32),m=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,m),this.P=-(1+(255^c)),this.encryptionKey=wf(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(o)).substr(0,5),this.U=jf(this.encryptionKey,this.padding)}function mc(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var a="",r=i.length,o=0;o<r;o++){var c=i.charCodeAt(o);a+=c<33||c===35||c===37||c===40||c===41||c===47||c===60||c===62||c===91||c===93||c===123||c===125||c>126?"#"+("0"+c.toString(16)).slice(-2):i[o]}return a}function im(i){if(tr(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var a={};this.subscribe=function(r,o,c){if(c=c||!1,typeof r!="string"||typeof o!="function"||typeof c!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");a.hasOwnProperty(r)||(a[r]={});var l=Math.random().toString(35);return a[r][l]=[o,!!c],l},this.unsubscribe=function(r){for(var o in a)if(a[o][r])return delete a[o][r],Object.keys(a[o]).length===0&&delete a[o],!0;return!1},this.publish=function(r){if(a.hasOwnProperty(r)){var o=Array.prototype.slice.call(arguments,1),c=[];for(var l in a[r]){var m=a[r][l];try{m[0].apply(i,o)}catch(p){cn.console&&lr.error("jsPDF PubSub Error",p.message,p)}m[1]&&c.push(l)}c.length&&c.forEach(this.unsubscribe)}},this.getTopics=function(){return a}}function Gd(i){if(!(this instanceof Gd))return new Gd(i);var a="opacity,stroke-opacity".split(",");for(var r in i)i.hasOwnProperty(r)&&a.indexOf(r)>=0&&(this[r]=i[r]);this.id="",this.objectNumber=-1}function v0(i,a){this.gState=i,this.matrix=a,this.id="",this.objectNumber=-1}function Bl(i,a,r,o,c){if(!(this instanceof Bl))return new Bl(i,a,r,o,c);this.type=i==="axial"?2:3,this.coords=a,this.colors=r,v0.call(this,o,c)}function gc(i,a,r,o,c){if(!(this instanceof gc))return new gc(i,a,r,o,c);this.boundingBox=i,this.xStep=a,this.yStep=r,this.stream="",this.cloneIndex=0,v0.call(this,o,c)}function Ht(i){var a,r=typeof arguments[0]=="string"?arguments[0]:"p",o=arguments[1],c=arguments[2],l=arguments[3],m=[],p=1,g=16,v="S",j=null;tr(i=i||{})==="object"&&(r=i.orientation,o=i.unit||o,c=i.format||c,l=i.compress||i.compressPdf||l,(j=i.encryption||null)!==null&&(j.userPassword=j.userPassword||"",j.ownerPassword=j.ownerPassword||"",j.userPermissions=j.userPermissions||[]),p=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(a=i.precision),i.floatPrecision!==void 0&&(g=i.floatPrecision),v=i.defaultPathOperation||"S"),m=i.filters||(l===!0?["FlateEncode"]:m),o=o||"mm",r=(""+(r||"P")).toLowerCase();var A=i.putOnlyUsedFonts||!1,M={},b={internal:{},__private__:{}};b.__private__.PubSub=im;var U="1.3",E=b.__private__.getPdfVersion=function(){return U};b.__private__.setPdfVersion=function(x){U=x};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return I};var P=b.__private__.getPageFormat=function(x){return I[x]};c=c||"a4";var W="compat",X="advanced",H=W;function fe(){this.saveGraphicsState(),Y(new Nt(se,0,0,-se,0,gi()*se).toString()+" cm"),this.setFontSize(this.getFontSize()/se),v="n",H=X}function he(){this.restoreGraphicsState(),v="S",H=W}var Ee=b.__private__.combineFontStyleAndFontWeight=function(x,L){if(x=="bold"&&L=="normal"||x=="bold"&&L==400||x=="normal"&&L=="italic"||x=="bold"&&L=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return L&&(x=L==400||L==="normal"?x==="italic"?"italic":"normal":L!=700&&L!=="bold"||x!=="normal"?(L==700?"bold":L)+""+x:"bold"),x};b.advancedAPI=function(x){var L=H===W;return L&&fe.call(this),typeof x!="function"||(x(this),L&&he.call(this)),this},b.compatAPI=function(x){var L=H===X;return L&&he.call(this),typeof x!="function"||(x(this),L&&fe.call(this)),this},b.isAdvancedAPI=function(){return H===X};var ge,ee=function(x){if(H!==X)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},xe=b.roundToPrecision=b.__private__.roundToPrecision=function(x,L){var ae=a||L;if(isNaN(x)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(ae).replace(/0+$/,"")};ge=b.hpf=b.__private__.hpf=typeof g=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return xe(x,g)}:g==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return xe(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return xe(x,16)};var z=b.f2=b.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return xe(x,2)},$=b.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return xe(x,3)},le=b.scale=b.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return H===W?x*se:H===X?x:void 0},ie=function(x){return le((function(L){return H===W?gi()-L:H===X?L:void 0})(x))};b.__private__.setPrecision=b.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(a=parseInt(x,10))};var we,_e="00000000000000000000000000000000",Ie=b.__private__.getFileId=function(){return _e},pe=b.__private__.setFileId=function(x){return _e=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():_e.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),j!==null&&(hr=new pc(j.userPermissions,j.userPassword,j.ownerPassword,_e)),_e};b.setFileId=function(x){return pe(x),this},b.getFileId=function(){return Ie()};var Pe=b.__private__.convertDateToPDFDate=function(x){var L=x.getTimezoneOffset(),ae=L<0?"+":"-",me=Math.floor(Math.abs(L/60)),Le=Math.abs(L%60),Qe=[ae,Z(me),"'",Z(Le),"'"].join("");return["D:",x.getFullYear(),Z(x.getMonth()+1),Z(x.getDate()),Z(x.getHours()),Z(x.getMinutes()),Z(x.getSeconds()),Qe].join("")},Ue=b.__private__.convertPDFDateToDate=function(x){var L=parseInt(x.substr(2,4),10),ae=parseInt(x.substr(6,2),10)-1,me=parseInt(x.substr(8,2),10),Le=parseInt(x.substr(10,2),10),Qe=parseInt(x.substr(12,2),10),rt=parseInt(x.substr(14,2),10);return new Date(L,ae,me,Le,Qe,rt,0)},te=b.__private__.setCreationDate=function(x){var L;if(x===void 0&&(x=new Date),x instanceof Date)L=Pe(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");L=x}return we=L},C=b.__private__.getCreationDate=function(x){var L=we;return x==="jsDate"&&(L=Ue(we)),L};b.setCreationDate=function(x){return te(x),this},b.getCreationDate=function(x){return C(x)};var K,Z=b.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},de=b.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},ce=0,be=[],Me=[],Fe=0,$e=[],De=[],at=!1,ot=Me;b.__private__.setCustomOutputDestination=function(x){at=!0,ot=x};var gt=function(x){at||(ot=x)};b.__private__.resetCustomOutputDestination=function(){at=!1,ot=Me};var Y=b.__private__.out=function(x){return x=x.toString(),Fe+=x.length+1,ot.push(x),ot},nt=b.__private__.write=function(x){return Y(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},It=b.__private__.getArrayBuffer=function(x){for(var L=x.length,ae=new ArrayBuffer(L),me=new Uint8Array(ae);L--;)me[L]=x.charCodeAt(L);return ae},wt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return wt};var Ke=i.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(x){return Ke=H===X?x/se:x,this};var _t,vt=b.__private__.getFontSize=b.getFontSize=function(){return H===W?Ke:Ke*se},ct=i.R2L||!1;b.__private__.setR2L=b.setR2L=function(x){return ct=x,this},b.__private__.getR2L=b.getR2L=function(){return ct};var St,nn=b.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))_t=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');_t=x}else _t=parseInt(x,10)};b.__private__.getZoomMode=function(){return _t};var Zt,Jt=b.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');St=x};b.__private__.getPageMode=function(){return St};var Gt=b.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Zt=x};b.__private__.getLayoutMode=function(){return Zt},b.__private__.setDisplayMode=b.setDisplayMode=function(x,L,ae){return nn(x),Gt(L),Jt(ae),this};var Ce={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(x){if(Object.keys(Ce).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ce[x]},b.__private__.getDocumentProperties=function(){return Ce},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(x){for(var L in Ce)Ce.hasOwnProperty(L)&&x[L]&&(Ce[L]=x[L]);return this},b.__private__.setDocumentProperty=function(x,L){if(Object.keys(Ce).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ce[x]=L};var ze,se,ke,Xe,ht,Ve={},ft={},$t=[],bt={},fn={},Bt={},Kt={},hn=null,Vt=0,oe=[],dt=new im(b),Br=i.hotfixes||[],Yt={},Dn={},Qt=[],Nt=function x(L,ae,me,Le,Qe,rt){if(!(this instanceof x))return new x(L,ae,me,Le,Qe,rt);isNaN(L)&&(L=1),isNaN(ae)&&(ae=0),isNaN(me)&&(me=0),isNaN(Le)&&(Le=1),isNaN(Qe)&&(Qe=0),isNaN(rt)&&(rt=0),this._matrix=[L,ae,me,Le,Qe,rt]};Object.defineProperty(Nt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(Nt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(Nt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(Nt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(Nt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(Nt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(Nt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(Nt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(Nt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(Nt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(Nt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(Nt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(Nt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Nt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Nt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Nt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Nt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ge).join(x)},Nt.prototype.multiply=function(x){var L=x.sx*this.sx+x.shy*this.shx,ae=x.sx*this.shy+x.shy*this.sy,me=x.shx*this.sx+x.sy*this.shx,Le=x.shx*this.shy+x.sy*this.sy,Qe=x.tx*this.sx+x.ty*this.shx+this.tx,rt=x.tx*this.shy+x.ty*this.sy+this.ty;return new Nt(L,ae,me,Le,Qe,rt)},Nt.prototype.decompose=function(){var x=this.sx,L=this.shy,ae=this.shx,me=this.sy,Le=this.tx,Qe=this.ty,rt=Math.sqrt(x*x+L*L),kt=(x/=rt)*ae+(L/=rt)*me;ae-=x*kt,me-=L*kt;var Tt=Math.sqrt(ae*ae+me*me);return kt/=Tt,x*(me/=Tt)<L*(ae/=Tt)&&(x=-x,L=-L,kt=-kt,rt=-rt),{scale:new Nt(rt,0,0,Tt,0,0),translate:new Nt(1,0,0,1,Le,Qe),rotate:new Nt(x,L,-L,x,0,0),skew:new Nt(1,0,kt,1,0,0)}},Nt.prototype.toString=function(x){return this.join(" ")},Nt.prototype.inversed=function(){var x=this.sx,L=this.shy,ae=this.shx,me=this.sy,Le=this.tx,Qe=this.ty,rt=1/(x*me-L*ae),kt=me*rt,Tt=-L*rt,qt=-ae*rt,rn=x*rt;return new Nt(kt,Tt,qt,rn,-kt*Le-qt*Qe,-Tt*Le-rn*Qe)},Nt.prototype.applyToPoint=function(x){var L=x.x*this.sx+x.y*this.shx+this.tx,ae=x.x*this.shy+x.y*this.sy+this.ty;return new pi(L,ae)},Nt.prototype.applyToRectangle=function(x){var L=this.applyToPoint(x),ae=this.applyToPoint(new pi(x.x+x.w,x.y+x.h));return new Ki(L.x,L.y,ae.x-L.x,ae.y-L.y)},Nt.prototype.clone=function(){var x=this.sx,L=this.shy,ae=this.shx,me=this.sy,Le=this.tx,Qe=this.ty;return new Nt(x,L,ae,me,Le,Qe)},b.Matrix=Nt;var za=b.matrixMult=function(x,L){return L.multiply(x)},ci=new Nt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=ci;var la=function(x,L){if(!fn[x]){var ae=(L instanceof Bl?"Sh":"P")+(Object.keys(bt).length+1).toString(10);L.id=ae,fn[x]=ae,bt[ae]=L,dt.publish("addPattern",L)}};b.ShadingPattern=Bl,b.TilingPattern=gc,b.addShadingPattern=function(x,L){return ee("addShadingPattern()"),la(x,L),this},b.beginTilingPattern=function(x){ee("beginTilingPattern()"),ba(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},b.endTilingPattern=function(x,L){ee("endTilingPattern()"),L.stream=De[K].join(`
`),la(x,L),dt.publish("endTilingPattern",L),Qt.pop().restore()};var Qa,An=b.__private__.newObject=function(){var x=_r();return zr(x,!0),x},_r=b.__private__.newObjectDeferred=function(){return ce++,be[ce]=function(){return Fe},ce},zr=function(x,L){return L=typeof L=="boolean"&&L,be[x]=Fe,L&&Y(x+" 0 obj"),x},Ii=b.__private__.newAdditionalObject=function(){var x={objId:_r(),content:""};return $e.push(x),x},Et=_r(),rr=_r(),di=b.__private__.decodeColorString=function(x){var L=x.split(" ");if(L.length!==2||L[1]!=="g"&&L[1]!=="G")L.length!==5||L[4]!=="k"&&L[4]!=="K"||(L=[(1-L[0])*(1-L[3]),(1-L[1])*(1-L[3]),(1-L[2])*(1-L[3]),"r"]);else{var ae=parseFloat(L[0]);L=[ae,ae,ae,"r"]}for(var me="#",Le=0;Le<3;Le++)me+=("0"+Math.floor(255*parseFloat(L[Le])).toString(16)).slice(-2);return me},Jr=b.__private__.encodeColorString=function(x){var L;typeof x=="string"&&(x={ch1:x});var ae=x.ch1,me=x.ch2,Le=x.ch3,Qe=x.ch4,rt=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var kt=new x0(ae);if(kt.ok)ae=kt.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var Tt=parseInt(ae.substr(1),16);ae=Tt>>16&255,me=Tt>>8&255,Le=255&Tt}if(me===void 0||Qe===void 0&&ae===me&&me===Le)L=typeof ae=="string"?ae+" "+rt[0]:x.precision===2?z(ae/255)+" "+rt[0]:$(ae/255)+" "+rt[0];else if(Qe===void 0||tr(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return["1.","1.","1.",rt[1]].join(" ");L=typeof ae=="string"?[ae,me,Le,rt[1]].join(" "):x.precision===2?[z(ae/255),z(me/255),z(Le/255),rt[1]].join(" "):[$(ae/255),$(me/255),$(Le/255),rt[1]].join(" ")}else L=typeof ae=="string"?[ae,me,Le,Qe,rt[2]].join(" "):x.precision===2?[z(ae),z(me),z(Le),z(Qe),rt[2]].join(" "):[$(ae),$(me),$(Le),$(Qe),rt[2]].join(" ");return L},Fn=b.__private__.getFilters=function(){return m},$n=b.__private__.putStream=function(x){var L=(x=x||{}).data||"",ae=x.filters||Fn(),me=x.alreadyAppliedFilters||[],Le=x.addLength1||!1,Qe=L.length,rt=x.objectId,kt=function(Nr){return Nr};if(j!==null&&rt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");j!==null&&(kt=hr.encryptor(rt,0));var Tt={};ae===!0&&(ae=["FlateEncode"]);var qt=x.additionalKeyValues||[],rn=(Tt=Ht.API.processDataByFilters!==void 0?Ht.API.processDataByFilters(L,ae):{data:L,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(Tt.data.length!==0&&(qt.push({key:"Length",value:Tt.data.length}),Le===!0&&qt.push({key:"Length1",value:Qe})),rn.length!=0)if(rn.split("/").length-1==1)qt.push({key:"Filter",value:rn});else{qt.push({key:"Filter",value:"["+rn+"]"});for(var dn=0;dn<qt.length;dn+=1)if(qt[dn].key==="DecodeParms"){for(var ir=[],sr=0;sr<Tt.reverseChain.split("/").length-1;sr+=1)ir.push("null");ir.push(qt[dn].value),qt[dn].value="["+ir.join(" ")+"]"}}Y("<<");for(var Vn=0;Vn<qt.length;Vn++)Y("/"+qt[Vn].key+" "+qt[Vn].value);Y(">>"),Tt.data.length!==0&&(Y("stream"),Y(kt(Tt.data)),Y("endstream"))},cr=b.__private__.putPage=function(x){var L=x.number,ae=x.data,me=x.objId,Le=x.contentsObjId;zr(me,!0),Y("<</Type /Page"),Y("/Parent "+x.rootDictionaryObjId+" 0 R"),Y("/Resources "+x.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(ge(x.mediaBox.bottomLeftX))+" "+parseFloat(ge(x.mediaBox.bottomLeftY))+" "+ge(x.mediaBox.topRightX)+" "+ge(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&Y("/CropBox ["+ge(x.cropBox.bottomLeftX)+" "+ge(x.cropBox.bottomLeftY)+" "+ge(x.cropBox.topRightX)+" "+ge(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&Y("/BleedBox ["+ge(x.bleedBox.bottomLeftX)+" "+ge(x.bleedBox.bottomLeftY)+" "+ge(x.bleedBox.topRightX)+" "+ge(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&Y("/TrimBox ["+ge(x.trimBox.bottomLeftX)+" "+ge(x.trimBox.bottomLeftY)+" "+ge(x.trimBox.topRightX)+" "+ge(x.trimBox.topRightY)+"]"),x.artBox!==null&&Y("/ArtBox ["+ge(x.artBox.bottomLeftX)+" "+ge(x.artBox.bottomLeftY)+" "+ge(x.artBox.topRightX)+" "+ge(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&Y("/UserUnit "+x.userUnit),dt.publish("putPage",{objId:me,pageContext:oe[L],pageNumber:L,page:ae}),Y("/Contents "+Le+" 0 R"),Y(">>"),Y("endobj");var Qe=ae.join(`
`);return H===X&&(Qe+=`
Q`),zr(Le,!0),$n({data:Qe,filters:Fn(),objectId:Le}),Y("endobj"),me},dr=b.__private__.putPages=function(){var x,L,ae=[];for(x=1;x<=Vt;x++)oe[x].objId=_r(),oe[x].contentsObjId=_r();for(x=1;x<=Vt;x++)ae.push(cr({number:x,data:De[x],objId:oe[x].objId,contentsObjId:oe[x].contentsObjId,mediaBox:oe[x].mediaBox,cropBox:oe[x].cropBox,bleedBox:oe[x].bleedBox,trimBox:oe[x].trimBox,artBox:oe[x].artBox,userUnit:oe[x].userUnit,rootDictionaryObjId:Et,resourceDictionaryObjId:rr}));zr(Et,!0),Y("<</Type /Pages");var me="/Kids [";for(L=0;L<Vt;L++)me+=ae[L]+" 0 R ";Y(me+"]"),Y("/Count "+Vt),Y(">>"),Y("endobj"),dt.publish("postPutPages")},Ss=function(x){dt.publish("putFont",{font:x,out:Y,newObject:An,putStream:$n}),x.isAlreadyPutted!==!0&&(x.objectNumber=An(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+mc(x.postScriptName)),Y("/Subtype /Type1"),typeof x.encoding=="string"&&Y("/Encoding /"+x.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},ui=function(x){x.objectNumber=An();var L=[];L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Form"}),L.push({key:"BBox",value:"["+[ge(x.x),ge(x.y),ge(x.x+x.width),ge(x.y+x.height)].join(" ")+"]"}),L.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var ae=x.pages[1].join(`
`);$n({data:ae,additionalKeyValues:L,objectId:x.objectNumber}),Y("endobj")},mt=function(x,L){L||(L=21);var ae=An(),me=(function(rt,kt){var Tt,qt=[],rn=1/(kt-1);for(Tt=0;Tt<1;Tt+=rn)qt.push(Tt);if(qt.push(1),rt[0].offset!=0){var dn={offset:0,color:rt[0].color};rt.unshift(dn)}if(rt[rt.length-1].offset!=1){var ir={offset:1,color:rt[rt.length-1].color};rt.push(ir)}for(var sr="",Vn=0,Nr=0;Nr<qt.length;Nr++){for(Tt=qt[Nr];Tt>rt[Vn+1].offset;)Vn++;var kr=rt[Vn].offset,ea=(Tt-kr)/(rt[Vn+1].offset-kr),Qi=rt[Vn].color,Kn=rt[Vn+1].color;sr+=de(Math.round((1-ea)*Qi[0]+ea*Kn[0]).toString(16))+de(Math.round((1-ea)*Qi[1]+ea*Kn[1]).toString(16))+de(Math.round((1-ea)*Qi[2]+ea*Kn[2]).toString(16))}return sr.trim()})(x.colors,L),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+L+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$n({data:me,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),Y("endobj"),x.objectNumber=An(),Y("<< /ShadingType "+x.type),Y("/ColorSpace /DeviceRGB");var Qe="/Coords ["+ge(parseFloat(x.coords[0]))+" "+ge(parseFloat(x.coords[1]))+" ";x.type===2?Qe+=ge(parseFloat(x.coords[2]))+" "+ge(parseFloat(x.coords[3])):Qe+=ge(parseFloat(x.coords[2]))+" "+ge(parseFloat(x.coords[3]))+" "+ge(parseFloat(x.coords[4]))+" "+ge(parseFloat(x.coords[5])),Y(Qe+="]"),x.matrix&&Y("/Matrix ["+x.matrix.toString()+"]"),Y("/Function "+ae+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Ur=function(x,L){var ae=_r(),me=An();L.push({resourcesOid:ae,objectOid:me}),x.objectNumber=me;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+x.boundingBox.map(ge).join(" ")+"]"}),Le.push({key:"XStep",value:ge(x.xStep)}),Le.push({key:"YStep",value:ge(x.yStep)}),Le.push({key:"Resources",value:ae+" 0 R"}),x.matrix&&Le.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),$n({data:x.stream,additionalKeyValues:Le,objectId:x.objectNumber}),Y("endobj")},Ns=function(x){for(var L in x.objectNumber=An(),Y("<<"),x)switch(L){case"opacity":Y("/ca "+z(x[L]));break;case"stroke-opacity":Y("/CA "+z(x[L]))}Y(">>"),Y("endobj")},Cn=function(x){zr(x.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var L in Y("/Font <<"),Ve)Ve.hasOwnProperty(L)&&(A===!1||A===!0&&M.hasOwnProperty(L))&&Y("/"+L+" "+Ve[L].objectNumber+" 0 R");Y(">>")})(),(function(){if(Object.keys(bt).length>0){for(var L in Y("/Shading <<"),bt)bt.hasOwnProperty(L)&&bt[L]instanceof Bl&&bt[L].objectNumber>=0&&Y("/"+L+" "+bt[L].objectNumber+" 0 R");dt.publish("putShadingPatternDict"),Y(">>")}})(),(function(L){if(Object.keys(bt).length>0){for(var ae in Y("/Pattern <<"),bt)bt.hasOwnProperty(ae)&&bt[ae]instanceof b.TilingPattern&&bt[ae].objectNumber>=0&&bt[ae].objectNumber<L&&Y("/"+ae+" "+bt[ae].objectNumber+" 0 R");dt.publish("putTilingPatternDict"),Y(">>")}})(x.objectOid),(function(){if(Object.keys(Bt).length>0){var L;for(L in Y("/ExtGState <<"),Bt)Bt.hasOwnProperty(L)&&Bt[L].objectNumber>=0&&Y("/"+L+" "+Bt[L].objectNumber+" 0 R");dt.publish("putGStateDict"),Y(">>")}})(),(function(){for(var L in Y("/XObject <<"),Yt)Yt.hasOwnProperty(L)&&Yt[L].objectNumber>=0&&Y("/"+L+" "+Yt[L].objectNumber+" 0 R");dt.publish("putXobjectDict"),Y(">>")})(),Y(">>"),Y("endobj")},Ei=function(x){ft[x.fontName]=ft[x.fontName]||{},ft[x.fontName][x.fontStyle]=x.id},Xa=function(x,L,ae,me,Le){var Qe={id:"F"+(Object.keys(Ve).length+1).toString(10),postScriptName:x,fontName:L,fontStyle:ae,encoding:me,isStandardFont:Le||!1,metadata:{}};return dt.publish("addFont",{font:Qe,instance:this}),Ve[Qe.id]=Qe,Ei(Qe),Qe.id},ur=b.__private__.pdfEscape=b.pdfEscape=function(x,L){return(function(ae,me){var Le,Qe,rt,kt,Tt,qt,rn,dn,ir;if(rt=(me=me||{}).sourceEncoding||"Unicode",Tt=me.outputEncoding,(me.autoencode||Tt)&&Ve[ze].metadata&&Ve[ze].metadata[rt]&&Ve[ze].metadata[rt].encoding&&(kt=Ve[ze].metadata[rt].encoding,!Tt&&Ve[ze].encoding&&(Tt=Ve[ze].encoding),!Tt&&kt.codePages&&(Tt=kt.codePages[0]),typeof Tt=="string"&&(Tt=kt[Tt]),Tt)){for(rn=!1,qt=[],Le=0,Qe=ae.length;Le<Qe;Le++)(dn=Tt[ae.charCodeAt(Le)])?qt.push(String.fromCharCode(dn)):qt.push(ae[Le]),qt[Le].charCodeAt(0)>>8&&(rn=!0);ae=qt.join("")}for(Le=ae.length;rn===void 0&&Le!==0;)ae.charCodeAt(Le-1)>>8&&(rn=!0),Le--;if(!rn)return ae;for(qt=me.noBOM?[]:[254,255],Le=0,Qe=ae.length;Le<Qe;Le++){if((ir=(dn=ae.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qt.push(ir),qt.push(dn-(ir<<8))}return String.fromCharCode.apply(void 0,qt)})(x,L).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mi=b.__private__.beginPage=function(x){De[++Vt]=[],oe[Vt]={objId:0,contentsObjId:0,userUnit:Number(p),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Kr(Vt),gt(De[K])},Jo=function(x,L){var ae,me,Le;switch(r=L||r,typeof x=="string"&&(ae=P(x.toLowerCase()),Array.isArray(ae)&&(me=ae[0],Le=ae[1])),Array.isArray(x)&&(me=x[0]*se,Le=x[1]*se),isNaN(me)&&(me=c[0],Le=c[1]),(me>14400||Le>14400)&&(lr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),Le=Math.min(14400,Le)),c=[me,Le],r.substr(0,1)){case"l":Le>me&&(c=[Le,me]);break;case"p":me>Le&&(c=[Le,me])}Mi(c),Xt(Jn),Y(Ia),$s!==0&&Y($s+" J"),Sr!==0&&Y(Sr+" j"),dt.publish("addPage",{pageNumber:Vt})},Vi=function(x){x>0&&x<=Vt&&(De.splice(x,1),oe.splice(x,1),Vt--,K>Vt&&(K=Vt),this.setPage(K))},Kr=function(x){x>0&&x<=Vt&&(K=x)},Qr=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return De.length-1},Yi=function(x,L,ae){var me,Le=void 0;return ae=ae||{},x=x!==void 0?x:Ve[ze].fontName,L=L!==void 0?L:Ve[ze].fontStyle,me=x.toLowerCase(),ft[me]!==void 0&&ft[me][L]!==void 0?Le=ft[me][L]:ft[x]!==void 0&&ft[x][L]!==void 0?Le=ft[x][L]:ae.disableWarning===!1&&lr.warn("Unable to look up font label for font '"+x+"', '"+L+"'. Refer to getFontList() for available fonts."),Le||ae.noFallback||(Le=ft.times[L])==null&&(Le=ft.times.normal),Le},fr=b.__private__.putInfo=function(){var x=An(),L=function(me){return me};for(var ae in j!==null&&(L=hr.encryptor(x,0)),Y("<<"),Y("/Producer ("+ur(L("jsPDF "+Ht.version))+")"),Ce)Ce.hasOwnProperty(ae)&&Ce[ae]&&Y("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+ur(L(Ce[ae]))+")");Y("/CreationDate ("+ur(L(we))+")"),Y(">>"),Y("endobj")},gn=b.__private__.putCatalog=function(x){var L=(x=x||{}).rootDictionaryObjId||Et;switch(An(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+L+" 0 R"),_t||(_t="fullwidth"),_t){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+_t;ae.substr(ae.length-1)==="%"&&(_t=parseInt(_t)/100),typeof _t=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+z(_t)+"]")}switch(Zt||(Zt="continuous"),Zt){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}St&&Y("/PageMode /"+St),dt.publish("putCatalog"),Y(">>"),Y("endobj")},us=b.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(ce+1)),Y("/Root "+ce+" 0 R"),Y("/Info "+(ce-1)+" 0 R"),j!==null&&Y("/Encrypt "+hr.oid+" 0 R"),Y("/ID [ <"+_e+"> <"+_e+"> ]"),Y(">>")},Ir=b.__private__.putHeader=function(){Y("%PDF-"+U),Y("%")},fs=b.__private__.putXRef=function(){var x="0000000000";Y("xref"),Y("0 "+(ce+1)),Y("0000000000 65535 f ");for(var L=1;L<=ce;L++)typeof be[L]=="function"?Y((x+be[L]()).slice(-10)+" 00000 n "):be[L]!==void 0?Y((x+be[L]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},ya=b.__private__.buildDocument=function(){var x;ce=0,Fe=0,Me=[],be=[],$e=[],Et=_r(),rr=_r(),gt(Me),dt.publish("buildDocument"),Ir(),dr(),(function(){dt.publish("putAdditionalObjects");for(var ae=0;ae<$e.length;ae++){var me=$e[ae];zr(me.objId,!0),Y(me.content),Y("endobj")}dt.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var ae in Ve)Ve.hasOwnProperty(ae)&&(A===!1||A===!0&&M.hasOwnProperty(ae))&&Ss(Ve[ae])})(),(function(){var ae;for(ae in Bt)Bt.hasOwnProperty(ae)&&Ns(Bt[ae])})(),(function(){for(var ae in Yt)Yt.hasOwnProperty(ae)&&ui(Yt[ae])})(),(function(ae){var me;for(me in bt)bt.hasOwnProperty(me)&&(bt[me]instanceof Bl?mt(bt[me]):bt[me]instanceof gc&&Ur(bt[me],ae))})(x),dt.publish("putResources"),x.forEach(Cn),Cn({resourcesOid:rr,objectOid:Number.MAX_SAFE_INTEGER}),dt.publish("postPutResources"),j!==null&&(hr.oid=An(),Y("<<"),Y("/Filter /Standard"),Y("/V "+hr.v),Y("/R "+hr.r),Y("/U <"+hr.toHexString(hr.U)+">"),Y("/O <"+hr.toHexString(hr.O)+">"),Y("/P "+hr.P),Y(">>"),Y("endobj")),fr(),gn();var L=Fe;return fs(),us(),Y("startxref"),Y(""+L),Y("%%EOF"),gt(De[K]),Me.join(`
`)},Di=b.__private__.getBlob=function(x){return new Blob([It(x)],{type:"application/pdf"})},go=b.output=b.__private__.output=(Qa=function(x,L){switch(typeof(L=L||{})=="string"?L={filename:L}:L.filename=L.filename||"generated.pdf",x){case void 0:return ya();case"save":b.save(L.filename);break;case"arraybuffer":return It(ya());case"blob":return Di(ya());case"bloburi":case"bloburl":if(cn.URL!==void 0&&typeof cn.URL.createObjectURL=="function")return cn.URL&&cn.URL.createObjectURL(Di(ya()))||void 0;lr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",me=ya();try{ae=nm(me)}catch{ae=nm(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+L.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';L.pdfObjectUrl&&(Le=L.pdfObjectUrl,Qe="");var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(L)+");<\/script></body></html>",kt=cn.open();return kt!==null&&kt.document.write(rt),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(L.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+L.filename+'" width="500px" height="400px" /></body></html>',qt=cn.open();if(qt!==null){qt.document.write(Tt);var rn=this;qt.document.documentElement.querySelector("#pdfViewer").onload=function(){qt.document.title=L.filename,qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(rn.output("bloburl"))}}return qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(cn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",L)+'"></iframe></body></html>',ir=cn.open();if(ir!==null&&(ir.document.write(dn),ir.document.title=L.filename),ir||typeof safari>"u")return ir;break;case"datauri":case"dataurl":return cn.document.location.href=this.output("datauristring",L);default:return null}},Qa.foo=function(){try{return Qa.apply(this,arguments)}catch(ae){var x=ae.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var L="Error in function "+x.split(`
`)[0].split("<")[0]+": "+ae.message;if(!cn.console)throw new Error(L);cn.console.error(L,ae),cn.alert&&alert(L)}},Qa.foo.bar=Qa,Qa.foo),Ua=function(x){return Array.isArray(Br)===!0&&Br.indexOf(x)>-1};switch(o){case"pt":se=1;break;case"mm":se=72/25.4;break;case"cm":se=72/2.54;break;case"in":se=72;break;case"px":se=Ua("px_scaling")==1?.75:96/72;break;case"pc":case"em":se=12;break;case"ex":se=6;break;default:if(typeof o!="number")throw new Error("Invalid unit: "+o);se=o}var hr=null;te(),pe();var Fi=b.__private__.getPageInfo=b.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:oe[x].objId,pageNumber:x,pageContext:oe[x]}},Wn=b.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var L in oe)if(oe[L].objId===x)break;return Fi(L)},hs=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:oe[K].objId,pageNumber:K,pageContext:oe[K]}};b.addPage=function(){return Jo.apply(this,arguments),this},b.setPage=function(){return Kr.apply(this,arguments),gt.call(this,De[K]),this},b.insertPage=function(x){return this.addPage(),this.movePage(K,x),this},b.movePage=function(x,L){var ae,me;if(x>L){ae=De[x],me=oe[x];for(var Le=x;Le>L;Le--)De[Le]=De[Le-1],oe[Le]=oe[Le-1];De[L]=ae,oe[L]=me,this.setPage(L)}else if(x<L){ae=De[x],me=oe[x];for(var Qe=x;Qe<L;Qe++)De[Qe]=De[Qe+1],oe[Qe]=oe[Qe+1];De[L]=ae,oe[L]=me,this.setPage(L)}return this},b.deletePage=function(){return Vi.apply(this,arguments),this},b.__private__.text=b.text=function(x,L,ae,me,Le){var Qe,rt,kt,Tt,qt,rn,dn,ir,sr,Vn=(me=me||{}).scope||this;if(typeof x=="number"&&typeof L=="number"&&(typeof ae=="string"||Array.isArray(ae))){var Nr=ae;ae=L,L=x,x=Nr}if(arguments[3]instanceof Nt==0?(kt=arguments[4],Tt=arguments[5],tr(dn=arguments[3])==="object"&&dn!==null||(typeof kt=="string"&&(Tt=kt,kt=null),typeof dn=="string"&&(Tt=dn,dn=null),typeof dn=="number"&&(kt=dn,dn=null),me={flags:dn,angle:kt,align:Tt})):(ee("The transform parameter of text() with a Matrix value"),sr=Le),isNaN(L)||isNaN(ae)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return Vn;var kr,ea="",Qi=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:zn,Kn=Vn.internal.scaleFactor;function Bi(Mn){return Mn=Mn.split("	").join(Array(me.TabLen||9).join(" ")),ur(Mn,dn)}function Ar(Mn){for(var bn,yr=Mn.concat(),Mr=[],ji=yr.length;ji--;)typeof(bn=yr.shift())=="string"?Mr.push(bn):Array.isArray(Mn)&&(bn.length===1||bn[1]===void 0&&bn[2]===void 0)?Mr.push(bn[0]):Mr.push([bn[0],bn[1],bn[2]]);return Mr}function xi(Mn,bn){var yr;if(typeof Mn=="string")yr=bn(Mn)[0];else if(Array.isArray(Mn)){for(var Mr,ji,vr=Mn.concat(),vo=[],Is=vr.length;Is--;)typeof(Mr=vr.shift())=="string"?vo.push(bn(Mr)[0]):Array.isArray(Mr)&&typeof Mr[0]=="string"&&(ji=bn(Mr[0],Mr[1],Mr[2]),vo.push([ji[0],ji[1],ji[2]]));yr=vo}return yr}var Xi=!1,Cs=!0;if(typeof x=="string")Xi=!0;else if(Array.isArray(x)){var Zi=x.concat();rt=[];for(var ei,mr=Zi.length;mr--;)(typeof(ei=Zi.shift())!="string"||Array.isArray(ei)&&typeof ei[0]!="string")&&(Cs=!1);Xi=Cs}if(Xi===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var zi=Ke/Vn.internal.scaleFactor,Ps=zi*(Qi-1);switch(me.baseline){case"bottom":ae-=Ps;break;case"top":ae+=zi-Ps;break;case"hanging":ae+=zi-2*Ps;break;case"middle":ae+=zi/2-Ps}if((rn=me.maxWidth||0)>0&&(typeof x=="string"?x=Vn.splitTextToSize(x,rn):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(Mn,bn){return Mn.concat(Vn.splitTextToSize(bn,rn))},[]))),Qe={text:x,x:L,y:ae,options:me,mutex:{pdfEscape:ur,activeFontKey:ze,fonts:Ve,activeFontSize:Ke}},dt.publish("preProcessText",Qe),x=Qe.text,kt=(me=Qe.options).angle,sr instanceof Nt==0&&kt&&typeof kt=="number"){kt*=Math.PI/180,me.rotationDirection===0&&(kt=-kt),H===X&&(kt=-kt);var ti=Math.cos(kt),ni=Math.sin(kt);sr=new Nt(ti,ni,-ni,ti,0,0)}else kt&&kt instanceof Nt&&(sr=kt);H!==X||sr||(sr=ci),(qt=me.charSpace||Ea)!==void 0&&(ea+=ge(le(qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ir=me.horizontalScale)!==void 0&&(ea+=ge(100*ir)+` Tz
`),me.lang;var gr=-1,es=me.renderingMode!==void 0?me.renderingMode:me.stroke,Da=Vn.internal.getCurrentPageInfo().pageContext;switch(es){case 0:case!1:case"fill":gr=0;break;case 1:case!0:case"stroke":gr=1;break;case 2:case"fillThenStroke":gr=2;break;case 3:case"invisible":gr=3;break;case 4:case"fillAndAddForClipping":gr=4;break;case 5:case"strokeAndAddPathForClipping":gr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gr=6;break;case 7:case"addToPathForClipping":gr=7}var ts=Da.usedRenderingMode!==void 0?Da.usedRenderingMode:-1;gr!==-1?ea+=gr+` Tr
`:ts!==-1&&(ea+=`0 Tr
`),gr!==-1&&(Da.usedRenderingMode=gr),Tt=me.align||"left";var ja,jt=Ke*Qi,_n=Vn.internal.pageSize.getWidth(),Ls=Ve[ze];qt=me.charSpace||Ea,rn=me.maxWidth||0,dn=Object.assign({autoencode:!0,noBOM:!0},me.flags);var yi=[],ca=function(Mn){return Vn.getStringUnitWidth(Mn,{font:Ls,charSpace:qt,fontSize:Ke,doKerning:!1})*Ke/Kn};if(Object.prototype.toString.call(x)==="[object Array]"){var ri;rt=Ar(x),Tt!=="left"&&(ja=rt.map(ca));var Sa,vi=0;if(Tt==="right"){L-=ja[0],x=[],mr=rt.length;for(var $r=0;$r<mr;$r++)$r===0?(Sa=Er(L),ri=Ji(ae)):(Sa=le(vi-ja[$r]),ri=-jt),x.push([rt[$r],Sa,ri]),vi=ja[$r]}else if(Tt==="center"){L-=ja[0]/2,x=[],mr=rt.length;for(var ns=0;ns<mr;ns++)ns===0?(Sa=Er(L),ri=Ji(ae)):(Sa=le((vi-ja[ns])/2),ri=-jt),x.push([rt[ns],Sa,ri]),vi=ja[ns]}else if(Tt==="left"){x=[],mr=rt.length;for(var Ui=0;Ui<mr;Ui++)x.push(rt[Ui])}else if(Tt==="justify"&&Ls.encoding==="Identity-H"){x=[],mr=rt.length,rn=rn!==0?rn:_n;for(var bi=0,Yn=0;Yn<mr;Yn++)if(ri=Yn===0?Ji(ae):-jt,Sa=Yn===0?Er(L):bi,Yn<mr-1){var Vs=le((rn-ja[Yn])/(rt[Yn].split(" ").length-1)),rs=rt[Yn].split(" ");x.push([rs[0]+" ",Sa,ri]),bi=0;for(var qa=1;qa<rs.length;qa++){var Ys=(ca(rs[qa-1]+" "+rs[qa])-ca(rs[qa]))*Kn+Vs;qa==rs.length-1?x.push([rs[qa],Ys,0]):x.push([rs[qa]+" ",Ys,0]),bi-=Ys}}else x.push([rt[Yn],Sa,ri]);x.push(["",bi,0])}else{if(Tt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],mr=rt.length,rn=rn!==0?rn:_n,Yn=0;Yn<mr;Yn++){ri=Yn===0?Ji(ae):-jt,Sa=Yn===0?Er(L):0;var xo=rt[Yn].split(" ").length-1,Gs=xo>0?(rn-ja[Yn])/xo:0;Yn<mr-1?yi.push(ge(le(Gs))):yi.push(0),x.push([rt[Yn],Sa,ri])}}}(typeof me.R2L=="boolean"?me.R2L:ct)===!0&&(x=xi(x,function(Mn,bn,yr){return[Mn.split("").reverse().join(""),bn,yr]})),Qe={text:x,x:L,y:ae,options:me,mutex:{pdfEscape:ur,activeFontKey:ze,fonts:Ve,activeFontSize:Ke}},dt.publish("postProcessText",Qe),x=Qe.text,kr=Qe.mutex.isHex||!1;var yo=Ve[ze].encoding;yo!=="WinAnsiEncoding"&&yo!=="StandardEncoding"||(x=xi(x,function(Mn,bn,yr){return[Bi(Mn),bn,yr]})),rt=Ar(x),x=[];for(var wi,_s,ta,Js=Array.isArray(rt[0])?1:0,na="",Ks=function(Mn,bn,yr){var Mr="";return yr instanceof Nt?(yr=typeof me.angle=="number"?za(yr,new Nt(1,0,0,1,Mn,bn)):za(new Nt(1,0,0,1,Mn,bn),yr),H===X&&(yr=za(new Nt(1,0,0,-1,0,0),yr)),Mr=yr.join(" ")+` Tm
`):Mr=ge(Mn)+" "+ge(bn)+` Td
`,Mr},xr=0;xr<rt.length;xr++){switch(na="",Js){case 1:ta=(kr?"<":"(")+rt[xr][0]+(kr?">":")"),wi=parseFloat(rt[xr][1]),_s=parseFloat(rt[xr][2]);break;case 0:ta=(kr?"<":"(")+rt[xr]+(kr?">":")"),wi=Er(L),_s=Ji(ae)}yi!==void 0&&yi[xr]!==void 0&&(na=yi[xr]+` Tw
`),xr===0?x.push(na+Ks(wi,_s,sr)+ta):Js===0?x.push(na+ta):Js===1&&x.push(na+Ks(wi,_s,sr)+ta)}x=Js===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var $a=`BT
/`;return $a+=ze+" "+Ke+` Tf
`,$a+=ge(Ke*Qi)+` TL
`,$a+=hi+`
`,$a+=ea,$a+=x,Y($a+="ET"),M[ze]=!0,Vn};var Xr=b.__private__.clip=b.clip=function(x){return Y(x==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Xr("evenodd")},b.__private__.discardPath=b.discardPath=function(){return Y("n"),this};var Ri=b.__private__.isValidStyle=function(x){var L=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(L=!0),L};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(x){return Ri(x)&&(v=x),this};var Ti=b.__private__.getStyle=b.getStyle=function(x){var L=v;switch(x){case"D":case"S":L="S";break;case"F":L="f";break;case"FD":case"DF":L="B";break;case"f":case"f*":case"B":case"B*":L=x}return L},Pn=b.close=function(){return Y("h"),this};b.stroke=function(){return Y("S"),this},b.fill=function(x){return zs("f",x),this},b.fillEvenOdd=function(x){return zs("f*",x),this},b.fillStroke=function(x){return zs("B",x),this},b.fillStrokeEvenOdd=function(x){return zs("B*",x),this};var zs=function(x,L){tr(L)==="object"?ks(L,x):Y(x)},fi=function(x){x===null||H===X&&x===void 0||(x=Ti(x),Y(x))};function qr(x,L,ae,me,Le){var Qe=new gc(L||this.boundingBox,ae||this.xStep,me||this.yStep,this.gState,Le||this.matrix);Qe.stream=this.stream;var rt=x+"$$"+this.cloneIndex+++"$$";return la(rt,Qe),Qe}var ks=function(x,L){var ae=fn[x.key],me=bt[ae];if(me instanceof Bl)Y("q"),Y(vn(L)),me.gState&&b.setGState(me.gState),Y(x.matrix.toString()+" cm"),Y("/"+ae+" sh"),Y("Q");else if(me instanceof gc){var Le=new Nt(1,0,0,-1,0,gi());x.matrix&&(Le=Le.multiply(x.matrix||ci),ae=qr.call(me,x.key,x.boundingBox,x.xStep,x.yStep,Le).id),Y("q"),Y("/Pattern cs"),Y("/"+ae+" scn"),me.gState&&b.setGState(me.gState),Y(L),Y("Q")}},vn=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},va=b.moveTo=function(x,L){return Y(ge(le(x))+" "+ge(ie(L))+" m"),this},Gi=b.lineTo=function(x,L){return Y(ge(le(x))+" "+ge(ie(L))+" l"),this},La=b.curveTo=function(x,L,ae,me,Le,Qe){return Y([ge(le(x)),ge(ie(L)),ge(le(ae)),ge(ie(me)),ge(le(Le)),ge(ie(Qe)),"c"].join(" ")),this};b.__private__.line=b.line=function(x,L,ae,me,Le){if(isNaN(x)||isNaN(L)||isNaN(ae)||isNaN(me)||!Ri(Le))throw new Error("Invalid arguments passed to jsPDF.line");return H===W?this.lines([[ae-x,me-L]],x,L,[1,1],Le||"S"):this.lines([[ae-x,me-L]],x,L,[1,1]).stroke()},b.__private__.lines=b.lines=function(x,L,ae,me,Le,Qe){var rt,kt,Tt,qt,rn,dn,ir,sr,Vn,Nr,kr,ea;if(typeof x=="number"&&(ea=ae,ae=L,L=x,x=ea),me=me||[1,1],Qe=Qe||!1,isNaN(L)||isNaN(ae)||!Array.isArray(x)||!Array.isArray(me)||!Ri(Le)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(va(L,ae),rt=me[0],kt=me[1],qt=x.length,Nr=L,kr=ae,Tt=0;Tt<qt;Tt++)(rn=x[Tt]).length===2?(Nr=rn[0]*rt+Nr,kr=rn[1]*kt+kr,Gi(Nr,kr)):(dn=rn[0]*rt+Nr,ir=rn[1]*kt+kr,sr=rn[2]*rt+Nr,Vn=rn[3]*kt+kr,Nr=rn[4]*rt+Nr,kr=rn[5]*kt+kr,La(dn,ir,sr,Vn,Nr,kr));return Qe&&Pn(),fi(Le),this},b.path=function(x){for(var L=0;L<x.length;L++){var ae=x[L],me=ae.c;switch(ae.op){case"m":va(me[0],me[1]);break;case"l":Gi(me[0],me[1]);break;case"c":La.apply(this,me);break;case"h":Pn()}}return this},b.__private__.rect=b.rect=function(x,L,ae,me,Le){if(isNaN(x)||isNaN(L)||isNaN(ae)||isNaN(me)||!Ri(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return H===W&&(me=-me),Y([ge(le(x)),ge(ie(L)),ge(le(ae)),ge(le(me)),"re"].join(" ")),fi(Le),this},b.__private__.triangle=b.triangle=function(x,L,ae,me,Le,Qe,rt){if(isNaN(x)||isNaN(L)||isNaN(ae)||isNaN(me)||isNaN(Le)||isNaN(Qe)||!Ri(rt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-x,me-L],[Le-ae,Qe-me],[x-Le,L-Qe]],x,L,[1,1],rt,!0),this},b.__private__.roundedRect=b.roundedRect=function(x,L,ae,me,Le,Qe,rt){if(isNaN(x)||isNaN(L)||isNaN(ae)||isNaN(me)||isNaN(Le)||isNaN(Qe)||!Ri(rt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*ae),Qe=Math.min(Qe,.5*me),this.lines([[ae-2*Le,0],[Le*kt,0,Le,Qe-Qe*kt,Le,Qe],[0,me-2*Qe],[0,Qe*kt,-Le*kt,Qe,-Le,Qe],[2*Le-ae,0],[-Le*kt,0,-Le,-Qe*kt,-Le,-Qe],[0,2*Qe-me],[0,-Qe*kt,Le*kt,-Qe,Le,-Qe]],x+Le,L,[1,1],rt,!0),this},b.__private__.ellipse=b.ellipse=function(x,L,ae,me,Le){if(isNaN(x)||isNaN(L)||isNaN(ae)||isNaN(me)||!Ri(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*ae,rt=4/3*(Math.SQRT2-1)*me;return va(x+ae,L),La(x+ae,L-rt,x+Qe,L-me,x,L-me),La(x-Qe,L-me,x-ae,L-rt,x-ae,L),La(x-ae,L+rt,x-Qe,L+me,x,L+me),La(x+Qe,L+me,x+ae,L+rt,x+ae,L),fi(Le),this},b.__private__.circle=b.circle=function(x,L,ae,me){if(isNaN(x)||isNaN(L)||isNaN(ae)||!Ri(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,L,ae,ae,me)},b.setFont=function(x,L,ae){return ae&&(L=Ee(L,ae)),ze=Yi(x,L,{disableWarning:!1}),this};var pr=b.__private__.getFont=b.getFont=function(){return Ve[Yi.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var x,L,ae={};for(x in ft)if(ft.hasOwnProperty(x))for(L in ae[x]=[],ft[x])ft[x].hasOwnProperty(L)&&ae[x].push(L);return ae},b.addFont=function(x,L,ae,me,Le){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(ae=Ee(ae,me)),Xa.call(this,x,L,ae,Le=Le||"Identity-H")};var zn,Jn=i.lineWidth||.200025,_a=b.__private__.getLineWidth=b.getLineWidth=function(){return Jn},Xt=b.__private__.setLineWidth=b.setLineWidth=function(x){return Jn=x,Y(ge(le(x))+" w"),this};b.__private__.setLineDash=Ht.API.setLineDash=Ht.API.setLineDashPattern=function(x,L){if(x=x||[],L=L||0,isNaN(L)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(ae){return ge(le(ae))}).join(" "),L=ge(le(L)),Y("["+x+"] "+L+" d"),this};var Za=b.__private__.getLineHeight=b.getLineHeight=function(){return Ke*zn};b.__private__.getLineHeight=b.getLineHeight=function(){return Ke*zn};var jn=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(zn=x),this},Us=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return zn};jn(i.lineHeight);var Er=b.__private__.getHorizontalCoordinate=function(x){return le(x)},Ji=b.__private__.getVerticalCoordinate=function(x){return H===X?x:oe[K].mediaBox.topRightY-oe[K].mediaBox.bottomLeftY-le(x)},qs=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(x){return ge(Er(x))},As=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(x){return ge(Ji(x))},Ia=i.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return di(Ia)},b.__private__.setStrokeColor=b.setDrawColor=function(x,L,ae,me){return Ia=Jr({ch1:x,ch2:L,ch3:ae,ch4:me,pdfColorType:"draw",precision:2}),Y(Ia),this};var Oo=i.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return di(Oo)},b.__private__.setFillColor=b.setFillColor=function(x,L,ae,me){return Oo=Jr({ch1:x,ch2:L,ch3:ae,ch4:me,pdfColorType:"fill",precision:2}),Y(Oo),this};var hi=i.textColor||"0 g",ar=b.__private__.getTextColor=b.getTextColor=function(){return di(hi)};b.__private__.setTextColor=b.setTextColor=function(x,L,ae,me){return hi=Jr({ch1:x,ch2:L,ch3:ae,ch4:me,pdfColorType:"text",precision:3}),this};var Ea=i.charSpace,ps=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Ea||0)};b.__private__.setCharSpace=b.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ea=x,this};var $s=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(x){var L=b.CapJoinStyles[x];if(L===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $s=L,Y(L+" J"),this};var Sr=0;b.__private__.setLineJoin=b.setLineJoin=function(x){var L=b.CapJoinStyles[x];if(L===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sr=L,Y(L+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(ge(le(x))+" M"),this},b.GState=Gd,b.setGState=function(x){(x=typeof x=="string"?Bt[Kt[x]]:Ws(null,x)).equals(hn)||(Y("/"+x.id+" gs"),hn=x)};var Ws=function(x,L){if(!x||!Kt[x]){var ae=!1;for(var me in Bt)if(Bt.hasOwnProperty(me)&&Bt[me].equals(L)){ae=!0;break}if(ae)L=Bt[me];else{var Le="GS"+(Object.keys(Bt).length+1).toString(10);Bt[Le]=L,L.id=Le}return x&&(Kt[x]=L.id),dt.publish("addGState",L),L}};b.addGState=function(x,L){return Ws(x,L),this},b.saveGraphicsState=function(){return Y("q"),$t.push({key:ze,size:Ke,color:hi}),this},b.restoreGraphicsState=function(){Y("Q");var x=$t.pop();return ze=x.key,Ke=x.size,hi=x.color,hn=null,this},b.setCurrentTransformationMatrix=function(x){return Y(x.toString()+" cm"),this},b.comment=function(x){return Y("#"+x),this};var pi=function(x,L){var ae=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(Qe){isNaN(Qe)||(ae=parseFloat(Qe))}});var me=L||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(Qe){isNaN(Qe)||(me=parseFloat(Qe))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(Qe){Le=Qe.toString()}}),this},Ki=function(x,L,ae,me){pi.call(this,x,L),this.type="rect";var Le=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(rt){isNaN(rt)||(Le=parseFloat(rt))}});var Qe=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(rt){isNaN(rt)||(Qe=parseFloat(rt))}}),this},Hs=function(){this.page=Vt,this.currentPage=K,this.pages=De.slice(0),this.pagesContext=oe.slice(0),this.x=ke,this.y=Xe,this.matrix=ht,this.width=mi(K),this.height=Ma(K),this.outputDestination=ot,this.id="",this.objectNumber=-1};Hs.prototype.restore=function(){Vt=this.page,K=this.currentPage,oe=this.pagesContext,De=this.pages,ke=this.x,Xe=this.y,ht=this.matrix,Ln(K,this.width),En(K,this.height),ot=this.outputDestination};var ba=function(x,L,ae,me,Le){Qt.push(new Hs),Vt=K=0,De=[],ke=x,Xe=L,ht=Le,Mi([ae,me])};for(var Zr in b.beginFormObject=function(x,L,ae,me,Le){return ba(x,L,ae,me,Le),this},b.endFormObject=function(x){return(function(L){if(Dn[L])Qt.pop().restore();else{var ae=new Hs,me="Xo"+(Object.keys(Yt).length+1).toString(10);ae.id=me,Dn[L]=me,Yt[me]=ae,dt.publish("addFormObject",ae),Qt.pop().restore()}})(x),this},b.doFormObject=function(x,L){var ae=Yt[Dn[x]];return Y("q"),Y(L.toString()+" cm"),Y("/"+ae.id+" Do"),Y("Q"),this},b.getFormObject=function(x){var L=Yt[Dn[x]];return{x:L.x,y:L.y,width:L.width,height:L.height,matrix:L.matrix}},b.save=function(x,L){return x=x||"generated.pdf",(L=L||{}).returnPromise=L.returnPromise||!1,L.returnPromise===!1?(Ol(Di(ya()),x),typeof Ol.unload=="function"&&cn.setTimeout&&setTimeout(Ol.unload,911),this):new Promise(function(ae,me){try{var Le=Ol(Di(ya()),x);typeof Ol.unload=="function"&&cn.setTimeout&&setTimeout(Ol.unload,911),ae(Le)}catch(Qe){me(Qe.message)}})},Ht.API)Ht.API.hasOwnProperty(Zr)&&(Zr==="events"&&Ht.API.events.length?(function(x,L){var ae,me,Le;for(Le=L.length-1;Le!==-1;Le--)ae=L[Le][0],me=L[Le][1],x.subscribe.apply(x,[ae].concat(typeof me=="function"?[me]:me))})(dt,Ht.API.events):b[Zr]=Ht.API[Zr]);function mi(x){return oe[x].mediaBox.topRightX-oe[x].mediaBox.bottomLeftX}function Ln(x,L){oe[x].mediaBox.topRightX=L+oe[x].mediaBox.bottomLeftX}function Ma(x){return oe[x].mediaBox.topRightY-oe[x].mediaBox.bottomLeftY}function En(x,L){oe[x].mediaBox.topRightY=L+oe[x].mediaBox.bottomLeftY}var Oi=b.getPageWidth=function(x){return mi(x=x||K)/se},Hn=b.setPageWidth=function(x,L){Ln(x,L*se)},gi=b.getPageHeight=function(x){return Ma(x=x||K)/se},wa=b.setPageHeight=function(x,L){En(x,L*se)};return b.internal={pdfEscape:ur,getStyle:Ti,getFont:pr,getFontSize:vt,getCharSpace:ps,getTextColor:ar,getLineHeight:Za,getLineHeightFactor:Us,getLineWidth:_a,write:nt,getHorizontalCoordinate:Er,getVerticalCoordinate:Ji,getCoordinateString:qs,getVerticalCoordinateString:As,collections:{},newObject:An,newAdditionalObject:Ii,newObjectDeferred:_r,newObjectDeferredBegin:zr,getFilters:Fn,putStream:$n,events:dt,scaleFactor:se,pageSize:{getWidth:function(){return Oi(K)},setWidth:function(x){Hn(K,x)},getHeight:function(){return gi(K)},setHeight:function(x){wa(K,x)}},encryptionOptions:j,encryption:hr,getEncryptor:function(x){return j!==null?hr.encryptor(x,0):function(L){return L}},output:go,getNumberOfPages:Qr,get pages(){return De},out:Y,f2:z,f3:$,getPageInfo:Fi,getPageInfoByObjId:Wn,getCurrentPageInfo:hs,getPDFVersion:E,Point:pi,Rectangle:Ki,Matrix:Nt,hasHotfix:Ua},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Oi(K)},set:function(x){Hn(K,x)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return gi(K)},set:function(x){wa(K,x)},enumerable:!0,configurable:!0}),(function(x){for(var L=0,ae=wt.length;L<ae;L++){var me=Xa.call(this,x[L][0],x[L][1],x[L][2],wt[L][3],!0);A===!1&&(M[me]=!0);var Le=x[L][0].split("-");Ei({id:me,fontName:Le[0],fontStyle:Le[1]||""})}dt.publish("addFonts",{fonts:Ve,dictionary:ft})}).call(b,wt),ze="F1",Jo(c,r),dt.publish("initialized"),b}pc.prototype.lsbFirstWord=function(i){return String.fromCharCode(255&i,i>>8&255,i>>16&255,i>>24&255)},pc.prototype.toHexString=function(i){return i.split("").map(function(a){return("0"+(255&a.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pc.prototype.hexToBytes=function(i){for(var a=[],r=0;r<i.length;r+=2)a.push(String.fromCharCode(parseInt(i.substr(r,2),16)));return a.join("")},pc.prototype.processOwnerPassword=function(i,a){return jf(wf(a).substr(0,5),i)},pc.prototype.encryptor=function(i,a){var r=wf(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&a,a>>8&255)).substr(0,10);return function(o){return jf(r,o)}},Gd.prototype.equals=function(i){var a,r="id,objectNumber,equals";if(!i||tr(i)!==tr(this))return!1;var o=0;for(a in this)if(!(r.indexOf(a)>=0)){if(this.hasOwnProperty(a)&&!i.hasOwnProperty(a)||this[a]!==i[a])return!1;o++}for(a in i)i.hasOwnProperty(a)&&r.indexOf(a)<0&&o--;return o===0},Ht.API={events:[]},Ht.version="3.0.4";var oa=Ht.API,Rf=1,Hl=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fc=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mn=function(i){return i.toFixed(2)},pl=function(i){return i.toFixed(5)};oa.__acroform__={};var ds=function(i,a){i.prototype=Object.create(a.prototype),i.prototype.constructor=i},sm=function(i){return i*Rf},Fo=function(i){var a=new w0,r=Rt.internal.getHeight(i)||0,o=Rt.internal.getWidth(i)||0;return a.BBox=[0,0,Number(mn(o)),Number(mn(r))],a},Wx=oa.__acroform__.setBit=function(i,a){if(i=i||0,a=a||0,isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<a},Hx=oa.__acroform__.clearBit=function(i,a){if(i=i||0,a=a||0,isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<a)},Vx=oa.__acroform__.getBit=function(i,a){if(isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<a?1:0},pa=oa.__acroform__.getBitForPdf=function(i,a){if(isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Vx(i,a-1)},ma=oa.__acroform__.setBitForPdf=function(i,a){if(isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Wx(i,a-1)},ga=oa.__acroform__.clearBitForPdf=function(i,a){if(isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Hx(i,a-1)},Yx=oa.__acroform__.calculateCoordinates=function(i,a){var r=a.internal.getHorizontalCoordinate,o=a.internal.getVerticalCoordinate,c=i[0],l=i[1],m=i[2],p=i[3],g={};return g.lowerLeft_X=r(c)||0,g.lowerLeft_Y=o(l+p)||0,g.upperRight_X=r(c+m)||0,g.upperRight_Y=o(l)||0,[Number(mn(g.lowerLeft_X)),Number(mn(g.lowerLeft_Y)),Number(mn(g.upperRight_X)),Number(mn(g.upperRight_Y))]},Gx=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var a=[],r=i._V||i.DV,o=Sf(i,r),c=i.scope.internal.getFont(i.fontName,i.fontStyle).id;a.push("/Tx BMC"),a.push("q"),a.push("BT"),a.push(i.scope.__private__.encodeColorString(i.color)),a.push("/"+c+" "+mn(o.fontSize)+" Tf"),a.push("1 0 0 1 0 0 Tm"),a.push(o.text),a.push("ET"),a.push("Q"),a.push("EMC");var l=Fo(i);return l.scope=i.scope,l.stream=a.join(`
`),l}},Sf=function(i,a){var r=i.fontSize===0?i.maxFontSize:i.fontSize,o={text:"",fontSize:""},c=(a=(a=a.substr(0,1)=="("?a.substr(1):a).substr(a.length-1)==")"?a.substr(0,a.length-1):a).split(" ");c=i.multiline?c.map(function(z){return z.split(`
`)}):c.map(function(z){return[z]});var l=r,m=Rt.internal.getHeight(i)||0;m=m<0?-m:m;var p=Rt.internal.getWidth(i)||0;p=p<0?-p:p;var g=function(z,$,le){if(z+1<c.length){var ie=$+" "+c[z+1][0];return Dd(ie,i,le).width<=p-4}return!1};l++;e:for(;l>0;){a="",l--;var v,j,A=Dd("3",i,l).height,M=i.multiline?m-l:(m-A)/2,b=M+=2,U=0,E=0,I=0;if(l<=0){a=`(...) Tj
`,a+="% Width of Text: "+Dd(a,i,l=12).width+", FieldWidth:"+p+`
`;break}for(var P="",W=0,X=0;X<c.length;X++)if(c.hasOwnProperty(X)){var H=!1;if(c[X].length!==1&&I!==c[X].length-1){if((A+2)*(W+2)+2>m)continue e;P+=c[X][I],H=!0,E=X,X--}else{P=(P+=c[X][I]+" ").substr(P.length-1)==" "?P.substr(0,P.length-1):P;var fe=parseInt(X),he=g(fe,P,l),Ee=X>=c.length-1;if(he&&!Ee){P+=" ",I=0;continue}if(he||Ee){if(Ee)E=fe;else if(i.multiline&&(A+2)*(W+2)+2>m)continue e}else{if(!i.multiline||(A+2)*(W+2)+2>m)continue e;E=fe}}for(var ge="",ee=U;ee<=E;ee++){var xe=c[ee];if(i.multiline){if(ee===E){ge+=xe[I]+" ",I=(I+1)%xe.length;continue}if(ee===U){ge+=xe[xe.length-1]+" ";continue}}ge+=xe[0]+" "}switch(ge=ge.substr(ge.length-1)==" "?ge.substr(0,ge.length-1):ge,j=Dd(ge,i,l).width,i.textAlign){case"right":v=p-j-2;break;case"center":v=(p-j)/2;break;default:v=2}a+=mn(v)+" "+mn(b)+` Td
`,a+="("+Hl(ge)+`) Tj
`,a+=-mn(v)+` 0 Td
`,b=-(l+2),j=0,U=H?E:E+1,W++,P=""}break}return o.text=a,o.fontSize=l,o},Dd=function(i,a,r){var o=a.scope.internal.getFont(a.fontName,a.fontStyle),c=a.scope.getStringUnitWidth(i,{font:o,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:a.scope.getStringUnitWidth("3",{font:o,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:c}},Jx={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Kx=function(i,a){var r={type:"reference",object:i};a.internal.getPageInfo(i.page).pageContext.annotations.find(function(o){return o.type===r.type&&o.object===r.object})===void 0&&a.internal.getPageInfo(i.page).pageContext.annotations.push(r)},Qx=function(i,a){if(a.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(po.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(Jx)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Rf=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new j0,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var o=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var c in o)if(o.hasOwnProperty(c)){var l=o[c];l.objId=void 0,l.hasAnnotation&&Kx(l,r)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(r){(function(o,c){var l=!o;for(var m in o||(c.internal.newObjectDeferredBegin(c.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),c.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),o=o||c.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(o.hasOwnProperty(m)){var p=o[m],g=[],v=p.Rect;if(p.Rect&&(p.Rect=Yx(p.Rect,c)),c.internal.newObjectDeferredBegin(p.objId,!0),p.DA=Rt.createDefaultAppearanceStream(p),tr(p)==="object"&&typeof p.getKeyValueListForStream=="function"&&(g=p.getKeyValueListForStream()),p.Rect=v,p.hasAppearanceStream&&!p.appearanceStreamContent){var j=Gx(p);g.push({key:"AP",value:"<</N "+j+">>"}),c.internal.acroformPlugin.xForms.push(j)}if(p.appearanceStreamContent){var A="";for(var M in p.appearanceStreamContent)if(p.appearanceStreamContent.hasOwnProperty(M)){var b=p.appearanceStreamContent[M];if(A+="/"+M+" ",A+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var m in b)if(b.hasOwnProperty(m)){var U=b[m];typeof U=="function"&&(U=U.call(c,p)),A+="/"+m+" "+U+" ",c.internal.acroformPlugin.xForms.indexOf(U)>=0||c.internal.acroformPlugin.xForms.push(U)}}else typeof(U=b)=="function"&&(U=U.call(c,p)),A+="/"+m+" "+U,c.internal.acroformPlugin.xForms.indexOf(U)>=0||c.internal.acroformPlugin.xForms.push(U);A+=">>"}g.push({key:"AP",value:`<<
`+A+">>"})}c.internal.putStream({additionalKeyValues:g,objectId:p.objId}),c.internal.out("endobj")}l&&(function(E,I){for(var P in E)if(E.hasOwnProperty(P)){var W=P,X=E[P];I.internal.newObjectDeferredBegin(X.objId,!0),tr(X)==="object"&&typeof X.putStream=="function"&&X.putStream(),delete E[W]}})(c.internal.acroformPlugin.xForms,c)})(r,i)}),i.internal.acroformPlugin.isInitialized=!0}},b0=oa.__acroform__.arrayToPdfArray=function(i,a,r){var o=function(m){return m};if(Array.isArray(i)){for(var c="[",l=0;l<i.length;l++)switch(l!==0&&(c+=" "),tr(i[l])){case"boolean":case"number":case"object":c+=i[l].toString();break;case"string":i[l].substr(0,1)!=="/"?(a!==void 0&&r&&(o=r.internal.getEncryptor(a)),c+="("+Hl(o(i[l].toString()))+")"):c+=i[l].toString()}return c+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},af=function(i,a,r){var o=function(c){return c};return a!==void 0&&r&&(o=r.internal.getEncryptor(a)),(i=i||"").toString(),"("+Hl(o(i))+")"},Ro=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ro.prototype.toString=function(){return this.objId+" 0 R"},Ro.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},Ro.prototype.getKeyValueListForStream=function(){var i=[],a=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var r in a)if(Object.getOwnPropertyDescriptor(this,a[r]).configurable===!1){var o=a[r],c=this[o];c&&(Array.isArray(c)?i.push({key:o,value:b0(c,this.objId,this.scope)}):c instanceof Ro?(c.scope=this.scope,i.push({key:o,value:c.objId+" 0 R"})):typeof c!="function"&&i.push({key:o,value:c}))}return i};var w0=function(){Ro.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,a=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return a},set:function(r){a=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){i=r.trim()},get:function(){return i||null}})};ds(w0,Ro);var j0=function(){Ro.call(this);var i,a=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return a.length>0?a:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return a}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var r=function(o){return o};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Hl(r(i))+")"}},set:function(r){i=r}})};ds(j0,Ro);var po=function i(){Ro.call(this);var a=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return a},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute F supplied.');a=P}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pa(a,3)},set:function(P){P?this.F=ma(a,3):this.F=ga(a,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute Ff supplied.');r=P}});var o=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(o.length!==0)return o},set:function(P){o=P!==void 0?P:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[0])?0:o[0]},set:function(P){o[0]=P}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[1])?0:o[1]},set:function(P){o[1]=P}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[2])?0:o[2]},set:function(P){o[2]=P}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[3])?0:o[3]},set:function(P){o[3]=P}});var c="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return c},set:function(P){switch(P){case"/Btn":case"/Tx":case"/Ch":case"/Sig":c=P;break;default:throw new Error('Invalid value "'+P+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Jd)return;l="FieldObject"+i.FieldNum++}var P=function(W){return W};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+Hl(P(l))+")"},set:function(P){l=P.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(P){l=P}});var m="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return m},set:function(P){m=P}});var p="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return p},set:function(P){p=P}});var g=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return g},set:function(P){g=P}});var v=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return v===void 0?50/Rf:v},set:function(P){v=P}});var j="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return j},set:function(P){j=P}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof Jd||this instanceof zl))return af(A,this.objId,this.scope)},set:function(P){P=P.toString(),A=P}});var M=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(M)return this instanceof Ka==0?af(M,this.objId,this.scope):M},set:function(P){P=P.toString(),M=this instanceof Ka==0?P.substr(0,1)==="("?fc(P.substr(1,P.length-2)):fc(P):P}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ka==1?fc(M.substr(1,M.length-1)):M},set:function(P){P=P.toString(),M=this instanceof Ka==1?"/"+P:P}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(P){this.V=P}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ka==0?af(b,this.objId,this.scope):b},set:function(P){P=P.toString(),b=this instanceof Ka==0?P.substr(0,1)==="("?fc(P.substr(1,P.length-2)):fc(P):P}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ka==1?fc(b.substr(1,b.length-1)):b},set:function(P){P=P.toString(),b=this instanceof Ka==1?"/"+P:P}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var U,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(P){P=!!P,E=P}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(U)return U},set:function(P){U=P}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,1)},set:function(P){P?this.Ff=ma(this.Ff,1):this.Ff=ga(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,2)},set:function(P){P?this.Ff=ma(this.Ff,2):this.Ff=ga(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,3)},set:function(P){P?this.Ff=ma(this.Ff,3):this.Ff=ga(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(P){if([0,1,2].indexOf(P)===-1)throw new Error('Invalid value "'+P+'" for attribute Q supplied.');I=P}}),Object.defineProperty(this,"textAlign",{get:function(){var P;switch(I){case 0:default:P="left";break;case 1:P="center";break;case 2:P="right"}return P},configurable:!0,enumerable:!0,set:function(P){switch(P){case"right":case 2:I=2;break;case"center":case 1:I=1;break;default:I=0}}})};ds(po,Ro);var xc=function(){po.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(r){i=r}});var a=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return b0(a,this.objId,this.scope)},set:function(r){var o,c;c=[],typeof(o=r)=="string"&&(c=(function(l,m,p){p||(p=1);for(var g,v=[];g=m.exec(l);)v.push(g[p]);return v})(o,/\((.*?)\)/g)),a=c}}),this.getOptions=function(){return a},this.setOptions=function(r){a=r,this.sort&&a.sort()},this.addOption=function(r){r=(r=r||"").toString(),a.push(r),this.sort&&a.sort()},this.removeOption=function(r,o){for(o=o||!1,r=(r=r||"").toString();a.indexOf(r)!==-1&&(a.splice(a.indexOf(r),1),o!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,18)},set:function(r){r?this.Ff=ma(this.Ff,18):this.Ff=ga(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ma(this.Ff,19):this.Ff=ga(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,20)},set:function(r){r?(this.Ff=ma(this.Ff,20),a.sort()):this.Ff=ga(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,22)},set:function(r){r?this.Ff=ma(this.Ff,22):this.Ff=ga(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,23)},set:function(r){r?this.Ff=ma(this.Ff,23):this.Ff=ga(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,27)},set:function(r){r?this.Ff=ma(this.Ff,27):this.Ff=ga(this.Ff,27)}}),this.hasAppearanceStream=!1};ds(xc,po);var yc=function(){xc.call(this),this.fontName="helvetica",this.combo=!1};ds(yc,xc);var vc=function(){yc.call(this),this.combo=!0};ds(vc,yc);var zd=function(){vc.call(this),this.edit=!0};ds(zd,vc);var Ka=function(){po.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,15)},set:function(r){r?this.Ff=ma(this.Ff,15):this.Ff=ga(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,16)},set:function(r){r?this.Ff=ma(this.Ff,16):this.Ff=ga(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,17)},set:function(r){r?this.Ff=ma(this.Ff,17):this.Ff=ga(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,26)},set:function(r){r?this.Ff=ma(this.Ff,26):this.Ff=ga(this.Ff,26)}});var i,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(l){return l};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(a).length!==0){var o,c=[];for(o in c.push("<<"),a)c.push("/"+o+" ("+Hl(r(a[o]))+")");return c.push(">>"),c.join(`
`)}},set:function(r){tr(r)==="object"&&(a=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(r){typeof r=="string"&&(a.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(r){i="/"+r}})};ds(Ka,po);var Ud=function(){Ka.call(this),this.pushButton=!0};ds(Ud,Ka);var bc=function(){Ka.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(a){i=a!==void 0?a:[]}})};ds(bc,Ka);var Jd=function(){var i,a;po.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(c){i=c}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return a},set:function(c){a=c}});var r,o={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var c=function(p){return p};this.scope&&(c=this.scope.internal.getEncryptor(this.objId));var l,m=[];for(l in m.push("<<"),o)m.push("/"+l+" ("+Hl(c(o[l]))+")");return m.push(">>"),m.join(`
`)},set:function(c){tr(c)==="object"&&(o=c)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return o.CA||""},set:function(c){typeof c=="string"&&(o.CA=c)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(c){r=c}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(c){r="/"+c}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ds(Jd,po),bc.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var a in this.Kids)if(this.Kids.hasOwnProperty(a)){var r=this.Kids[a];r.appearanceStreamContent=i.createAppearanceStream(r.optionName),r.caption=i.getCA()}},bc.prototype.createOption=function(i){var a=new Jd;return a.Parent=this,a.optionName=i,this.Kids.push(a),Xx.call(this.scope,a),a};var qd=function(){Ka.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rt.CheckBox.createAppearanceStream()};ds(qd,Ka);var zl=function(){po.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,13)},set:function(a){a?this.Ff=ma(this.Ff,13):this.Ff=ga(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,21)},set:function(a){a?this.Ff=ma(this.Ff,21):this.Ff=ga(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,23)},set:function(a){a?this.Ff=ma(this.Ff,23):this.Ff=ga(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,24)},set:function(a){a?this.Ff=ma(this.Ff,24):this.Ff=ga(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,25)},set:function(a){a?this.Ff=ma(this.Ff,25):this.Ff=ga(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,26)},set:function(a){a?this.Ff=ma(this.Ff,26):this.Ff=ga(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(a){i=a}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(a){Number.isInteger(a)&&(i=a)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ds(zl,po);var $d=function(){zl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,14)},set:function(i){i?this.Ff=ma(this.Ff,14):this.Ff=ga(this.Ff,14)}}),this.password=!0};ds($d,zl);var Rt={CheckBox:{createAppearanceStream:function(){return{N:{On:Rt.CheckBox.YesNormal},D:{On:Rt.CheckBox.YesPushDown,Off:Rt.CheckBox.OffPushDown}}},YesPushDown:function(i){var a=Fo(i);a.scope=i.scope;var r=[],o=i.scope.internal.getFont(i.fontName,i.fontStyle).id,c=i.scope.__private__.encodeColorString(i.color),l=Sf(i,i.caption);return r.push("0.749023 g"),r.push("0 0 "+mn(Rt.internal.getWidth(i))+" "+mn(Rt.internal.getHeight(i))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+o+" "+mn(l.fontSize)+" Tf "+c),r.push("BT"),r.push(l.text),r.push("ET"),r.push("Q"),r.push("EMC"),a.stream=r.join(`
`),a},YesNormal:function(i){var a=Fo(i);a.scope=i.scope;var r=i.scope.internal.getFont(i.fontName,i.fontStyle).id,o=i.scope.__private__.encodeColorString(i.color),c=[],l=Rt.internal.getHeight(i),m=Rt.internal.getWidth(i),p=Sf(i,i.caption);return c.push("1 g"),c.push("0 0 "+mn(m)+" "+mn(l)+" re"),c.push("f"),c.push("q"),c.push("0 0 1 rg"),c.push("0 0 "+mn(m-1)+" "+mn(l-1)+" re"),c.push("W"),c.push("n"),c.push("0 g"),c.push("BT"),c.push("/"+r+" "+mn(p.fontSize)+" Tf "+o),c.push(p.text),c.push("ET"),c.push("Q"),a.stream=c.join(`
`),a},OffPushDown:function(i){var a=Fo(i);a.scope=i.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+mn(Rt.internal.getWidth(i))+" "+mn(Rt.internal.getHeight(i))+" re"),r.push("f"),a.stream=r.join(`
`),a}},RadioButton:{Circle:{createAppearanceStream:function(i){var a={D:{Off:Rt.RadioButton.Circle.OffPushDown},N:{}};return a.N[i]=Rt.RadioButton.Circle.YesNormal,a.D[i]=Rt.RadioButton.Circle.YesPushDown,a},getCA:function(){return"l"},YesNormal:function(i){var a=Fo(i);a.scope=i.scope;var r=[],o=Rt.internal.getWidth(i)<=Rt.internal.getHeight(i)?Rt.internal.getWidth(i)/4:Rt.internal.getHeight(i)/4;o=Number((.9*o).toFixed(5));var c=Rt.internal.Bezier_C,l=Number((o*c).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+pl(Rt.internal.getWidth(i)/2)+" "+pl(Rt.internal.getHeight(i)/2)+" cm"),r.push(o+" 0 m"),r.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),r.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),r.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),r.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),r.push("f"),r.push("Q"),a.stream=r.join(`
`),a},YesPushDown:function(i){var a=Fo(i);a.scope=i.scope;var r=[],o=Rt.internal.getWidth(i)<=Rt.internal.getHeight(i)?Rt.internal.getWidth(i)/4:Rt.internal.getHeight(i)/4;o=Number((.9*o).toFixed(5));var c=Number((2*o).toFixed(5)),l=Number((c*Rt.internal.Bezier_C).toFixed(5)),m=Number((o*Rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+pl(Rt.internal.getWidth(i)/2)+" "+pl(Rt.internal.getHeight(i)/2)+" cm"),r.push(c+" 0 m"),r.push(c+" "+l+" "+l+" "+c+" 0 "+c+" c"),r.push("-"+l+" "+c+" -"+c+" "+l+" -"+c+" 0 c"),r.push("-"+c+" -"+l+" -"+l+" -"+c+" 0 -"+c+" c"),r.push(l+" -"+c+" "+c+" -"+l+" "+c+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+pl(Rt.internal.getWidth(i)/2)+" "+pl(Rt.internal.getHeight(i)/2)+" cm"),r.push(o+" 0 m"),r.push(o+" "+m+" "+m+" "+o+" 0 "+o+" c"),r.push("-"+m+" "+o+" -"+o+" "+m+" -"+o+" 0 c"),r.push("-"+o+" -"+m+" -"+m+" -"+o+" 0 -"+o+" c"),r.push(m+" -"+o+" "+o+" -"+m+" "+o+" 0 c"),r.push("f"),r.push("Q"),a.stream=r.join(`
`),a},OffPushDown:function(i){var a=Fo(i);a.scope=i.scope;var r=[],o=Rt.internal.getWidth(i)<=Rt.internal.getHeight(i)?Rt.internal.getWidth(i)/4:Rt.internal.getHeight(i)/4;o=Number((.9*o).toFixed(5));var c=Number((2*o).toFixed(5)),l=Number((c*Rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+pl(Rt.internal.getWidth(i)/2)+" "+pl(Rt.internal.getHeight(i)/2)+" cm"),r.push(c+" 0 m"),r.push(c+" "+l+" "+l+" "+c+" 0 "+c+" c"),r.push("-"+l+" "+c+" -"+c+" "+l+" -"+c+" 0 c"),r.push("-"+c+" -"+l+" -"+l+" -"+c+" 0 -"+c+" c"),r.push(l+" -"+c+" "+c+" -"+l+" "+c+" 0 c"),r.push("f"),r.push("Q"),a.stream=r.join(`
`),a}},Cross:{createAppearanceStream:function(i){var a={D:{Off:Rt.RadioButton.Cross.OffPushDown},N:{}};return a.N[i]=Rt.RadioButton.Cross.YesNormal,a.D[i]=Rt.RadioButton.Cross.YesPushDown,a},getCA:function(){return"8"},YesNormal:function(i){var a=Fo(i);a.scope=i.scope;var r=[],o=Rt.internal.calculateCross(i);return r.push("q"),r.push("1 1 "+mn(Rt.internal.getWidth(i)-2)+" "+mn(Rt.internal.getHeight(i)-2)+" re"),r.push("W"),r.push("n"),r.push(mn(o.x1.x)+" "+mn(o.x1.y)+" m"),r.push(mn(o.x2.x)+" "+mn(o.x2.y)+" l"),r.push(mn(o.x4.x)+" "+mn(o.x4.y)+" m"),r.push(mn(o.x3.x)+" "+mn(o.x3.y)+" l"),r.push("s"),r.push("Q"),a.stream=r.join(`
`),a},YesPushDown:function(i){var a=Fo(i);a.scope=i.scope;var r=Rt.internal.calculateCross(i),o=[];return o.push("0.749023 g"),o.push("0 0 "+mn(Rt.internal.getWidth(i))+" "+mn(Rt.internal.getHeight(i))+" re"),o.push("f"),o.push("q"),o.push("1 1 "+mn(Rt.internal.getWidth(i)-2)+" "+mn(Rt.internal.getHeight(i)-2)+" re"),o.push("W"),o.push("n"),o.push(mn(r.x1.x)+" "+mn(r.x1.y)+" m"),o.push(mn(r.x2.x)+" "+mn(r.x2.y)+" l"),o.push(mn(r.x4.x)+" "+mn(r.x4.y)+" m"),o.push(mn(r.x3.x)+" "+mn(r.x3.y)+" l"),o.push("s"),o.push("Q"),a.stream=o.join(`
`),a},OffPushDown:function(i){var a=Fo(i);a.scope=i.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+mn(Rt.internal.getWidth(i))+" "+mn(Rt.internal.getHeight(i))+" re"),r.push("f"),a.stream=r.join(`
`),a}}},createDefaultAppearanceStream:function(i){var a=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color);return"/"+a+" "+i.fontSize+" Tf "+r}};Rt.internal={Bezier_C:.551915024494,calculateCross:function(i){var a=Rt.internal.getWidth(i),r=Rt.internal.getHeight(i),o=Math.min(a,r);return{x1:{x:(a-o)/2,y:(r-o)/2+o},x2:{x:(a-o)/2+o,y:(r-o)/2},x3:{x:(a-o)/2,y:(r-o)/2},x4:{x:(a-o)/2+o,y:(r-o)/2+o}}}},Rt.internal.getWidth=function(i){var a=0;return tr(i)==="object"&&(a=sm(i.Rect[2])),a},Rt.internal.getHeight=function(i){var a=0;return tr(i)==="object"&&(a=sm(i.Rect[3])),a};var Xx=oa.addField=function(i){if(Qx(this,i),!(i instanceof po))throw new Error("Invalid argument passed to jsPDF.addField.");var a;return(a=i).scope.internal.acroformPlugin.printedOut&&(a.scope.internal.acroformPlugin.printedOut=!1,a.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),a.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(a),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};oa.AcroFormChoiceField=xc,oa.AcroFormListBox=yc,oa.AcroFormComboBox=vc,oa.AcroFormEditBox=zd,oa.AcroFormButton=Ka,oa.AcroFormPushButton=Ud,oa.AcroFormRadioButton=bc,oa.AcroFormCheckBox=qd,oa.AcroFormTextField=zl,oa.AcroFormPasswordField=$d,oa.AcroFormAppearance=Rt,oa.AcroForm={ChoiceField:xc,ListBox:yc,ComboBox:vc,EditBox:zd,Button:Ka,PushButton:Ud,RadioButton:bc,CheckBox:qd,TextField:zl,PasswordField:$d,Appearance:Rt},Ht.AcroForm={ChoiceField:xc,ListBox:yc,ComboBox:vc,EditBox:zd,Button:Ka,PushButton:Ud,RadioButton:bc,CheckBox:qd,TextField:zl,PasswordField:$d,Appearance:Rt};Ht.AcroForm;function S0(i){return i.reduce(function(a,r,o){return a[r]=o,a},{})}(function(i){var a="addImage_";i.__addimage__={};var r="UNKNOWN",o={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},c=i.__addimage__.getImageFileTypeByImageData=function(z,$){var le,ie,we,_e,Ie,pe=r;if(($=$||r)==="RGBA"||z.data!==void 0&&z.data instanceof Uint8ClampedArray&&"height"in z&&"width"in z)return"RGBA";if(he(z))for(Ie in o)for(we=o[Ie],le=0;le<we.length;le+=1){for(_e=!0,ie=0;ie<we[le].length;ie+=1)if(we[le][ie]!==void 0&&we[le][ie]!==z[ie]){_e=!1;break}if(_e===!0){pe=Ie;break}}else for(Ie in o)for(we=o[Ie],le=0;le<we.length;le+=1){for(_e=!0,ie=0;ie<we[le].length;ie+=1)if(we[le][ie]!==void 0&&we[le][ie]!==z.charCodeAt(ie)){_e=!1;break}if(_e===!0){pe=Ie;break}}return pe===r&&$!==r&&(pe=$),pe},l=function z($){for(var le=this.internal.write,ie=this.internal.putStream,we=(0,this.internal.getFilters)();we.indexOf("FlateEncode")!==-1;)we.splice(we.indexOf("FlateEncode"),1);$.objectId=this.internal.newObject();var _e=[];if(_e.push({key:"Type",value:"/XObject"}),_e.push({key:"Subtype",value:"/Image"}),_e.push({key:"Width",value:$.width}),_e.push({key:"Height",value:$.height}),$.colorSpace===P.INDEXED?_e.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+($.palette.length/3-1)+" "+("sMask"in $&&$.sMask!==void 0?$.objectId+2:$.objectId+1)+" 0 R]"}):(_e.push({key:"ColorSpace",value:"/"+$.colorSpace}),$.colorSpace===P.DEVICE_CMYK&&_e.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),_e.push({key:"BitsPerComponent",value:$.bitsPerComponent}),"decodeParameters"in $&&$.decodeParameters!==void 0&&_e.push({key:"DecodeParms",value:"<<"+$.decodeParameters+">>"}),"transparency"in $&&Array.isArray($.transparency)&&$.transparency.length>0){for(var Ie="",pe=0,Pe=$.transparency.length;pe<Pe;pe++)Ie+=$.transparency[pe]+" "+$.transparency[pe]+" ";_e.push({key:"Mask",value:"["+Ie+"]"})}$.sMask!==void 0&&_e.push({key:"SMask",value:$.objectId+1+" 0 R"});var Ue=$.filter!==void 0?["/"+$.filter]:void 0;if(ie({data:$.data,additionalKeyValues:_e,alreadyAppliedFilters:Ue,objectId:$.objectId}),le("endobj"),"sMask"in $&&$.sMask!==void 0){var te,C=(te=$.sMaskBitsPerComponent)!==null&&te!==void 0?te:$.bitsPerComponent,K={width:$.width,height:$.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:$.sMask};"filter"in $&&(K.decodeParameters="/Predictor ".concat($.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat($.width),K.filter=$.filter),z.call(this,K)}if($.colorSpace===P.INDEXED){var Z=this.internal.newObject();ie({data:ge(new Uint8Array($.palette)),objectId:Z}),le("endobj")}},m=function(){var z=this.internal.collections[a+"images"];for(var $ in z)l.call(this,z[$])},p=function(){var z,$=this.internal.collections[a+"images"],le=this.internal.write;for(var ie in $)le("/I"+(z=$[ie]).index,z.objectId,"0","R")},g=function(){this.internal.collections[a+"images"]||(this.internal.collections[a+"images"]={},this.internal.events.subscribe("putResources",m),this.internal.events.subscribe("putXobjectDict",p))},v=function(){var z=this.internal.collections[a+"images"];return g.call(this),z},j=function(){return Object.keys(this.internal.collections[a+"images"]).length},A=function(z){return typeof i["process"+z.toUpperCase()]=="function"},M=function(z){return tr(z)==="object"&&z.nodeType===1},b=function(z,$){if(z.nodeName==="IMG"&&z.hasAttribute("src")){var le=""+z.getAttribute("src");if(le.indexOf("data:image/")===0)return Bd(unescape(le).split("base64,").pop());var ie=i.loadFile(le,!0);if(ie!==void 0)return ie}if(z.nodeName==="CANVAS"){if(z.width===0||z.height===0)throw new Error("Given canvas must have data. Canvas width: "+z.width+", height: "+z.height);var we;switch($){case"PNG":we="image/png";break;case"WEBP":we="image/webp";break;default:we="image/jpeg"}return Bd(z.toDataURL(we,1).split("base64,").pop())}},U=function(z){var $=this.internal.collections[a+"images"];if($){for(var le in $)if(z===$[le].alias)return $[le]}},E=function(z,$,le){return z||$||(z=-96,$=-96),z<0&&(z=-1*le.width*72/z/this.internal.scaleFactor),$<0&&($=-1*le.height*72/$/this.internal.scaleFactor),z===0&&(z=$*le.width/le.height),$===0&&($=z*le.height/le.width),[z,$]},I=function(z,$,le,ie,we,_e){var Ie=E.call(this,le,ie,we),pe=this.internal.getCoordinateString,Pe=this.internal.getVerticalCoordinateString,Ue=v.call(this);if(le=Ie[0],ie=Ie[1],Ue[we.index]=we,_e){_e*=Math.PI/180;var te=Math.cos(_e),C=Math.sin(_e),K=function(de){return de.toFixed(4)},Z=[K(te),K(C),K(-1*C),K(te),0,0,"cm"]}this.internal.write("q"),_e?(this.internal.write([1,"0","0",1,pe(z),Pe($+ie),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([pe(le),"0","0",pe(ie),"0","0","cm"].join(" "))):this.internal.write([pe(le),"0","0",pe(ie),pe(z),Pe($+ie),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+we.index+" Do"),this.internal.write("Q")},P=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var W=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},X=i.__addimage__.sHashCode=function(z){var $,le,ie=0;if(typeof z=="string")for(le=z.length,$=0;$<le;$++)ie=(ie<<5)-ie+z.charCodeAt($),ie|=0;else if(he(z))for(le=z.byteLength/2,$=0;$<le;$++)ie=(ie<<5)-ie+z[$],ie|=0;return ie},H=i.__addimage__.validateStringAsBase64=function(z){(z=z||"").toString().trim();var $=!0;return z.length===0&&($=!1),z.length%4!=0&&($=!1),/^[A-Za-z0-9+/]+$/.test(z.substr(0,z.length-2))===!1&&($=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2))===!1&&($=!1),$},fe=i.__addimage__.extractImageFromDataUrl=function(z){if(z==null||!(z=z.trim()).startsWith("data:"))return null;var $=z.indexOf(",");return $<0?null:z.substring(0,$).trim().endsWith("base64")?z.substring($+1):null};i.__addimage__.isArrayBuffer=function(z){return z instanceof ArrayBuffer};var he=i.__addimage__.isArrayBufferView=function(z){return z instanceof Int8Array||z instanceof Uint8Array||z instanceof Uint8ClampedArray||z instanceof Int16Array||z instanceof Uint16Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Float32Array||z instanceof Float64Array},Ee=i.__addimage__.binaryStringToUint8Array=function(z){for(var $=z.length,le=new Uint8Array($),ie=0;ie<$;ie++)le[ie]=z.charCodeAt(ie);return le},ge=i.__addimage__.arrayBufferToBinaryString=function(z){for(var $="",le=he(z)?z:new Uint8Array(z),ie=0;ie<le.length;ie+=8192)$+=String.fromCharCode.apply(null,le.subarray(ie,ie+8192));return $};i.addImage=function(){var z,$,le,ie,we,_e,Ie,pe,Pe;if(typeof arguments[1]=="number"?($=r,le=arguments[1],ie=arguments[2],we=arguments[3],_e=arguments[4],Ie=arguments[5],pe=arguments[6],Pe=arguments[7]):($=arguments[1],le=arguments[2],ie=arguments[3],we=arguments[4],_e=arguments[5],Ie=arguments[6],pe=arguments[7],Pe=arguments[8]),tr(z=arguments[0])==="object"&&!M(z)&&"imageData"in z){var Ue=z;z=Ue.imageData,$=Ue.format||$||r,le=Ue.x||le||0,ie=Ue.y||ie||0,we=Ue.w||Ue.width||we,_e=Ue.h||Ue.height||_e,Ie=Ue.alias||Ie,pe=Ue.compression||pe,Pe=Ue.rotation||Ue.angle||Pe}var te=this.internal.getFilters();if(pe===void 0&&te.indexOf("FlateEncode")!==-1&&(pe="SLOW"),isNaN(le)||isNaN(ie))throw new Error("Invalid coordinates passed to jsPDF.addImage");g.call(this);var C=ee.call(this,z,$,Ie,pe);return I.call(this,le,ie,we,_e,C,Pe),this};var ee=function(z,$,le,ie){var we,_e,Ie;if(typeof z=="string"&&c(z)===r){z=unescape(z);var pe=xe(z,!1);(pe!==""||(pe=i.loadFile(z,!0))!==void 0)&&(z=pe)}if(M(z)&&(z=b(z,$)),$=c(z,$),!A($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(((Ie=le)==null||Ie.length===0)&&(le=(function(Pe){return typeof Pe=="string"||he(Pe)?X(Pe):he(Pe.data)?X(Pe.data):null})(z)),(we=U.call(this,le))||(z instanceof Uint8Array||$==="RGBA"||(_e=z,z=Ee(z)),we=this["process"+$.toUpperCase()](z,j.call(this),le,(function(Pe){return Pe&&typeof Pe=="string"&&(Pe=Pe.toUpperCase()),Pe in i.image_compression?Pe:W.NONE})(ie),_e)),!we)throw new Error("An unknown error occurred whilst processing the image.");return we},xe=i.__addimage__.convertBase64ToBinaryString=function(z,$){$=typeof $!="boolean"||$;var le,ie="";if(typeof z=="string"){var we;le=(we=fe(z))!==null&&we!==void 0?we:z;try{ie=Bd(le)}catch(_e){if($)throw H(le)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+_e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ie};i.getImageProperties=function(z){var $,le,ie="";if(M(z)&&(z=b(z)),typeof z=="string"&&c(z)===r&&((ie=xe(z,!1))===""&&(ie=i.loadFile(z)||""),z=ie),le=c(z),!A(le))throw new Error("addImage does not support files of type '"+le+"', please ensure that a plugin for '"+le+"' support is added.");if(z instanceof Uint8Array||(z=Ee(z)),!($=this["process"+le.toUpperCase()](z)))throw new Error("An unknown error occurred whilst processing the image");return $.fileType=le,$}})(Ht.API),(function(i){var a=function(r){if(r!==void 0&&r!="")return!0};Ht.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(r){for(var o,c,l,m=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString,g=this.internal.getPageInfoByObjId(r.objId),v=r.pageContext.annotations,j=!1,A=0;A<v.length&&!j;A++)switch((o=v[A]).type){case"link":(a(o.options.url)||a(o.options.pageNumber))&&(j=!0);break;case"reference":case"text":case"freetext":j=!0}if(j!=0){this.internal.write("/Annots [");for(var M=0;M<v.length;M++){o=v[M];var b=this.internal.pdfEscape,U=this.internal.getEncryptor(r.objId);switch(o.type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),P=this.internal.getEncryptor(E.objId),W=o.title||"Note";l="<</Type /Annot /Subtype /Text "+(c="/Rect ["+m(o.bounds.x)+" "+p(o.bounds.y+o.bounds.h)+" "+m(o.bounds.x+o.bounds.w)+" "+p(o.bounds.y)+"] ")+"/Contents ("+b(P(o.contents))+")",l+=" /Popup "+I.objId+" 0 R",l+=" /P "+g.objId+" 0 R",l+=" /T ("+b(P(W))+") >>",E.content=l;var X=E.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(c="/Rect ["+m(o.bounds.x+30)+" "+p(o.bounds.y+o.bounds.h)+" "+m(o.bounds.x+o.bounds.w+30)+" "+p(o.bounds.y)+"] ")+" /Parent "+X,o.open&&(l+=" /Open true"),l+=" >>",I.content=l,this.internal.write(E.objId,"0 R",I.objId,"0 R");break;case"freetext":c="/Rect ["+m(o.bounds.x)+" "+p(o.bounds.y)+" "+m(o.bounds.x+o.bounds.w)+" "+p(o.bounds.y+o.bounds.h)+"] ";var H=o.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+c+"/Contents ("+b(U(o.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(o.options.name){var fe=this.annotations._nameMap[o.options.name];o.options.pageNumber=fe.page,o.options.top=fe.y}else o.options.top||(o.options.top=0);if(c="/Rect ["+o.finalBounds.x+" "+o.finalBounds.y+" "+o.finalBounds.w+" "+o.finalBounds.h+"] ",l="",o.options.url)l="<</Type /Annot /Subtype /Link "+c+"/Border [0 0 0] /A <</S /URI /URI ("+b(U(o.options.url))+") >>";else if(o.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+c+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(o.options.pageNumber).objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,l+=" /FitV "+o.options.left+"]";break;default:var he=p(o.options.top);o.options.left=o.options.left||0,o.options.zoom===void 0&&(o.options.zoom=0),l+=" /XYZ "+o.options.left+" "+he+" "+o.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),i.createAnnotation=function(r){var o=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":o.pageContext.annotations.push(r)}},i.link=function(r,o,c,l,m){var p=this.internal.getCurrentPageInfo(),g=this.internal.getCoordinateString,v=this.internal.getVerticalCoordinateString;p.pageContext.annotations.push({finalBounds:{x:g(r),y:v(o),w:g(r+c),h:v(o+l)},options:m,type:"link"})},i.textWithLink=function(r,o,c,l){var m,p,g=this.getTextWidth(r),v=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){p=l.maxWidth;var j=this.splitTextToSize(r,p).length;m=Math.ceil(v*j)}else p=g,m=v;return this.text(r,o,c,l),c+=.2*v,l.align==="center"&&(o-=g/2),l.align==="right"&&(o-=g),this.link(o,c-v,p,m,l),g},i.getTextWidth=function(r){var o=this.internal.getFontSize();return this.getStringUnitWidth(r)*o/this.internal.scaleFactor}})(Ht.API),(function(i){var a={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},o={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},c=[1570,1571,1573,1575];i.__arabicParser__={};var l=i.__arabicParser__.isInArabicSubstitutionA=function(E){return a[E.charCodeAt(0)]!==void 0},m=i.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},p=i.__arabicParser__.isArabicEndLetter=function(E){return m(E)&&l(E)&&a[E.charCodeAt(0)].length<=2},g=i.__arabicParser__.isArabicAlfLetter=function(E){return m(E)&&c.indexOf(E.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return m(E)&&l(E)&&a[E.charCodeAt(0)].length>=1};var v=i.__arabicParser__.arabicLetterHasFinalForm=function(E){return m(E)&&l(E)&&a[E.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(E){return m(E)&&l(E)&&a[E.charCodeAt(0)].length>=3};var j=i.__arabicParser__.arabicLetterHasMedialForm=function(E){return m(E)&&l(E)&&a[E.charCodeAt(0)].length==4},A=i.__arabicParser__.resolveLigatures=function(E){var I=0,P=r,W="",X=0;for(I=0;I<E.length;I+=1)P[E.charCodeAt(I)]!==void 0?(X++,typeof(P=P[E.charCodeAt(I)])=="number"&&(W+=String.fromCharCode(P),P=r,X=0),I===E.length-1&&(P=r,W+=E.charAt(I-(X-1)),I-=X-1,X=0)):(P=r,W+=E.charAt(I-X),I-=X,X=0);return W};i.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&o[E.charCodeAt(0)]!==void 0};var M=i.__arabicParser__.getCorrectForm=function(E,I,P){return m(E)?l(E)===!1?-1:!v(E)||!m(I)&&!m(P)||!m(P)&&p(I)||p(E)&&!m(I)||p(E)&&g(I)||p(E)&&p(I)?0:j(E)&&m(I)&&!p(I)&&m(P)&&v(P)?3:p(E)||!m(P)?1:2:-1},b=function(E){var I=0,P=0,W=0,X="",H="",fe="",he=(E=E||"").split("\\s+"),Ee=[];for(I=0;I<he.length;I+=1){for(Ee.push(""),P=0;P<he[I].length;P+=1)X=he[I][P],H=he[I][P-1],fe=he[I][P+1],m(X)?(W=M(X,H,fe),Ee[I]+=W!==-1?String.fromCharCode(a[X.charCodeAt(0)][W]):X):Ee[I]+=X;Ee[I]=A(Ee[I])}return Ee.join(" ")},U=i.__arabicParser__.processArabic=i.processArabic=function(){var E,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,P=[];if(Array.isArray(I)){var W=0;for(P=[],W=0;W<I.length;W+=1)Array.isArray(I[W])?P.push([b(I[W][0]),I[W][1],I[W][2]]):P.push([b(I[W])]);E=P}else E=b(I);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};i.events.push(["preProcessText",U])})(Ht.API),Ht.API.autoPrint=function(i){var a;return(i=i||{}).variant=i.variant||"non-conform",i.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){a=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+a+" 0 R")})),this},(function(i){var a=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(p){r=p}});var o=150;Object.defineProperty(this,"width",{get:function(){return o},set:function(p){o=isNaN(p)||Number.isInteger(p)===!1||p<0?150:p,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=o+1)}});var c=300;Object.defineProperty(this,"height",{get:function(){return c},set:function(p){c=isNaN(p)||Number.isInteger(p)===!1||p<0?300:p,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=c+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(p){l=p}});var m={};Object.defineProperty(this,"style",{get:function(){return m},set:function(p){m=p}}),Object.defineProperty(this,"parentNode",{})};a.prototype.getContext=function(r,o){var c;if((r=r||"2d")!=="2d")return null;for(c in o)this.pdf.context2d.hasOwnProperty(c)&&(this.pdf.context2d[c]=o[c]);return this.pdf.context2d._canvas=this,this.pdf.context2d},a.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new a,this.canvas.pdf=this}])})(Ht.API),(function(i){var a={left:0,top:0,bottom:0,right:0},r=!1,o=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},a),this.internal.__cell__.margins.width=this.getPageWidth(),c.call(this))},c=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var g=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var v=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return v},set:function(E){v=E}});var j=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return j},set:function(E){j=E}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(E){A=E}});var M=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return M},set:function(E){M=E}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(E){b=E}});var U=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return U},set:function(E){U=E}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(g){return o.call(this),this.internal.__cell__.headerFunction=typeof g=="function"?g:void 0,this},i.getTextDimensions=function(g,v){o.call(this);var j=(v=v||{}).fontSize||this.getFontSize(),A=v.font||this.getFont(),M=v.scaleFactor||this.internal.scaleFactor,b=0,U=0,E=0,I=this;if(!Array.isArray(g)&&typeof g!="string"){if(typeof g!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");g=String(g)}var P=v.maxWidth;P>0?typeof g=="string"?g=this.splitTextToSize(g,P):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(X,H){return X.concat(I.splitTextToSize(H,P))},[])):g=Array.isArray(g)?g:[g];for(var W=0;W<g.length;W++)b<(E=this.getStringUnitWidth(g[W],{font:A})*j)&&(b=E);return b!==0&&(U=g.length),{w:b/=M,h:Math.max((U*j*this.getLineHeightFactor()-j*(this.getLineHeightFactor()-1))/M,0)}},i.cellAddPage=function(){o.call(this),this.addPage();var g=this.internal.__cell__.margins||a;return this.internal.__cell__.lastCell=new l(g.left,g.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var m=i.cell=function(){var g;g=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),o.call(this);var v=this.internal.__cell__.lastCell,j=this.internal.__cell__.padding,A=this.internal.__cell__.margins||a,M=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return v.lineNumber!==void 0&&(v.lineNumber===g.lineNumber?(g.x=(v.x||0)+(v.width||0),g.y=v.y||0):v.y+v.height+g.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),g.y=A.top,b&&M&&(this.printHeaderRow(g.lineNumber,!0),g.y+=M[0].height)):g.y=v.y+v.height||g.y),g.text[0]!==void 0&&(this.rect(g.x,g.y,g.width,g.height,r===!0?"FD":void 0),g.align==="right"?this.text(g.text,g.x+g.width-j,g.y+j,{align:"right",baseline:"top"}):g.align==="center"?this.text(g.text,g.x+g.width/2,g.y+j,{align:"center",baseline:"top",maxWidth:g.width-j-j}):this.text(g.text,g.x+j,g.y+j,{align:"left",baseline:"top",maxWidth:g.width-j-j})),this.internal.__cell__.lastCell=g,this};i.table=function(g,v,j,A,M){if(o.call(this),!j)throw new Error("No data for PDF table.");var b,U,E,I,P=[],W=[],X=[],H={},fe={},he=[],Ee=[],ge=(M=M||{}).autoSize||!1,ee=M.printHeaders!==!1,xe=M.css&&M.css["font-size"]!==void 0?16*M.css["font-size"]:M.fontSize||12,z=M.margins||Object.assign({width:this.getPageWidth()},a),$=typeof M.padding=="number"?M.padding:3,le=M.headerBackgroundColor||"#c8c8c8",ie=M.headerTextColor||"#000";if(c.call(this),this.internal.__cell__.printHeaders=ee,this.internal.__cell__.margins=z,this.internal.__cell__.table_font_size=xe,this.internal.__cell__.padding=$,this.internal.__cell__.headerBackgroundColor=le,this.internal.__cell__.headerTextColor=ie,this.setFontSize(xe),A==null)W=P=Object.keys(j[0]),X=P.map(function(){return"left"});else if(Array.isArray(A)&&tr(A[0])==="object")for(P=A.map(function(Ue){return Ue.name}),W=A.map(function(Ue){return Ue.prompt||Ue.name||""}),X=A.map(function(Ue){return Ue.align||"left"}),b=0;b<A.length;b+=1)fe[A[b].name]=.7499990551181103*A[b].width;else Array.isArray(A)&&typeof A[0]=="string"&&(W=P=A,X=P.map(function(){return"left"}));if(ge||Array.isArray(A)&&typeof A[0]=="string")for(b=0;b<P.length;b+=1){for(H[I=P[b]]=j.map(function(Ue){return Ue[I]}),this.setFont(void 0,"bold"),he.push(this.getTextDimensions(W[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),U=H[I],this.setFont(void 0,"normal"),E=0;E<U.length;E+=1)he.push(this.getTextDimensions(U[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);fe[I]=Math.max.apply(null,he)+$+$,he=[]}if(ee){var we={};for(b=0;b<P.length;b+=1)we[P[b]]={},we[P[b]].text=W[b],we[P[b]].align=X[b];var _e=p.call(this,we,fe);Ee=P.map(function(Ue){return new l(g,v,fe[Ue],_e,we[Ue].text,void 0,we[Ue].align)}),this.setTableHeaderRow(Ee),this.printHeaderRow(1,!1)}var Ie=A.reduce(function(Ue,te){return Ue[te.name]=te.align,Ue},{});for(b=0;b<j.length;b+=1){"rowStart"in M&&M.rowStart instanceof Function&&M.rowStart({row:b,data:j[b]},this);var pe=p.call(this,j[b],fe);for(E=0;E<P.length;E+=1){var Pe=j[b][P[E]];"cellStart"in M&&M.cellStart instanceof Function&&M.cellStart({row:b,col:E,data:Pe},this),m.call(this,new l(g,v,fe[P[E]],pe,Pe,b+2,Ie[P[E]]))}}return this.internal.__cell__.table_x=g,this.internal.__cell__.table_y=v,this};var p=function(g,v){var j=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,M=this.internal.scaleFactor;return Object.keys(g).map(function(b){var U=g[b];return this.splitTextToSize(U.hasOwnProperty("text")?U.text:U,v[b]-j-j)},this).map(function(b){return this.getLineHeightFactor()*b.length*A/M+j+j},this).reduce(function(b,U){return Math.max(b,U)},0)};i.setTableHeaderRow=function(g){o.call(this),this.internal.__cell__.tableHeaderRow=g},i.printHeaderRow=function(g,v){if(o.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var j;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var M=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){j=this.internal.__cell__.tableHeaderRow[b].clone(),v&&(j.y=this.internal.__cell__.margins.top||0,M.push(j)),j.lineNumber=g;var U=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),m.call(this,j),this.setTextColor(U)}M.length>0&&this.setTableHeaderRow(M),this.setFont(void 0,"normal"),r=!1}})(Ht.API);var N0={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},k0=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Nf=S0(k0),A0=[100,200,300,400,500,600,700,800,900],Zx=S0(A0);function sf(i){var a=i.family.replace(/"|'/g,"").toLowerCase(),r=(function(l){return N0[l=l||"normal"]?l:"normal"})(i.style),o=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(i.weight),c=(function(l){return typeof Nf[l=l||"normal"]=="number"?l:"normal"})(i.stretch);return{family:a,style:r,weight:o,stretch:c,src:i.src||[],ref:i.ref||{name:a,style:[c,r,o].join(" ")}}}function om(i,a,r,o){var c;for(c=r;c>=0&&c<a.length;c+=o)if(i[a[c]])return i[a[c]];for(c=r;c>=0&&c<a.length;c-=o)if(i[a[c]])return i[a[c]]}var ey={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},lm={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cm(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function dm(i){return i.trimLeft()}function ty(i,a){for(var r=0;r<i.length;){if(i.charAt(r)===a)return[i.substring(0,r),i.substring(r+1)];r+=1}return null}function ny(i){var a=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return a===null?null:[a[0],i.substring(a[0].length)]}var Fd,um,fm,hc,Rd,hm,pm,mm,of=["times"];function gm(i,a,r,o,c){var l=4,m=ym;switch(c){case Ht.API.image_compression.FAST:l=1,m=xm;break;case Ht.API.image_compression.MEDIUM:l=6,m=vm;break;case Ht.API.image_compression.SLOW:l=9,m=bm}i=(function(g,v,j,A){for(var M,b=g.length/v,U=new Uint8Array(g.length+b),E=[ry,xm,ym,vm,bm],I=0;I<b;I+=1){var P=I*v,W=g.subarray(P,P+v);if(A)U.set(A(W,j,M),P+I);else{for(var X=E.length,H=[],fe=0;fe<X;fe+=1)H[fe]=E[fe](W,j,M);var he=iy(H.concat());U.set(H[he],P+I)}M=W}return U})(i,a,Math.ceil(r*o/8),m);var p=xf(i,{level:l});return Ht.API.__addimage__.arrayBufferToBinaryString(p)}function ry(i){var a=Array.apply([],i);return a.unshift(0),a}function xm(i,a){var r=i.length,o=[];o[0]=1;for(var c=0;c<r;c+=1){var l=i[c-a]||0;o[c+1]=i[c]-l+256&255}return o}function ym(i,a,r){var o=i.length,c=[];c[0]=2;for(var l=0;l<o;l+=1){var m=r&&r[l]||0;c[l+1]=i[l]-m+256&255}return c}function vm(i,a,r){var o=i.length,c=[];c[0]=3;for(var l=0;l<o;l+=1){var m=i[l-a]||0,p=r&&r[l]||0;c[l+1]=i[l]+256-(m+p>>>1)&255}return c}function bm(i,a,r){var o=i.length,c=[];c[0]=4;for(var l=0;l<o;l+=1){var m=ay(i[l-a]||0,r&&r[l]||0,r&&r[l-a]||0);c[l+1]=i[l]-m+256&255}return c}function ay(i,a,r){if(i===a&&a===r)return i;var o=Math.abs(a-r),c=Math.abs(i-r),l=Math.abs(i+a-r-r);return o<=c&&o<=l?i:c<=l?a:r}function iy(i){var a=i.map(function(r){return r.reduce(function(o,c){return o+Math.abs(c)},0)});return a.indexOf(Math.min.apply(null,a))}function lf(i,a,r){var o=a*r,c=Math.floor(o/8),l=16-(o-8*c+r),m=(1<<r)-1;return C0(i,c)>>l&m}function wm(i,a,r,o){var c=r*o,l=Math.floor(c/8),m=16-(c-8*l+o),p=(1<<o)-1,g=(a&p)<<m;(function(v,j,A){if(j+1<v.byteLength)v.setUint16(j,A,!1);else{var M=A>>8&255;v.setUint8(j,M)}})(i,l,C0(i,l)&~(p<<m)&65535|g)}function C0(i,a){return a+1<i.byteLength?i.getUint16(a,!1):i.getUint8(a)<<8}function sy(i){var a=0;if(i[a++]!==71||i[a++]!==73||i[a++]!==70||i[a++]!==56||(i[a++]+1&253)!=56||i[a++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=i[a++]|i[a++]<<8,o=i[a++]|i[a++]<<8,c=i[a++],l=c>>7,m=1<<1+(7&c);i[a++],i[a++];var p=null,g=null;l&&(p=a,g=m,a+=3*m);var v=!0,j=[],A=0,M=null,b=0,U=null;for(this.width=r,this.height=o;v&&a<i.length;)switch(i[a++]){case 33:switch(i[a++]){case 255:if(i[a]!==11||i[a+1]==78&&i[a+2]==69&&i[a+3]==84&&i[a+4]==83&&i[a+5]==67&&i[a+6]==65&&i[a+7]==80&&i[a+8]==69&&i[a+9]==50&&i[a+10]==46&&i[a+11]==48&&i[a+12]==3&&i[a+13]==1&&i[a+16]==0)a+=14,U=i[a++]|i[a++]<<8,a++;else for(a+=12;;){if(!((z=i[a++])>=0))throw Error("Invalid block size");if(z===0)break;a+=z}break;case 249:if(i[a++]!==4||i[a+4]!==0)throw new Error("Invalid graphics extension block.");var E=i[a++];A=i[a++]|i[a++]<<8,M=i[a++],1&E||(M=null),b=E>>2&7,a++;break;case 254:for(;;){if(!((z=i[a++])>=0))throw Error("Invalid block size");if(z===0)break;a+=z}break;default:throw new Error("Unknown graphic control label: 0x"+i[a-1].toString(16))}break;case 44:var I=i[a++]|i[a++]<<8,P=i[a++]|i[a++]<<8,W=i[a++]|i[a++]<<8,X=i[a++]|i[a++]<<8,H=i[a++],fe=H>>6&1,he=1<<1+(7&H),Ee=p,ge=g,ee=!1;H>>7&&(ee=!0,Ee=a,ge=he,a+=3*he);var xe=a;for(a++;;){var z;if(!((z=i[a++])>=0))throw Error("Invalid block size");if(z===0)break;a+=z}j.push({x:I,y:P,width:W,height:X,has_local_palette:ee,palette_offset:Ee,palette_size:ge,data_offset:xe,data_length:a-xe,transparent_index:M,interlaced:!!fe,delay:A,disposal:b});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+i[a-1].toString(16))}this.numFrames=function(){return j.length},this.loopCount=function(){return U},this.frameInfo=function($){if($<0||$>=j.length)throw new Error("Frame index out of range.");return j[$]},this.decodeAndBlitFrameBGRA=function($,le){var ie=this.frameInfo($),we=ie.width*ie.height,_e=new Uint8Array(we);jm(i,ie.data_offset,_e,we);var Ie=ie.palette_offset,pe=ie.transparent_index;pe===null&&(pe=256);var Pe=ie.width,Ue=r-Pe,te=Pe,C=4*(ie.y*r+ie.x),K=4*((ie.y+ie.height)*r+ie.x),Z=C,de=4*Ue;ie.interlaced===!0&&(de+=4*r*7);for(var ce=8,be=0,Me=_e.length;be<Me;++be){var Fe=_e[be];if(te===0&&(te=Pe,(Z+=de)>=K&&(de=4*Ue+4*r*(ce-1),Z=C+(Pe+Ue)*(ce<<1),ce>>=1)),Fe===pe)Z+=4;else{var $e=i[Ie+3*Fe],De=i[Ie+3*Fe+1],at=i[Ie+3*Fe+2];le[Z++]=at,le[Z++]=De,le[Z++]=$e,le[Z++]=255}--te}},this.decodeAndBlitFrameRGBA=function($,le){var ie=this.frameInfo($),we=ie.width*ie.height,_e=new Uint8Array(we);jm(i,ie.data_offset,_e,we);var Ie=ie.palette_offset,pe=ie.transparent_index;pe===null&&(pe=256);var Pe=ie.width,Ue=r-Pe,te=Pe,C=4*(ie.y*r+ie.x),K=4*((ie.y+ie.height)*r+ie.x),Z=C,de=4*Ue;ie.interlaced===!0&&(de+=4*r*7);for(var ce=8,be=0,Me=_e.length;be<Me;++be){var Fe=_e[be];if(te===0&&(te=Pe,(Z+=de)>=K&&(de=4*Ue+4*r*(ce-1),Z=C+(Pe+Ue)*(ce<<1),ce>>=1)),Fe===pe)Z+=4;else{var $e=i[Ie+3*Fe],De=i[Ie+3*Fe+1],at=i[Ie+3*Fe+2];le[Z++]=$e,le[Z++]=De,le[Z++]=at,le[Z++]=255}--te}}}function jm(i,a,r,o){for(var c=i[a++],l=1<<c,m=l+1,p=m+1,g=c+1,v=(1<<g)-1,j=0,A=0,M=0,b=i[a++],U=new Int32Array(4096),E=null;;){for(;j<16&&b!==0;)A|=i[a++]<<j,j+=8,b===1?b=i[a++]:--b;if(j<g)break;var I=A&v;if(A>>=g,j-=g,I!==l){if(I===m)break;for(var P=I<p?I:E,W=0,X=P;X>l;)X=U[X]>>8,++W;var H=X;if(M+W+(P!==I?1:0)>o)return void lr.log("Warning, gif stream longer than expected.");r[M++]=H;var fe=M+=W;for(P!==I&&(r[M++]=H),X=P;W--;)X=U[X],r[--fe]=255&X,X>>=8;E!==null&&p<4096&&(U[p++]=E<<8|H,p>=v+1&&g<12&&(++g,v=v<<1|1)),E=I}else p=m+1,v=(1<<(g=c+1))-1,E=null}return M!==o&&lr.log("Warning, gif stream shorter than expected."),r}function cf(i){var a,r,o,c,l,m=Math.floor,p=new Array(64),g=new Array(64),v=new Array(64),j=new Array(64),A=new Array(65535),M=new Array(65535),b=new Array(64),U=new Array(64),E=[],I=0,P=7,W=new Array(64),X=new Array(64),H=new Array(64),fe=new Array(256),he=new Array(2048),Ee=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ge=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],xe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],le=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],we=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function _e(C,K){for(var Z=0,de=0,ce=new Array,be=1;be<=16;be++){for(var Me=1;Me<=C[be];Me++)ce[K[de]]=[],ce[K[de]][0]=Z,ce[K[de]][1]=be,de++,Z++;Z*=2}return ce}function Ie(C){for(var K=C[0],Z=C[1]-1;Z>=0;)K&1<<Z&&(I|=1<<P),Z--,--P<0&&(I==255?(pe(255),pe(0)):pe(I),P=7,I=0)}function pe(C){E.push(C)}function Pe(C){pe(C>>8&255),pe(255&C)}function Ue(C,K,Z,de,ce){for(var be,Me=ce[0],Fe=ce[240],$e=(function(Ke,_t){var vt,ct,St,nn,Zt,Jt,Gt,Ce,ze,se,ke=0;for(ze=0;ze<8;++ze){vt=Ke[ke],ct=Ke[ke+1],St=Ke[ke+2],nn=Ke[ke+3],Zt=Ke[ke+4],Jt=Ke[ke+5],Gt=Ke[ke+6];var Xe=vt+(Ce=Ke[ke+7]),ht=vt-Ce,Ve=ct+Gt,ft=ct-Gt,$t=St+Jt,bt=St-Jt,fn=nn+Zt,Bt=nn-Zt,Kt=Xe+fn,hn=Xe-fn,Vt=Ve+$t,oe=Ve-$t;Ke[ke]=Kt+Vt,Ke[ke+4]=Kt-Vt;var dt=.707106781*(oe+hn);Ke[ke+2]=hn+dt,Ke[ke+6]=hn-dt;var Br=.382683433*((Kt=Bt+bt)-(oe=ft+ht)),Yt=.5411961*Kt+Br,Dn=1.306562965*oe+Br,Qt=.707106781*(Vt=bt+ft),Nt=ht+Qt,za=ht-Qt;Ke[ke+5]=za+Yt,Ke[ke+3]=za-Yt,Ke[ke+1]=Nt+Dn,Ke[ke+7]=Nt-Dn,ke+=8}for(ke=0,ze=0;ze<8;++ze){vt=Ke[ke],ct=Ke[ke+8],St=Ke[ke+16],nn=Ke[ke+24],Zt=Ke[ke+32],Jt=Ke[ke+40],Gt=Ke[ke+48];var ci=vt+(Ce=Ke[ke+56]),la=vt-Ce,Qa=ct+Gt,An=ct-Gt,_r=St+Jt,zr=St-Jt,Ii=nn+Zt,Et=nn-Zt,rr=ci+Ii,di=ci-Ii,Jr=Qa+_r,Fn=Qa-_r;Ke[ke]=rr+Jr,Ke[ke+32]=rr-Jr;var $n=.707106781*(Fn+di);Ke[ke+16]=di+$n,Ke[ke+48]=di-$n;var cr=.382683433*((rr=Et+zr)-(Fn=An+la)),dr=.5411961*rr+cr,Ss=1.306562965*Fn+cr,ui=.707106781*(Jr=zr+An),mt=la+ui,Ur=la-ui;Ke[ke+40]=Ur+dr,Ke[ke+24]=Ur-dr,Ke[ke+8]=mt+Ss,Ke[ke+56]=mt-Ss,ke++}for(ze=0;ze<64;++ze)se=Ke[ze]*_t[ze],b[ze]=se>0?se+.5|0:se-.5|0;return b})(C,K),De=0;De<64;++De)U[Ee[De]]=$e[De];var at=U[0]-Z;Z=U[0],at==0?Ie(de[0]):(Ie(de[M[be=32767+at]]),Ie(A[be]));for(var ot=63;ot>0&&U[ot]==0;)ot--;if(ot==0)return Ie(Me),Z;for(var gt,Y=1;Y<=ot;){for(var nt=Y;U[Y]==0&&Y<=ot;)++Y;var It=Y-nt;if(It>=16){gt=It>>4;for(var wt=1;wt<=gt;++wt)Ie(Fe);It&=15}be=32767+U[Y],Ie(ce[(It<<4)+M[be]]),Ie(A[be]),Y++}return ot!=63&&Ie(Me),Z}function te(C){C=Math.min(Math.max(C,1),100),l!=C&&((function(K){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],de=0;de<64;de++){var ce=m((Z[de]*K+50)/100);ce=Math.min(Math.max(ce,1),255),p[Ee[de]]=ce}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Me=0;Me<64;Me++){var Fe=m((be[Me]*K+50)/100);Fe=Math.min(Math.max(Fe,1),255),g[Ee[Me]]=Fe}for(var $e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,at=0;at<8;at++)for(var ot=0;ot<8;ot++)v[De]=1/(p[Ee[De]]*$e[at]*$e[ot]*8),j[De]=1/(g[Ee[De]]*$e[at]*$e[ot]*8),De++})(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),l=C)}this.encode=function(C,K){K&&te(K),E=new Array,I=0,P=7,Pe(65496),Pe(65504),Pe(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),Pe(1),Pe(1),pe(0),pe(0),(function(){Pe(65499),Pe(132),pe(0);for(var ct=0;ct<64;ct++)pe(p[ct]);pe(1);for(var St=0;St<64;St++)pe(g[St])})(),(function(ct,St){Pe(65472),Pe(17),pe(8),Pe(St),Pe(ct),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1)})(C.width,C.height),(function(){Pe(65476),Pe(418),pe(0);for(var ct=0;ct<16;ct++)pe(ge[ct+1]);for(var St=0;St<=11;St++)pe(ee[St]);pe(16);for(var nn=0;nn<16;nn++)pe(xe[nn+1]);for(var Zt=0;Zt<=161;Zt++)pe(z[Zt]);pe(1);for(var Jt=0;Jt<16;Jt++)pe($[Jt+1]);for(var Gt=0;Gt<=11;Gt++)pe(le[Gt]);pe(17);for(var Ce=0;Ce<16;Ce++)pe(ie[Ce+1]);for(var ze=0;ze<=161;ze++)pe(we[ze])})(),Pe(65498),Pe(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var Z=0,de=0,ce=0;I=0,P=7,this.encode.displayName="_encode_";for(var be,Me,Fe,$e,De,at,ot,gt,Y,nt=C.data,It=C.width,wt=C.height,Ke=4*It,_t=0;_t<wt;){for(be=0;be<Ke;){for(De=Ke*_t+be,ot=-1,gt=0,Y=0;Y<64;Y++)at=De+(gt=Y>>3)*Ke+(ot=4*(7&Y)),_t+gt>=wt&&(at-=Ke*(_t+1+gt-wt)),be+ot>=Ke&&(at-=be+ot-Ke+4),Me=nt[at++],Fe=nt[at++],$e=nt[at++],W[Y]=(he[Me]+he[Fe+256|0]+he[$e+512|0]>>16)-128,X[Y]=(he[Me+768|0]+he[Fe+1024|0]+he[$e+1280|0]>>16)-128,H[Y]=(he[Me+1280|0]+he[Fe+1536|0]+he[$e+1792|0]>>16)-128;Z=Ue(W,v,Z,a,o),de=Ue(X,j,de,r,c),ce=Ue(H,j,ce,r,c),be+=32}_t+=8}if(P>=0){var vt=[];vt[1]=P+1,vt[0]=(1<<P+1)-1,Ie(vt)}return Pe(65497),new Uint8Array(E)},i=i||50,(function(){for(var C=String.fromCharCode,K=0;K<256;K++)fe[K]=C(K)})(),a=_e(ge,ee),r=_e($,le),o=_e(xe,z),c=_e(ie,we),(function(){for(var C=1,K=2,Z=1;Z<=15;Z++){for(var de=C;de<K;de++)M[32767+de]=Z,A[32767+de]=[],A[32767+de][1]=Z,A[32767+de][0]=de;for(var ce=-(K-1);ce<=-C;ce++)M[32767+ce]=Z,A[32767+ce]=[],A[32767+ce][1]=Z,A[32767+ce][0]=K-1+ce;C<<=1,K<<=1}})(),(function(){for(var C=0;C<256;C++)he[C]=19595*C,he[C+256|0]=38470*C,he[C+512|0]=7471*C+32768,he[C+768|0]=-11059*C,he[C+1024|0]=-21709*C,he[C+1280|0]=32768*C+8421375,he[C+1536|0]=-27439*C,he[C+1792|0]=-5329*C})(),te(i)}function uo(i,a){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!a,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Sm(i){function a(ee){if(!ee)throw Error("assert :P")}function r(ee,xe,z){for(var $=0;4>$;$++)if(ee[xe+$]!=z.charCodeAt($))return!0;return!1}function o(ee,xe,z,$,le){for(var ie=0;ie<le;ie++)ee[xe+ie]=z[$+ie]}function c(ee,xe,z,$){for(var le=0;le<$;le++)ee[xe+le]=z}function l(ee){return new Int32Array(ee)}function m(ee,xe){for(var z=[],$=0;$<ee;$++)z.push(new xe);return z}function p(ee,xe){var z=[];return(function $(le,ie,we){for(var _e=we[ie],Ie=0;Ie<_e&&(le.push(we.length>ie+1?[]:new xe),!(we.length<ie+1));Ie++)$(le[Ie],ie+1,we)})(z,0,ee),z}var g=function(){var ee=this;function xe(d,h){for(var w=1<<h-1>>>0;d&w;)w>>>=1;return w?(d&w-1)+w:d}function z(d,h,w,k,_){a(!(k%w));do d[h+(k-=w)]=_;while(0<k)}function $(d,h,w,k,_){if(a(2328>=_),512>=_)var T=l(512);else if((T=l(_))==null)return 0;return(function(B,q,J,ne,ye,Te){var re,je,Re=q,Je=1<<J,Be=l(16),Ye=l(16);for(a(ye!=0),a(ne!=null),a(B!=null),a(0<J),je=0;je<ye;++je){if(15<ne[je])return 0;++Be[ne[je]]}if(Be[0]==ye)return 0;for(Ye[1]=0,re=1;15>re;++re){if(Be[re]>1<<re)return 0;Ye[re+1]=Ye[re]+Be[re]}for(je=0;je<ye;++je)re=ne[je],0<ne[je]&&(Te[Ye[re]++]=je);if(Ye[15]==1)return(ne=new le).g=0,ne.value=Te[0],z(B,Re,1,Je,ne),Je;var Ge,et=-1,tt=Je-1,zt=0,Pt=1,un=1,Dt=1<<J;for(je=0,re=1,ye=2;re<=J;++re,ye<<=1){if(Pt+=un<<=1,0>(un-=Be[re]))return 0;for(;0<Be[re];--Be[re])(ne=new le).g=re,ne.value=Te[je++],z(B,Re+zt,ye,Dt,ne),zt=xe(zt,re)}for(re=J+1,ye=2;15>=re;++re,ye<<=1){if(Pt+=un<<=1,0>(un-=Be[re]))return 0;for(;0<Be[re];--Be[re]){if(ne=new le,(zt&tt)!=et){for(Re+=Dt,Ge=1<<(et=re)-J;15>et&&!(0>=(Ge-=Be[et]));)++et,Ge<<=1;Je+=Dt=1<<(Ge=et-J),B[q+(et=zt&tt)].g=Ge+J,B[q+et].value=Re-q-et}ne.g=re-J,ne.value=Te[je++],z(B,Re+(zt>>J),ye,Dt,ne),zt=xe(zt,re)}}return Pt!=2*Ye[15]-1?0:Je})(d,h,w,k,_,T)}function le(){this.value=this.g=0}function ie(){this.value=this.g=0}function we(){this.G=m(5,le),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=m(ca,ie)}function _e(d,h,w,k){a(d!=null),a(h!=null),a(2147483648>k),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=h,d.pa=w,d.Jd=h,d.Yc=w+k,d.Zc=4<=k?w+k-4+1:w,Me(d)}function Ie(d,h){for(var w=0;0<h--;)w|=$e(d,128)<<h;return w}function pe(d,h){var w=Ie(d,h);return Fe(d)?-w:w}function Pe(d,h,w,k){var _,T=0;for(a(d!=null),a(h!=null),a(4294967288>k),d.Sb=k,d.Ra=0,d.u=0,d.h=0,4<k&&(k=4),_=0;_<k;++_)T+=h[w+_]<<8*_;d.Ra=T,d.bb=k,d.oa=h,d.pa=w}function Ue(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<vi-8>>>0,++d.bb,d.u-=8;de(d)&&(d.h=1,d.u=0)}function te(d,h){if(a(0<=h),!d.h&&h<=Sa){var w=Z(d)&ri[h];return d.u+=h,Ue(d),w}return d.h=1,d.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(d){return d.Ra>>>(d.u&vi-1)>>>0}function de(d){return a(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>vi}function ce(d,h){d.u=h,d.h=de(d)}function be(d){d.u>=$r&&(a(d.u>=$r),Ue(d))}function Me(d){a(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(a(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function Fe(d){return Ie(d,1)}function $e(d,h){var w=d.Ca;0>d.b&&Me(d);var k=d.b,_=w*h>>>8,T=(d.I>>>k>_)+0;for(T?(w-=_,d.I-=_+1<<k>>>0):w=_+1,k=w,_=0;256<=k;)_+=8,k>>=8;return k=7^_+ns[k],d.b-=k,d.Ca=(w<<k)-1,T}function De(d,h,w){d[h+0]=w>>24&255,d[h+1]=w>>16&255,d[h+2]=w>>8&255,d[h+3]=255&w}function at(d,h){return d[h+0]|d[h+1]<<8}function ot(d,h){return at(d,h)|d[h+2]<<16}function gt(d,h){return at(d,h)|at(d,h+2)<<16}function Y(d,h){var w=1<<h;return a(d!=null),a(0<h),d.X=l(w),d.X==null?0:(d.Mb=32-h,d.Xa=h,1)}function nt(d,h){a(d!=null),a(h!=null),a(d.Xa==h.Xa),o(h.X,0,d.X,0,1<<h.Xa)}function It(){this.X=[],this.Xa=this.Mb=0}function wt(d,h,w,k){a(w!=null),a(k!=null);var _=w[0],T=k[0];return _==0&&(_=(d*T+h/2)/h),T==0&&(T=(h*_+d/2)/d),0>=_||0>=T?0:(w[0]=_,k[0]=T,1)}function Ke(d,h){return d+(1<<h)-1>>>h}function _t(d,h){return((4278255360&d)+(4278255360&h)>>>0&4278255360)+((16711935&d)+(16711935&h)>>>0&16711935)>>>0}function vt(d,h){ee[h]=function(w,k,_,T,B,q,J){var ne;for(ne=0;ne<B;++ne){var ye=ee[d](q[J+ne-1],_,T+ne);q[J+ne]=_t(w[k+ne],ye)}}}function ct(){this.ud=this.hd=this.jd=0}function St(d,h){return((4278124286&(d^h))>>>1)+(d&h)>>>0}function nn(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Zt(d,h){return nn(d+(d-h+.5>>1))}function Jt(d,h,w){return Math.abs(h-w)-Math.abs(d-w)}function Gt(d,h,w,k,_,T,B){for(k=T[B-1],w=0;w<_;++w)T[B+w]=k=_t(d[h+w],k)}function Ce(d,h,w,k,_){var T;for(T=0;T<w;++T){var B=d[h+T],q=B>>8&255,J=16711935&(J=(J=16711935&B)+((q<<16)+q));k[_+T]=(4278255360&B)+J>>>0}}function ze(d,h){h.jd=255&d,h.hd=d>>8&255,h.ud=d>>16&255}function se(d,h,w,k,_,T){var B;for(B=0;B<k;++B){var q=h[w+B],J=q>>>8,ne=q,ye=255&(ye=(ye=q>>>16)+((d.jd<<24>>24)*(J<<24>>24)>>>5));ne=255&(ne=(ne+=(d.hd<<24>>24)*(J<<24>>24)>>>5)+((d.ud<<24>>24)*(ye<<24>>24)>>>5)),_[T+B]=(4278255360&q)+(ye<<16)+ne}}function ke(d,h,w,k,_){ee[h]=function(T,B,q,J,ne,ye,Te,re,je){for(J=Te;J<re;++J)for(Te=0;Te<je;++Te)ne[ye++]=_(q[k(T[B++])])},ee[d]=function(T,B,q,J,ne,ye,Te){var re=8>>T.b,je=T.Ea,Re=T.K[0],Je=T.w;if(8>re)for(T=(1<<T.b)-1,Je=(1<<re)-1;B<q;++B){var Be,Ye=0;for(Be=0;Be<je;++Be)Be&T||(Ye=k(J[ne++])),ye[Te++]=_(Re[Ye&Je]),Ye>>=re}else ee["VP8LMapColor"+w](J,ne,Re,Je,ye,Te,B,q,je)}}function Xe(d,h,w,k,_){for(w=h+w;h<w;){var T=d[h++];k[_++]=T>>16&255,k[_++]=T>>8&255,k[_++]=255&T}}function ht(d,h,w,k,_){for(w=h+w;h<w;){var T=d[h++];k[_++]=T>>16&255,k[_++]=T>>8&255,k[_++]=255&T,k[_++]=T>>24&255}}function Ve(d,h,w,k,_){for(w=h+w;h<w;){var T=(B=d[h++])>>16&240|B>>12&15,B=240&B|B>>28&15;k[_++]=T,k[_++]=B}}function ft(d,h,w,k,_){for(w=h+w;h<w;){var T=(B=d[h++])>>16&248|B>>13&7,B=B>>5&224|B>>3&31;k[_++]=T,k[_++]=B}}function $t(d,h,w,k,_){for(w=h+w;h<w;){var T=d[h++];k[_++]=255&T,k[_++]=T>>8&255,k[_++]=T>>16&255}}function bt(d,h,w,k,_,T){if(T==0)for(w=h+w;h<w;)De(k,((T=d[h++])[0]>>24|T[1]>>8&65280|T[2]<<8&16711680|T[3]<<24)>>>0),_+=32;else o(k,_,d,h,w)}function fn(d,h){ee[h][0]=ee[d+"0"],ee[h][1]=ee[d+"1"],ee[h][2]=ee[d+"2"],ee[h][3]=ee[d+"3"],ee[h][4]=ee[d+"4"],ee[h][5]=ee[d+"5"],ee[h][6]=ee[d+"6"],ee[h][7]=ee[d+"7"],ee[h][8]=ee[d+"8"],ee[h][9]=ee[d+"9"],ee[h][10]=ee[d+"10"],ee[h][11]=ee[d+"11"],ee[h][12]=ee[d+"12"],ee[h][13]=ee[d+"13"],ee[h][14]=ee[d+"0"],ee[h][15]=ee[d+"0"]}function Bt(d){return d==Ao||d==Dr||d==Ra||d==Uo}function Kt(){this.eb=[],this.size=this.A=this.fb=0}function hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Vt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Kt,this.f.kb=new hn,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Br(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Yt(d,h){var w=d.T,k=h.ba.f.RGBA,_=k.eb,T=k.fb+d.ka*k.A,B=G[h.ba.S],q=d.y,J=d.O,ne=d.f,ye=d.N,Te=d.ea,re=d.W,je=h.cc,Re=h.dc,Je=h.Mc,Be=h.Nc,Ye=d.ka,Ge=d.ka+d.T,et=d.U,tt=et+1>>1;for(Ye==0?B(q,J,null,null,ne,ye,Te,re,ne,ye,Te,re,_,T,null,null,et):(B(h.ec,h.fc,q,J,je,Re,Je,Be,ne,ye,Te,re,_,T-k.A,_,T,et),++w);Ye+2<Ge;Ye+=2)je=ne,Re=ye,Je=Te,Be=re,ye+=d.Rc,re+=d.Rc,T+=2*k.A,B(q,(J+=2*d.fa)-d.fa,q,J,je,Re,Je,Be,ne,ye,Te,re,_,T-k.A,_,T,et);return J+=d.fa,d.j+Ge<d.o?(o(h.ec,h.fc,q,J,et),o(h.cc,h.dc,ne,ye,tt),o(h.Mc,h.Nc,Te,re,tt),w--):1&Ge||B(q,J,null,null,ne,ye,Te,re,ne,ye,Te,re,_,T+k.A,null,null,et),w}function Dn(d,h,w){var k=d.F,_=[d.J];if(k!=null){var T=d.U,B=h.ba.S,q=B==ko||B==Ra;h=h.ba.f.RGBA;var J=[0],ne=d.ka;J[0]=d.T,d.Kb&&(ne==0?--J[0]:(--ne,_[0]-=d.width),d.j+d.ka+d.T==d.o&&(J[0]=d.o-d.j-ne));var ye=h.eb;ne=h.fb+ne*h.A,d=jo(k,_[0],d.width,T,J,ye,ne+(q?0:3),h.A),a(w==J),d&&Bt(B)&&Xs(ye,ne,q,T,J,h.A)}return 0}function Qt(d){var h=d.ma,w=h.ba.S,k=11>w,_=w==ms||w==No||w==ko||w==Un||w==12||Bt(w);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!_n(h.Oa,d,_?11:12))return 0;if(_&&Bt(w)&&Ar(),d.da)alert("todo:use_scaling");else{if(k){if(h.Ib=Br,d.Kb){if(w=d.U+1>>1,h.memory=l(d.U+2*w),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+d.U,h.Mc=h.cc,h.Nc=h.dc+w,h.Ib=Yt,Ar()}}else alert("todo:EmitYUV");_&&(h.Jb=Dn,k&&Kn())}if(k&&!da){for(d=0;256>d;++d)Wa[d]=89858*(d-128)+an>>yn,Qn[d]=-22014*(d-128)+an,qn[d]=-45773*(d-128),At[d]=113618*(d-128)+an>>yn;for(d=on;d<xn;++d)h=76283*(d-16)+an>>yn,Ms[d-on]=fr(h,255),Jl[d-on]=fr(h+8>>4,15);da=1}return 1}function Nt(d){var h=d.ma,w=d.U,k=d.T;return a(!(1&d.ka)),0>=w||0>=k?0:(w=h.Ib(d,h),h.Jb!=null&&h.Jb(d,h,w),h.Dc+=w,1)}function za(d){d.ma.memory=null}function ci(d,h,w,k){return te(d,8)!=47?0:(h[0]=te(d,14)+1,w[0]=te(d,14)+1,k[0]=te(d,1),te(d,3)!=0?0:!d.h)}function la(d,h){if(4>d)return d+1;var w=d-2>>1;return(2+(1&d)<<w)+te(h,w)+1}function Qa(d,h){return 120<h?h-120:1<=(w=((w=Ac[h-1])>>4)*d+(8-(15&w)))?w:1;var w}function An(d,h,w){var k=Z(w),_=d[h+=255&k].g-8;return 0<_&&(ce(w,w.u+8),k=Z(w),h+=d[h].value,h+=k&(1<<_)-1),ce(w,w.u+d[h].g),d[h].value}function _r(d,h,w){return w.g+=d.g,w.value+=d.value<<h>>>0,a(8>=w.g),d.g}function zr(d,h,w){var k=d.xc;return a((h=k==0?0:d.vc[d.md*(w>>k)+(h>>k)])<d.Wb),d.Ya[h]}function Ii(d,h,w,k){var _=d.ab,T=d.c*h,B=d.C;h=B+h;var q=w,J=k;for(k=d.Ta,w=d.Ua;0<_--;){var ne=d.gc[_],ye=B,Te=h,re=q,je=J,Re=(J=k,q=w,ne.Ea);switch(a(ye<Te),a(Te<=ne.nc),ne.hc){case 2:Yn(re,je,(Te-ye)*Re,J,q);break;case 0:var Je=ye,Be=Te,Ye=J,Ge=q,et=(Dt=ne).Ea;Je==0&&(Ui(re,je,null,null,1,Ye,Ge),Gt(re,je+1,0,0,et-1,Ye,Ge+1),je+=et,Ge+=et,++Je);for(var tt=1<<Dt.b,zt=tt-1,Pt=Ke(et,Dt.b),un=Dt.K,Dt=Dt.w+(Je>>Dt.b)*Pt;Je<Be;){var Sn=un,Fr=Dt,pn=1;for(bi(re,je,Ye,Ge-et,1,Ye,Ge);pn<et;){var Lt=(pn&~zt)+tt;Lt>et&&(Lt=et),(0,xo[Sn[Fr++]>>8&15])(re,je+ +pn,Ye,Ge+pn-et,Lt-pn,Ye,Ge+pn),pn=Lt}je+=et,Ge+=et,++Je&zt||(Dt+=Pt)}Te!=ne.nc&&o(J,q-Re,J,q+(Te-ye-1)*Re,Re);break;case 1:for(Re=re,Be=je,et=(re=ne.Ea)-(Ge=re&~(Ye=(je=1<<ne.b)-1)),Je=Ke(re,ne.b),tt=ne.K,ne=ne.w+(ye>>ne.b)*Je;ye<Te;){for(zt=tt,Pt=ne,un=new ct,Dt=Be+Ge,Sn=Be+re;Be<Dt;)ze(zt[Pt++],un),Gs(un,Re,Be,je,J,q),Be+=je,q+=je;Be<Sn&&(ze(zt[Pt++],un),Gs(un,Re,Be,et,J,q),Be+=et,q+=et),++ye&Ye||(ne+=Je)}break;case 3:if(re==J&&je==q&&0<ne.b){for(Be=J,re=Re=q+(Te-ye)*Re-(Ge=(Te-ye)*Ke(ne.Ea,ne.b)),je=J,Ye=q,Je=[],Ge=(et=Ge)-1;0<=Ge;--Ge)Je[Ge]=je[Ye+Ge];for(Ge=et-1;0<=Ge;--Ge)Be[re+Ge]=Je[Ge];Vs(ne,ye,Te,J,Re,J,q)}else Vs(ne,ye,Te,re,je,J,q)}q=k,J=w}J!=w&&o(k,w,q,J,T)}function Et(d,h){var w=d.V,k=d.Ba+d.c*d.C,_=h-d.C;if(a(h<=d.l.o),a(16>=_),0<_){var T=d.l,B=d.Ta,q=d.Ua,J=T.width;if(Ii(d,_,w,k),_=q=[q],a((w=d.C)<(k=h)),a(T.v<T.va),k>T.o&&(k=T.o),w<T.j){var ne=T.j-w;w=T.j,_[0]+=ne*J}if(w>=k?w=0:(_[0]+=4*T.v,T.ka=w-T.j,T.U=T.va-T.v,T.T=k-w,w=1),w){if(q=q[0],11>(w=d.ca).S){var ye=w.f.RGBA,Te=(k=w.S,_=T.U,T=T.T,ne=ye.eb,ye.A),re=T;for(ye=ye.fb+d.Ma*ye.A;0<re--;){var je=B,Re=q,Je=_,Be=ne,Ye=ye;switch(k){case Qo:yo(je,Re,Je,Be,Ye);break;case ms:wi(je,Re,Je,Be,Ye);break;case Ao:wi(je,Re,Je,Be,Ye),Xs(Be,Ye,0,Je,1,0);break;case Cl:Js(je,Re,Je,Be,Ye);break;case No:bt(je,Re,Je,Be,Ye,1);break;case Dr:bt(je,Re,Je,Be,Ye,1),Xs(Be,Ye,0,Je,1,0);break;case ko:bt(je,Re,Je,Be,Ye,0);break;case Ra:bt(je,Re,Je,Be,Ye,0),Xs(Be,Ye,1,Je,1,0);break;case Un:_s(je,Re,Je,Be,Ye);break;case Uo:_s(je,Re,Je,Be,Ye),wo(Be,Ye,Je,1,0);break;case Xo:ta(je,Re,Je,Be,Ye);break;default:a(0)}q+=J,ye+=Te}d.Ma+=T}else alert("todo:EmitRescaledRowsYUVA");a(d.Ma<=w.height)}}d.C=h,a(d.C<=d.i)}function rr(d){var h;if(0<d.ua)return 0;for(h=0;h<d.Wb;++h){var w=d.Ya[h].G,k=d.Ya[h].H;if(0<w[1][k[1]+0].g||0<w[2][k[2]+0].g||0<w[3][k[3]+0].g)return 0}return 1}function di(d,h,w,k,_,T){if(d.Z!=0){var B=d.qd,q=d.rd;for(a(D[d.Z]!=null);h<w;++h)D[d.Z](B,q,k,_,k,_,T),B=k,q=_,_+=T;d.qd=B,d.rd=q}}function Jr(d,h){var w=d.l.ma,k=w.Z==0||w.Z==1?d.l.j:d.C;if(k=d.C<k?k:d.C,a(h<=d.l.o),h>k){var _=d.l.width,T=w.ca,B=w.tb+_*k,q=d.V,J=d.Ba+d.c*k,ne=d.gc;a(d.ab==1),a(ne[0].hc==3),qa(ne[0],k,h,q,J,T,B),di(w,k,h,T,B,_)}d.C=d.Ma=h}function Fn(d,h,w,k,_,T,B){var q=d.$/k,J=d.$%k,ne=d.m,ye=d.s,Te=w+d.$,re=Te;_=w+k*_;var je=w+k*T,Re=280+ye.ua,Je=d.Pb?q:16777216,Be=0<ye.ua?ye.Wa:null,Ye=ye.wc,Ge=Te<je?zr(ye,J,q):null;a(d.C<T),a(je<=_);var et=!1;e:for(;;){for(;et||Te<je;){var tt=0;if(q>=Je){var zt=Te-w;a((Je=d).Pb),Je.wd=Je.m,Je.xd=zt,0<Je.s.ua&&nt(Je.s.Wa,Je.s.vb),Je=q+Zo}if(J&Ye||(Ge=zr(ye,J,q)),a(Ge!=null),Ge.Qb&&(h[Te]=Ge.qb,et=!0),!et)if(be(ne),Ge.jc){tt=ne,zt=h;var Pt=Te,un=Ge.pd[Z(tt)&ca-1];a(Ge.jc),256>un.g?(ce(tt,tt.u+un.g),zt[Pt]=un.value,tt=0):(ce(tt,tt.u+un.g-256),a(256<=un.value),tt=un.value),tt==0&&(et=!0)}else tt=An(Ge.G[0],Ge.H[0],ne);if(ne.h)break;if(et||256>tt){if(!et)if(Ge.nd)h[Te]=(Ge.qb|tt<<8)>>>0;else{if(be(ne),et=An(Ge.G[1],Ge.H[1],ne),be(ne),zt=An(Ge.G[2],Ge.H[2],ne),Pt=An(Ge.G[3],Ge.H[3],ne),ne.h)break;h[Te]=(Pt<<24|et<<16|tt<<8|zt)>>>0}if(et=!1,++Te,++J>=k&&(J=0,++q,B!=null&&q<=T&&!(q%16)&&B(d,q),Be!=null))for(;re<Te;)tt=h[re++],Be.X[(506832829*tt&4294967295)>>>Be.Mb]=tt}else if(280>tt){if(tt=la(tt-256,ne),zt=An(Ge.G[4],Ge.H[4],ne),be(ne),zt=Qa(k,zt=la(zt,ne)),ne.h)break;if(Te-w<zt||_-Te<tt)break e;for(Pt=0;Pt<tt;++Pt)h[Te+Pt]=h[Te+Pt-zt];for(Te+=tt,J+=tt;J>=k;)J-=k,++q,B!=null&&q<=T&&!(q%16)&&B(d,q);if(a(Te<=_),J&Ye&&(Ge=zr(ye,J,q)),Be!=null)for(;re<Te;)tt=h[re++],Be.X[(506832829*tt&4294967295)>>>Be.Mb]=tt}else{if(!(tt<Re))break e;for(et=tt-280,a(Be!=null);re<Te;)tt=h[re++],Be.X[(506832829*tt&4294967295)>>>Be.Mb]=tt;tt=Te,a(!(et>>>(zt=Be).Xa)),h[tt]=zt.X[et],et=!0}et||a(ne.h==de(ne))}if(d.Pb&&ne.h&&Te<_)a(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&nt(d.s.vb,d.s.Wa);else{if(ne.h)break e;B?.(d,q>T?T:q),d.a=0,d.$=Te-w}return 1}return d.a=3,0}function $n(d){a(d!=null),d.vc=null,d.yc=null,d.Ya=null;var h=d.Wa;h!=null&&(h.X=null),d.vb=null,a(d!=null)}function cr(){var d=new qt;return d==null?null:(d.a=0,d.xb=F,fn("Predictor","VP8LPredictors"),fn("Predictor","VP8LPredictors_C"),fn("PredictorAdd","VP8LPredictorsAdd"),fn("PredictorAdd","VP8LPredictorsAdd_C"),Yn=Ce,Gs=se,yo=Xe,wi=ht,_s=Ve,ta=ft,Js=$t,ee.VP8LMapColor32b=rs,ee.VP8LMapColor8b=Ys,d)}function dr(d,h,w,k,_){var T=1,B=[d],q=[h],J=k.m,ne=k.s,ye=null,Te=0;e:for(;;){if(w)for(;T&&te(J,1);){var re=B,je=q,Re=k,Je=1,Be=Re.m,Ye=Re.gc[Re.ab],Ge=te(Be,2);if(Re.Oc&1<<Ge)T=0;else{switch(Re.Oc|=1<<Ge,Ye.hc=Ge,Ye.Ea=re[0],Ye.nc=je[0],Ye.K=[null],++Re.ab,a(4>=Re.ab),Ge){case 0:case 1:Ye.b=te(Be,3)+2,Je=dr(Ke(Ye.Ea,Ye.b),Ke(Ye.nc,Ye.b),0,Re,Ye.K),Ye.K=Ye.K[0];break;case 3:var et,tt=te(Be,8)+1,zt=16<tt?0:4<tt?1:2<tt?2:3;if(re[0]=Ke(Ye.Ea,zt),Ye.b=zt,et=Je=dr(tt,1,0,Re,Ye.K)){var Pt,un=tt,Dt=Ye,Sn=1<<(8>>Dt.b),Fr=l(Sn);if(Fr==null)et=0;else{var pn=Dt.K[0],Lt=Dt.w;for(Fr[0]=Dt.K[0][0],Pt=1;Pt<1*un;++Pt)Fr[Pt]=_t(pn[Lt+Pt],Fr[Pt-1]);for(;Pt<4*Sn;++Pt)Fr[Pt]=0;Dt.K[0]=null,Dt.K[0]=Fr,et=1}}Je=et;break;case 2:break;default:a(0)}T=Je}}if(B=B[0],q=q[0],T&&te(J,1)&&!(T=1<=(Te=te(J,4))&&11>=Te)){k.a=3;break e}var xt;if(xt=T)t:{var Wr,sn,wn,nr=k,ka=B,ra=q,Cr=Te,ua=w,Aa=nr.m,br=nr.s,kn=[null],Rn=1,wr=0,Tn=Yl[Cr];n:for(;;){if(ua&&te(Aa,1)){var Rr=te(Aa,3)+2,Tr=Ke(ka,Rr),Xn=Ke(ra,Rr),Ha=Tr*Xn;if(!dr(Tr,Xn,0,nr,kn))break n;for(kn=kn[0],br.xc=Rr,Wr=0;Wr<Ha;++Wr){var Gn=kn[Wr]>>8&65535;kn[Wr]=Gn,Gn>=Rn&&(Rn=Gn+1)}}if(Aa.h)break n;for(sn=0;5>sn;++sn){var Zn=Zs[sn];!sn&&0<Cr&&(Zn+=1<<Cr),wr<Zn&&(wr=Zn)}var aa=m(Rn*Tn,le),Oa=Rn,Ni=m(Oa,we);if(Ni==null)var Hr=null;else a(65536>=Oa),Hr=Ni;var Vr=l(wr);if(Hr==null||Vr==null||aa==null){nr.a=1;break n}var Va=aa;for(Wr=wn=0;Wr<Rn;++Wr){var er=Hr[Wr],Ya=er.G,is=er.H,gs=0,Ca=1,Yr=0;for(sn=0;5>sn;++sn){Zn=Zs[sn],Ya[sn]=Va,is[sn]=wn,!sn&&0<Cr&&(Zn+=1<<Cr);a:{var _o,ro=Zn,nl=nr,Ds=Vr,ed=Va,Pc=wn,or=0,xs=nl.m,Lc=te(xs,1);if(c(Ds,0,0,ro),Lc){var _c=te(xs,1)+1,Kl=te(xs,1),Ql=te(xs,Kl==0?1:8);Ds[Ql]=1,_c==2&&(Ds[Ql=te(xs,8)]=1);var Fs=1}else{var jr=l(19),ia=te(xs,4)+4;if(19<ia){nl.a=3;var Gr=0;break a}for(_o=0;_o<ia;++_o)jr[kc[_o]]=te(xs,3);var rl=void 0,ao=void 0,al=nl,eu=jr,fa=ro,Xl=Ds,_l=0,Rs=al.m,ys=8,qi=m(128,le);r:for(;$(qi,0,7,eu,19);){if(te(Rs,1)){var Il=2+2*te(Rs,3);if((rl=2+te(Rs,Il))>fa)break r}else rl=fa;for(ao=0;ao<fa&&rl--;){be(Rs);var Zl=qi[0+(127&Z(Rs))];ce(Rs,Rs.u+Zl.g);var Io=Zl.value;if(16>Io)Xl[ao++]=Io,Io!=0&&(ys=Io);else{var td=Io==16,Ic=Io-16,nd=ai[Ic],Ec=te(Rs,qe[Ic])+nd;if(ao+Ec>fa)break r;for(var rd=td?ys:0;0<Ec--;)Xl[ao++]=rd}}_l=1;break r}_l||(al.a=3),Fs=_l}(Fs=Fs&&!xs.h)&&(or=$(ed,Pc,8,Ds,ro)),Fs&&or!=0?Gr=or:(nl.a=3,Gr=0)}if(Gr==0)break n;if(Ca&&Vl[sn]==1&&(Ca=Va[wn].g==0),gs+=Va[wn].g,wn+=Gr,3>=sn){var il,ec=Vr[0];for(il=1;il<Zn;++il)Vr[il]>ec&&(ec=Vr[il]);Yr+=ec}}if(er.nd=Ca,er.Qb=0,Ca&&(er.qb=(Ya[3][is[3]+0].value<<24|Ya[1][is[1]+0].value<<16|Ya[2][is[2]+0].value)>>>0,gs==0&&256>Ya[0][is[0]+0].value&&(er.Qb=1,er.qb+=Ya[0][is[0]+0].value<<8)),er.jc=!er.Qb&&6>Yr,er.jc){var El,$i=er;for(El=0;El<ca;++El){var io=El,vs=$i.pd[io],$o=$i.G[0][$i.H[0]+io];256<=$o.value?(vs.g=$o.g+256,vs.value=$o.value):(vs.g=0,vs.value=0,io>>=_r($o,8,vs),io>>=_r($i.G[1][$i.H[1]+io],16,vs),io>>=_r($i.G[2][$i.H[2]+io],0,vs),_r($i.G[3][$i.H[3]+io],24,vs))}}}br.vc=kn,br.Wb=Rn,br.Ya=Hr,br.yc=aa,xt=1;break t}xt=0}if(!(T=xt)){k.a=3;break e}if(0<Te){if(ne.ua=1<<Te,!Y(ne.Wa,Te)){k.a=1,T=0;break e}}else ne.ua=0;var tc=k,nc=B,ad=q,rc=tc.s,ac=rc.xc;if(tc.c=nc,tc.i=ad,rc.md=Ke(nc,ac),rc.wc=ac==0?-1:(1<<ac)-1,w){k.xb=O;break e}if((ye=l(B*q))==null){k.a=1,T=0;break e}T=(T=Fn(k,ye,0,B,q,q,null))&&!J.h;break e}return T?(_!=null?_[0]=ye:(a(ye==null),a(w)),k.$=0,w||$n(ne)):$n(ne),T}function Ss(d,h){var w=d.c*d.i,k=w+h+16*h;return a(d.c<=h),d.V=l(k),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+w+h,1)}function ui(d,h){var w=d.C,k=h-w,_=d.V,T=d.Ba+d.c*w;for(a(h<=d.l.o);0<k;){var B=16<k?16:k,q=d.l.ma,J=d.l.width,ne=J*B,ye=q.ca,Te=q.tb+J*w,re=d.Ta,je=d.Ua;Ii(d,B,_,T),wl(re,je,ye,Te,ne),di(q,w,w+B,ye,Te,J),k-=B,_+=B*d.c,w+=B}a(w==h),d.C=d.Ma=h}function mt(){this.ub=this.yd=this.td=this.Rb=0}function Ur(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ns(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function Cn(){this.Yb=(function(){var d=[];return(function h(w,k,_){for(var T=_[k],B=0;B<T&&(w.push(_.length>k+1?[]:0),!(_.length<k+1));B++)h(w[B],k+1,_)})(d,0,[3,11]),d})()}function Ei(){this.jb=l(3),this.Wc=p([4,8],Cn),this.Xc=p([4,17],Cn)}function Xa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function ur(){this.ld=this.La=this.dd=this.tc=0}function Mi(){this.Na=this.la=0}function Jo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Vi(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Kr(){this.uc=this.M=this.Nb=0,this.wa=Array(new ur),this.Y=0,this.ya=Array(new Vi),this.aa=0,this.l=new gn}function Qr(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Yi(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new mt,this.Kc=new Ur,this.ed=new Xa,this.Qa=new Ns,this.Ic=this.$c=this.Aa=0,this.D=new Kr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=m(8,C),this.ia=0,this.pb=m(4,Jo),this.Pa=new Ei,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qr),this.Hd=0,this.rb=Array(new Mi),this.sb=0,this.wa=Array(new ur),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Vi),this.L=this.aa=0,this.gd=p([4,2],ur),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fr(d,h){return 0>d?0:d>h?h:d}function gn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function us(){var d=new Yi;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Es||(Es=Di)),d}function Ir(d,h,w){return d.a==0&&(d.a=h,d.sc=w,d.cb=0),0}function fs(d,h,w){return 3<=w&&d[h+0]==157&&d[h+1]==1&&d[h+2]==42}function ya(d,h){if(d==null)return 0;if(d.a=0,d.sc="OK",h==null)return Ir(d,2,"null VP8Io passed to VP8GetHeaders()");var w=h.data,k=h.w,_=h.ha;if(4>_)return Ir(d,7,"Truncated header.");var T=w[k+0]|w[k+1]<<8|w[k+2]<<16,B=d.Od;if(B.Rb=!(1&T),B.td=T>>1&7,B.yd=T>>4&1,B.ub=T>>5,3<B.td)return Ir(d,3,"Incorrect keyframe parameters.");if(!B.yd)return Ir(d,4,"Frame not displayable.");k+=3,_-=3;var q=d.Kc;if(B.Rb){if(7>_)return Ir(d,7,"cannot parse picture header");if(!fs(w,k,_))return Ir(d,3,"Bad code word");q.c=16383&(w[k+4]<<8|w[k+3]),q.Td=w[k+4]>>6,q.i=16383&(w[k+6]<<8|w[k+5]),q.Ud=w[k+6]>>6,k+=7,_-=7,d.za=q.c+15>>4,d.Ub=q.i+15>>4,h.width=q.c,h.height=q.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,c((T=d.Pa).jb,0,255,T.jb.length),a((T=d.Qa)!=null),T.Cb=0,T.Bb=0,T.Fb=1,c(T.Zb,0,0,T.Zb.length),c(T.Lb,0,0,T.Lb)}if(B.ub>_)return Ir(d,7,"bad partition length");_e(T=d.m,w,k,B.ub),k+=B.ub,_-=B.ub,B.Rb&&(q.Ld=Fe(T),q.Kd=Fe(T)),q=d.Qa;var J,ne=d.Pa;if(a(T!=null),a(q!=null),q.Cb=Fe(T),q.Cb){if(q.Bb=Fe(T),Fe(T)){for(q.Fb=Fe(T),J=0;4>J;++J)q.Zb[J]=Fe(T)?pe(T,7):0;for(J=0;4>J;++J)q.Lb[J]=Fe(T)?pe(T,6):0}if(q.Bb)for(J=0;3>J;++J)ne.jb[J]=Fe(T)?Ie(T,8):255}else q.Bb=0;if(T.Ka)return Ir(d,3,"cannot parse segment header");if((q=d.ed).zd=Fe(T),q.Tb=Ie(T,6),q.wb=Ie(T,3),q.Pc=Fe(T),q.Pc&&Fe(T)){for(ne=0;4>ne;++ne)Fe(T)&&(q.vd[ne]=pe(T,6));for(ne=0;4>ne;++ne)Fe(T)&&(q.od[ne]=pe(T,6))}if(d.L=q.Tb==0?0:q.zd?1:2,T.Ka)return Ir(d,3,"cannot parse filter header");var ye=_;if(_=J=k,k=J+ye,q=ye,d.Xb=(1<<Ie(d.m,2))-1,ye<3*(ne=d.Xb))w=7;else{for(J+=3*ne,q-=3*ne,ye=0;ye<ne;++ye){var Te=w[_+0]|w[_+1]<<8|w[_+2]<<16;Te>q&&(Te=q),_e(d.Jc[+ye],w,J,Te),J+=Te,q-=Te,_+=3}_e(d.Jc[+ne],w,J,q),w=J<k?0:5}if(w!=0)return Ir(d,w,"cannot parse partitions");for(w=Ie(J=d.m,7),_=Fe(J)?pe(J,4):0,k=Fe(J)?pe(J,4):0,q=Fe(J)?pe(J,4):0,ne=Fe(J)?pe(J,4):0,J=Fe(J)?pe(J,4):0,ye=d.Qa,Te=0;4>Te;++Te){if(ye.Cb){var re=ye.Zb[Te];ye.Fb||(re+=w)}else{if(0<Te){d.pb[Te]=d.pb[0];continue}re=w}var je=d.pb[Te];je.Sc[0]=eo[fr(re+_,127)],je.Sc[1]=Co[fr(re+0,127)],je.Eb[0]=2*eo[fr(re+k,127)],je.Eb[1]=101581*Co[fr(re+q,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=eo[fr(re+ne,117)],je.Qc[1]=Co[fr(re+J,127)],je.lc=re+J}if(!B.Rb)return Ir(d,4,"Not a key frame.");for(Fe(T),B=d.Pa,w=0;4>w;++w){for(_=0;8>_;++_)for(k=0;3>k;++k)for(q=0;11>q;++q)ne=$e(T,Lo[w][_][k][q])?Ie(T,8):Pl[w][_][k][q],B.Wc[w][_].Yb[k][q]=ne;for(_=0;17>_;++_)B.Xc[w][_]=B.Wc[w][to[_]]}return d.kc=Fe(T),d.kc&&(d.Bd=Ie(T,8)),d.cb=1}function Di(d,h,w,k,_,T,B){var q=h[_].Yb[w];for(w=0;16>_;++_){if(!$e(d,q[w+0]))return _;for(;!$e(d,q[w+1]);)if(q=h[++_].Yb[0],w=0,_==16)return 16;var J=h[_+1].Yb;if($e(d,q[w+2])){var ne=d,ye=0;if($e(ne,(re=q)[(Te=w)+3]))if($e(ne,re[Te+6])){for(q=0,Te=2*(ye=$e(ne,re[Te+8]))+(re=$e(ne,re[Te+9+ye])),ye=0,re=Po[Te];re[q];++q)ye+=ye+$e(ne,re[q]);ye+=3+(8<<Te)}else $e(ne,re[Te+7])?(ye=7+2*$e(ne,165),ye+=$e(ne,145)):ye=5+$e(ne,159);else ye=$e(ne,re[Te+4])?3+$e(ne,re[Te+5]):2;q=J[2]}else ye=1,q=J[1];J=B+el[_],0>(ne=d).b&&Me(ne);var Te,re=ne.b,je=(Te=ne.Ca>>1)-(ne.I>>re)>>31;--ne.b,ne.Ca+=je,ne.Ca|=1,ne.I-=(Te+1&je)<<re,T[J]=((ye^je)-je)*k[(0<_)+0]}return 16}function go(d){var h=d.rb[d.sb-1];h.la=0,h.Na=0,c(d.zc,0,0,d.zc.length),d.ja=0}function Ua(d,h,w,k,_){_=d[h+w+32*k]+(_>>3),d[h+w+32*k]=-256&_?0>_?0:255:_}function hr(d,h,w,k,_,T){Ua(d,h,0,w,k+_),Ua(d,h,1,w,k+T),Ua(d,h,2,w,k-T),Ua(d,h,3,w,k-_)}function Fi(d){return(20091*d>>16)+d}function Wn(d,h,w,k){var _,T=0,B=l(16);for(_=0;4>_;++_){var q=d[h+0]+d[h+8],J=d[h+0]-d[h+8],ne=(35468*d[h+4]>>16)-Fi(d[h+12]),ye=Fi(d[h+4])+(35468*d[h+12]>>16);B[T+0]=q+ye,B[T+1]=J+ne,B[T+2]=J-ne,B[T+3]=q-ye,T+=4,h++}for(_=T=0;4>_;++_)q=(d=B[T+0]+4)+B[T+8],J=d-B[T+8],ne=(35468*B[T+4]>>16)-Fi(B[T+12]),Ua(w,k,0,0,q+(ye=Fi(B[T+4])+(35468*B[T+12]>>16))),Ua(w,k,1,0,J+ne),Ua(w,k,2,0,J-ne),Ua(w,k,3,0,q-ye),T++,k+=32}function hs(d,h,w,k){var _=d[h+0]+4,T=35468*d[h+4]>>16,B=Fi(d[h+4]),q=35468*d[h+1]>>16;hr(w,k,0,_+B,d=Fi(d[h+1]),q),hr(w,k,1,_+T,d,q),hr(w,k,2,_-T,d,q),hr(w,k,3,_-B,d,q)}function Xr(d,h,w,k,_){Wn(d,h,w,k),_&&Wn(d,h+16,w,k+4)}function Ri(d,h,w,k){Ks(d,h+0,w,k,1),Ks(d,h+32,w,k+128,1)}function Ti(d,h,w,k){var _;for(d=d[h+0]+4,_=0;4>_;++_)for(h=0;4>h;++h)Ua(w,k,h,_,d)}function Pn(d,h,w,k){d[h+0]&&Mn(d,h+0,w,k),d[h+16]&&Mn(d,h+16,w,k+4),d[h+32]&&Mn(d,h+32,w,k+128),d[h+48]&&Mn(d,h+48,w,k+128+4)}function zs(d,h,w,k){var _,T=l(16);for(_=0;4>_;++_){var B=d[h+0+_]+d[h+12+_],q=d[h+4+_]+d[h+8+_],J=d[h+4+_]-d[h+8+_],ne=d[h+0+_]-d[h+12+_];T[0+_]=B+q,T[8+_]=B-q,T[4+_]=ne+J,T[12+_]=ne-J}for(_=0;4>_;++_)B=(d=T[0+4*_]+3)+T[3+4*_],q=T[1+4*_]+T[2+4*_],J=T[1+4*_]-T[2+4*_],ne=d-T[3+4*_],w[k+0]=B+q>>3,w[k+16]=ne+J>>3,w[k+32]=B-q>>3,w[k+48]=ne-J>>3,k+=64}function fi(d,h,w){var k,_=h-32,T=Fa,B=255-d[_-1];for(k=0;k<w;++k){var q,J=T,ne=B+d[h-1];for(q=0;q<w;++q)d[h+q]=J[ne+d[_+q]];h+=32}}function qr(d,h){fi(d,h,4)}function ks(d,h){fi(d,h,8)}function vn(d,h){fi(d,h,16)}function va(d,h){var w;for(w=0;16>w;++w)o(d,h+32*w,d,h-32,16)}function Gi(d,h){var w;for(w=16;0<w;--w)c(d,h,d[h-1],16),h+=32}function La(d,h,w){var k;for(k=0;16>k;++k)c(h,w+32*k,d,16)}function pr(d,h){var w,k=16;for(w=0;16>w;++w)k+=d[h-1+32*w]+d[h+w-32];La(k>>5,d,h)}function zn(d,h){var w,k=8;for(w=0;16>w;++w)k+=d[h-1+32*w];La(k>>4,d,h)}function Jn(d,h){var w,k=8;for(w=0;16>w;++w)k+=d[h+w-32];La(k>>4,d,h)}function _a(d,h){La(128,d,h)}function Xt(d,h,w){return d+2*h+w+2>>2}function Za(d,h){var w,k=h-32;for(k=new Uint8Array([Xt(d[k-1],d[k+0],d[k+1]),Xt(d[k+0],d[k+1],d[k+2]),Xt(d[k+1],d[k+2],d[k+3]),Xt(d[k+2],d[k+3],d[k+4])]),w=0;4>w;++w)o(d,h+32*w,k,0,k.length)}function jn(d,h){var w=d[h-1],k=d[h-1+32],_=d[h-1+64],T=d[h-1+96];De(d,h+0,16843009*Xt(d[h-1-32],w,k)),De(d,h+32,16843009*Xt(w,k,_)),De(d,h+64,16843009*Xt(k,_,T)),De(d,h+96,16843009*Xt(_,T,T))}function Us(d,h){var w,k=4;for(w=0;4>w;++w)k+=d[h+w-32]+d[h-1+32*w];for(k>>=3,w=0;4>w;++w)c(d,h+32*w,k,4)}function Er(d,h){var w=d[h-1+0],k=d[h-1+32],_=d[h-1+64],T=d[h-1-32],B=d[h+0-32],q=d[h+1-32],J=d[h+2-32],ne=d[h+3-32];d[h+0+96]=Xt(k,_,d[h-1+96]),d[h+1+96]=d[h+0+64]=Xt(w,k,_),d[h+2+96]=d[h+1+64]=d[h+0+32]=Xt(T,w,k),d[h+3+96]=d[h+2+64]=d[h+1+32]=d[h+0+0]=Xt(B,T,w),d[h+3+64]=d[h+2+32]=d[h+1+0]=Xt(q,B,T),d[h+3+32]=d[h+2+0]=Xt(J,q,B),d[h+3+0]=Xt(ne,J,q)}function Ji(d,h){var w=d[h+1-32],k=d[h+2-32],_=d[h+3-32],T=d[h+4-32],B=d[h+5-32],q=d[h+6-32],J=d[h+7-32];d[h+0+0]=Xt(d[h+0-32],w,k),d[h+1+0]=d[h+0+32]=Xt(w,k,_),d[h+2+0]=d[h+1+32]=d[h+0+64]=Xt(k,_,T),d[h+3+0]=d[h+2+32]=d[h+1+64]=d[h+0+96]=Xt(_,T,B),d[h+3+32]=d[h+2+64]=d[h+1+96]=Xt(T,B,q),d[h+3+64]=d[h+2+96]=Xt(B,q,J),d[h+3+96]=Xt(q,J,J)}function qs(d,h){var w=d[h-1+0],k=d[h-1+32],_=d[h-1+64],T=d[h-1-32],B=d[h+0-32],q=d[h+1-32],J=d[h+2-32],ne=d[h+3-32];d[h+0+0]=d[h+1+64]=T+B+1>>1,d[h+1+0]=d[h+2+64]=B+q+1>>1,d[h+2+0]=d[h+3+64]=q+J+1>>1,d[h+3+0]=J+ne+1>>1,d[h+0+96]=Xt(_,k,w),d[h+0+64]=Xt(k,w,T),d[h+0+32]=d[h+1+96]=Xt(w,T,B),d[h+1+32]=d[h+2+96]=Xt(T,B,q),d[h+2+32]=d[h+3+96]=Xt(B,q,J),d[h+3+32]=Xt(q,J,ne)}function As(d,h){var w=d[h+0-32],k=d[h+1-32],_=d[h+2-32],T=d[h+3-32],B=d[h+4-32],q=d[h+5-32],J=d[h+6-32],ne=d[h+7-32];d[h+0+0]=w+k+1>>1,d[h+1+0]=d[h+0+64]=k+_+1>>1,d[h+2+0]=d[h+1+64]=_+T+1>>1,d[h+3+0]=d[h+2+64]=T+B+1>>1,d[h+0+32]=Xt(w,k,_),d[h+1+32]=d[h+0+96]=Xt(k,_,T),d[h+2+32]=d[h+1+96]=Xt(_,T,B),d[h+3+32]=d[h+2+96]=Xt(T,B,q),d[h+3+64]=Xt(B,q,J),d[h+3+96]=Xt(q,J,ne)}function Ia(d,h){var w=d[h-1+0],k=d[h-1+32],_=d[h-1+64],T=d[h-1+96];d[h+0+0]=w+k+1>>1,d[h+2+0]=d[h+0+32]=k+_+1>>1,d[h+2+32]=d[h+0+64]=_+T+1>>1,d[h+1+0]=Xt(w,k,_),d[h+3+0]=d[h+1+32]=Xt(k,_,T),d[h+3+32]=d[h+1+64]=Xt(_,T,T),d[h+3+64]=d[h+2+64]=d[h+0+96]=d[h+1+96]=d[h+2+96]=d[h+3+96]=T}function Oo(d,h){var w=d[h-1+0],k=d[h-1+32],_=d[h-1+64],T=d[h-1+96],B=d[h-1-32],q=d[h+0-32],J=d[h+1-32],ne=d[h+2-32];d[h+0+0]=d[h+2+32]=w+B+1>>1,d[h+0+32]=d[h+2+64]=k+w+1>>1,d[h+0+64]=d[h+2+96]=_+k+1>>1,d[h+0+96]=T+_+1>>1,d[h+3+0]=Xt(q,J,ne),d[h+2+0]=Xt(B,q,J),d[h+1+0]=d[h+3+32]=Xt(w,B,q),d[h+1+32]=d[h+3+64]=Xt(k,w,B),d[h+1+64]=d[h+3+96]=Xt(_,k,w),d[h+1+96]=Xt(T,_,k)}function hi(d,h){var w;for(w=0;8>w;++w)o(d,h+32*w,d,h-32,8)}function ar(d,h){var w;for(w=0;8>w;++w)c(d,h,d[h-1],8),h+=32}function Ea(d,h,w){var k;for(k=0;8>k;++k)c(h,w+32*k,d,8)}function ps(d,h){var w,k=8;for(w=0;8>w;++w)k+=d[h+w-32]+d[h-1+32*w];Ea(k>>4,d,h)}function $s(d,h){var w,k=4;for(w=0;8>w;++w)k+=d[h+w-32];Ea(k>>3,d,h)}function Sr(d,h){var w,k=4;for(w=0;8>w;++w)k+=d[h-1+32*w];Ea(k>>3,d,h)}function Ws(d,h){Ea(128,d,h)}function pi(d,h,w){var k=d[h-w],_=d[h+0],T=3*(_-k)+as[1020+d[h-2*w]-d[h+w]],B=So[112+(T+4>>3)];d[h-w]=Fa[255+k+So[112+(T+3>>3)]],d[h+0]=Fa[255+_-B]}function Ki(d,h,w,k){var _=d[h+0],T=d[h+w];return Si[255+d[h-2*w]-d[h-w]]>k||Si[255+T-_]>k}function Hs(d,h,w,k){return 4*Si[255+d[h-w]-d[h+0]]+Si[255+d[h-2*w]-d[h+w]]<=k}function ba(d,h,w,k,_){var T=d[h-3*w],B=d[h-2*w],q=d[h-w],J=d[h+0],ne=d[h+w],ye=d[h+2*w],Te=d[h+3*w];return 4*Si[255+q-J]+Si[255+B-ne]>k?0:Si[255+d[h-4*w]-T]<=_&&Si[255+T-B]<=_&&Si[255+B-q]<=_&&Si[255+Te-ye]<=_&&Si[255+ye-ne]<=_&&Si[255+ne-J]<=_}function Zr(d,h,w,k){var _=2*k+1;for(k=0;16>k;++k)Hs(d,h+k,w,_)&&pi(d,h+k,w)}function mi(d,h,w,k){var _=2*k+1;for(k=0;16>k;++k)Hs(d,h+k*w,1,_)&&pi(d,h+k*w,1)}function Ln(d,h,w,k){var _;for(_=3;0<_;--_)Zr(d,h+=4*w,w,k)}function Ma(d,h,w,k){var _;for(_=3;0<_;--_)mi(d,h+=4,w,k)}function En(d,h,w,k,_,T,B,q){for(T=2*T+1;0<_--;){if(ba(d,h,w,T,B))if(Ki(d,h,w,q))pi(d,h,w);else{var J=d,ne=h,ye=w,Te=J[ne-2*ye],re=J[ne-ye],je=J[ne+0],Re=J[ne+ye],Je=J[ne+2*ye],Be=27*(Ge=as[1020+3*(je-re)+as[1020+Te-Re]])+63>>7,Ye=18*Ge+63>>7,Ge=9*Ge+63>>7;J[ne-3*ye]=Fa[255+J[ne-3*ye]+Ge],J[ne-2*ye]=Fa[255+Te+Ye],J[ne-ye]=Fa[255+re+Be],J[ne+0]=Fa[255+je-Be],J[ne+ye]=Fa[255+Re-Ye],J[ne+2*ye]=Fa[255+Je-Ge]}h+=k}}function Oi(d,h,w,k,_,T,B,q){for(T=2*T+1;0<_--;){if(ba(d,h,w,T,B))if(Ki(d,h,w,q))pi(d,h,w);else{var J=d,ne=h,ye=w,Te=J[ne-ye],re=J[ne+0],je=J[ne+ye],Re=So[112+(4+(Je=3*(re-Te))>>3)],Je=So[112+(Je+3>>3)],Be=Re+1>>1;J[ne-2*ye]=Fa[255+J[ne-2*ye]+Be],J[ne-ye]=Fa[255+Te+Je],J[ne+0]=Fa[255+re-Re],J[ne+ye]=Fa[255+je-Be]}h+=k}}function Hn(d,h,w,k,_,T){En(d,h,w,1,16,k,_,T)}function gi(d,h,w,k,_,T){En(d,h,1,w,16,k,_,T)}function wa(d,h,w,k,_,T){var B;for(B=3;0<B;--B)Oi(d,h+=4*w,w,1,16,k,_,T)}function x(d,h,w,k,_,T){var B;for(B=3;0<B;--B)Oi(d,h+=4,1,w,16,k,_,T)}function L(d,h,w,k,_,T,B,q){En(d,h,_,1,8,T,B,q),En(w,k,_,1,8,T,B,q)}function ae(d,h,w,k,_,T,B,q){En(d,h,1,_,8,T,B,q),En(w,k,1,_,8,T,B,q)}function me(d,h,w,k,_,T,B,q){Oi(d,h+4*_,_,1,8,T,B,q),Oi(w,k+4*_,_,1,8,T,B,q)}function Le(d,h,w,k,_,T,B,q){Oi(d,h+4,1,_,8,T,B,q),Oi(w,k+4,1,_,8,T,B,q)}function Qe(){this.ba=new Vt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function kt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tt(){this.ua=0,this.Wa=new It,this.vb=new It,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new we,this.yc=new le}function qt(){this.xb=this.a=0,this.l=new gn,this.ca=new Vt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tt,this.ab=0,this.gc=m(4,kt),this.Oc=0}function rn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new gn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function dn(d,h,w,k,_,T,B){for(d=d==null?0:d[h+0],h=0;h<B;++h)_[T+h]=d+w[k+h]&255,d=_[T+h]}function ir(d,h,w,k,_,T,B){var q;if(d==null)dn(null,null,w,k,_,T,B);else for(q=0;q<B;++q)_[T+q]=d[h+q]+w[k+q]&255}function sr(d,h,w,k,_,T,B){if(d==null)dn(null,null,w,k,_,T,B);else{var q,J=d[h+0],ne=J,ye=J;for(q=0;q<B;++q)ne=ye+(J=d[h+q])-ne,ye=w[k+q]+(-256&ne?0>ne?0:255:ne)&255,ne=J,_[T+q]=ye}}function Vn(d,h,w,k){var _=h.width,T=h.o;if(a(d!=null&&h!=null),0>w||0>=k||w+k>T)return null;if(!d.Cc){if(d.ga==null){var B;if(d.ga=new rn,(B=d.ga==null)||(B=h.width*h.o,a(d.Gb.length==0),d.Gb=l(B),d.Uc=0,d.Gb==null?B=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,B=1),B=!B),!B){B=d.ga;var q=d.Fa,J=d.P,ne=d.qc,ye=d.mb,Te=d.nb,re=J+1,je=ne-1,Re=B.l;if(a(q!=null&&ye!=null&&h!=null),D[0]=null,D[1]=dn,D[2]=ir,D[3]=sr,B.ca=ye,B.tb=Te,B.c=h.width,B.i=h.height,a(0<B.c&&0<B.i),1>=ne)h=0;else if(B.$a=3&q[J+0],B.Z=q[J+0]>>2&3,B.Lc=q[J+0]>>4&3,J=q[J+0]>>6&3,0>B.$a||1<B.$a||4<=B.Z||1<B.Lc||J)h=0;else if(Re.put=Nt,Re.ac=Qt,Re.bc=za,Re.ma=B,Re.width=h.width,Re.height=h.height,Re.Da=h.Da,Re.v=h.v,Re.va=h.va,Re.j=h.j,Re.o=h.o,B.$a)e:{a(B.$a==1),h=cr();t:for(;;){if(h==null){h=0;break e}if(a(B!=null),B.mc=h,h.c=B.c,h.i=B.i,h.l=B.l,h.l.ma=B,h.l.width=B.c,h.l.height=B.i,h.a=0,Pe(h.m,q,re,je),!dr(B.c,B.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&rr(h.s)?(B.ic=1,q=h.c*h.i,h.Ta=null,h.Ua=0,h.V=l(q),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(B.ic=0,h=Ss(h,B.c)),!h))break t;h=1;break e}B.mc=null,h=0}else h=je>=B.c*B.i;B=!h}if(B)return null;d.ga.Lc!=1?d.Ga=0:k=T-w}a(d.ga!=null),a(w+k<=T);e:{if(h=(q=d.ga).c,T=q.l.o,q.$a==0){if(re=d.rc,je=d.Vc,Re=d.Fa,J=d.P+1+w*h,ne=d.mb,ye=d.nb+w*h,a(J<=d.P+d.qc),q.Z!=0)for(a(D[q.Z]!=null),B=0;B<k;++B)D[q.Z](re,je,Re,J,ne,ye,h),re=ne,je=ye,ye+=h,J+=h;else for(B=0;B<k;++B)o(ne,ye,Re,J,h),re=ne,je=ye,ye+=h,J+=h;d.rc=re,d.Vc=je}else{if(a(q.mc!=null),h=w+k,a((B=q.mc)!=null),a(h<=B.i),B.C>=h)h=1;else if(q.ic||Kn(),q.ic){q=B.V,re=B.Ba,je=B.c;var Je=B.i,Be=(Re=1,J=B.$/je,ne=B.$%je,ye=B.m,Te=B.s,B.$),Ye=je*Je,Ge=je*h,et=Te.wc,tt=Be<Ge?zr(Te,ne,J):null;a(Be<=Ye),a(h<=Je),a(rr(Te));t:for(;;){for(;!ye.h&&Be<Ge;){if(ne&et||(tt=zr(Te,ne,J)),a(tt!=null),be(ye),256>(Je=An(tt.G[0],tt.H[0],ye)))q[re+Be]=Je,++Be,++ne>=je&&(ne=0,++J<=h&&!(J%16)&&Jr(B,J));else{if(!(280>Je)){Re=0;break t}Je=la(Je-256,ye);var zt,Pt=An(tt.G[4],tt.H[4],ye);if(be(ye),!(Be>=(Pt=Qa(je,Pt=la(Pt,ye)))&&Ye-Be>=Je)){Re=0;break t}for(zt=0;zt<Je;++zt)q[re+Be+zt]=q[re+Be+zt-Pt];for(Be+=Je,ne+=Je;ne>=je;)ne-=je,++J<=h&&!(J%16)&&Jr(B,J);Be<Ge&&ne&et&&(tt=zr(Te,ne,J))}a(ye.h==de(ye))}Jr(B,J>h?h:J);break t}!Re||ye.h&&Be<Ye?(Re=0,B.a=ye.h?5:3):B.$=Be,h=Re}else h=Fn(B,B.V,B.Ba,B.c,B.i,h,ui);if(!h){k=0;break e}}w+k>=T&&(d.Cc=1),k=1}if(!k)return null;if(d.Cc&&((k=d.ga)!=null&&(k.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+w*_}function Nr(d,h,w,k,_,T){for(;0<_--;){var B,q=d,J=h+(w?1:0),ne=d,ye=h+(w?0:3);for(B=0;B<k;++B){var Te=ne[ye+4*B];Te!=255&&(Te*=32897,q[J+4*B+0]=q[J+4*B+0]*Te>>23,q[J+4*B+1]=q[J+4*B+1]*Te>>23,q[J+4*B+2]=q[J+4*B+2]*Te>>23)}h+=T}}function kr(d,h,w,k,_){for(;0<k--;){var T;for(T=0;T<w;++T){var B=d[h+2*T+0],q=15&(ne=d[h+2*T+1]),J=4369*q,ne=(240&ne|ne>>4)*J>>16;d[h+2*T+0]=(240&B|B>>4)*J>>16&240|(15&B|B<<4)*J>>16>>4&15,d[h+2*T+1]=240&ne|q}h+=_}}function ea(d,h,w,k,_,T,B,q){var J,ne,ye=255;for(ne=0;ne<_;++ne){for(J=0;J<k;++J){var Te=d[h+J];T[B+4*J]=Te,ye&=Te}h+=w,B+=q}return ye!=255}function Qi(d,h,w,k,_){var T;for(T=0;T<_;++T)w[k+T]=d[h+T]>>8}function Kn(){Xs=Nr,wo=kr,jo=ea,wl=Qi}function Bi(d,h,w){ee[d]=function(k,_,T,B,q,J,ne,ye,Te,re,je,Re,Je,Be,Ye,Ge,et){var tt,zt=et-1>>1,Pt=q[J+0]|ne[ye+0]<<16,un=Te[re+0]|je[Re+0]<<16;a(k!=null);var Dt=3*Pt+un+131074>>2;for(h(k[_+0],255&Dt,Dt>>16,Je,Be),T!=null&&(Dt=3*un+Pt+131074>>2,h(T[B+0],255&Dt,Dt>>16,Ye,Ge)),tt=1;tt<=zt;++tt){var Sn=q[J+tt]|ne[ye+tt]<<16,Fr=Te[re+tt]|je[Re+tt]<<16,pn=Pt+Sn+un+Fr+524296,Lt=pn+2*(Sn+un)>>3;Dt=Lt+Pt>>1,Pt=(pn=pn+2*(Pt+Fr)>>3)+Sn>>1,h(k[_+2*tt-1],255&Dt,Dt>>16,Je,Be+(2*tt-1)*w),h(k[_+2*tt-0],255&Pt,Pt>>16,Je,Be+(2*tt-0)*w),T!=null&&(Dt=pn+un>>1,Pt=Lt+Fr>>1,h(T[B+2*tt-1],255&Dt,Dt>>16,Ye,Ge+(2*tt-1)*w),h(T[B+2*tt+0],255&Pt,Pt>>16,Ye,Ge+(2*tt+0)*w)),Pt=Sn,un=Fr}1&et||(Dt=3*Pt+un+131074>>2,h(k[_+et-1],255&Dt,Dt>>16,Je,Be+(et-1)*w),T!=null&&(Dt=3*un+Pt+131074>>2,h(T[B+et-1],255&Dt,Dt>>16,Ye,Ge+(et-1)*w)))}}function Ar(){G[Qo]=V,G[ms]=Se,G[Cl]=Ae,G[No]=Ze,G[ko]=it,G[Un]=Wt,G[Xo]=yt,G[Ao]=Se,G[Dr]=Ze,G[Ra]=it,G[Uo]=Wt}function xi(d){return d&-16384?0>d?0:255:d>>Na}function Xi(d,h){return xi((19077*d>>8)+(26149*h>>8)-14234)}function Cs(d,h,w){return xi((19077*d>>8)-(6419*h>>8)-(13320*w>>8)+8708)}function Zi(d,h){return xi((19077*d>>8)+(33050*h>>8)-17685)}function ei(d,h,w,k,_){k[_+0]=Xi(d,w),k[_+1]=Cs(d,h,w),k[_+2]=Zi(d,h)}function mr(d,h,w,k,_){k[_+0]=Zi(d,h),k[_+1]=Cs(d,h,w),k[_+2]=Xi(d,w)}function zi(d,h,w,k,_){var T=Cs(d,h,w);h=T<<3&224|Zi(d,h)>>3,k[_+0]=248&Xi(d,w)|T>>5,k[_+1]=h}function Ps(d,h,w,k,_){var T=240&Zi(d,h)|15;k[_+0]=240&Xi(d,w)|Cs(d,h,w)>>4,k[_+1]=T}function ti(d,h,w,k,_){k[_+0]=255,ei(d,h,w,k,_+1)}function ni(d,h,w,k,_){mr(d,h,w,k,_),k[_+3]=255}function gr(d,h,w,k,_){ei(d,h,w,k,_),k[_+3]=255}function es(d,h,w){ee[d]=function(k,_,T,B,q,J,ne,ye,Te){for(var re=ye+(-2&Te)*w;ye!=re;)h(k[_+0],T[B+0],q[J+0],ne,ye),h(k[_+1],T[B+0],q[J+0],ne,ye+w),_+=2,++B,++J,ye+=2*w;1&Te&&h(k[_+0],T[B+0],q[J+0],ne,ye)}}function Da(d,h,w){return w==0?d==0?h==0?6:5:h==0?4:0:w}function ts(d,h,w,k,_){switch(d>>>30){case 3:Ks(h,w,k,_,0);break;case 2:xr(h,w,k,_);break;case 1:Mn(h,w,k,_)}}function ja(d,h){var w,k,_=h.M,T=h.Nb,B=d.oc,q=d.pc+40,J=d.oc,ne=d.pc+584,ye=d.oc,Te=d.pc+600;for(w=0;16>w;++w)B[q+32*w-1]=129;for(w=0;8>w;++w)J[ne+32*w-1]=129,ye[Te+32*w-1]=129;for(0<_?B[q-1-32]=J[ne-1-32]=ye[Te-1-32]=129:(c(B,q-32-1,127,21),c(J,ne-32-1,127,9),c(ye,Te-32-1,127,9)),k=0;k<d.za;++k){var re=h.ya[h.aa+k];if(0<k){for(w=-1;16>w;++w)o(B,q+32*w-4,B,q+32*w+12,4);for(w=-1;8>w;++w)o(J,ne+32*w-4,J,ne+32*w+4,4),o(ye,Te+32*w-4,ye,Te+32*w+4,4)}var je=d.Gd,Re=d.Hd+k,Je=re.ad,Be=re.Hc;if(0<_&&(o(B,q-32,je[Re].y,0,16),o(J,ne-32,je[Re].f,0,8),o(ye,Te-32,je[Re].ea,0,8)),re.Za){var Ye=B,Ge=q-32+16;for(0<_&&(k>=d.za-1?c(Ye,Ge,je[Re].y[15],4):o(Ye,Ge,je[Re+1].y,0,4)),w=0;4>w;w++)Ye[Ge+128+w]=Ye[Ge+256+w]=Ye[Ge+384+w]=Ye[Ge+0+w];for(w=0;16>w;++w,Be<<=2)Ye=B,Ge=q+Cc[w],u[re.Ob[w]](Ye,Ge),ts(Be,Je,16*+w,Ye,Ge)}else if(Ye=Da(k,_,re.Ob[0]),Ta[Ye](B,q),Be!=0)for(w=0;16>w;++w,Be<<=2)ts(Be,Je,16*+w,B,q+Cc[w]);for(w=re.Gc,Ye=Da(k,_,re.Dd),N[Ye](J,ne),N[Ye](ye,Te),Be=Je,Ye=J,Ge=ne,255&(re=0|w)&&(170&re?$a(Be,256,Ye,Ge):bn(Be,256,Ye,Ge)),re=ye,Be=Te,255&(w>>=8)&&(170&w?$a(Je,320,re,Be):bn(Je,320,re,Be)),_<d.Ub-1&&(o(je[Re].y,0,B,q+480,16),o(je[Re].f,0,J,ne+224,8),o(je[Re].ea,0,ye,Te+224,8)),w=8*T*d.B,je=d.sa,Re=d.ta+16*k+16*T*d.R,Je=d.qa,re=d.ra+8*k+w,Be=d.Ha,Ye=d.Ia+8*k+w,w=0;16>w;++w)o(je,Re+w*d.R,B,q+32*w,16);for(w=0;8>w;++w)o(Je,re+w*d.B,J,ne+32*w,8),o(Be,Ye+w*d.B,ye,Te+32*w,8)}}function jt(d,h,w,k,_,T,B,q,J){var ne=[0],ye=[0],Te=0,re=J!=null?J.kd:0,je=J??new rt;if(d==null||12>w)return 7;je.data=d,je.w=h,je.ha=w,h=[h],w=[w],je.gb=[je.gb];e:{var Re=h,Je=w,Be=je.gb;if(a(d!=null),a(Je!=null),a(Be!=null),Be[0]=0,12<=Je[0]&&!r(d,Re[0],"RIFF")){if(r(d,Re[0]+8,"WEBP")){Be=3;break e}var Ye=gt(d,Re[0]+4);if(12>Ye||4294967286<Ye){Be=3;break e}if(re&&Ye>Je[0]-8){Be=7;break e}Be[0]=Ye,Re[0]+=12,Je[0]-=12}Be=0}if(Be!=0)return Be;for(Ye=0<je.gb[0],w=w[0];;){e:{var Ge=d;Je=h,Be=w;var et=ne,tt=ye,zt=Re=[0];if((Dt=Te=[Te])[0]=0,8>Be[0])Be=7;else{if(!r(Ge,Je[0],"VP8X")){if(gt(Ge,Je[0]+4)!=10){Be=3;break e}if(18>Be[0]){Be=7;break e}var Pt=gt(Ge,Je[0]+8),un=1+ot(Ge,Je[0]+12);if(2147483648<=un*(Ge=1+ot(Ge,Je[0]+15))){Be=3;break e}zt!=null&&(zt[0]=Pt),et!=null&&(et[0]=un),tt!=null&&(tt[0]=Ge),Je[0]+=18,Be[0]-=18,Dt[0]=1}Be=0}}if(Te=Te[0],Re=Re[0],Be!=0)return Be;if(Je=!!(2&Re),!Ye&&Te)return 3;if(T!=null&&(T[0]=!!(16&Re)),B!=null&&(B[0]=Je),q!=null&&(q[0]=0),B=ne[0],Re=ye[0],Te&&Je&&J==null){Be=0;break}if(4>w){Be=7;break}if(Ye&&Te||!Ye&&!Te&&!r(d,h[0],"ALPH")){w=[w],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{Pt=d,Be=h,Ye=w;var Dt=je.gb;et=je.na,tt=je.P,zt=je.Sa,un=22,a(Pt!=null),a(Ye!=null),Ge=Be[0];var Sn=Ye[0];for(a(et!=null),a(zt!=null),et[0]=null,tt[0]=null,zt[0]=0;;){if(Be[0]=Ge,Ye[0]=Sn,8>Sn){Be=7;break e}var Fr=gt(Pt,Ge+4);if(4294967286<Fr){Be=3;break e}var pn=8+Fr+1&-2;if(un+=pn,0<Dt&&un>Dt){Be=3;break e}if(!r(Pt,Ge,"VP8 ")||!r(Pt,Ge,"VP8L")){Be=0;break e}if(Sn[0]<pn){Be=7;break e}r(Pt,Ge,"ALPH")||(et[0]=Pt,tt[0]=Ge+8,zt[0]=Fr),Ge+=pn,Sn-=pn}}if(w=w[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],Be!=0)break}w=[w],je.Ja=[je.Ja],je.xa=[je.xa];e:if(Dt=d,Be=h,Ye=w,et=je.gb[0],tt=je.Ja,zt=je.xa,Pt=Be[0],Ge=!r(Dt,Pt,"VP8 "),un=!r(Dt,Pt,"VP8L"),a(Dt!=null),a(Ye!=null),a(tt!=null),a(zt!=null),8>Ye[0])Be=7;else{if(Ge||un){if(Dt=gt(Dt,Pt+4),12<=et&&Dt>et-12){Be=3;break e}if(re&&Dt>Ye[0]-8){Be=7;break e}tt[0]=Dt,Be[0]+=8,Ye[0]-=8,zt[0]=un}else zt[0]=5<=Ye[0]&&Dt[Pt+0]==47&&!(Dt[Pt+4]>>5),tt[0]=Ye[0];Be=0}if(w=w[0],je.Ja=je.Ja[0],je.xa=je.xa[0],h=h[0],Be!=0)break;if(4294967286<je.Ja)return 3;if(q==null||Je||(q[0]=je.xa?2:1),B=[B],Re=[Re],je.xa){if(5>w){Be=7;break}q=B,re=Re,Je=T,d==null||5>w?d=0:5<=w&&d[h+0]==47&&!(d[h+4]>>5)?(Ye=[0],Dt=[0],et=[0],Pe(tt=new K,d,h,w),ci(tt,Ye,Dt,et)?(q!=null&&(q[0]=Ye[0]),re!=null&&(re[0]=Dt[0]),Je!=null&&(Je[0]=et[0]),d=1):d=0):d=0}else{if(10>w){Be=7;break}q=Re,d==null||10>w||!fs(d,h+3,w-3)?d=0:(re=d[h+0]|d[h+1]<<8|d[h+2]<<16,Je=16383&(d[h+7]<<8|d[h+6]),d=16383&(d[h+9]<<8|d[h+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=je.Ja||!Je||!d?d=0:(B&&(B[0]=Je),q&&(q[0]=d),d=1))}if(!d||(B=B[0],Re=Re[0],Te&&(ne[0]!=B||ye[0]!=Re)))return 3;J!=null&&(J[0]=je,J.offset=h-J.w,a(4294967286>h-J.w),a(J.offset==J.ha-w));break}return Be==0||Be==7&&Te&&J==null?(T!=null&&(T[0]|=je.na!=null&&0<je.na.length),k!=null&&(k[0]=B),_!=null&&(_[0]=Re),0):Be}function _n(d,h,w){var k=h.width,_=h.height,T=0,B=0,q=k,J=_;if(h.Da=d!=null&&0<d.Da,h.Da&&(q=d.cd,J=d.bd,T=d.v,B=d.j,11>w||(T&=-2,B&=-2),0>T||0>B||0>=q||0>=J||T+q>k||B+J>_))return 0;if(h.v=T,h.j=B,h.va=T+q,h.o=B+J,h.U=q,h.T=J,h.da=d!=null&&0<d.da,h.da){if(!wt(q,J,w=[d.ib],T=[d.hb]))return 0;h.ib=w[0],h.hb=T[0]}return h.ob=d!=null&&d.ob,h.Kb=d==null||!d.Sd,h.da&&(h.ob=h.ib<3*k/4&&h.hb<3*_/4,h.Kb=0),1}function Ls(d){if(d==null)return 2;if(11>d.S){var h=d.f.RGBA;h.fb+=(d.height-1)*h.A,h.A=-h.A}else h=d.f.kb,d=d.height,h.O+=(d-1)*h.fa,h.fa=-h.fa,h.N+=(d-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(d-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(d-1)*h.lb,h.lb=-h.lb);return 0}function yi(d,h,w,k){if(k==null||0>=d||0>=h)return 2;if(w!=null){if(w.Da){var _=w.cd,T=w.bd,B=-2&w.v,q=-2&w.j;if(0>B||0>q||0>=_||0>=T||B+_>d||q+T>h)return 2;d=_,h=T}if(w.da){if(!wt(d,h,_=[w.ib],T=[w.hb]))return 2;d=_[0],h=T[0]}}k.width=d,k.height=h;e:{var J=k.width,ne=k.height;if(d=k.S,0>=J||0>=ne||!(d>=Qo&&13>d))d=2;else{if(0>=k.Rd&&k.sd==null){B=T=_=h=0;var ye=(q=J*Ll[d])*ne;if(11>d||(T=(ne+1)/2*(h=(J+1)/2),d==12&&(B=(_=J)*ne)),(ne=l(ye+2*T+B))==null){d=1;break e}k.sd=ne,11>d?((J=k.f.RGBA).eb=ne,J.fb=0,J.A=q,J.size=ye):((J=k.f.kb).y=ne,J.O=0,J.fa=q,J.Fd=ye,J.f=ne,J.N=0+ye,J.Ab=h,J.Cd=T,J.ea=ne,J.W=0+ye+T,J.Db=h,J.Ed=T,d==12&&(J.F=ne,J.J=0+ye+2*T),J.Tc=B,J.lb=_)}if(h=1,_=k.S,T=k.width,B=k.height,_>=Qo&&13>_)if(11>_)d=k.f.RGBA,h&=(q=Math.abs(d.A))*(B-1)+T<=d.size,h&=q>=T*Ll[_],h&=d.eb!=null;else{d=k.f.kb,q=(T+1)/2,ye=(B+1)/2,J=Math.abs(d.fa),ne=Math.abs(d.Ab);var Te=Math.abs(d.Db),re=Math.abs(d.lb),je=re*(B-1)+T;h&=J*(B-1)+T<=d.Fd,h&=ne*(ye-1)+q<=d.Cd,h=(h&=Te*(ye-1)+q<=d.Ed)&J>=T&ne>=q&Te>=q,h&=d.y!=null,h&=d.f!=null,h&=d.ea!=null,_==12&&(h&=re>=T,h&=je<=d.Tc,h&=d.F!=null)}else h=0;d=h?0:2}}return d!=0||w!=null&&w.fd&&(d=Ls(k)),d}var ca=64,ri=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Sa=24,vi=32,$r=8,ns=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];vt("Predictor0","PredictorAdd0"),ee.Predictor0=function(){return 4278190080},ee.Predictor1=function(d){return d},ee.Predictor2=function(d,h,w){return h[w+0]},ee.Predictor3=function(d,h,w){return h[w+1]},ee.Predictor4=function(d,h,w){return h[w-1]},ee.Predictor5=function(d,h,w){return St(St(d,h[w+1]),h[w+0])},ee.Predictor6=function(d,h,w){return St(d,h[w-1])},ee.Predictor7=function(d,h,w){return St(d,h[w+0])},ee.Predictor8=function(d,h,w){return St(h[w-1],h[w+0])},ee.Predictor9=function(d,h,w){return St(h[w+0],h[w+1])},ee.Predictor10=function(d,h,w){return St(St(d,h[w-1]),St(h[w+0],h[w+1]))},ee.Predictor11=function(d,h,w){var k=h[w+0];return 0>=Jt(k>>24&255,d>>24&255,(h=h[w-1])>>24&255)+Jt(k>>16&255,d>>16&255,h>>16&255)+Jt(k>>8&255,d>>8&255,h>>8&255)+Jt(255&k,255&d,255&h)?k:d},ee.Predictor12=function(d,h,w){var k=h[w+0];return(nn((d>>24&255)+(k>>24&255)-((h=h[w-1])>>24&255))<<24|nn((d>>16&255)+(k>>16&255)-(h>>16&255))<<16|nn((d>>8&255)+(k>>8&255)-(h>>8&255))<<8|nn((255&d)+(255&k)-(255&h)))>>>0},ee.Predictor13=function(d,h,w){var k=h[w-1];return(Zt((d=St(d,h[w+0]))>>24&255,k>>24&255)<<24|Zt(d>>16&255,k>>16&255)<<16|Zt(d>>8&255,k>>8&255)<<8|Zt(255&d,255&k))>>>0};var Ui=ee.PredictorAdd0;ee.PredictorAdd1=Gt,vt("Predictor2","PredictorAdd2"),vt("Predictor3","PredictorAdd3"),vt("Predictor4","PredictorAdd4"),vt("Predictor5","PredictorAdd5"),vt("Predictor6","PredictorAdd6"),vt("Predictor7","PredictorAdd7"),vt("Predictor8","PredictorAdd8"),vt("Predictor9","PredictorAdd9"),vt("Predictor10","PredictorAdd10"),vt("Predictor11","PredictorAdd11"),vt("Predictor12","PredictorAdd12"),vt("Predictor13","PredictorAdd13");var bi=ee.PredictorAdd2;ke("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),ke("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Yn,Vs=ee.ColorIndexInverseTransform,rs=ee.MapARGB,qa=ee.VP8LColorIndexInverseTransformAlpha,Ys=ee.MapAlpha,xo=ee.VP8LPredictorsAdd=[];xo.length=16,(ee.VP8LPredictors=[]).length=16,(ee.VP8LPredictorsAdd_C=[]).length=16,(ee.VP8LPredictors_C=[]).length=16;var Gs,yo,wi,_s,ta,Js,na,Ks,xr,$a,Mn,bn,yr,Mr,ji,vr,vo,Is,In,bo,Bo,Ko,zo,Qs,Xs,wo,jo,wl,jl=l(511),Sl=l(2041),Nl=l(225),kl=l(767),Al=0,as=Sl,So=Nl,Fa=kl,Si=jl,Qo=0,ms=1,Cl=2,No=3,ko=4,Un=5,Xo=6,Ao=7,Dr=8,Ra=9,Uo=10,qe=[2,3,7],ai=[3,3,11],Zs=[280,256,256,256,40],Vl=[0,1,1,1,0],kc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ac=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Yl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zo=8,eo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Co=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Es=null,Po=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],el=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Pl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tl=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Lo=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],to=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ta=[],u=[],N=[],O=1,F=2,D=[],G=[];Bi("UpsampleRgbLinePair",ei,3),Bi("UpsampleBgrLinePair",mr,3),Bi("UpsampleRgbaLinePair",gr,4),Bi("UpsampleBgraLinePair",ni,4),Bi("UpsampleArgbLinePair",ti,4),Bi("UpsampleRgba4444LinePair",Ps,2),Bi("UpsampleRgb565LinePair",zi,2);var V=ee.UpsampleRgbLinePair,Ae=ee.UpsampleBgrLinePair,Se=ee.UpsampleRgbaLinePair,Ze=ee.UpsampleBgraLinePair,it=ee.UpsampleArgbLinePair,Wt=ee.UpsampleRgba4444LinePair,yt=ee.UpsampleRgb565LinePair,yn=16,an=1<<yn-1,on=-227,xn=482,Na=6,da=0,Wa=l(256),At=l(256),qn=l(256),Qn=l(256),Ms=l(xn-on),Jl=l(xn-on);es("YuvToRgbRow",ei,3),es("YuvToBgrRow",mr,3),es("YuvToRgbaRow",gr,4),es("YuvToBgraRow",ni,4),es("YuvToArgbRow",ti,4),es("YuvToRgba4444Row",Ps,2),es("YuvToRgb565Row",zi,2);var Cc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qo=[0,2,8],Zc=[8,7,6,4,4,2,2,2,1,1,1,1],no=1;this.WebPDecodeRGBA=function(d,h,w,k,_){var T=ms,B=new Qe,q=new Vt;B.ba=q,q.S=T,q.width=[q.width],q.height=[q.height];var J=q.width,ne=q.height,ye=new oe;if(ye==null||d==null)var Te=2;else a(ye!=null),Te=jt(d,h,w,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Te!=0?J=0:(J!=null&&(J[0]=ye.width[0]),ne!=null&&(ne[0]=ye.height[0]),J=1),J){q.width=q.width[0],q.height=q.height[0],k!=null&&(k[0]=q.width),_!=null&&(_[0]=q.height);e:{if(k=new gn,(_=new rt).data=d,_.w=h,_.ha=w,_.kd=1,h=[0],a(_!=null),((d=jt(_.data,_.w,_.ha,null,null,null,h,null,_))==0||d==7)&&h[0]&&(d=4),(h=d)==0){if(a(B!=null),k.data=_.data,k.w=_.w+_.offset,k.ha=_.ha-_.offset,k.put=Nt,k.ac=Qt,k.bc=za,k.ma=B,_.xa){if((d=cr())==null){B=1;break e}if((function(re,je){var Re=[0],Je=[0],Be=[0];t:for(;;){if(re==null)return 0;if(je==null)return re.a=2,0;if(re.l=je,re.a=0,Pe(re.m,je.data,je.w,je.ha),!ci(re.m,Re,Je,Be)){re.a=3;break t}if(re.xb=F,je.width=Re[0],je.height=Je[0],!dr(Re[0],Je[0],1,re,null))break t;return 1}return a(re.a!=0),0})(d,k)){if(k=(h=yi(k.width,k.height,B.Oa,B.ba))==0){t:{k=d;n:for(;;){if(k==null){k=0;break t}if(a(k.s.yc!=null),a(k.s.Ya!=null),a(0<k.s.Wb),a((w=k.l)!=null),a((_=w.ma)!=null),k.xb!=0){if(k.ca=_.ba,k.tb=_.tb,a(k.ca!=null),!_n(_.Oa,w,No)){k.a=2;break n}if(!Ss(k,w.width)||w.da)break n;if((w.da||Bt(k.ca.S))&&Kn(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&Kn()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!Y(k.s.vb,k.s.Wa.Xa)){k.a=1;break n}k.xb=0}if(!Fn(k,k.V,k.Ba,k.c,k.i,w.o,Et))break n;_.Dc=k.Ma,k=1;break t}a(k.a!=0),k=0}k=!k}k&&(h=d.a)}else h=d.a}else{if((d=new us)==null){B=1;break e}if(d.Fa=_.na,d.P=_.P,d.qc=_.Sa,ya(d,k)){if((h=yi(k.width,k.height,B.Oa,B.ba))==0){if(d.Aa=0,w=B.Oa,a((_=d)!=null),w!=null){if(0<(J=0>(J=w.Md)?0:100<J?255:255*J/100)){for(ne=ye=0;4>ne;++ne)12>(Te=_.pb[ne]).lc&&(Te.ia=J*Zc[0>Te.lc?0:Te.lc]>>3),ye|=Te.ia;ye&&(alert("todo:VP8InitRandom"),_.ia=1)}_.Ga=w.Id,100<_.Ga?_.Ga=100:0>_.Ga&&(_.Ga=0)}(function(re,je){if(re==null)return 0;if(je==null)return Ir(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!ya(re,je))return 0;if(a(re.cb),je.ac==null||je.ac(je)){je.ob&&(re.L=0);var Re=qo[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=je.v-Re>>4,re.zb=je.j-Re>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=je.o+15+Re>>4,re.Hb=je.va+15+Re>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var Je=re.ed;for(Re=0;4>Re;++Re){var Be;if(re.Qa.Cb){var Ye=re.Qa.Lb[Re];re.Qa.Fb||(Ye+=Je.Tb)}else Ye=Je.Tb;for(Be=0;1>=Be;++Be){var Ge=re.gd[Re][Be],et=Ye;if(Je.Pc&&(et+=Je.vd[0],Be&&(et+=Je.od[0])),0<(et=0>et?0:63<et?63:et)){var tt=et;0<Je.wb&&(tt=4<Je.wb?tt>>2:tt>>1)>9-Je.wb&&(tt=9-Je.wb),1>tt&&(tt=1),Ge.dd=tt,Ge.tc=2*et+tt,Ge.ld=40<=et?2:15<=et?1:0}else Ge.tc=0;Ge.La=Be}}}Re=0}else Ir(re,6,"Frame setup failed"),Re=re.a;if(Re=Re==0){if(Re){re.$c=0,0<re.Aa||(re.Ic=no);t:{Re=re.Ic,Je=4*(tt=re.za);var zt=32*tt,Pt=tt+1,un=0<re.L?tt*(0<re.Aa?2:1):0,Dt=(re.Aa==2?2:1)*tt;if((Ge=Je+832+(Be=3*(16*Re+qo[re.L])/2*zt)+(Ye=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=Ge)Re=0;else{if(Ge>re.Vb){if(re.Vb=0,re.Ec=l(Ge),re.Fc=0,re.Ec==null){Re=Ir(re,1,"no memory during frame initialization.");break t}re.Vb=Ge}Ge=re.Ec,et=re.Fc,re.Ac=Ge,re.Bc=et,et+=Je,re.Gd=m(zt,Qr),re.Hd=0,re.rb=m(Pt+1,Mi),re.sb=1,re.wa=un?m(un,ur):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=tt),a(!0),re.oc=Ge,re.pc=et,et+=832,re.ya=m(Dt,Vi),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=tt),re.R=16*tt,re.B=8*tt,tt=(zt=qo[re.L])*re.R,zt=zt/2*re.B,re.sa=Ge,re.ta=et+tt,re.qa=re.sa,re.ra=re.ta+16*Re*re.R+zt,re.Ha=re.qa,re.Ia=re.ra+8*Re*re.B+zt,re.$c=0,et+=Be,re.mb=Ye?Ge:null,re.nb=Ye?et:null,a(et+Ye<=re.Fc+re.Vb),go(re),c(re.Ac,re.Bc,0,Je),Re=1}}if(Re){if(je.ka=0,je.y=re.sa,je.O=re.ta,je.f=re.qa,je.N=re.ra,je.ea=re.Ha,je.Vd=re.Ia,je.fa=re.R,je.Rc=re.B,je.F=null,je.J=0,!Al){for(Re=-255;255>=Re;++Re)jl[255+Re]=0>Re?-Re:Re;for(Re=-1020;1020>=Re;++Re)Sl[1020+Re]=-128>Re?-128:127<Re?127:Re;for(Re=-112;112>=Re;++Re)Nl[112+Re]=-16>Re?-16:15<Re?15:Re;for(Re=-255;510>=Re;++Re)kl[255+Re]=0>Re?0:255<Re?255:Re;Al=1}na=zs,Ks=Xr,$a=Ri,Mn=Ti,bn=Pn,xr=hs,yr=Hn,Mr=gi,ji=L,vr=ae,vo=wa,Is=x,In=me,bo=Le,Bo=Zr,Ko=mi,zo=Ln,Qs=Ma,u[0]=Us,u[1]=qr,u[2]=Za,u[3]=jn,u[4]=Er,u[5]=qs,u[6]=Ji,u[7]=As,u[8]=Oo,u[9]=Ia,Ta[0]=pr,Ta[1]=vn,Ta[2]=va,Ta[3]=Gi,Ta[4]=zn,Ta[5]=Jn,Ta[6]=_a,N[0]=ps,N[1]=ks,N[2]=hi,N[3]=ar,N[4]=Sr,N[5]=$s,N[6]=Ws,Re=1}else Re=0}Re&&(Re=(function(Sn,Fr){for(Sn.M=0;Sn.M<Sn.Va;++Sn.M){var pn,Lt=Sn.Jc[Sn.M&Sn.Xb],xt=Sn.m,Wr=Sn;for(pn=0;pn<Wr.za;++pn){var sn=xt,wn=Wr,nr=wn.Ac,ka=wn.Bc+4*pn,ra=wn.zc,Cr=wn.ya[wn.aa+pn];if(wn.Qa.Bb?Cr.$b=$e(sn,wn.Pa.jb[0])?2+$e(sn,wn.Pa.jb[2]):$e(sn,wn.Pa.jb[1]):Cr.$b=0,wn.kc&&(Cr.Ad=$e(sn,wn.Bd)),Cr.Za=!$e(sn,145)+0,Cr.Za){var ua=Cr.Ob,Aa=0;for(wn=0;4>wn;++wn){var br,kn=ra[0+wn];for(br=0;4>br;++br){kn=tl[nr[ka+br]][kn];for(var Rn=Gl[$e(sn,kn[0])];0<Rn;)Rn=Gl[2*Rn+$e(sn,kn[Rn])];kn=-Rn,nr[ka+br]=kn}o(ua,Aa,nr,ka,4),Aa+=4,ra[0+wn]=kn}}else kn=$e(sn,156)?$e(sn,128)?1:3:$e(sn,163)?2:0,Cr.Ob[0]=kn,c(nr,ka,kn,4),c(ra,0,kn,4);Cr.Dd=$e(sn,142)?$e(sn,114)?$e(sn,183)?1:3:2:0}if(Wr.m.Ka)return Ir(Sn,7,"Premature end-of-partition0 encountered.");for(;Sn.ja<Sn.za;++Sn.ja){if(Wr=Lt,sn=(xt=Sn).rb[xt.sb-1],nr=xt.rb[xt.sb+xt.ja],pn=xt.ya[xt.aa+xt.ja],ka=xt.kc?pn.Ad:0)sn.la=nr.la=0,pn.Za||(sn.Na=nr.Na=0),pn.Hc=0,pn.Gc=0,pn.ia=0;else{var wr,Tn;if(sn=nr,nr=Wr,ka=xt.Pa.Xc,ra=xt.ya[xt.aa+xt.ja],Cr=xt.pb[ra.$b],wn=ra.ad,ua=0,Aa=xt.rb[xt.sb-1],kn=br=0,c(wn,ua,0,384),ra.Za)var Rr=0,Tr=ka[3];else{Rn=l(16);var Xn=sn.Na+Aa.Na;if(Xn=Es(nr,ka[1],Xn,Cr.Eb,0,Rn,0),sn.Na=Aa.Na=(0<Xn)+0,1<Xn)na(Rn,0,wn,ua);else{var Ha=Rn[0]+3>>3;for(Rn=0;256>Rn;Rn+=16)wn[ua+Rn]=Ha}Rr=1,Tr=ka[0]}var Gn=15&sn.la,Zn=15&Aa.la;for(Rn=0;4>Rn;++Rn){var aa=1&Zn;for(Ha=Tn=0;4>Ha;++Ha)Gn=Gn>>1|(aa=(Xn=Es(nr,Tr,Xn=aa+(1&Gn),Cr.Sc,Rr,wn,ua))>Rr)<<7,Tn=Tn<<2|(3<Xn?3:1<Xn?2:wn[ua+0]!=0),ua+=16;Gn>>=4,Zn=Zn>>1|aa<<7,br=(br<<8|Tn)>>>0}for(Tr=Gn,Rr=Zn>>4,wr=0;4>wr;wr+=2){for(Tn=0,Gn=sn.la>>4+wr,Zn=Aa.la>>4+wr,Rn=0;2>Rn;++Rn){for(aa=1&Zn,Ha=0;2>Ha;++Ha)Xn=aa+(1&Gn),Gn=Gn>>1|(aa=0<(Xn=Es(nr,ka[2],Xn,Cr.Qc,0,wn,ua)))<<3,Tn=Tn<<2|(3<Xn?3:1<Xn?2:wn[ua+0]!=0),ua+=16;Gn>>=2,Zn=Zn>>1|aa<<5}kn|=Tn<<4*wr,Tr|=Gn<<4<<wr,Rr|=(240&Zn)<<wr}sn.la=Tr,Aa.la=Rr,ra.Hc=br,ra.Gc=kn,ra.ia=43690&kn?0:Cr.ia,ka=!(br|kn)}if(0<xt.L&&(xt.wa[xt.Y+xt.ja]=xt.gd[pn.$b][pn.Za],xt.wa[xt.Y+xt.ja].La|=!ka),Wr.Ka)return Ir(Sn,7,"Premature end-of-file encountered.")}if(go(Sn),xt=Fr,Wr=1,pn=(Lt=Sn).D,sn=0<Lt.L&&Lt.M>=Lt.zb&&Lt.M<=Lt.Va,Lt.Aa==0)t:{if(pn.M=Lt.M,pn.uc=sn,ja(Lt,pn),Wr=1,pn=(Tn=Lt.D).Nb,sn=(kn=qo[Lt.L])*Lt.R,nr=kn/2*Lt.B,Rn=16*pn*Lt.R,Ha=8*pn*Lt.B,ka=Lt.sa,ra=Lt.ta-sn+Rn,Cr=Lt.qa,wn=Lt.ra-nr+Ha,ua=Lt.Ha,Aa=Lt.Ia-nr+Ha,Zn=(Gn=Tn.M)==0,br=Gn>=Lt.Va-1,Lt.Aa==2&&ja(Lt,Tn),Tn.uc)for(aa=(Xn=Lt).D.M,a(Xn.D.uc),Tn=Xn.yb;Tn<Xn.Hb;++Tn){Rr=Tn,Tr=aa;var Oa=(Ni=(Yr=Xn).D).Nb;wr=Yr.R;var Ni=Ni.wa[Ni.Y+Rr],Hr=Yr.sa,Vr=Yr.ta+16*Oa*wr+16*Rr,Va=Ni.dd,er=Ni.tc;if(er!=0)if(a(3<=er),Yr.L==1)0<Rr&&Ko(Hr,Vr,wr,er+4),Ni.La&&Qs(Hr,Vr,wr,er),0<Tr&&Bo(Hr,Vr,wr,er+4),Ni.La&&zo(Hr,Vr,wr,er);else{var Ya=Yr.B,is=Yr.qa,gs=Yr.ra+8*Oa*Ya+8*Rr,Ca=Yr.Ha,Yr=Yr.Ia+8*Oa*Ya+8*Rr;Oa=Ni.ld,0<Rr&&(Mr(Hr,Vr,wr,er+4,Va,Oa),vr(is,gs,Ca,Yr,Ya,er+4,Va,Oa)),Ni.La&&(Is(Hr,Vr,wr,er,Va,Oa),bo(is,gs,Ca,Yr,Ya,er,Va,Oa)),0<Tr&&(yr(Hr,Vr,wr,er+4,Va,Oa),ji(is,gs,Ca,Yr,Ya,er+4,Va,Oa)),Ni.La&&(vo(Hr,Vr,wr,er,Va,Oa),In(is,gs,Ca,Yr,Ya,er,Va,Oa))}}if(Lt.ia&&alert("todo:DitherRow"),xt.put!=null){if(Tn=16*Gn,Gn=16*(Gn+1),Zn?(xt.y=Lt.sa,xt.O=Lt.ta+Rn,xt.f=Lt.qa,xt.N=Lt.ra+Ha,xt.ea=Lt.Ha,xt.W=Lt.Ia+Ha):(Tn-=kn,xt.y=ka,xt.O=ra,xt.f=Cr,xt.N=wn,xt.ea=ua,xt.W=Aa),br||(Gn-=kn),Gn>xt.o&&(Gn=xt.o),xt.F=null,xt.J=null,Lt.Fa!=null&&0<Lt.Fa.length&&Tn<Gn&&(xt.J=Vn(Lt,xt,Tn,Gn-Tn),xt.F=Lt.mb,xt.F==null&&xt.F.length==0)){Wr=Ir(Lt,3,"Could not decode alpha data.");break t}Tn<xt.j&&(kn=xt.j-Tn,Tn=xt.j,a(!(1&kn)),xt.O+=Lt.R*kn,xt.N+=Lt.B*(kn>>1),xt.W+=Lt.B*(kn>>1),xt.F!=null&&(xt.J+=xt.width*kn)),Tn<Gn&&(xt.O+=xt.v,xt.N+=xt.v>>1,xt.W+=xt.v>>1,xt.F!=null&&(xt.J+=xt.v),xt.ka=Tn-xt.j,xt.U=xt.va-xt.v,xt.T=Gn-Tn,Wr=xt.put(xt))}pn+1!=Lt.Ic||br||(o(Lt.sa,Lt.ta-sn,ka,ra+16*Lt.R,sn),o(Lt.qa,Lt.ra-nr,Cr,wn+8*Lt.B,nr),o(Lt.Ha,Lt.Ia-nr,ua,Aa+8*Lt.B,nr))}if(!Wr)return Ir(Sn,6,"Output aborted.")}return 1})(re,je)),je.bc!=null&&je.bc(je),Re&=1}return Re?(re.cb=0,Re):0})(d,k)||(h=d.a)}}else h=d.a}h==0&&B.Oa!=null&&B.Oa.fd&&(h=Ls(B.ba))}B=h}T=B!=0?null:11>T?q.f.RGBA.eb:q.f.kb.y}else T=null;return T};var Ll=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function v(ee,xe){for(var z="",$=0;$<4;$++)z+=String.fromCharCode(ee[xe++]);return z}function j(ee,xe){return ee[xe+0]|ee[xe+1]<<8}function A(ee,xe){return(ee[xe+0]|ee[xe+1]<<8|ee[xe+2]<<16)>>>0}function M(ee,xe){return(ee[xe+0]|ee[xe+1]<<8|ee[xe+2]<<16|ee[xe+3]<<24)>>>0}new g;var b=[0],U=[0],E=[],I=new g,P=i,W=(function(ee,xe){var z={},$=0,le=!1,ie=0,we=0;if(z.frames=[],!(function(C,K){for(var Z=0;Z<4;Z++)if(C[K+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(ee,xe)){for(M(ee,xe+=4),xe+=8;xe<ee.length;){var _e=v(ee,xe),Ie=M(ee,xe+=4);xe+=4;var pe=Ie+(1&Ie);switch(_e){case"VP8 ":case"VP8L":z.frames[$]===void 0&&(z.frames[$]={}),(te=z.frames[$]).src_off=le?we:xe-8,te.src_size=ie+Ie+8,$++,le&&(le=!1,ie=0,we=0);break;case"VP8X":(te=z.header={}).feature_flags=ee[xe];var Pe=xe+4;te.canvas_width=1+A(ee,Pe),Pe+=3,te.canvas_height=1+A(ee,Pe),Pe+=3;break;case"ALPH":le=!0,ie=pe+8,we=xe-8;break;case"ANIM":(te=z.header).bgcolor=M(ee,xe),Pe=xe+4,te.loop_count=j(ee,Pe),Pe+=2;break;case"ANMF":var Ue,te;(te=z.frames[$]={}).offset_x=2*A(ee,xe),xe+=3,te.offset_y=2*A(ee,xe),xe+=3,te.width=1+A(ee,xe),xe+=3,te.height=1+A(ee,xe),xe+=3,te.duration=A(ee,xe),xe+=3,Ue=ee[xe++],te.dispose=1&Ue,te.blend=Ue>>1&1}_e!="ANMF"&&(xe+=pe)}return z}})(P,0);W.response=P,W.rgbaoutput=!0,W.dataurl=!1;var X=W.header?W.header:null,H=W.frames?W.frames:null;if(X){X.loop_counter=X.loop_count,b=[X.canvas_height],U=[X.canvas_width];for(var fe=0;fe<H.length&&H[fe].blend!=0;fe++);}var he=H[0],Ee=I.WebPDecodeRGBA(P,he.src_off,he.src_size,U,b);he.rgba=Ee,he.imgwidth=U[0],he.imgheight=b[0];for(var ge=0;ge<U[0]*b[0]*4;ge++)E[ge]=Ee[ge];return this.width=U,this.height=b,this.data=E,this}(function(i){var a,r,o,c,l,m,p,g,v,j=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new g,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new m,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new m,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new A(this),a=this.internal.f2,r=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,m=this.internal.Point,p=this.internal.Rectangle,g=this.internal.Matrix,v=new j}]);var A=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=C;Object.defineProperty(this,"pdf",{get:function(){return K}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Y){Z=!!Y}});var de=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return de},set:function(Y){de=!!Y}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(Y){isNaN(Y)||(ce=Y)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(Y){isNaN(Y)||(be=Y)}}),Object.defineProperty(this,"margin",{get:function(){return v.margin},set:function(Y){var nt;typeof Y=="number"?nt=[Y,Y,Y,Y]:((nt=new Array(4))[0]=Y[0],nt[1]=Y.length>=2?Y[1]:nt[0],nt[2]=Y.length>=3?Y[2]:nt[0],nt[3]=Y.length>=4?Y[3]:nt[1]),v.margin=nt}});var Me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Me},set:function(Y){Me=Y}});var Fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Fe},set:function(Y){Fe=Y}});var $e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return $e},set:function(Y){$e=Y}}),Object.defineProperty(this,"ctx",{get:function(){return v},set:function(Y){Y instanceof j&&(v=Y)}}),Object.defineProperty(this,"path",{get:function(){return v.path},set:function(Y){v.path=Y}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(Y){De=Y}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Y){var nt;nt=M(Y),this.ctx.fillStyle=nt.style,this.ctx.isFillTransparent=nt.a===0,this.ctx.fillOpacity=nt.a,this.pdf.setFillColor(nt.r,nt.g,nt.b,{a:nt.a}),this.pdf.setTextColor(nt.r,nt.g,nt.b,{a:nt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Y){var nt=M(Y);this.ctx.strokeStyle=nt.style,this.ctx.isStrokeTransparent=nt.a===0,this.ctx.strokeOpacity=nt.a,nt.a===0?this.pdf.setDrawColor(255,255,255):(nt.a,this.pdf.setDrawColor(nt.r,nt.g,nt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Y){["butt","round","square"].indexOf(Y)!==-1&&(this.ctx.lineCap=Y,this.pdf.setLineCap(Y))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Y){isNaN(Y)||(this.ctx.lineWidth=Y,this.pdf.setLineWidth(Y))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Y){["bevel","round","miter"].indexOf(Y)!==-1&&(this.ctx.lineJoin=Y,this.pdf.setLineJoin(Y))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Y){isNaN(Y)||(this.ctx.miterLimit=Y,this.pdf.setMiterLimit(Y))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Y){this.ctx.textBaseline=Y}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Y){["right","end","center","left","start"].indexOf(Y)!==-1&&(this.ctx.textAlign=Y)}});var at=null,ot=null,gt=null;Object.defineProperty(this,"fontFaces",{get:function(){return gt},set:function(Y){at=null,ot=null,gt=Y}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Y){var nt;if(this.ctx.font=Y,(nt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Y))!==null){var It=nt[1];nt[2];var wt=nt[3],Ke=nt[4];nt[5];var _t=nt[6],vt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(vt==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:vt==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var ct=(function(ke){var Xe,ht,Ve=[],ft=ke.trim();if(ft==="")return of;if(ft in lm)return[lm[ft]];for(;ft!=="";){switch(ht=null,Xe=(ft=dm(ft)).charAt(0)){case'"':case"'":ht=ty(ft.substring(1),Xe);break;default:ht=ny(ft)}if(ht===null||(Ve.push(ht[0]),(ft=dm(ht[1]))!==""&&ft.charAt(0)!==","))return of;ft=ft.replace(/^,/,"")}return Ve})(_t);if(this.fontFaces){var St=(function(ke,Xe){var ht=ke.getFontList(),Ve=JSON.stringify(ht);if(at===null||ot!==Ve){var ft=(function($t){var bt=[];return Object.keys($t).forEach(function(fn){$t[fn].forEach(function(Bt){var Kt=null;switch(Bt){case"bold":Kt={family:fn,weight:"bold"};break;case"italic":Kt={family:fn,style:"italic"};break;case"bolditalic":Kt={family:fn,weight:"bold",style:"italic"};break;case"":case"normal":Kt={family:fn}}Kt!==null&&(Kt.ref={name:fn,style:Bt},bt.push(Kt))})}),bt})(ht);at=(function($t){for(var bt={},fn=0;fn<$t.length;++fn){var Bt=sf($t[fn]),Kt=Bt.family,hn=Bt.stretch,Vt=Bt.style,oe=Bt.weight;bt[Kt]=bt[Kt]||{},bt[Kt][hn]=bt[Kt][hn]||{},bt[Kt][hn][Vt]=bt[Kt][hn][Vt]||{},bt[Kt][hn][Vt][oe]=Bt}return bt})(ft.concat(Xe)),ot=Ve}return at})(this.pdf,this.fontFaces),nn=ct.map(function(ke){return{family:ke,stretch:"normal",weight:wt,style:It}}),Zt=(function(ke,Xe,ht){for(var Ve=(ht=ht||{}).defaultFontFamily||"times",ft=Object.assign({},ey,ht.genericFontFamilies||{}),$t=null,bt=null,fn=0;fn<Xe.length;++fn)if(ft[($t=sf(Xe[fn])).family]&&($t.family=ft[$t.family]),ke.hasOwnProperty($t.family)){bt=ke[$t.family];break}if(!(bt=bt||ke[Ve]))throw new Error("Could not find a font-family for the rule '"+cm($t)+"' and default family '"+Ve+"'.");if(bt=(function(Bt,Kt){if(Kt[Bt])return Kt[Bt];var hn=Nf[Bt],Vt=hn<=Nf.normal?-1:1,oe=om(Kt,k0,hn,Vt);if(!oe)throw new Error("Could not find a matching font-stretch value for "+Bt);return oe})($t.stretch,bt),bt=(function(Bt,Kt){if(Kt[Bt])return Kt[Bt];for(var hn=N0[Bt],Vt=0;Vt<hn.length;++Vt)if(Kt[hn[Vt]])return Kt[hn[Vt]];throw new Error("Could not find a matching font-style for "+Bt)})($t.style,bt),!(bt=(function(Bt,Kt){if(Kt[Bt])return Kt[Bt];if(Bt===400&&Kt[500])return Kt[500];if(Bt===500&&Kt[400])return Kt[400];var hn=Zx[Bt],Vt=om(Kt,A0,hn,Bt<400?-1:1);if(!Vt)throw new Error("Could not find a matching font-weight for value "+Bt);return Vt})($t.weight,bt)))throw new Error("Failed to resolve a font for the rule '"+cm($t)+"'.");return bt})(St,nn);this.pdf.setFont(Zt.ref.name,Zt.ref.style)}else{var Jt="";(wt==="bold"||parseInt(wt,10)>=700||It==="bold")&&(Jt="bold"),It==="italic"&&(Jt+="italic"),Jt.length===0&&(Jt="normal");for(var Gt="",Ce={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ze=0;ze<ct.length;ze++){if(this.pdf.internal.getFont(ct[ze],Jt,{noFallback:!0,disableWarning:!0})!==void 0){Gt=ct[ze];break}if(Jt==="bolditalic"&&this.pdf.internal.getFont(ct[ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Gt=ct[ze],Jt="bold";else if(this.pdf.internal.getFont(ct[ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Gt=ct[ze],Jt="normal";break}}if(Gt===""){for(var se=0;se<ct.length;se++)if(Ce[ct[se]]){Gt=Ce[ct[se]];break}}Gt=Gt===""?"Times":Gt,this.pdf.setFont(Gt,Jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Y){this.ctx.globalCompositeOperation=Y}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Y){this.ctx.globalAlpha=Y}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Y){this.ctx.lineDashOffset=Y,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Y){this.ctx.lineDash=Y,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Y){this.ctx.ignoreClearRect=!!Y}})};A.prototype.setLineDash=function(C){this.lineDash=C},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){H.call(this,"fill",!1)},A.prototype.stroke=function(){H.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(C,K){if(isNaN(C)||isNaN(K))throw lr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new m(C,K));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new m(C,K)},A.prototype.closePath=function(){var C=new m(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&tr(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){C=new m(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new m(C.x,C.y)},A.prototype.lineTo=function(C,K){if(isNaN(C)||isNaN(K))throw lr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new m(C,K));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new m(Z.x,Z.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},A.prototype.quadraticCurveTo=function(C,K,Z,de){if(isNaN(Z)||isNaN(de)||isNaN(C)||isNaN(K))throw lr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new m(Z,de)),be=this.ctx.transform.applyToPoint(new m(C,K));this.path.push({type:"qct",x1:be.x,y1:be.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new m(ce.x,ce.y)},A.prototype.bezierCurveTo=function(C,K,Z,de,ce,be){if(isNaN(ce)||isNaN(be)||isNaN(C)||isNaN(K)||isNaN(Z)||isNaN(de))throw lr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Me=this.ctx.transform.applyToPoint(new m(ce,be)),Fe=this.ctx.transform.applyToPoint(new m(C,K)),$e=this.ctx.transform.applyToPoint(new m(Z,de));this.path.push({type:"bct",x1:Fe.x,y1:Fe.y,x2:$e.x,y2:$e.y,x:Me.x,y:Me.y}),this.ctx.lastPoint=new m(Me.x,Me.y)},A.prototype.arc=function(C,K,Z,de,ce,be){if(isNaN(C)||isNaN(K)||isNaN(Z)||isNaN(de)||isNaN(ce))throw lr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=!!be,!this.ctx.transform.isIdentity){var Me=this.ctx.transform.applyToPoint(new m(C,K));C=Me.x,K=Me.y;var Fe=this.ctx.transform.applyToPoint(new m(0,Z)),$e=this.ctx.transform.applyToPoint(new m(0,0));Z=Math.sqrt(Math.pow(Fe.x-$e.x,2)+Math.pow(Fe.y-$e.y,2))}Math.abs(ce-de)>=2*Math.PI&&(de=0,ce=2*Math.PI),this.path.push({type:"arc",x:C,y:K,radius:Z,startAngle:de,endAngle:ce,counterclockwise:be})},A.prototype.arcTo=function(C,K,Z,de,ce){throw new Error("arcTo not implemented.")},A.prototype.rect=function(C,K,Z,de){if(isNaN(C)||isNaN(K)||isNaN(Z)||isNaN(de))throw lr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,K),this.lineTo(C+Z,K),this.lineTo(C+Z,K+de),this.lineTo(C,K+de),this.lineTo(C,K),this.lineTo(C+Z,K),this.lineTo(C,K)},A.prototype.fillRect=function(C,K,Z,de){if(isNaN(C)||isNaN(K)||isNaN(Z)||isNaN(de))throw lr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,K,Z,de),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},A.prototype.strokeRect=function(C,K,Z,de){if(isNaN(C)||isNaN(K)||isNaN(Z)||isNaN(de))throw lr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");U.call(this)||(this.beginPath(),this.rect(C,K,Z,de),this.stroke())},A.prototype.clearRect=function(C,K,Z,de){if(isNaN(C)||isNaN(K)||isNaN(Z)||isNaN(de))throw lr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,K,Z,de))},A.prototype.save=function(C){C=typeof C!="boolean"||C;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var de=new j(this.ctx);this.ctxStack.push(this.ctx),this.ctx=de}},A.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(K),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var M=function(C){var K,Z,de,ce;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))K=0,Z=0,de=0,ce=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(be!==null)K=parseInt(be[1]),Z=parseInt(be[2]),de=parseInt(be[3]),ce=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)K=parseInt(be[1]),Z=parseInt(be[2]),de=parseInt(be[3]),ce=parseFloat(be[4]);else{if(ce=1,typeof C=="string"&&C.charAt(0)!=="#"){var Me=new x0(C);C=Me.ok?Me.toHex():"#000000"}C.length===4?(K=C.substring(1,2),K+=K,Z=C.substring(2,3),Z+=Z,de=C.substring(3,4),de+=de):(K=C.substring(1,3),Z=C.substring(3,5),de=C.substring(5,7)),K=parseInt(K,16),Z=parseInt(Z,16),de=parseInt(de,16)}}return{r:K,g:Z,b:de,a:ce,style:C}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},U=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(C,K,Z,de){if(isNaN(K)||isNaN(Z)||typeof C!="string")throw lr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(de=isNaN(de)?void 0:de,!b.call(this)){var ce=pe(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;$.call(this,{text:C,x:K,y:Z,scale:be,angle:ce,align:this.textAlign,maxWidth:de})}},A.prototype.strokeText=function(C,K,Z,de){if(isNaN(K)||isNaN(Z)||typeof C!="string")throw lr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!U.call(this)){de=isNaN(de)?void 0:de;var ce=pe(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;$.call(this,{text:C,x:K,y:Z,scale:be,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:de})}},A.prototype.measureText=function(C){if(typeof C!="string")throw lr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Z=this.pdf.internal.scaleFactor,de=K.internal.getFontSize(),ce=K.getStringUnitWidth(C)*de/K.internal.scaleFactor;return new function(be){var Me=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Me}}),this}({width:ce*=Math.round(96*Z/72*1e4)/1e4})},A.prototype.scale=function(C,K){if(isNaN(C)||isNaN(K))throw lr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new g(C,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},A.prototype.rotate=function(C){if(isNaN(C))throw lr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new g(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},A.prototype.translate=function(C,K){if(isNaN(C)||isNaN(K))throw lr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new g(1,0,0,1,C,K);this.ctx.transform=this.ctx.transform.multiply(Z)},A.prototype.transform=function(C,K,Z,de,ce,be){if(isNaN(C)||isNaN(K)||isNaN(Z)||isNaN(de)||isNaN(ce)||isNaN(be))throw lr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Me=new g(C,K,Z,de,ce,be);this.ctx.transform=this.ctx.transform.multiply(Me)},A.prototype.setTransform=function(C,K,Z,de,ce,be){C=isNaN(C)?1:C,K=isNaN(K)?0:K,Z=isNaN(Z)?0:Z,de=isNaN(de)?1:de,ce=isNaN(ce)?0:ce,be=isNaN(be)?0:be,this.ctx.transform=new g(C,K,Z,de,ce,be)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(C,K,Z,de,ce,be,Me,Fe,$e){var De=this.pdf.getImageProperties(C),at=1,ot=1,gt=1,Y=1;de!==void 0&&Fe!==void 0&&(gt=Fe/de,Y=$e/ce,at=De.width/de*Fe/de,ot=De.height/ce*$e/ce),be===void 0&&(be=K,Me=Z,K=0,Z=0),de!==void 0&&Fe===void 0&&(Fe=de,$e=ce),de===void 0&&Fe===void 0&&(Fe=De.width,$e=De.height);var nt=this.ctx.transform.decompose(),It=pe(nt.rotate.shx),wt=new g,Ke=(wt=(wt=(wt=wt.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale)).applyToRectangle(new p(be-K*gt,Me-Z*Y,de*at,ce*ot));if(this.autoPaging){for(var _t,vt=I.call(this,Ke),ct=[],St=0;St<vt.length;St+=1)ct.indexOf(vt[St])===-1&&ct.push(vt[St]);X(ct);for(var nn=ct[0],Zt=ct[ct.length-1],Jt=nn;Jt<Zt+1;Jt++){this.pdf.setPage(Jt);var Gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=Jt===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],se=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ke=Jt===1?0:ze+(Jt-2)*se;if(this.ctx.clip_path.length!==0){var Xe=this.path;_t=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(_t,this.posX+this.margin[3],-ke+Ce+this.ctx.prevPageLastElemOffset),fe.call(this,"fill",!0),this.path=Xe}var ht=JSON.parse(JSON.stringify(Ke));ht=W([ht],this.posX+this.margin[3],-ke+Ce+this.ctx.prevPageLastElemOffset)[0];var Ve=(Jt>nn||Jt<Zt)&&E.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,se,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",ht.x,ht.y,ht.w,ht.h,null,null,It),Ve&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(C,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,It)};var I=function(C,K,Z){var de=[];K=K||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":de.push(Math.floor((C.y+ce)/Z)+1);break;case"arc":de.push(Math.floor((C.y+ce-C.radius)/Z)+1),de.push(Math.floor((C.y+ce+C.radius)/Z)+1);break;case"qct":var be=Pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);de.push(Math.floor((be.y+ce)/Z)+1),de.push(Math.floor((be.y+be.h+ce)/Z)+1);break;case"bct":var Me=Ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);de.push(Math.floor((Me.y+ce)/Z)+1),de.push(Math.floor((Me.y+Me.h+ce)/Z)+1);break;case"rect":de.push(Math.floor((C.y+ce)/Z)+1),de.push(Math.floor((C.y+C.h+ce)/Z)+1)}for(var Fe=0;Fe<de.length;Fe+=1)for(;this.pdf.internal.getNumberOfPages()<de[Fe];)P.call(this);return de},P=function(){var C=this.fillStyle,K=this.strokeStyle,Z=this.font,de=this.lineCap,ce=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=K,this.font=Z,this.lineCap=de,this.lineWidth=ce,this.lineJoin=be},W=function(C,K,Z){for(var de=0;de<C.length;de++)switch(C[de].type){case"bct":C[de].x2+=K,C[de].y2+=Z;case"qct":C[de].x1+=K,C[de].y1+=Z;default:C[de].x+=K,C[de].y+=Z}return C},X=function(C){return C.sort(function(K,Z){return K-Z})},H=function(C,K){var Z=this.fillStyle,de=this.strokeStyle,ce=this.lineCap,be=this.lineWidth,Me=Math.abs(be*this.ctx.transform.scaleX),Fe=this.lineJoin;if(this.autoPaging){for(var $e,De,at=JSON.parse(JSON.stringify(this.path)),ot=JSON.parse(JSON.stringify(this.path)),gt=[],Y=0;Y<ot.length;Y++)if(ot[Y].x!==void 0)for(var nt=I.call(this,ot[Y]),It=0;It<nt.length;It+=1)gt.indexOf(nt[It])===-1&&gt.push(nt[It]);for(var wt=0;wt<gt.length;wt++)for(;this.pdf.internal.getNumberOfPages()<gt[wt];)P.call(this);X(gt);for(var Ke=gt[0],_t=gt[gt.length-1],vt=Ke;vt<_t+1;vt++){this.pdf.setPage(vt),this.fillStyle=Z,this.strokeStyle=de,this.lineCap=ce,this.lineWidth=Me,this.lineJoin=Fe;var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=vt===1?this.posY+this.margin[0]:this.margin[0],nn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=vt===1?0:nn+(vt-2)*Zt;if(this.ctx.clip_path.length!==0){var Gt=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W($e,this.posX+this.margin[3],-Jt+St+this.ctx.prevPageLastElemOffset),fe.call(this,C,!0),this.path=Gt}if(De=JSON.parse(JSON.stringify(at)),this.path=W(De,this.posX+this.margin[3],-Jt+St+this.ctx.prevPageLastElemOffset),K===!1||vt===0){var Ce=(vt>Ke||vt<_t)&&E.call(this);Ce&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,Zt,null).clip().discardPath()),fe.call(this,C,K),Ce&&this.pdf.restoreGraphicsState()}this.lineWidth=be}this.path=at}else this.lineWidth=Me,fe.call(this,C,K),this.lineWidth=be},fe=function(C,K){if((C!=="stroke"||K||!U.call(this))&&(C==="stroke"||K||!b.call(this))){for(var Z,de,ce=[],be=this.path,Me=0;Me<be.length;Me++){var Fe=be[Me];switch(Fe.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Fe,deltas:[],abs:[]});break;case"lt":var $e=ce.length;if(be[Me-1]&&!isNaN(be[Me-1].x)&&(Z=[Fe.x-be[Me-1].x,Fe.y-be[Me-1].y],$e>0)){for(;$e>=0;$e--)if(ce[$e-1].close!==!0&&ce[$e-1].begin!==!0){ce[$e-1].deltas.push(Z),ce[$e-1].abs.push(Fe);break}}break;case"bct":Z=[Fe.x1-be[Me-1].x,Fe.y1-be[Me-1].y,Fe.x2-be[Me-1].x,Fe.y2-be[Me-1].y,Fe.x-be[Me-1].x,Fe.y-be[Me-1].y],ce[ce.length-1].deltas.push(Z);break;case"qct":var De=be[Me-1].x+2/3*(Fe.x1-be[Me-1].x),at=be[Me-1].y+2/3*(Fe.y1-be[Me-1].y),ot=Fe.x+2/3*(Fe.x1-Fe.x),gt=Fe.y+2/3*(Fe.y1-Fe.y),Y=Fe.x,nt=Fe.y;Z=[De-be[Me-1].x,at-be[Me-1].y,ot-be[Me-1].x,gt-be[Me-1].y,Y-be[Me-1].x,nt-be[Me-1].y],ce[ce.length-1].deltas.push(Z);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Fe)}}de=K?null:C==="stroke"?"stroke":"fill";for(var It=!1,wt=0;wt<ce.length;wt++)if(ce[wt].arc)for(var Ke=ce[wt].abs,_t=0;_t<Ke.length;_t++){var vt=Ke[_t];vt.type==="arc"?ge.call(this,vt.x,vt.y,vt.radius,vt.startAngle,vt.endAngle,vt.counterclockwise,void 0,K,!It):le.call(this,vt.x,vt.y),It=!0}else if(ce[wt].close===!0)this.pdf.internal.out("h"),It=!1;else if(ce[wt].begin!==!0){var ct=ce[wt].start.x,St=ce[wt].start.y;ie.call(this,ce[wt].deltas,ct,St),It=!0}de&&ee.call(this,de),K&&xe.call(this)}},he=function(C){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-Z;case"top":return C+K-Z;case"hanging":return C+K-2*Z;case"middle":return C+K/2-Z;default:return C}},Ee=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(K,Z){this.colorStops.push([K,Z])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ge=function(C,K,Z,de,ce,be,Me,Fe,$e){for(var De=_e.call(this,Z,de,ce,be),at=0;at<De.length;at++){var ot=De[at];at===0&&($e?z.call(this,ot.x1+C,ot.y1+K):le.call(this,ot.x1+C,ot.y1+K)),we.call(this,C,K,ot.x2,ot.y2,ot.x3,ot.y3,ot.x4,ot.y4)}Fe?xe.call(this):ee.call(this,Me)},ee=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},xe=function(){this.pdf.clip(),this.pdf.discardPath()},z=function(C,K){this.pdf.internal.out(r(C)+" "+o(K)+" m")},$=function(C){var K;switch(C.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var Z,de,ce,be=this.pdf.getTextDimensions(C.text),Me=he.call(this,C.y),Fe=Ee.call(this,Me)-be.h,$e=this.ctx.transform.applyToPoint(new m(C.x,Me));if(this.autoPaging){var De=this.ctx.transform.decompose(),at=new g;at=(at=(at=at.multiply(De.translate)).multiply(De.skew)).multiply(De.scale);for(var ot=this.ctx.transform.applyToRectangle(new p(C.x,Me,be.w,be.h)),gt=at.applyToRectangle(new p(C.x,Fe,be.w,be.h)),Y=I.call(this,gt),nt=[],It=0;It<Y.length;It+=1)nt.indexOf(Y[It])===-1&&nt.push(Y[It]);X(nt);for(var wt=nt[0],Ke=nt[nt.length-1],_t=wt;_t<Ke+1;_t++){this.pdf.setPage(_t);var vt=_t===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[2],nn=St-this.margin[0],Zt=this.pdf.internal.pageSize.width-this.margin[1],Jt=Zt-this.margin[3],Gt=_t===1?0:ct+(_t-2)*nn;if(this.ctx.clip_path.length!==0){var Ce=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(Z,this.posX+this.margin[3],-1*Gt+vt),fe.call(this,"fill",!0),this.path=Ce}var ze=W([JSON.parse(JSON.stringify(gt))],this.posX+this.margin[3],-Gt+vt+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(de=this.pdf.internal.getFontSize(),this.pdf.setFontSize(de*C.scale),ce=this.lineWidth,this.lineWidth=ce*C.scale);var se=this.autoPaging!=="text";if(se||ze.y+ze.h<=St){if(se||ze.y>=vt&&ze.x<=Zt){var ke=se?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||Zt-ze.x)[0],Xe=W([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-Gt+vt+this.ctx.prevPageLastElemOffset)[0],ht=se&&(_t>wt||_t<Ke)&&E.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,nn,null).clip().discardPath()),this.pdf.text(ke,Xe.x,Xe.y,{angle:C.angle,align:K,renderingMode:C.renderingMode}),ht&&this.pdf.restoreGraphicsState()}}else ze.y<St&&(this.ctx.prevPageLastElemOffset+=St-ze.y);C.scale>=.01&&(this.pdf.setFontSize(de),this.lineWidth=ce)}}else C.scale>=.01&&(de=this.pdf.internal.getFontSize(),this.pdf.setFontSize(de*C.scale),ce=this.lineWidth,this.lineWidth=ce*C.scale),this.pdf.text(C.text,$e.x+this.posX,$e.y+this.posY,{angle:C.angle,align:K,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(de),this.lineWidth=ce)},le=function(C,K,Z,de){Z=Z||0,de=de||0,this.pdf.internal.out(r(C+Z)+" "+o(K+de)+" l")},ie=function(C,K,Z){return this.pdf.lines(C,K,Z,null,null)},we=function(C,K,Z,de,ce,be,Me,Fe){this.pdf.internal.out([a(c(Z+C)),a(l(de+K)),a(c(ce+C)),a(l(be+K)),a(c(Me+C)),a(l(Fe+K)),"c"].join(" "))},_e=function(C,K,Z,de){for(var ce=2*Math.PI,be=Math.PI/2;K>Z;)K-=ce;var Me=Math.abs(Z-K);Me<ce&&de&&(Me=ce-Me);for(var Fe=[],$e=de?-1:1,De=K;Me>1e-5;){var at=De+$e*Math.min(Me,be);Fe.push(Ie.call(this,C,De,at)),Me-=Math.abs(at-De),De=at}return Fe},Ie=function(C,K,Z){var de=(Z-K)/2,ce=C*Math.cos(de),be=C*Math.sin(de),Me=ce,Fe=-be,$e=Me*Me+Fe*Fe,De=$e+Me*ce+Fe*be,at=4/3*(Math.sqrt(2*$e*De)-De)/(Me*be-Fe*ce),ot=Me-at*Fe,gt=Fe+at*Me,Y=ot,nt=-gt,It=de+K,wt=Math.cos(It),Ke=Math.sin(It);return{x1:C*Math.cos(K),y1:C*Math.sin(K),x2:ot*wt-gt*Ke,y2:ot*Ke+gt*wt,x3:Y*wt-nt*Ke,y3:Y*Ke+nt*wt,x4:C*Math.cos(Z),y4:C*Math.sin(Z)}},pe=function(C){return 180*C/Math.PI},Pe=function(C,K,Z,de,ce,be){var Me=C+.5*(Z-C),Fe=K+.5*(de-K),$e=ce+.5*(Z-ce),De=be+.5*(de-be),at=Math.min(C,ce,Me,$e),ot=Math.max(C,ce,Me,$e),gt=Math.min(K,be,Fe,De),Y=Math.max(K,be,Fe,De);return new p(at,gt,ot-at,Y-gt)},Ue=function(C,K,Z,de,ce,be,Me,Fe){var $e,De,at,ot,gt,Y,nt,It,wt,Ke,_t,vt,ct,St,nn=Z-C,Zt=de-K,Jt=ce-Z,Gt=be-de,Ce=Me-ce,ze=Fe-be;for(De=0;De<41;De++)wt=(nt=(at=C+($e=De/40)*nn)+$e*((gt=Z+$e*Jt)-at))+$e*(gt+$e*(ce+$e*Ce-gt)-nt),Ke=(It=(ot=K+$e*Zt)+$e*((Y=de+$e*Gt)-ot))+$e*(Y+$e*(be+$e*ze-Y)-It),De==0?(_t=wt,vt=Ke,ct=wt,St=Ke):(_t=Math.min(_t,wt),vt=Math.min(vt,Ke),ct=Math.max(ct,wt),St=Math.max(St,Ke));return new p(Math.round(_t),Math.round(vt),Math.round(ct-_t),Math.round(St-vt))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,K,Z=(C=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:K}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Ht.API),(function(i){var a=function(m){var p,g,v,j,A,M,b,U,E,I;for(g=[],v=0,j=(m+=p="\0\0\0\0".slice(m.length%4||4)).length;j>v;v+=4)(A=(m.charCodeAt(v)<<24)+(m.charCodeAt(v+1)<<16)+(m.charCodeAt(v+2)<<8)+m.charCodeAt(v+3))!==0?(M=(A=((A=((A=((A=(A-(I=A%85))/85)-(E=A%85))/85)-(U=A%85))/85)-(b=A%85))/85)%85,g.push(M+33,b+33,U+33,E+33,I+33)):g.push(122);return(function(P,W){for(var X=W;X>0;X--)P.pop()})(g,p.length),String.fromCharCode.apply(String,g)+"~>"},r=function(m){var p,g,v,j,A,M=String,b="length",U=255,E="charCodeAt",I="slice",P="replace";for(m[I](-2),m=m[I](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),v=[],j=0,A=(m+=p="uuuuu"[I](m[b]%5||5))[b];A>j;j+=5)g=52200625*(m[E](j)-33)+614125*(m[E](j+1)-33)+7225*(m[E](j+2)-33)+85*(m[E](j+3)-33)+(m[E](j+4)-33),v.push(U&g>>24,U&g>>16,U&g>>8,U&g);return(function(W,X){for(var H=X;H>0;H--)W.pop()})(v,p[b]),M.fromCharCode.apply(M,v)},o=function(m){return m.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">"},c=function(m){var p=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((m=m.replace(/\s/g,"")).indexOf(">")!==-1&&(m=m.substr(0,m.indexOf(">"))),m.length%2&&(m+="0"),p.test(m)===!1)return"";for(var g="",v=0;v<m.length;v+=2)g+=String.fromCharCode("0x"+(m[v]+m[v+1]));return g},l=function(m){for(var p=new Uint8Array(m.length),g=m.length;g--;)p[g]=m.charCodeAt(g);return(p=xf(p)).reduce(function(v,j){return v+String.fromCharCode(j)},"")};i.processDataByFilters=function(m,p){var g=0,v=m||"",j=[];for(typeof(p=p||[])=="string"&&(p=[p]),g=0;g<p.length;g+=1)switch(p[g]){case"ASCII85Decode":case"/ASCII85Decode":v=r(v),j.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":v=a(v),j.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":v=c(v),j.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":v=o(v),j.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":v=l(v),j.push("/FlateDecode");break;default:throw new Error('The filter: "'+p[g]+'" is not implemented')}return{data:v,reverseChain:j.reverse().join(" ")}}})(Ht.API),(function(i){i.loadFile=function(a,r,o){return(function(c,l,m){l=l!==!1,m=typeof m=="function"?m:function(){};var p=void 0;try{p=(function(g,v,j){var A=new XMLHttpRequest,M=0,b=function(U){var E=U.length,I=[],P=String.fromCharCode;for(M=0;M<E;M+=1)I.push(P(255&U.charCodeAt(M)));return I.join("")};if(A.open("GET",g,!v),A.overrideMimeType("text/plain; charset=x-user-defined"),v===!1&&(A.onload=function(){A.status===200?j(b(this.responseText)):j(void 0)}),A.send(null),v&&A.status===200)return b(A.responseText)})(c,l,m)}catch{}return p})(a,r,o)},i.loadImageFile=i.loadFile})(Ht.API),(function(i){function a(){return(cn.html2canvas?Promise.resolve(cn.html2canvas):Uu(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load html2canvas: "+p))}).then(function(p){return p.default?p.default:p})}function r(){return(cn.DOMPurify?Promise.resolve(cn.DOMPurify):Uu(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load dompurify: "+p))}).then(function(p){return p.default?p.default:p})}var o=function(p){var g=tr(p);return g==="undefined"?"undefined":g==="string"||p instanceof String?"string":g==="number"||p instanceof Number?"number":g==="function"||p instanceof Function?"function":p&&p.constructor===Array?"array":p&&p.nodeType===1?"element":g==="object"?"object":"unknown"},c=function(p,g){var v=document.createElement(p);for(var j in g.className&&(v.className=g.className),g.innerHTML&&g.dompurify&&(v.innerHTML=g.dompurify.sanitize(g.innerHTML)),g.style)v.style[j]=g.style[j];return v},l=function p(g,v){for(var j=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),A=g.firstChild;A;A=A.nextSibling)v!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||j.appendChild(p(A,v));return g.nodeType===1&&(g.nodeName==="CANVAS"?(j.width=g.width,j.height=g.height,j.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(j.value=g.value),j.addEventListener("load",function(){j.scrollTop=g.scrollTop,j.scrollLeft=g.scrollLeft},!0)),j},m=function p(g){var v=Object.assign(p.convert(Promise.resolve()),JSON.parse(JSON.stringify(p.template))),j=p.convert(Promise.resolve(),v);return(j=j.setProgress(1,p,1,[p])).set(g)};(m.prototype=Object.create(Promise.prototype)).constructor=m,m.convert=function(p,g){return p.__proto__=g||m.prototype,p},m.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},m.prototype.from=function(p,g){return this.then(function(){switch(g=g||(function(v){switch(o(v)){case"string":return"string";case"element":return v.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(p),g){case"string":return this.then(r).then(function(v){return this.set({src:c("div",{innerHTML:p,dompurify:v})})});case"element":return this.set({src:p});case"canvas":return this.set({canvas:p});case"img":return this.set({img:p});default:return this.error("Unknown source type.")}})},m.prototype.to=function(p){switch(p){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},m.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var p={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},g=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);g.tagName==="BODY"&&(p.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=c("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=c("div",{className:"html2pdf__container",style:p}),this.prop.container.appendChild(g),this.prop.container.firstChild.appendChild(c("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},m.prototype.toCanvas=function(){var p=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(p).then(a).then(function(g){var v=Object.assign({},this.opt.html2canvas);return delete v.onrendered,g(this.prop.container,v)}).then(function(g){(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},m.prototype.toContext2d=function(){var p=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(p).then(a).then(function(g){var v=this.opt.jsPDF,j=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,M=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete M.onrendered,v.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,v.context2d.posX=this.opt.x,v.context2d.posY=this.opt.y,v.context2d.margin=this.opt.margin,v.context2d.fontFaces=j,j)for(var b=0;b<j.length;++b){var U=j[b],E=U.src.find(function(I){return I.format==="truetype"});E&&v.addFont(E.url,U.ref.name,U.ref.style)}return M.windowHeight=M.windowHeight||0,M.windowHeight=M.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):M.windowHeight,v.context2d.save(!0),g(this.prop.container,M)}).then(function(g){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},m.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var p=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=p})},m.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},m.prototype.output=function(p,g,v){return(v=v||"pdf").toLowerCase()==="img"||v.toLowerCase()==="image"?this.outputImg(p,g):this.outputPdf(p,g)},m.prototype.outputPdf=function(p,g){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(p,g)})},m.prototype.outputImg=function(p){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(p){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+p+'" is not supported.'}})},m.prototype.save=function(p){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(p?{filename:p}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},m.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},m.prototype.set=function(p){if(o(p)!=="object")return this;var g=Object.keys(p||{}).map(function(v){if(v in m.template.prop)return function(){this.prop[v]=p[v]};switch(v){case"margin":return this.setMargin.bind(this,p.margin);case"jsPDF":return function(){return this.opt.jsPDF=p.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,p.pageSize);default:return function(){this.opt[v]=p[v]}}},this);return this.then(function(){return this.thenList(g)})},m.prototype.get=function(p,g){return this.then(function(){var v=p in m.template.prop?this.prop[p]:this.opt[p];return g?g(v):v})},m.prototype.setMargin=function(p){return this.then(function(){switch(o(p)){case"number":p=[p,p,p,p];case"array":if(p.length===2&&(p=[p[0],p[1],p[0],p[1]]),p.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=p}).then(this.setPageSize)},m.prototype.setPageSize=function(p){function g(v,j){return Math.floor(v*j/72*96)}return this.then(function(){(p=p||Ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(p.inner={width:p.width-this.opt.margin[1]-this.opt.margin[3],height:p.height-this.opt.margin[0]-this.opt.margin[2]},p.inner.px={width:g(p.inner.width,p.k),height:g(p.inner.height,p.k)},p.inner.ratio=p.inner.height/p.inner.width),this.prop.pageSize=p})},m.prototype.setProgress=function(p,g,v,j){return p!=null&&(this.progress.val=p),g!=null&&(this.progress.state=g),v!=null&&(this.progress.n=v),j!=null&&(this.progress.stack=j),this.progress.ratio=this.progress.val/this.progress.state,this},m.prototype.updateProgress=function(p,g,v,j){return this.setProgress(p?this.progress.val+p:null,g||null,v?this.progress.n+v:null,j?this.progress.stack.concat(j):null)},m.prototype.then=function(p,g){var v=this;return this.thenCore(p,g,function(j,A){return v.updateProgress(null,null,1,[j]),Promise.prototype.then.call(this,function(M){return v.updateProgress(null,j),M}).then(j,A).then(function(M){return v.updateProgress(1),M})})},m.prototype.thenCore=function(p,g,v){v=v||Promise.prototype.then;var j=this;p&&(p=p.bind(j)),g&&(g=g.bind(j));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?j:m.convert(Object.assign({},j),Promise.prototype),M=v.call(A,p,g);return m.convert(M,j.__proto__)},m.prototype.thenExternal=function(p,g){return Promise.prototype.then.call(this,p,g)},m.prototype.thenList=function(p){var g=this;return p.forEach(function(v){g=g.thenCore(v)}),g},m.prototype.catch=function(p){p&&(p=p.bind(this));var g=Promise.prototype.catch.call(this,p);return m.convert(g,this)},m.prototype.catchExternal=function(p){return Promise.prototype.catch.call(this,p)},m.prototype.error=function(p){return this.then(function(){throw new Error(p)})},m.prototype.using=m.prototype.set,m.prototype.saveAs=m.prototype.save,m.prototype.export=m.prototype.output,m.prototype.run=m.prototype.then,Ht.getPageSize=function(p,g,v){if(tr(p)==="object"){var j=p;p=j.orientation,g=j.unit||g,v=j.format||v}g=g||"mm",v=v||"a4",p=(""+(p||"P")).toLowerCase();var A,M=(""+v).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(g){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+g}var U,E=0,I=0;if(b.hasOwnProperty(M))E=b[M][1]/A,I=b[M][0]/A;else try{E=v[1],I=v[0]}catch{throw new Error("Invalid format: "+v)}if(p==="p"||p==="portrait")p="p",I>E&&(U=I,I=E,E=U);else{if(p!=="l"&&p!=="landscape")throw"Invalid orientation: "+p;p="l",E>I&&(U=I,I=E,E=U)}return{width:I,height:E,unit:g,k:A,orientation:p}},i.html=function(p,g){(g=g||{}).callback=g.callback||function(){},g.html2canvas=g.html2canvas||{},g.html2canvas.canvas=g.html2canvas.canvas||this.canvas,g.jsPDF=g.jsPDF||this,g.fontFaces=g.fontFaces?g.fontFaces.map(sf):null;var v=new m(g);return g.worker?v:v.from(p).doCallback()}})(Ht.API),Ht.API.addJS=function(i){return fm=i,this.internal.events.subscribe("postPutResources",function(){Fd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Fd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),um=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+fm+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Fd!==void 0&&um!==void 0&&this.internal.out("/Names <</JavaScript "+Fd+" 0 R>>")}),this},(function(i){var a;i.events.push(["postPutResources",function(){var r=this,o=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var c=r.outline.render().split(/\r\n/),l=0;l<c.length;l++){var m=c[l],p=o.exec(m);if(p!=null){var g=p[1];r.internal.newObjectDeferredBegin(g,!1)}r.internal.write(m)}if(this.outline.createNamedDestinations){var v=this.internal.pages.length,j=[];for(l=0;l<v;l++){var A=r.internal.newObject();j.push(A);var M=r.internal.getPageInfo(l+1);r.internal.write("<< /D["+M.objId+" 0 R /XYZ null null null]>> endobj")}var b=r.internal.newObject();for(r.internal.write("<< /Names [ "),l=0;l<j.length;l++)r.internal.write("(page_"+(l+1)+")"+j[l]+" 0 R");r.internal.write(" ] >>","endobj"),a=r.internal.newObject(),r.internal.write("<< /Dests "+b+" 0 R"),r.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+a+" 0 R"))}]),i.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(o,c,l){var m={title:c,options:l,children:[]};return o==null&&(o=this.root),o.children.push(m),m},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(o){o.id=r.internal.newObjectDeferred();for(var c=0;c<o.children.length;c++)this.genIds_r(o.children[c])},r.outline.renderRoot=function(o){this.objStart(o),this.line("/Type /Outlines"),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1]))),this.line("/Count "+this.count_r({count:0},o)),this.objEnd()},r.outline.renderItems=function(o){for(var c=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<o.children.length;l++){var m=o.children[l];this.objStart(m),this.line("/Title "+this.makeString(m.title)),this.line("/Parent "+this.makeRef(o)),l>0&&this.line("/Prev "+this.makeRef(o.children[l-1])),l<o.children.length-1&&this.line("/Next "+this.makeRef(o.children[l+1])),m.children.length>0&&(this.line("/First "+this.makeRef(m.children[0])),this.line("/Last "+this.makeRef(m.children[m.children.length-1])));var p=this.count=this.count_r({count:0},m);if(p>0&&this.line("/Count "+p),m.options&&m.options.pageNumber){var g=r.internal.getPageInfo(m.options.pageNumber);this.line("/Dest ["+g.objId+" 0 R /XYZ 0 "+c(0)+" 0]")}this.objEnd()}for(var v=0;v<o.children.length;v++)this.renderItems(o.children[v])},r.outline.line=function(o){this.ctx.val+=o+`\r
`},r.outline.makeRef=function(o){return o.id+" 0 R"},r.outline.makeString=function(o){return"("+r.internal.pdfEscape(o)+")"},r.outline.objStart=function(o){this.ctx.val+=`\r
`+o.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(o,c){for(var l=0;l<c.children.length;l++)o.count++,this.count_r(o,c.children[l]);return o.count}}])})(Ht.API),(function(i){var a=[192,193,194,195,196,197,198,199];i.processJPEG=function(r,o,c,l,m,p){var g,v=this.decode.DCT_DECODE,j=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=m||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,g=(function(A){for(var M,b=256*A.charCodeAt(4)+A.charCodeAt(5),U=A.length,E={width:0,height:0,numcomponents:1},I=4;I<U;I+=2){if(I+=b,a.indexOf(A.charCodeAt(I+1))!==-1){M=256*A.charCodeAt(I+5)+A.charCodeAt(I+6),E={width:256*A.charCodeAt(I+7)+A.charCodeAt(I+8),height:M,numcomponents:A.charCodeAt(I+9)};break}b=256*A.charCodeAt(I+2)+A.charCodeAt(I+3)}return E})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),g.numcomponents){case 1:p=this.color_spaces.DEVICE_GRAY;break;case 4:p=this.color_spaces.DEVICE_CMYK;break;case 3:p=this.color_spaces.DEVICE_RGB}j={data:r,width:g.width,height:g.height,colorSpace:p,bitsPerComponent:8,filter:v,index:o,alias:c}}return j}})(Ht.API),Ht.API.processPNG=function(i,a,r,o){if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){var c,l=Bx(i,{checkCrc:!0}),m=l.width,p=l.height,g=l.channels,v=l.palette,j=l.depth;c=v&&g===1?(function(ge){for(var ee=ge.width,xe=ge.height,z=ge.data,$=ge.palette,le=ge.depth,ie=!1,we=[],_e=[],Ie=void 0,pe=!1,Pe=0,Ue=0;Ue<$.length;Ue++){var te=gp($[Ue],4),C=te[0],K=te[1],Z=te[2],de=te[3];we.push(C,K,Z),de!=null&&(de===0?(Pe++,_e.length<1&&_e.push(Ue)):de<255&&(pe=!0))}if(pe||Pe>1){ie=!0,_e=void 0;var ce=ee*xe;Ie=new Uint8Array(ce);for(var be=new DataView(z.buffer),Me=0;Me<ce;Me++){var Fe=lf(be,Me,le),$e=gp($[Fe],4)[3];Ie[Me]=$e}}else Pe===0&&(_e=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ie?8:void 0,colorBytes:z,alphaBytes:Ie,needSMask:ie,palette:we,mask:_e}})(l):g===2||g===4?(function(ge){for(var ee=ge.data,xe=ge.width,z=ge.height,$=ge.channels,le=ge.depth,ie=$===2?"DeviceGray":"DeviceRGB",we=$-1,_e=xe*z,Ie=we,pe=_e*Ie,Pe=1*_e,Ue=Math.ceil(pe*le/8),te=Math.ceil(Pe*le/8),C=new Uint8Array(Ue),K=new Uint8Array(te),Z=new DataView(ee.buffer),de=new DataView(C.buffer),ce=new DataView(K.buffer),be=!1,Me=0;Me<_e;Me++){for(var Fe=Me*$,$e=0;$e<Ie;$e++)wm(de,lf(Z,Fe+$e,le),Me*Ie+$e,le);var De=lf(Z,Fe+Ie,le);De<(1<<le)-1&&(be=!0),wm(ce,De,1*Me,le)}return{colorSpace:ie,colorsPerPixel:we,sMaskBitsPerComponent:be?le:void 0,colorBytes:C,alphaBytes:K,needSMask:be}})(l):(function(ge){var ee=ge.data,xe=ge.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:xe,colorsPerPixel:xe==="DeviceGray"?1:3,colorBytes:ee instanceof Uint16Array?(function(z){for(var $=z.length,le=new Uint8Array(2*$),ie=new DataView(le.buffer,le.byteOffset,le.byteLength),we=0;we<$;we++)ie.setUint16(2*we,z[we],!1);return le})(ee):ee,needSMask:!1}})(l);var A,M,b,U=c,E=U.colorSpace,I=U.colorsPerPixel,P=U.sMaskBitsPerComponent,W=U.colorBytes,X=U.alphaBytes,H=U.needSMask,fe=U.palette,he=U.mask,Ee=null;return o!==Ht.API.image_compression.NONE&&typeof xf=="function"?(Ee=(function(ge){var ee;switch(ge){case Ht.API.image_compression.FAST:ee=11;break;case Ht.API.image_compression.MEDIUM:ee=13;break;case Ht.API.image_compression.SLOW:ee=14;break;default:ee=12}return ee})(o),A=this.decode.FLATE_DECODE,M="/Predictor ".concat(Ee," /Colors ").concat(I," /BitsPerComponent ").concat(j," /Columns ").concat(m),i=gm(W,Math.ceil(m*I*j/8),I,j,o),H&&(b=gm(X,Math.ceil(m*P/8),1,P,o))):(A=void 0,M=void 0,i=W,H&&(b=X)),(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:r,data:i,index:a,filter:A,decodeParameters:M,transparency:he,palette:fe,sMask:b,predictor:Ee,width:m,height:p,bitsPerComponent:j,sMaskBitsPerComponent:P,colorSpace:E}}},(function(i){i.processGIF89A=function(a,r,o,c){var l=new sy(a),m=l.width,p=l.height,g=[];l.decodeAndBlitFrameRGBA(0,g);var v={data:g,width:m,height:p},j=new cf(100).encode(v,100);return i.processJPEG.call(this,j,r,o,c)},i.processGIF87A=i.processGIF89A})(Ht.API),uo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var a=0;a<i;a++){var r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[a]={red:c,green:o,blue:r,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},uo.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,a=this.width*this.height*4;this.data=new Uint8Array(a),this[i]()}catch(r){lr.log("bit decode error:"+r)}},uo.prototype.bit1=function(){var i,a=Math.ceil(this.width/8),r=a%4;for(i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,c=0;c<a;c++)for(var l=this.datav.getUint8(this.pos++,!0),m=o*this.width*4+8*c*4,p=0;p<8&&8*c+p<this.width;p++){var g=this.palette[l>>7-p&1];this.data[m+4*p]=g.blue,this.data[m+4*p+1]=g.green,this.data[m+4*p+2]=g.red,this.data[m+4*p+3]=255}r!==0&&(this.pos+=4-r)}},uo.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),a=i%4,r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,c=0;c<i;c++){var l=this.datav.getUint8(this.pos++,!0),m=o*this.width*4+2*c*4,p=l>>4,g=15&l,v=this.palette[p];if(this.data[m]=v.blue,this.data[m+1]=v.green,this.data[m+2]=v.red,this.data[m+3]=255,2*c+1>=this.width)break;v=this.palette[g],this.data[m+4]=v.blue,this.data[m+4+1]=v.green,this.data[m+4+2]=v.red,this.data[m+4+3]=255}a!==0&&(this.pos+=4-a)}},uo.prototype.bit8=function(){for(var i=this.width%4,a=this.height-1;a>=0;a--){for(var r=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var c=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*o;if(c<this.palette.length){var m=this.palette[c];this.data[l]=m.red,this.data[l+1]=m.green,this.data[l+2]=m.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}i!==0&&(this.pos+=4-i)}},uo.prototype.bit15=function(){for(var i=this.width%3,a=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,c=0;c<this.width;c++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var m=(l&a)/a*255|0,p=(l>>5&a)/a*255|0,g=(l>>10&a)/a*255|0,v=l>>15?255:0,j=o*this.width*4+4*c;this.data[j]=g,this.data[j+1]=p,this.data[j+2]=m,this.data[j+3]=v}this.pos+=i}},uo.prototype.bit16=function(){for(var i=this.width%3,a=parseInt("11111",2),r=parseInt("111111",2),o=this.height-1;o>=0;o--){for(var c=this.bottom_up?o:this.height-1-o,l=0;l<this.width;l++){var m=this.datav.getUint16(this.pos,!0);this.pos+=2;var p=(m&a)/a*255|0,g=(m>>5&r)/r*255|0,v=(m>>11)/a*255|0,j=c*this.width*4+4*l;this.data[j]=v,this.data[j+1]=g,this.data[j+2]=p,this.data[j+3]=255}this.pos+=i}},uo.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),m=a*this.width*4+4*r;this.data[m]=l,this.data[m+1]=c,this.data[m+2]=o,this.data[m+3]=255}this.pos+=this.width%4}},uo.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var a=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),m=this.datav.getUint8(this.pos++,!0),p=a*this.width*4+4*r;this.data[p]=l,this.data[p+1]=c,this.data[p+2]=o,this.data[p+3]=m}},uo.prototype.getData=function(){return this.data},(function(i){i.processBMP=function(a,r,o,c){var l=new uo(a,!1),m=l.width,p=l.height,g={data:l.getData(),width:m,height:p},v=new cf(100).encode(g,100);return i.processJPEG.call(this,v,r,o,c)}})(Ht.API),Sm.prototype.getData=function(){return this.data},(function(i){i.processWEBP=function(a,r,o,c){var l=new Sm(a),m=l.width,p=l.height,g={data:l.getData(),width:m,height:p},v=new cf(100).encode(g,100);return i.processJPEG.call(this,v,r,o,c)}})(Ht.API),Ht.API.processRGBA=function(i,a,r){for(var o=i.data,c=o.length,l=new Uint8Array(c/4*3),m=new Uint8Array(c/4),p=0,g=0,v=0;v<c;v+=4){var j=o[v],A=o[v+1],M=o[v+2],b=o[v+3];l[p++]=j,l[p++]=A,l[p++]=M,m[g++]=b}var U=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(m),data:U,index:a,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Ht.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hc=Ht.API,Rd=hc.getCharWidthsArray=function(i,a){var r,o,c=(a=a||{}).font||this.internal.getFont(),l=a.fontSize||this.internal.getFontSize(),m=a.charSpace||this.internal.getCharSpace(),p=a.widths?a.widths:c.metadata.Unicode.widths,g=p.fof?p.fof:1,v=a.kerning?a.kerning:c.metadata.Unicode.kerning,j=v.fof?v.fof:1,A=a.doKerning!==!1,M=0,b=i.length,U=0,E=p[0]||g,I=[];for(r=0;r<b;r++)o=i.charCodeAt(r),typeof c.metadata.widthOfString=="function"?I.push((c.metadata.widthOfGlyph(c.metadata.characterToGlyph(o))+m*(1e3/l)||0)/1e3):(M=A&&tr(v[o])==="object"&&!isNaN(parseInt(v[o][U],10))?v[o][U]/j:0,I.push((p[o]||E)/g+M)),U=o;return I},hm=hc.getStringUnitWidth=function(i,a){var r=(a=a||{}).fontSize||this.internal.getFontSize(),o=a.font||this.internal.getFont(),c=a.charSpace||this.internal.getCharSpace();return hc.processArabic&&(i=hc.processArabic(i)),typeof o.metadata.widthOfString=="function"?o.metadata.widthOfString(i,r,c)/r:Rd.apply(this,arguments).reduce(function(l,m){return l+m},0)},pm=function(i,a,r,o){for(var c=[],l=0,m=i.length,p=0;l!==m&&p+a[l]<r;)p+=a[l],l++;c.push(i.slice(0,l));var g=l;for(p=0;l!==m;)p+a[l]>o&&(c.push(i.slice(g,l)),p=0,g=l),p+=a[l],l++;return g!==l&&c.push(i.slice(g,l)),c},mm=function(i,a,r){r||(r={});var o,c,l,m,p,g,v,j=[],A=[j],M=r.textIndent||0,b=0,U=0,E=i.split(" "),I=Rd.apply(this,[" ",r])[0];if(g=r.lineIndent===-1?E[0].length+2:r.lineIndent||0){var P=Array(g).join(" "),W=[];E.map(function(H){(H=H.split(/\s*\n/)).length>1?W=W.concat(H.map(function(fe,he){return(he&&fe.length?`
`:"")+fe})):W.push(H[0])}),E=W,g=hm.apply(this,[P,r])}for(l=0,m=E.length;l<m;l++){var X=0;if(o=E[l],g&&o[0]==`
`&&(o=o.substr(1),X=1),M+b+(U=(c=Rd.apply(this,[o,r])).reduce(function(H,fe){return H+fe},0))>a||X){if(U>a){for(p=pm.apply(this,[o,c,a-(M+b),a]),j.push(p.shift()),j=[p.pop()];p.length;)A.push([p.shift()]);U=c.slice(o.length-(j[0]?j[0].length:0)).reduce(function(H,fe){return H+fe},0)}else j=[o];A.push(j),M=U+g,b=I}else j.push(o),M+=b+U,b=I}return v=g?function(H,fe){return(fe?P:"")+H.join(" ")}:function(H){return H.join(" ")},A.map(v)},hc.splitTextToSize=function(i,a,r){var o,c=(r=r||{}).fontSize||this.internal.getFontSize(),l=(function(j){if(j.widths&&j.kerning)return{widths:j.widths,kerning:j.kerning};var A=this.internal.getFont(j.fontName,j.fontStyle),M="Unicode";return A.metadata[M]?{widths:A.metadata[M].widths||{0:1},kerning:A.metadata[M].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);o=Array.isArray(i)?i:String(i).split(/\r?\n/);var m=1*this.internal.scaleFactor*a/c;l.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/c:0,l.lineIndent=r.lineIndent;var p,g,v=[];for(p=0,g=o.length;p<g;p++)v=v.concat(mm.apply(this,[o[p],m,l]));return v},(function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var a="0123456789abcdef",r="klmnopqrstuvwxyz",o={},c={},l=0;l<16;l++)o[r[l]]=a[l],c[a[l]]=r[l];var m=function(M){return"0x"+parseInt(M,10).toString(16)},p=i.__fontmetrics__.compress=function(M){var b,U,E,I,P=["{"];for(var W in M){if(b=M[W],isNaN(parseInt(W,10))?U="'"+W+"'":(W=parseInt(W,10),U=(U=m(W).slice(2)).slice(0,-1)+c[U.slice(-1)]),typeof b=="number")b<0?(E=m(b).slice(3),I="-"):(E=m(b).slice(2),I=""),E=I+E.slice(0,-1)+c[E.slice(-1)];else{if(tr(b)!=="object")throw new Error("Don't know what to do with value type "+tr(b)+".");E=p(b)}P.push(U+E)}return P.push("}"),P.join("")},g=i.__fontmetrics__.uncompress=function(M){if(typeof M!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,U,E,I,P={},W=1,X=P,H=[],fe="",he="",Ee=M.length-1,ge=1;ge<Ee;ge+=1)(I=M[ge])=="'"?b?(E=b.join(""),b=void 0):b=[]:b?b.push(I):I=="{"?(H.push([X,E]),X={},E=void 0):I=="}"?((U=H.pop())[0][U[1]]=X,E=void 0,X=U[0]):I=="-"?W=-1:E===void 0?o.hasOwnProperty(I)?(fe+=o[I],E=parseInt(fe,16)*W,W=1,fe=""):fe+=I:o.hasOwnProperty(I)?(he+=o[I],X[E]=parseInt(he,16)*W,W=1,E=void 0,he=""):he+=I;return P},v={codePages:["WinAnsiEncoding"],WinAnsiEncoding:g("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},j={Unicode:{Courier:v,"Courier-Bold":v,"Courier-BoldOblique":v,"Courier-Oblique":v,Helvetica:v,"Helvetica-Bold":v,"Helvetica-BoldOblique":v,"Helvetica-Oblique":v,"Times-Roman":v,"Times-Bold":v,"Times-BoldItalic":v,"Times-Italic":v}},A={Unicode:{"Courier-Oblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":g("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":g("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:g("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:g("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":g("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":g("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(M){var b=M.font,U=A.Unicode[b.postScriptName];U&&(b.metadata.Unicode={},b.metadata.Unicode.widths=U.widths,b.metadata.Unicode.kerning=U.kerning);var E=j.Unicode[b.postScriptName];E&&(b.metadata.Unicode.encoding=E,b.encoding=E.codePages[0])}])})(Ht.API),(function(i){var a=function(r){for(var o=r.length,c=new Uint8Array(o),l=0;l<o;l++)c[l]=r.charCodeAt(l);return c};i.API.events.push(["addFont",function(r){var o=void 0,c=r.font,l=r.instance;if(!c.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+c.postScriptName+"').");if(typeof(o=l.existsFileInVFS(c.postScriptName)===!1?l.loadFile(c.postScriptName):l.getFileFromVFS(c.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+c.postScriptName+"').");(function(m,p){p=/^\x00\x01\x00\x00/.test(p)?a(p):a(Bd(p)),m.metadata=i.API.TTFFont.open(p),m.metadata.Unicode=m.metadata.Unicode||{encoding:{},kerning:{},widths:[]},m.metadata.glyIdsUsed=[0]})(c,o)}}])})(Ht),Ht.API.addSvgAsImage=function(i,a,r,o,c,l,m,p){if(isNaN(a)||isNaN(r))throw lr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(c))throw lr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=o,g.height=c;var v=g.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,g.width,g.height);var j={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(cn.canvg?Promise.resolve(cn.canvg):Uu(()=>import("./index.es-CbpVKS46.js"),[])).catch(function(M){return Promise.reject(new Error("Could not load canvg: "+M))}).then(function(M){return M.default?M.default:M}).then(function(M){return M.fromString(v,i,j)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(M){return M.render(j)}).then(function(){A.addImage(g.toDataURL("image/jpeg",1),a,r,o,c,m,p)})},Ht.API.putTotalPages=function(i){var a,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(a=new RegExp(i,"g"),r=this.internal.getNumberOfPages()):(a=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var o=1;o<=this.internal.getNumberOfPages();o++)for(var c=0;c<this.internal.pages[o].length;c++)this.internal.pages[o][c]=this.internal.pages[o][c].replace(a,r);return this},Ht.API.viewerPreferences=function(i,a){var r;i=i||{},a=a||!1;var o,c,l,m={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},p=Object.keys(m),g=[],v=0,j=0,A=0;function M(U,E){var I,P=!1;for(I=0;I<U.length;I+=1)U[I]===E&&(P=!0);return P}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(m)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,i==="reset"||a===!0){var b=p.length;for(A=0;A<b;A+=1)r[p[A]].value=r[p[A]].defaultValue,r[p[A]].explicitSet=!1}if(tr(i)==="object"){for(c in i)if(l=i[c],M(p,c)&&l!==void 0){if(r[c].type==="boolean"&&typeof l=="boolean")r[c].value=l;else if(r[c].type==="name"&&M(r[c].valueSet,l))r[c].value=l;else if(r[c].type==="integer"&&Number.isInteger(l))r[c].value=l;else if(r[c].type==="array"){for(v=0;v<l.length;v+=1)if(o=!0,l[v].length===1&&typeof l[v][0]=="number")g.push(String(l[v]-1));else if(l[v].length>1){for(j=0;j<l[v].length;j+=1)typeof l[v][j]!="number"&&(o=!1);o===!0&&g.push([l[v][0]-1,l[v][1]-1].join(" "))}r[c].value="["+g.join(" ")+"]"}else r[c].value=r[c].defaultValue;r[c].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var U,E=[];for(U in r)r[U].explicitSet===!0&&(r[U].type==="name"?E.push("/"+U+" /"+r[U].value):E.push("/"+U+" "+r[U].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(i){var a=function(){var o='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',c=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(o)),m=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),p=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),g=unescape(encodeURIComponent("</x:xmpmeta>")),v=l.length+m.length+p.length+c.length+g.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+v+" >>"),this.internal.write("stream"),this.internal.write(c+l+m+p+g),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(o,c){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:o,namespaceuri:c||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",a)),this}})(Ht.API),(function(i){var a=i.API,r=a.pdfEscape16=function(l,m){for(var p,g=m.metadata.Unicode.widths,v=["","0","00","000","0000"],j=[""],A=0,M=l.length;A<M;++A){if(p=m.metadata.characterToGlyph(l.charCodeAt(A)),m.metadata.glyIdsUsed.push(p),m.metadata.toUnicode[p]=l.charCodeAt(A),g.indexOf(p)==-1&&(g.push(p),g.push([parseInt(m.metadata.widthOfGlyph(p),10)])),p=="0")return j.join("");p=p.toString(16),j.push(v[4-p.length],p)}return j.join("")},o=function(l){var m,p,g,v,j,A,M;for(j=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,g=[],A=0,M=(p=Object.keys(l).sort(function(b,U){return b-U})).length;A<M;A++)m=p[A],g.length>=100&&(j+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar`,g=[]),l[m]!==void 0&&l[m]!==null&&typeof l[m].toString=="function"&&(v=("0000"+l[m].toString(16)).slice(-4),m=("0000"+(+m).toString(16)).slice(-4),g.push("<"+m+"><"+v+">"));return g.length&&(j+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar
`),j+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};a.events.push(["putFont",function(l){(function(m){var p=m.font,g=m.out,v=m.newObject,j=m.putStream;if(p.metadata instanceof i.API.TTFFont&&p.encoding==="Identity-H"){for(var A=p.metadata.Unicode.widths,M=p.metadata.subset.encode(p.metadata.glyIdsUsed,1),b="",U=0;U<M.length;U++)b+=String.fromCharCode(M[U]);var E=v();j({data:b,addLength1:!0,objectId:E}),g("endobj");var I=v();j({data:o(p.metadata.toUnicode),addLength1:!0,objectId:I}),g("endobj");var P=v();g("<<"),g("/Type /FontDescriptor"),g("/FontName /"+mc(p.fontName)),g("/FontFile2 "+E+" 0 R"),g("/FontBBox "+i.API.PDFObject.convert(p.metadata.bbox)),g("/Flags "+p.metadata.flags),g("/StemV "+p.metadata.stemV),g("/ItalicAngle "+p.metadata.italicAngle),g("/Ascent "+p.metadata.ascender),g("/Descent "+p.metadata.decender),g("/CapHeight "+p.metadata.capHeight),g(">>"),g("endobj");var W=v();g("<<"),g("/Type /Font"),g("/BaseFont /"+mc(p.fontName)),g("/FontDescriptor "+P+" 0 R"),g("/W "+i.API.PDFObject.convert(A)),g("/CIDToGIDMap /Identity"),g("/DW 1000"),g("/Subtype /CIDFontType2"),g("/CIDSystemInfo"),g("<<"),g("/Supplement 0"),g("/Registry (Adobe)"),g("/Ordering ("+p.encoding+")"),g(">>"),g(">>"),g("endobj"),p.objectNumber=v(),g("<<"),g("/Type /Font"),g("/Subtype /Type0"),g("/ToUnicode "+I+" 0 R"),g("/BaseFont /"+mc(p.fontName)),g("/Encoding /"+p.encoding),g("/DescendantFonts ["+W+" 0 R]"),g(">>"),g("endobj"),p.isAlreadyPutted=!0}})(l)}]),a.events.push(["putFont",function(l){(function(m){var p=m.font,g=m.out,v=m.newObject,j=m.putStream;if(p.metadata instanceof i.API.TTFFont&&p.encoding==="WinAnsiEncoding"){for(var A=p.metadata.rawData,M="",b=0;b<A.length;b++)M+=String.fromCharCode(A[b]);var U=v();j({data:M,addLength1:!0,objectId:U}),g("endobj");var E=v();j({data:o(p.metadata.toUnicode),addLength1:!0,objectId:E}),g("endobj");var I=v();g("<<"),g("/Descent "+p.metadata.decender),g("/CapHeight "+p.metadata.capHeight),g("/StemV "+p.metadata.stemV),g("/Type /FontDescriptor"),g("/FontFile2 "+U+" 0 R"),g("/Flags 96"),g("/FontBBox "+i.API.PDFObject.convert(p.metadata.bbox)),g("/FontName /"+mc(p.fontName)),g("/ItalicAngle "+p.metadata.italicAngle),g("/Ascent "+p.metadata.ascender),g(">>"),g("endobj"),p.objectNumber=v();for(var P=0;P<p.metadata.hmtx.widths.length;P++)p.metadata.hmtx.widths[P]=parseInt(p.metadata.hmtx.widths[P]*(1e3/p.metadata.head.unitsPerEm));g("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+mc(p.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+p.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(p.metadata.hmtx.widths)+">>"),g("endobj"),p.isAlreadyPutted=!0}})(l)}]);var c=function(l){var m,p=l.text||"",g=l.x,v=l.y,j=l.options||{},A=l.mutex||{},M=A.pdfEscape,b=A.activeFontKey,U=A.fonts,E=b,I="",P=0,W="",X=U[E].encoding;if(U[E].encoding!=="Identity-H")return{text:p,x:g,y:v,options:j,mutex:A};for(W=p,E=b,Array.isArray(p)&&(W=p[0]),P=0;P<W.length;P+=1)U[E].metadata.hasOwnProperty("cmap")&&(m=U[E].metadata.cmap.unicode.codeMap[W[P].charCodeAt(0)]),m||W[P].charCodeAt(0)<256&&U[E].metadata.hasOwnProperty("Unicode")?I+=W[P]:I+="";var H="";return parseInt(E.slice(1))<14||X==="WinAnsiEncoding"?H=M(I,E).split("").map(function(fe){return fe.charCodeAt(0).toString(16)}).join(""):X==="Identity-H"&&(H=r(I,U[E])),A.isHex=!0,{text:H,x:g,y:v,options:j,mutex:A}};a.events.push(["postProcessText",function(l){var m=l.text||"",p=[],g={text:m,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(m)){var v=0;for(v=0;v<m.length;v+=1)Array.isArray(m[v])&&m[v].length===3?p.push([c(Object.assign({},g,{text:m[v][0]})).text,m[v][1],m[v][2]]):p.push(c(Object.assign({},g,{text:m[v]})).text);l.text=p}else l.text=c(Object.assign({},g,{text:m})).text}])})(Ht),(function(i){var a=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(r){return a.call(this),this.internal.vFS[r]!==void 0},i.addFileToVFS=function(r,o){return a.call(this),this.internal.vFS[r]=o,this},i.getFileFromVFS=function(r){return a.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Ht.API),(function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(o){var c,l,m,p,g,v,j,A=a,M=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],U={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],P=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),W=!1,X=0;this.__bidiEngine__={};var H=function(z){var $=z.charCodeAt(),le=$>>8,ie=E[le];return ie!==void 0?A[256*ie+(255&$)]:le===252||le===253?"AL":P.test(le)?"L":le===8?"R":"N"},fe=function(z){for(var $,le=0;le<z.length;le++){if(($=H(z.charAt(le)))==="L")return!1;if($==="R")return!0}return!1},he=function(z,$,le,ie){var we,_e,Ie,pe,Pe=$[ie];switch(Pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":W=!1;break;case"N":case"AN":break;case"EN":W&&(Pe="AN");break;case"AL":W=!0,Pe="R";break;case"WS":case"BN":Pe="N";break;case"CS":ie<1||ie+1>=$.length||(we=le[ie-1])!=="EN"&&we!=="AN"||(_e=$[ie+1])!=="EN"&&_e!=="AN"?Pe="N":W&&(_e="AN"),Pe=_e===we?_e:"N";break;case"ES":Pe=(we=ie>0?le[ie-1]:"B")==="EN"&&ie+1<$.length&&$[ie+1]==="EN"?"EN":"N";break;case"ET":if(ie>0&&le[ie-1]==="EN"){Pe="EN";break}if(W){Pe="N";break}for(Ie=ie+1,pe=$.length;Ie<pe&&$[Ie]==="ET";)Ie++;Pe=Ie<pe&&$[Ie]==="EN"?"EN":"N";break;case"NSM":if(m&&!p){for(pe=$.length,Ie=ie+1;Ie<pe&&$[Ie]==="NSM";)Ie++;if(Ie<pe){var Ue=z[ie],te=Ue>=1425&&Ue<=2303||Ue===64286;if(we=$[Ie],te&&(we==="R"||we==="AL")){Pe="R";break}}}Pe=ie<1||(we=$[ie-1])==="B"?"N":le[ie-1];break;case"B":W=!1,c=!0,Pe=X;break;case"S":l=!0,Pe="N"}return Pe},Ee=function(z,$,le){var ie=z.split("");return le&&ge(ie,le,{hiLevel:X}),ie.reverse(),$&&$.reverse(),ie.join("")},ge=function(z,$,le){var ie,we,_e,Ie,pe,Pe=-1,Ue=z.length,te=0,C=[],K=X?b:M,Z=[];for(W=!1,c=!1,l=!1,we=0;we<Ue;we++)Z[we]=H(z[we]);for(_e=0;_e<Ue;_e++){if(pe=te,C[_e]=he(z,Z,C,_e),ie=240&(te=K[pe][U[C[_e]]]),te&=15,$[_e]=Ie=K[te][5],ie>0)if(ie===16){for(we=Pe;we<_e;we++)$[we]=1;Pe=-1}else Pe=-1;if(K[te][6])Pe===-1&&(Pe=_e);else if(Pe>-1){for(we=Pe;we<_e;we++)$[we]=Ie;Pe=-1}Z[_e]==="B"&&($[_e]=0),le.hiLevel|=Ie}l&&(function(de,ce,be){for(var Me=0;Me<be;Me++)if(de[Me]==="S"){ce[Me]=X;for(var Fe=Me-1;Fe>=0&&de[Fe]==="WS";Fe--)ce[Fe]=X}})(Z,$,Ue)},ee=function(z,$,le,ie,we){if(!(we.hiLevel<z)){if(z===1&&X===1&&!c)return $.reverse(),void(le&&le.reverse());for(var _e,Ie,pe,Pe,Ue=$.length,te=0;te<Ue;){if(ie[te]>=z){for(pe=te+1;pe<Ue&&ie[pe]>=z;)pe++;for(Pe=te,Ie=pe-1;Pe<Ie;Pe++,Ie--)_e=$[Pe],$[Pe]=$[Ie],$[Ie]=_e,le&&(_e=le[Pe],le[Pe]=le[Ie],le[Ie]=_e);te=pe}te++}}},xe=function(z,$,le){var ie=z.split(""),we={hiLevel:X};return le||(le=[]),ge(ie,le,we),(function(_e,Ie,pe){if(pe.hiLevel!==0&&j)for(var Pe,Ue=0;Ue<_e.length;Ue++)Ie[Ue]===1&&(Pe=I.indexOf(_e[Ue]))>=0&&(_e[Ue]=I[Pe+1])})(ie,le,we),ee(2,ie,$,le,we),ee(1,ie,$,le,we),ie.join("")};return this.__bidiEngine__.doBidiReorder=function(z,$,le){if((function(we,_e){if(_e)for(var Ie=0;Ie<we.length;Ie++)_e[Ie]=Ie;p===void 0&&(p=fe(we)),v===void 0&&(v=fe(we))})(z,$),m||!g||v)if(m&&g&&p^v)X=p?1:0,z=Ee(z,$,le);else if(!m&&g&&v)X=p?1:0,z=xe(z,$,le),z=Ee(z,$);else if(!m||p||g||v){if(m&&!g&&p^v)z=Ee(z,$),p?(X=0,z=xe(z,$,le)):(X=1,z=xe(z,$,le),z=Ee(z,$));else if(m&&p&&!g&&v)X=1,z=xe(z,$,le),z=Ee(z,$);else if(!m&&!g&&p^v){var ie=j;p?(X=1,z=xe(z,$,le),X=0,j=!1,z=xe(z,$,le),j=ie):(X=0,z=xe(z,$,le),z=Ee(z,$),X=1,j=!1,z=xe(z,$,le),j=ie,z=Ee(z,$))}}else X=0,z=xe(z,$,le);else X=p?1:0,z=xe(z,$,le);return z},this.__bidiEngine__.setOptions=function(z){z&&(m=z.isInputVisual,g=z.isOutputVisual,p=z.isInputRtl,v=z.isOutputRtl,j=z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(o),this.__bidiEngine__};var a=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(o){var c=o.text;o.x,o.y;var l=o.options||{};o.mutex,l.lang;var m=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,r.setOptions(l),Object.prototype.toString.call(c)==="[object Array]"){var p=0;for(m=[],p=0;p<c.length;p+=1)Object.prototype.toString.call(c[p])==="[object Array]"?m.push([r.doBidiReorder(c[p][0]),c[p][1],c[p][2]]):m.push([r.doBidiReorder(c[p])]);o.text=m}else o.text=r.doBidiReorder(c);r.setOptions({isInputVisual:!0})}])})(Ht),Ht.API.TTFFont=(function(){function i(a){var r;if(this.rawData=a,r=this.contents=new yl(a),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new wy(this),this.registerTTF()}return i.open=function(a){return new i(a)},i.prototype.parse=function(){return this.directory=new oy(this.contents),this.head=new cy(this),this.name=new py(this),this.cmap=new P0(this),this.toUnicode={},this.hhea=new dy(this),this.maxp=new my(this),this.hmtx=new gy(this),this.post=new fy(this),this.os2=new uy(this),this.loca=new by(this),this.glyf=new xy(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var a,r,o,c,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var m,p,g,v;for(v=[],m=0,p=(g=this.bbox).length;m<p;m++)a=g[m],v.push(Math.round(a*this.scaleFactor));return v}).call(this),this.stemV=0,this.post.exists?(o=255&(c=this.post.italic_angle),32768&(r=c>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+o)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(a){var r;return((r=this.cmap.unicode)!=null?r.codeMap[a]:void 0)||0},i.prototype.widthOfGlyph=function(a){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(a).advance*r},i.prototype.widthOfString=function(a,r,o){var c,l,m,p;for(m=0,l=0,p=(a=""+a).length;0<=p?l<p:l>p;l=0<=p?++l:--l)c=a.charCodeAt(l),m+=this.widthOfGlyph(this.characterToGlyph(c))+o*(1e3/r)||0;return m*(r/1e3)},i.prototype.lineHeight=function(a,r){var o;return r==null&&(r=!1),o=r?this.lineGap:0,(this.ascender+o-this.decender)/1e3*a},i})();var mo,yl=(function(){function i(a){this.data=a??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(a){return this.data[this.pos++]=a},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(a){return this.writeByte(a>>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},i.prototype.readInt32=function(){var a;return(a=this.readUInt32())>=2147483648?a-4294967296:a},i.prototype.writeInt32=function(a){return a<0&&(a+=4294967296),this.writeUInt32(a)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(a){return this.writeByte(a>>8&255),this.writeByte(255&a)},i.prototype.readInt16=function(){var a;return(a=this.readUInt16())>=32768?a-65536:a},i.prototype.writeInt16=function(a){return a<0&&(a+=65536),this.writeUInt16(a)},i.prototype.readString=function(a){var r,o;for(o=[],r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)o[r]=String.fromCharCode(this.readByte());return o.join("")},i.prototype.writeString=function(a){var r,o,c;for(c=[],r=0,o=a.length;0<=o?r<o:r>o;r=0<=o?++r:--r)c.push(this.writeByte(a.charCodeAt(r)));return c},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(a){return this.writeInt16(a)},i.prototype.readLongLong=function(){var a,r,o,c,l,m,p,g;return a=this.readByte(),r=this.readByte(),o=this.readByte(),c=this.readByte(),l=this.readByte(),m=this.readByte(),p=this.readByte(),g=this.readByte(),128&a?-1*(72057594037927940*(255^a)+281474976710656*(255^r)+1099511627776*(255^o)+4294967296*(255^c)+16777216*(255^l)+65536*(255^m)+256*(255^p)+(255^g)+1):72057594037927940*a+281474976710656*r+1099511627776*o+4294967296*c+16777216*l+65536*m+256*p+g},i.prototype.writeLongLong=function(a){var r,o;return r=Math.floor(a/4294967296),o=4294967295&a,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(a){return this.writeInt32(a)},i.prototype.read=function(a){var r,o;for(r=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)r.push(this.readByte());return r},i.prototype.write=function(a){var r,o,c,l;for(l=[],o=0,c=a.length;o<c;o++)r=a[o],l.push(this.writeByte(r));return l},i})(),oy=(function(){var i;function a(r){var o,c,l;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},c=0,l=this.tableCount;0<=l?c<l:c>l;c=0<=l?++c:--c)o={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[o.tag]=o}return a.prototype.encode=function(r){var o,c,l,m,p,g,v,j,A,M,b,U,E;for(E in b=Object.keys(r).length,g=Math.log(2),A=16*Math.floor(Math.log(b)/g),m=Math.floor(A/g),j=16*b-A,(c=new yl).writeInt(this.scalarType),c.writeShort(b),c.writeShort(A),c.writeShort(m),c.writeShort(j),l=16*b,v=c.pos+l,p=null,U=[],r)for(M=r[E],c.writeString(E),c.writeInt(i(M)),c.writeInt(v),c.writeInt(M.length),U=U.concat(M),E==="head"&&(p=v),v+=M.length;v%4;)U.push(0),v++;return c.write(U),o=2981146554-i(c.data),c.pos=p+8,c.writeUInt32(o),c.data},i=function(r){var o,c,l,m;for(r=L0.call(r);r.length%4;)r.push(0);for(l=new yl(r),c=0,o=0,m=r.length;o<m;o=o+=4)c+=l.readUInt32();return 4294967295&c},a})(),ly={}.hasOwnProperty,To=function(i,a){for(var r in a)ly.call(a,r)&&(i[r]=a[r]);function o(){this.constructor=i}return o.prototype=a.prototype,i.prototype=new o,i.__super__=a.prototype,i};mo=(function(){function i(a){var r;this.file=a,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i})();var cy=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return To(i,mo),i.prototype.tag="head",i.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.revision=a.readInt(),this.checkSumAdjustment=a.readInt(),this.magicNumber=a.readInt(),this.flags=a.readShort(),this.unitsPerEm=a.readShort(),this.created=a.readLongLong(),this.modified=a.readLongLong(),this.xMin=a.readShort(),this.yMin=a.readShort(),this.xMax=a.readShort(),this.yMax=a.readShort(),this.macStyle=a.readShort(),this.lowestRecPPEM=a.readShort(),this.fontDirectionHint=a.readShort(),this.indexToLocFormat=a.readShort(),this.glyphDataFormat=a.readShort()},i.prototype.encode=function(a){var r;return(r=new yl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(a),r.writeShort(this.glyphDataFormat),r.data},i})(),Nm=(function(){function i(a,r){var o,c,l,m,p,g,v,j,A,M,b,U,E,I,P,W,X;switch(this.platformID=a.readUInt16(),this.encodingID=a.readShort(),this.offset=r+a.readInt(),A=a.pos,a.pos=this.offset,this.format=a.readUInt16(),this.length=a.readUInt16(),this.language=a.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(g=0;g<256;++g)this.codeMap[g]=a.readByte();break;case 4:for(b=a.readUInt16(),M=b/2,a.pos+=6,l=(function(){var H,fe;for(fe=[],g=H=0;0<=M?H<M:H>M;g=0<=M?++H:--H)fe.push(a.readUInt16());return fe})(),a.pos+=2,E=(function(){var H,fe;for(fe=[],g=H=0;0<=M?H<M:H>M;g=0<=M?++H:--H)fe.push(a.readUInt16());return fe})(),v=(function(){var H,fe;for(fe=[],g=H=0;0<=M?H<M:H>M;g=0<=M?++H:--H)fe.push(a.readUInt16());return fe})(),j=(function(){var H,fe;for(fe=[],g=H=0;0<=M?H<M:H>M;g=0<=M?++H:--H)fe.push(a.readUInt16());return fe})(),c=(this.length-a.pos+this.offset)/2,p=(function(){var H,fe;for(fe=[],g=H=0;0<=c?H<c:H>c;g=0<=c?++H:--H)fe.push(a.readUInt16());return fe})(),g=P=0,X=l.length;P<X;g=++P)for(I=l[g],o=W=U=E[g];U<=I?W<=I:W>=I;o=U<=I?++W:--W)j[g]===0?m=o+v[g]:(m=p[j[g]/2+(o-U)-(M-g)]||0)!==0&&(m+=v[g]),this.codeMap[o]=65535&m}a.pos=A}return i.encode=function(a,r){var o,c,l,m,p,g,v,j,A,M,b,U,E,I,P,W,X,H,fe,he,Ee,ge,ee,xe,z,$,le,ie,we,_e,Ie,pe,Pe,Ue,te,C,K,Z,de,ce,be,Me,Fe,$e,De,at;switch(ie=new yl,m=Object.keys(a).sort(function(ot,gt){return ot-gt}),r){case"macroman":for(E=0,I=(function(){var ot=[];for(U=0;U<256;++U)ot.push(0);return ot})(),W={0:0},l={},we=0,Pe=m.length;we<Pe;we++)W[Fe=a[c=m[we]]]==null&&(W[Fe]=++E),l[c]={old:a[c],new:W[a[c]]},I[c]=W[a[c]];return ie.writeUInt16(1),ie.writeUInt16(0),ie.writeUInt32(12),ie.writeUInt16(0),ie.writeUInt16(262),ie.writeUInt16(0),ie.write(I),{charMap:l,subtable:ie.data,maxGlyphID:E+1};case"unicode":for($=[],A=[],X=0,W={},o={},P=v=null,_e=0,Ue=m.length;_e<Ue;_e++)W[fe=a[c=m[_e]]]==null&&(W[fe]=++X),o[c]={old:fe,new:W[fe]},p=W[fe]-c,P!=null&&p===v||(P&&A.push(P),$.push(c),v=p),P=c;for(P&&A.push(P),A.push(65535),$.push(65535),xe=2*(ee=$.length),ge=2*Math.pow(Math.log(ee)/Math.LN2,2),M=Math.log(ge/2)/Math.LN2,Ee=2*ee-ge,g=[],he=[],b=[],U=Ie=0,te=$.length;Ie<te;U=++Ie){if(z=$[U],j=A[U],z===65535){g.push(0),he.push(0);break}if(z-(le=o[z].new)>=32768)for(g.push(0),he.push(2*(b.length+ee-U)),c=pe=z;z<=j?pe<=j:pe>=j;c=z<=j?++pe:--pe)b.push(o[c].new);else g.push(le-z),he.push(0)}for(ie.writeUInt16(3),ie.writeUInt16(1),ie.writeUInt32(12),ie.writeUInt16(4),ie.writeUInt16(16+8*ee+2*b.length),ie.writeUInt16(0),ie.writeUInt16(xe),ie.writeUInt16(ge),ie.writeUInt16(M),ie.writeUInt16(Ee),be=0,C=A.length;be<C;be++)c=A[be],ie.writeUInt16(c);for(ie.writeUInt16(0),Me=0,K=$.length;Me<K;Me++)c=$[Me],ie.writeUInt16(c);for($e=0,Z=g.length;$e<Z;$e++)p=g[$e],ie.writeUInt16(p);for(De=0,de=he.length;De<de;De++)H=he[De],ie.writeUInt16(H);for(at=0,ce=b.length;at<ce;at++)E=b[at],ie.writeUInt16(E);return{charMap:o,subtable:ie.data,maxGlyphID:X+1}}},i})(),P0=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return To(i,mo),i.prototype.tag="cmap",i.prototype.parse=function(a){var r,o,c;for(a.pos=this.offset,this.version=a.readUInt16(),c=a.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=c?o<c:o>c;o=0<=c?++o:--o)r=new Nm(a,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},i.encode=function(a,r){var o,c;return r==null&&(r="macroman"),o=Nm.encode(a,r),(c=new yl).writeUInt16(0),c.writeUInt16(1),o.table=c.data.concat(o.subtable),o},i})(),dy=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return To(i,mo),i.prototype.tag="hhea",i.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.ascender=a.readShort(),this.decender=a.readShort(),this.lineGap=a.readShort(),this.advanceWidthMax=a.readShort(),this.minLeftSideBearing=a.readShort(),this.minRightSideBearing=a.readShort(),this.xMaxExtent=a.readShort(),this.caretSlopeRise=a.readShort(),this.caretSlopeRun=a.readShort(),this.caretOffset=a.readShort(),a.pos+=8,this.metricDataFormat=a.readShort(),this.numberOfMetrics=a.readUInt16()},i})(),uy=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return To(i,mo),i.prototype.tag="OS/2",i.prototype.parse=function(a){if(a.pos=this.offset,this.version=a.readUInt16(),this.averageCharWidth=a.readShort(),this.weightClass=a.readUInt16(),this.widthClass=a.readUInt16(),this.type=a.readShort(),this.ySubscriptXSize=a.readShort(),this.ySubscriptYSize=a.readShort(),this.ySubscriptXOffset=a.readShort(),this.ySubscriptYOffset=a.readShort(),this.ySuperscriptXSize=a.readShort(),this.ySuperscriptYSize=a.readShort(),this.ySuperscriptXOffset=a.readShort(),this.ySuperscriptYOffset=a.readShort(),this.yStrikeoutSize=a.readShort(),this.yStrikeoutPosition=a.readShort(),this.familyClass=a.readShort(),this.panose=(function(){var r,o;for(o=[],r=0;r<10;++r)o.push(a.readByte());return o})(),this.charRange=(function(){var r,o;for(o=[],r=0;r<4;++r)o.push(a.readInt());return o})(),this.vendorID=a.readString(4),this.selection=a.readShort(),this.firstCharIndex=a.readShort(),this.lastCharIndex=a.readShort(),this.version>0&&(this.ascent=a.readShort(),this.descent=a.readShort(),this.lineGap=a.readShort(),this.winAscent=a.readShort(),this.winDescent=a.readShort(),this.codePageRange=(function(){var r,o;for(o=[],r=0;r<2;r=++r)o.push(a.readInt());return o})(),this.version>1))return this.xHeight=a.readShort(),this.capHeight=a.readShort(),this.defaultChar=a.readShort(),this.breakChar=a.readShort(),this.maxContext=a.readShort()},i})(),fy=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return To(i,mo),i.prototype.tag="post",i.prototype.parse=function(a){var r,o,c;switch(a.pos=this.offset,this.format=a.readInt(),this.italicAngle=a.readInt(),this.underlinePosition=a.readShort(),this.underlineThickness=a.readShort(),this.isFixedPitch=a.readInt(),this.minMemType42=a.readInt(),this.maxMemType42=a.readInt(),this.minMemType1=a.readInt(),this.maxMemType1=a.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(o=a.readUInt16(),this.glyphNameIndex=[],l=0;0<=o?l<o:l>o;l=0<=o?++l:--l)this.glyphNameIndex.push(a.readUInt16());for(this.names=[],c=[];a.pos<this.offset+this.length;)r=a.readByte(),c.push(this.names.push(a.readString(r)));return c;case 151552:return o=a.readUInt16(),this.offsets=a.read(o);case 262144:return this.map=(function(){var m,p,g;for(g=[],l=m=0,p=this.file.maxp.numGlyphs;0<=p?m<p:m>p;l=0<=p?++m:--m)g.push(a.readUInt32());return g}).call(this)}},i})(),hy=function(i,a){this.raw=i,this.length=i.length,this.platformID=a.platformID,this.encodingID=a.encodingID,this.languageID=a.languageID},py=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return To(i,mo),i.prototype.tag="name",i.prototype.parse=function(a){var r,o,c,l,m,p,g,v,j,A,M;for(a.pos=this.offset,a.readShort(),r=a.readShort(),p=a.readShort(),o=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)o.push({platformID:a.readShort(),encodingID:a.readShort(),languageID:a.readShort(),nameID:a.readShort(),length:a.readShort(),offset:this.offset+p+a.readShort()});for(g={},l=j=0,A=o.length;j<A;l=++j)c=o[l],a.pos=c.offset,v=a.readString(c.length),m=new hy(v,c),g[M=c.nameID]==null&&(g[M]=[]),g[c.nameID].push(m);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},i})(),my=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return To(i,mo),i.prototype.tag="maxp",i.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.numGlyphs=a.readUInt16(),this.maxPoints=a.readUInt16(),this.maxContours=a.readUInt16(),this.maxCompositePoints=a.readUInt16(),this.maxComponentContours=a.readUInt16(),this.maxZones=a.readUInt16(),this.maxTwilightPoints=a.readUInt16(),this.maxStorage=a.readUInt16(),this.maxFunctionDefs=a.readUInt16(),this.maxInstructionDefs=a.readUInt16(),this.maxStackElements=a.readUInt16(),this.maxSizeOfInstructions=a.readUInt16(),this.maxComponentElements=a.readUInt16(),this.maxComponentDepth=a.readUInt16()},i})(),gy=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return To(i,mo),i.prototype.tag="hmtx",i.prototype.parse=function(a){var r,o,c,l,m,p,g;for(a.pos=this.offset,this.metrics=[],r=0,p=this.file.hhea.numberOfMetrics;0<=p?r<p:r>p;r=0<=p?++r:--r)this.metrics.push({advance:a.readUInt16(),lsb:a.readInt16()});for(c=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var v,j;for(j=[],r=v=0;0<=c?v<c:v>c;r=0<=c?++v:--v)j.push(a.readInt16());return j})(),this.widths=(function(){var v,j,A,M;for(M=[],v=0,j=(A=this.metrics).length;v<j;v++)l=A[v],M.push(l.advance);return M}).call(this),o=this.widths[this.widths.length-1],g=[],r=m=0;0<=c?m<c:m>c;r=0<=c?++m:--m)g.push(this.widths.push(o));return g},i.prototype.forGlyph=function(a){return a in this.metrics?this.metrics[a]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[a-this.metrics.length]}},i})(),L0=[].slice,xy=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return To(i,mo),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(a){var r,o,c,l,m,p,g,v,j,A;return a in this.cache?this.cache[a]:(l=this.file.loca,r=this.file.contents,o=l.indexOf(a),(c=l.lengthOf(a))===0?this.cache[a]=null:(r.pos=this.offset+o,m=(p=new yl(r.read(c))).readShort(),v=p.readShort(),A=p.readShort(),g=p.readShort(),j=p.readShort(),this.cache[a]=m===-1?new vy(p,v,A,g,j):new yy(p,m,v,A,g,j),this.cache[a]))},i.prototype.encode=function(a,r,o){var c,l,m,p,g;for(m=[],l=[],p=0,g=r.length;p<g;p++)c=a[r[p]],l.push(m.length),c&&(m=m.concat(c.encode(o)));return l.push(m.length),{table:m,offsets:l}},i})(),yy=(function(){function i(a,r,o,c,l,m){this.raw=a,this.numberOfContours=r,this.xMin=o,this.yMin=c,this.xMax=l,this.yMax=m,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i})(),vy=(function(){function i(a,r,o,c,l){var m,p;for(this.raw=a,this.xMin=r,this.yMin=o,this.xMax=c,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],m=this.raw;p=m.readShort(),this.glyphOffsets.push(m.pos),this.glyphIDs.push(m.readUInt16()),32&p;)m.pos+=1&p?4:2,128&p?m.pos+=8:64&p?m.pos+=4:8&p&&(m.pos+=2)}return i.prototype.encode=function(){var a,r,o;for(r=new yl(L0.call(this.raw.data)),a=0,o=this.glyphIDs.length;a<o;++a)r.pos=this.glyphOffsets[a];return r.data},i})(),by=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return To(i,mo),i.prototype.tag="loca",i.prototype.parse=function(a){var r,o;return a.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var c,l;for(l=[],o=0,c=this.length;o<c;o+=2)l.push(2*a.readUInt16());return l}).call(this):(function(){var c,l;for(l=[],o=0,c=this.length;o<c;o+=4)l.push(a.readUInt32());return l}).call(this)},i.prototype.indexOf=function(a){return this.offsets[a]},i.prototype.lengthOf=function(a){return this.offsets[a+1]-this.offsets[a]},i.prototype.encode=function(a,r){for(var o=new Uint32Array(this.offsets.length),c=0,l=0,m=0;m<o.length;++m)if(o[m]=c,l<r.length&&r[l]==m){++l,o[m]=c;var p=this.offsets[m],g=this.offsets[m+1]-p;g>0&&(c+=g)}for(var v=new Array(4*o.length),j=0;j<o.length;++j)v[4*j+3]=255&o[j],v[4*j+2]=(65280&o[j])>>8,v[4*j+1]=(16711680&o[j])>>16,v[4*j]=(4278190080&o[j])>>24;return v},i})(),wy=(function(){function i(a){this.font=a,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var a,r,o,c,l;for(r in c=this.font.cmap.tables[0].codeMap,a={},l=this.subset)o=l[r],a[r]=c[o];return a},i.prototype.glyphsFor=function(a){var r,o,c,l,m,p,g;for(c={},m=0,p=a.length;m<p;m++)c[l=a[m]]=this.font.glyf.glyphFor(l);for(l in r=[],c)(o=c[l])!=null&&o.compound&&r.push.apply(r,o.glyphIDs);if(r.length>0)for(l in g=this.glyphsFor(r))o=g[l],c[l]=o;return c},i.prototype.encode=function(a,r){var o,c,l,m,p,g,v,j,A,M,b,U,E,I,P;for(c in o=P0.encode(this.generateCmap(),"unicode"),m=this.glyphsFor(a),b={0:0},P=o.charMap)b[(g=P[c]).old]=g.new;for(U in M=o.maxGlyphID,m)U in b||(b[U]=M++);return j=(function(W){var X,H;for(X in H={},W)H[W[X]]=X;return H})(b),A=Object.keys(j).sort(function(W,X){return W-X}),E=(function(){var W,X,H;for(H=[],W=0,X=A.length;W<X;W++)p=A[W],H.push(j[p]);return H})(),l=this.font.glyf.encode(m,E,b),v=this.font.loca.encode(l.offsets,E),I={cmap:this.font.cmap.raw(),glyf:l.table,loca:v,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},i})();Ht.API.PDFObject=(function(){var i;function a(){}return i=function(r,o){return(Array(o+1).join("0")+r).slice(-o)},a.convert=function(r){var o,c,l,m;if(Array.isArray(r))return"["+(function(){var p,g,v;for(v=[],p=0,g=r.length;p<g;p++)o=r[p],v.push(a.convert(o));return v})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+i(r.getUTCFullYear(),4)+i(r.getUTCMonth(),2)+i(r.getUTCDate(),2)+i(r.getUTCHours(),2)+i(r.getUTCMinutes(),2)+i(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(c in l=["<<"],r)m=r[c],l.push("/"+c+" "+a.convert(m));return l.push(">>"),l.join(`
`)}return""+r},a})();function jy(){try{const i=localStorage.getItem("userLocale");if(i)return i;const a=navigator.language||navigator.userLanguage;if(a)return a}catch(i){console.error("Error getting user locale:",i)}return"en-US"}function Pr(i,a={}){try{const r=jy(),o={minimumFractionDigits:0,maximumFractionDigits:2,...a};return new Intl.NumberFormat(r,o).format(i)}catch(r){return console.error("Error formatting number:",r),String(i||0)}}function Sy(){return[{value:"en-US",label:"English (United States)"},{value:"en-IN",label:"English (India)"},{value:"en-GB",label:"English (United Kingdom)"},{value:"en-AU",label:"English (Australia)"},{value:"en-CA",label:"English (Canada)"},{value:"fr-FR",label:"French (France)"},{value:"de-DE",label:"German (Germany)"},{value:"es-ES",label:"Spanish (Spain)"},{value:"es-MX",label:"Spanish (Mexico)"},{value:"it-IT",label:"Italian (Italy)"},{value:"pt-BR",label:"Portuguese (Brazil)"},{value:"pt-PT",label:"Portuguese (Portugal)"},{value:"nl-NL",label:"Dutch (Netherlands)"},{value:"ru-RU",label:"Russian (Russia)"},{value:"ja-JP",label:"Japanese (Japan)"},{value:"ko-KR",label:"Korean (Korea)"},{value:"zh-CN",label:"Chinese (Simplified)"},{value:"zh-TW",label:"Chinese (Traditional)"},{value:"ar-SA",label:"Arabic (Saudi Arabia)"},{value:"hi-IN",label:"Hindi (India)"}]}function Ny(){const{members:i,admins:a,invoices:r,payments:o,recentPayments:c,paymentHistory:l,communicationLog:m,paymentMethods:p,metrics:g,reminderRules:v,automationEnabled:j,setAutomationEnabled:A,reminderTemplates:M,organizationInfo:b,fetchAdmins:U,fetchInvoices:E,fetchPayments:I,fetchMembers:P,selectedMember:W,setSelectedMember:X,addMember:H,updateMember:fe,deleteMember:he,addInvoice:Ee,updateInvoice:ge,deleteInvoice:ee,addCommunication:xe,updatePaymentMethod:z,updateReminderRule:$,updateReminderTemplate:le,updateOrganizationInfo:ie,userLocale:we,updateUserLocale:_e,addAdminUser:Ie,updateAdminUser:pe,deleteAdminUser:Pe,resetAllData:Ue,addPayment:te,reminderLogs:C,fetchReminderLogs:K,donations:Z,fetchDonations:de,addDonation:ce,deleteDonation:be,loading:Me}=Qd(),Fe=sessionStorage.getItem("adminRole")||"Viewer";let $e=Fe;Fe==="Owner"?$e="Admin":Fe==="Finance Admin"&&($e="Finance");const De=$e==="Admin"||$e==="Super Admin",at=$e==="Owner",ot=$e==="Viewer",gt=$e==="Admin"||$e==="Finance"||$e==="Super Admin",Y=De||at,It={Admin:"Admin Portal","Super Admin":"Super Admin Portal",Finance:"Finance Portal",Staff:"Staff Portal",Viewer:"Viewer Portal"}[$e]||"Admin Portal",wt=[{id:"members-group",label:"Members",icon:"fa-users",items:[{id:"members",label:"Members List",roles:["Admin","Super Admin","Finance","Staff","Viewer"]},{id:"member-detail",label:"Member Details",roles:["Admin","Super Admin","Finance","Staff","Viewer"]},{id:"invoice-builder",label:"Subscriptions",roles:["Admin","Super Admin","Finance"]}]},{id:"finance",label:"Finance",icon:"fa-dollar-sign",items:[{id:"invoices",label:"Invoices",roles:["Admin","Super Admin","Finance"]},{id:"payments",label:"Payments",roles:["Admin","Super Admin","Finance"]},{id:"donations",label:"Donations",roles:["Admin","Super Admin","Finance"]}]},{id:"communication",label:"Communication",icon:"fa-comments",items:[{id:"automation",label:"Reminders",roles:["Admin","Super Admin","Finance"]},{id:"communications",label:"Reminder Logs",roles:["Admin","Super Admin","Finance","Staff","Viewer"]}]},{id:"reports-group",label:"Reports",icon:"fa-chart-bar",items:[{id:"reports",label:"Financial Reports",roles:["Admin","Super Admin","Finance","Staff","Viewer"]},{id:"export-reports",label:"Export Reports",roles:["Admin","Super Admin","Finance"]}]},{id:"settings",label:"Settings",icon:"fa-cog",items:[{id:"settings",label:"Users",roles:["Admin","Super Admin"]},{id:"roles",label:"Roles",roles:["Admin","Super Admin"]},{id:"org-settings",label:"Organization Settings",roles:["Admin","Super Admin","Finance"]}]}],Ke=[{id:"dashboard",label:"Dashboard"},...wt.flatMap(u=>u.items)],[_t,vt]=Rm(),[ct,St]=Q.useState(()=>{const u=_t.get("section");return u&&Ke.find(O=>O.id===u)?u:Ke[0].id}),[nn,Zt]=Q.useState("Invoices"),[Jt,Gt]=Q.useState(()=>{const u={};return wt.forEach(N=>{u[N.id]=!1}),u}),[Ce,ze]=Q.useState(!1),[se,ke]=Q.useState(!1),[Xe,ht]=Q.useState(null),[Ve,ft]=Q.useState(null),[$t,bt]=Q.useState("success"),[fn,Bt]=Q.useState(null),[Kt,hn]=Q.useState(!1),[Vt,oe]=Q.useState({isOpen:!1,message:"",onConfirm:null,onCancel:null,confirmButtonText:"Confirm"}),[dt,Br]=Q.useState({name:"",email:"",phone:"",status:"Active",balance:"250",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"}),[Yt,Dn]=Q.useState({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),[Qt,Nt]=Q.useState(null),[za,ci]=Q.useState(!1),la=(u,N,O={})=>{let F="";switch(u){case"name":N.trim()?N.trim().length<2&&(F="Name must be at least 2 characters."):F="Name is required.";break;case"email":N.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.trim())||(F="Please enter a valid email address."):F="Email is required.";break;case"phone":(!N||N.trim()==="")&&(F="WhatsApp number is required.");break;case"nextDue":{N?isNaN(new Date(N).getTime())&&(F="Please select a valid start date."):F="Start date is required.";break}case"lastPayment":{N&&isNaN(new Date(N).getTime())&&(F="Please select a valid end date.");break}}return F},Qa=()=>{const u=Xe?["name","email","phone"]:["name","email","phone","nextDue","lastPayment"];Dn({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1});for(const N of u){const O=la(N,dt[N]);if(O)return Dn(F=>({...F,[N]:!0})),Nt(N),qe(O,"error"),setTimeout(()=>{const F=document.querySelector("form.form-grid");if(!F)return;const D=u.indexOf(N);let G=null;D===0?G=F.querySelector('input[type="text"][required]'):D===1?G=F.querySelector('input[type="email"]'):D===2?G=F.querySelector('input[type="tel"]'):D===3?G=F.querySelectorAll('input[type="date"]')[0]:D===4&&(G=F.querySelectorAll('input[type="date"]')[1]),G&&(G.focus(),G.scrollIntoView({behavior:"smooth",block:"center"}))},100),!1}return Dn({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),Nt(null),!0},An=(u,N)=>{let O=N;if(u==="phone")O=N;else if(u==="balance")O=N.replace(/\D/g,"");else if(u==="subscriptionType"){N==="Yearly + Janaza Fund"?(O=N,Br(F=>({...F,subscriptionType:N,balance:"500"}))):(O=N,Br(F=>({...F,subscriptionType:N,balance:"250"})));return}Br(F=>({...F,[u]:O})),la(u,O,u==="password"?{}:{})};dt.name.trim()&&dt.email.trim();const[_r,zr]=Q.useState({name:"",email:"",password:""}),Ii=()=>new Date().toLocaleDateString("en-US",{month:"short",year:"numeric"}),[Et,rr]=Q.useState({memberId:"",period:Ii(),amount:"250",invoiceType:"Lifetime",due:"",notes:""}),di=()=>{const N=`INV-${new Date().getFullYear()}-`,F=(r||[]).map(G=>G.id).filter(Boolean).filter(G=>G.startsWith(N)).reduce((G,V)=>{const Se=V.split("-")[2]||"",Ze=parseInt(Se,10);return isNaN(Ze)?G:Math.max(G,Ze)},0),D=String(F+1).padStart(3,"0");return`${N}${D}`},Jr=Q.useMemo(()=>di(),[r]),[Fn,$n]=Q.useState({donorName:!1,amount:!1,method:!1,date:!1,screenshot:!1}),[cr,dr]=Q.useState(null),[Ss,ui]=Q.useState(!1),[mt,Ur]=Q.useState({donorName:"",isMember:!1,memberId:"",amount:"",method:"",date:"",notes:"",reference:"",screenshot:""}),[Ns,Cn]=Q.useState(null),[Ei,Xa]=Q.useState(null),[ur,Mi]=Q.useState(b),[Jo,Vi]=Q.useState(!1),[Kr,Qr]=Q.useState({name:"",email:"",password:"",role:"Viewer",status:"Active"}),[Yi,fr]=Q.useState({subject:"Payment Reminder - Outstanding Balance",htmlTemplate:`<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
  <h2 style="color: #1a1a1a; border-bottom: 2px solid #5a31ea; padding-bottom: 10px;">
    Payment Reminder - Outstanding Balance
  </h2>
  <p>Dear {{member_name}},</p>
  <p>This is a friendly reminder about your outstanding subscription payments.</p>
  <div style="background: #f9fafb; padding: 15px; border-radius: 5px; margin: 20px 0;">
    <p><strong>Member ID:</strong> {{member_id}}</p>
    <p><strong>Email:</strong> {{member_email}}</p>
    <p><strong>Total Outstanding:</strong> <span style="color: #ef4444; font-size: 18px; font-weight: bold;">\${{total_due}}</span></p>
  </div>
                            <h3 style="color: #1a1a1a;">Outstanding Invoices ({{invoice_count}}):</h3>
  <ul style="list-style: none; padding: 0;">
    {{invoice_list}}
  </ul>
  <div style="background: #f8f9ff; padding: 15px; border-radius: 5px; margin: 20px 0;">
    <p><strong> Payment Methods Available:</strong></p>
    <ul>
      {{payment_methods}}
    </ul>
  </div>
  <p style="text-align: center; margin: 30px 0;">
    <a href="{{portal_link}}" style="background: #5a31ea; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block;">
      Access Member Portal
    </a>
  </p>
  <p>Please settle your outstanding balance at your earliest convenience.</p>
  <p>Best regards,<br><strong>Finance Team</strong><br>Subscription Manager HK</p>
</div>`}),[gn,us]=Q.useState({emailService:"gmail",emailUser:"",emailPassword:"kuil uhbe zlqq oymd",scheduleTime:"09:00",scheduleEnabled:!0,reminderInterval:7}),[Ir,fs]=Q.useState("AM"),[ya,Di]=Q.useState(!1),[go,Ua]=Q.useState("not_connected"),[hr,Fi]=Q.useState(!1),[Wn,hs]=Q.useState({from:"2025-01-01",to:"2025-12-31"}),[Xr,Ri]=Q.useState({}),[Ti,Pn]=Q.useState("This Year"),[zs,fi]=Q.useState(!1),[qr,ks]=Q.useState(null),[vn,va]=Q.useState({paymentMethod:"",imageFile:null,imagePreview:null,imageUrl:"",reference:"",selectedAdminId:"",adminMobile:""}),[Gi,La]=Q.useState(!1),[pr,zn]=Q.useState({image:!1,reference:!1,selectedAdminId:!1,adminMobile:!1}),[Jn,_a]=Q.useState(null),[Xt,Za]=Q.useState(!1),[jn,Us]=Q.useState(null),[Er,Ji]=Q.useState(null),[qs,As]=Q.useState({x:0,y:0}),Ia=Q.useRef(null),[Oo,hi]=Q.useState({}),[ar,Ea]=Q.useState(!1),[ps,$s]=Q.useState({}),[Sr,Ws]=Q.useState(!1),[pi,Ki]=Q.useState(!1),[Hs,ba]=Q.useState(!1),[Zr,mi]=Q.useState(null),[Ln,Ma]=Q.useState([]),[En,Oi]=Q.useState("All"),[Hn,gi]=Q.useState("All"),[wa,x]=Q.useState("all"),[L,ae]=Q.useState("all"),[me,Le]=Q.useState(""),[Qe,rt]=Q.useState(1),[kt,Tt]=Q.useState(10),[qt,rn]=Q.useState(""),[dn,ir]=Q.useState("All"),[sr,Vn]=Q.useState("none"),[Nr,kr]=Q.useState(()=>{try{return JSON.parse(localStorage.getItem("memberNotes")||"{}")}catch{return{}}}),[ea,Qi]=Q.useState(""),[Kn,Bi]=Q.useState(""),[Ar,xi]=Q.useState(""),[Xi,Cs]=Q.useState(!1),[Zi,ei]=Q.useState(!1),[mr,zi]=Q.useState(!1),[Ps,ti]=Q.useState(!1),[ni,gr]=Q.useState(null),[es,Da]=Q.useState({memberId:!1,amount:!1,method:!1,screenshot:!1}),[ts,ja]=Q.useState(null),[jt,_n]=Q.useState({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""}),[Ls,yi]=Q.useState(1),[ca,ri]=Q.useState(10),[Sa,vi]=Q.useState(1),[$r,ns]=Q.useState(10),[Ui,bi]=Q.useState(1),[Yn,Vs]=Q.useState(10),[rs,qa]=Q.useState(1),[Ys,xo]=Q.useState(10),[Gs,yo]=Q.useState(1),[wi,_s]=Q.useState(10),[ta,Js]=Q.useState("All"),[na,Ks]=Q.useState("All"),xr=ho();Om(15),Q.useEffect(()=>{_t.get("section")!==ct&&vt({section:ct},{replace:!1})},[ct,_t,vt]),Q.useEffect(()=>{const u=()=>{const O=new URLSearchParams(window.location.search).get("section");O&&Ke.find(D=>D.id===O)&&O!==ct?St(O):!O&&ct!==Ke[0].id&&St(Ke[0].id)};return window.addEventListener("popstate",u),()=>{window.removeEventListener("popstate",u)}},[ct]),Q.useEffect(()=>{ct==="communications"&&K()},[ct,K]);const $a=()=>{const u=new Date,N=[],O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(let D=11;D>=0;D--){const G=new Date(u.getFullYear(),u.getMonth()-D,1),V=`${O[G.getMonth()]} ${G.getFullYear()}`,Ae=O[G.getMonth()],Se=l.filter(it=>{if(!(it.status==="Completed"||it.status==="Paid")||!it.date)return!1;const yt=new Date(it.date);return yt.getMonth()===G.getMonth()&&yt.getFullYear()===G.getFullYear()}),Ze=Se.reduce((it,Wt)=>{const yt=parseFloat(Wt.amount?.replace(/[^0-9.]/g,"")||0);return it+yt},0);N.push({month:Ae,monthKey:V,value:Ze,count:Se.length})}const F=Math.max(...N.map(D=>D.value),1);return N.map(D=>({...D,percentage:F>0?D.value/F*100:0}))},Mn=()=>{const u=new Date,N=u.getFullYear(),O=u.getMonth(),F=new Set(i.map(At=>At.id).filter(Boolean)),D=new Set(i.map(At=>At.email?.toLowerCase()).filter(Boolean)),G=new Set(i.map(At=>At.name?.toLowerCase()).filter(Boolean)),V=l||[],Ae=V.reduce((At,qn)=>{if(qn.status==="Completed"||qn.status==="Paid"){const Qn=parseFloat(qn.amount?.replace(/[^0-9.]/g,"")||0);return At+Qn}return At},0),Ze=V.filter(At=>{if(!(At.status==="Completed"||At.status==="Paid")||!At.date)return!1;const Qn=new Date(At.date);return Qn.getMonth()===O&&Qn.getFullYear()===N}).reduce((At,qn)=>{if(qn.status==="Completed"||qn.status==="Paid"){const Qn=parseFloat(qn.amount?.replace(/[^0-9.]/g,"")||0);return At+Qn}return At},0),Wt=V.filter(At=>!(At.status==="Completed"||At.status==="Paid")||!At.date?!1:new Date(At.date).getFullYear()===N).reduce((At,qn)=>{if(qn.status==="Completed"||qn.status==="Paid"){const Qn=parseFloat(qn.amount?.replace(/[^0-9.]/g,"")||0);return At+Qn}return At},0),yt=i.reduce((At,qn)=>{if(!qn.balance)return At;const Qn=qn.balance.toString(),Ms=parseFloat(Qn.replace(/[^0-9.]/g,"")||0);return At+(Ms>0?Ms:0)},0),yn=r.filter(At=>(At.memberId&&F.has(At.memberId)||At.memberEmail&&D.has(At.memberEmail?.toLowerCase())||At.memberName&&G.has(At.memberName?.toLowerCase()))&&At.status==="Overdue"),an=new Set,on=new Set,xn=new Set;yn.forEach(At=>{At.memberId&&an.add(At.memberId),At.memberEmail&&on.add(At.memberEmail.toLowerCase()),At.memberName&&xn.add(At.memberName.toLowerCase())});const Na=new Set;i.forEach(At=>{let qn=!1;if(At.id&&an.has(At.id)||At.email&&on.has(At.email?.toLowerCase())||At.name&&xn.has(At.name?.toLowerCase()))qn=!0;else if(At.status==="Overdue")qn=!0;else if(At.status!=="Inactive"&&At.status!=="Pending"&&At.balance){const Ms=At.balance.toString(),Jl=parseFloat(Ms.replace(/[^0-9.]/g,"")||0);(Ms.toLowerCase().includes("overdue")||Jl>0)&&(qn=!0)}qn&&(At.id?Na.add(At.id):At.email?Na.add(`email:${At.email.toLowerCase()}`):At.name&&Na.add(`name:${At.name.toLowerCase()}`))});const da=Na.size,Wa=i.length*800;return{totalCollected:Ae,collectedMonth:Ze,collectedYear:Wt,outstanding:yt,overdueMembers:da,expectedAnnual:Wa}},bn=u=>u.paidToAdmin||u.paidToAdminName||u.method==="Cash to Admin"?"Cash":["Screenshot","Bank Transfer","FPS","PayMe","Alipay","Credit Card","Online Payment"].includes(u.method)?"Online Payment":u.method||"N/A",yr=()=>l.filter(u=>u.status==="Paid"||u.status==="Completed"||u.status==="Pending Verification"||u.status==="Pending").sort((u,N)=>{const O=new Date(u.date||u.createdAt||0);return new Date(N.date||N.createdAt||0)-O}).slice(0,5).map(u=>({Member:u.member||"Unknown",Period:u.period||"N/A",Amount:u.amount||"$0",Method:bn(u),Status:u.status||"Pending",Date:u.date||(u.createdAt?new Date(u.createdAt).toLocaleDateString():"N/A")})),Mr=$a(),ji=yr(),vr=Q.useMemo(()=>Mn(),[r,l,i]),vo=Q.useMemo(()=>new Date().toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),[i,r,l,o]);Q.useEffect(()=>{W&&Qi(Nr[W.id]||"")},[W,Nr]),Q.useEffect(()=>{const u=wt.find(N=>N.items.some(O=>O.id===ct));u&&Gt(N=>{if(N[u.id])return N;const O={};return wt.forEach(F=>{O[F.id]=F.id===u.id}),O})},[ct]);const In=(()=>{const u=new Date(Wn.from),N=new Date(Wn.to);N.setHours(23,59,59,999);const O=l.filter(yt=>{if(!yt.date)return!1;const yn=new Date(yt.date),an=yt.status==="Completed"||yt.status==="Paid";return yn>=u&&yn<=N&&an}),F=(Array.isArray(Z)?Z:[]).filter(yt=>{if(!yt||!yt.date&&!yt.createdAt)return!1;try{const yn=yt.createdAt?new Date(yt.createdAt):new Date(yt.date);return yn>=u&&yn<=N}catch{return!1}}),D=O.reduce((yt,yn)=>{const an=parseFloat(yn.amount?.replace(/[^0-9.]/g,"")||0);return yt+an},0),G=F.reduce((yt,yn)=>{const an=parseFloat(yn.amount?.replace(/[^0-9.]/g,"")||0);return yt+an},0),V=D+G,Ae=i.filter(yt=>yt.status==="Active");let Se=0;if(Ae.forEach(yt=>{const yn=yt.subscriptionType||"Lifetime",an=yt.createdAt?new Date(yt.createdAt):new Date("2025-01-01");if(yn==="Yearly + Janaza Fund"){const on=Math.max(u.getTime(),an.getTime()),xn=N.getTime(),Na=Math.max(0,(xn-on)/(365.25*24*60*60*1e3));Se+=Math.ceil(Na)*500}else{const on=Math.max(u.getTime(),an.getTime()),xn=N.getTime(),Na=Math.max(0,(xn-on)/(365.25*24*60*60*1e3));Se+=Math.ceil(Na)*250}}),Se===0&&Ae.length>0){const yt=Math.max(0,(N-u)/315576e5);Se=Ae.length*250*Math.ceil(yt)}const Ze=Ae.length>0?Math.round(V/Ae.length):0,it={};O.forEach(yt=>{const yn=bn(yt);it[yn]=(it[yn]||0)+1});const Wt=Object.entries(it).map(([yt,yn])=>({label:yt,value:yn}));return Wt.length===0&&Wt.push({label:"No payments",value:0}),{collected:V,paymentsTotal:D,donationsTotal:G,paymentsCount:O.length,donationsCount:F.length,expected:Se||1,averagePerMember:Ze,methodMix:Wt,transactionCount:O.length+F.length,paymentsInRange:O,donationsInRange:F}})(),bo=()=>{try{const u=new Date(Wn.from),N=new Date(Wn.to);N.setHours(23,59,59,999);const O=l.filter(Ae=>{if(!Ae.date)return!1;const Se=new Date(Ae.date);return Se>=u&&Se<=N});let F=`Financial Report
`;F+=`Period,${Wn.from} to ${Wn.to}

`,F+=`Summary
`,F+=`Collected,$${In.collected.toFixed(2)}
`,F+=`Expected,$${In.expected.toFixed(2)}
`,F+=`Outstanding,$${vr.outstanding.toFixed(2)}
`,F+=`Average per Member,$${In.averagePerMember.toFixed(2)}
`,F+=`Total Transactions,${In.transactionCount}

`,F+=`Payment Method Breakdown
`,In.methodMix.forEach(Ae=>{F+=`${Ae.label},${Ae.value}
`}),F+=`
Detailed Transactions (Completed Payments Only)
`,F+=`Date,Member,Period,Amount,Method,Status,Reference
`,O.filter(Ae=>Ae.status==="Completed"||Ae.status==="Paid").forEach(Ae=>{const Se=Ae.date||"N/A",Ze=Ae.member||"Unknown",it=Ae.period||"N/A",Wt=Ae.amount||"$0",yt=bn(Ae),yn=Ae.status||"N/A",an=Ae.reference||"N/A";F+=`"${Se}","${Ze}","${it}","${Wt}","${yt}","${yn}","${an}"
`});const D=new Blob([F],{type:"text/csv;charset=utf-8;"}),G=document.createElement("a"),V=URL.createObjectURL(D);G.setAttribute("href",V),G.setAttribute("download",`financial-report-${Wn.from}-to-${Wn.to}.csv`),G.style.visibility="hidden",document.body.appendChild(G),G.click(),document.body.removeChild(G),qe("CSV report downloaded successfully!")}catch(u){console.error("Error exporting CSV:",u),qe("Failed to export CSV","error")}},Bo=()=>{if(!gt){qe("You are not authorized to export reports","error");return}bo()},Ko=()=>{if(!gt){qe("You are not authorized to export reports","error");return}zo()},zo=()=>{try{const u=new Ht,N=u.internal.pageSize.getWidth(),O=u.internal.pageSize.getHeight();let F=20;const D=20,G=7;u.setFontSize(18),u.setFont(void 0,"bold"),u.text("Financial Report",D,F),F+=10,u.setFontSize(12),u.setFont(void 0,"normal"),u.text(`Period: ${Wn.from} to ${Wn.to}`,D,F),F+=15,u.setFontSize(14),u.setFont(void 0,"bold"),u.text("Summary",D,F),F+=8,u.setFontSize(10),u.setFont(void 0,"normal"),u.text(`Collected: $${In.collected.toFixed(2)}`,D,F),F+=G,u.text(`Expected: $${In.expected.toFixed(2)}`,D,F),F+=G,u.text(`Outstanding: $${vr.outstanding.toFixed(2)}`,D,F),F+=G,u.text(`Average per Member: $${In.averagePerMember.toFixed(2)}`,D,F),F+=G,u.text(`Total Transactions: ${In.transactionCount}`,D,F),F+=10,u.setFontSize(14),u.setFont(void 0,"bold"),u.text("Payment Method Breakdown",D,F),F+=8,u.setFontSize(10),u.setFont(void 0,"normal"),In.methodMix.forEach(it=>{u.text(`${it.label}: ${it.value}`,D,F),F+=G});const V=new Date(Wn.from),Ae=new Date(Wn.to);Ae.setHours(23,59,59,999);const Se=l.filter(it=>{if(!it.date)return!1;const Wt=new Date(it.date);return Wt>=V&&Wt<=Ae});if(Se.length>0){F+=10,F>O-40&&(u.addPage(),F=20),u.setFontSize(14),u.setFont(void 0,"bold"),u.text("Recent Transactions",D,F),F+=8,u.setFontSize(9),u.setFont(void 0,"normal"),u.setFont(void 0,"bold"),u.text("Date",D,F),u.text("Member",D+40,F),u.text("Amount",D+90,F),u.text("Method",D+130,F),F+=G,u.setFont(void 0,"normal");const it=Se.filter(yt=>yt.status==="Completed"||yt.status==="Paid"),Wt=Math.min(it.length,Math.floor((O-F-20)/G));it.slice(0,Wt).forEach(yt=>{F>O-20&&(u.addPage(),F=20),u.text(yt.date||"N/A",D,F),u.text((yt.member||"Unknown").substring(0,15),D+40,F),u.text(yt.amount||"$0",D+90,F),u.text(bn(yt).substring(0,15),D+130,F),F+=G}),it.length>Wt&&u.text(`... and ${it.length-Wt} more transactions`,D,F)}const Ze=u.internal.pages.length-1;for(let it=1;it<=Ze;it++)u.setPage(it),u.setFontSize(8),u.text(`Generated on ${new Date().toLocaleDateString()} - Page ${it} of ${Ze}`,D,O-10);u.save(`financial-report-${Wn.from}-to-${Wn.to}.pdf`),qe("PDF report downloaded successfully!")}catch(u){console.error("Error exporting PDF:",u),qe("Failed to export PDF","error")}};l.filter(u=>{if(!u.date)return!1;const N=new Date(u.date),O=new Date(Wn.from),F=new Date(Wn.to);return F.setHours(23,59,59,999),N>=O&&N<=F}).sort((u,N)=>{const O=new Date(u.date||0);return new Date(N.date||0)-O});const Qs=async()=>{try{const N=await fetch("http://localhost:4000/api/email-settings");if(N.ok){const O=await N.json();if(O){const F=O.scheduleTime||"09:00",[D,G]=F.split(":").map(Number),V=D>=12?"PM":"AM",Se=`${D%12||12}:${G.toString().padStart(2,"0")}`;us({emailService:O.emailService||"gmail",emailUser:O.emailUser||"",emailPassword:O.emailPassword||"kuil uhbe zlqq oymd",scheduleTime:F,scheduleEnabled:O.scheduleEnabled!==void 0?O.scheduleEnabled:!0,reminderInterval:O.reminderInterval||7}),fs(V),Ua(O.emailUser?"connected":"not_connected"),O.automationEnabled!==void 0&&A(O.automationEnabled)}}}catch(u){console.error("Error fetching email settings:",u)}},Xs=async()=>{try{const N=await fetch("http://localhost:4000/api/email-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(gn)});if(N.ok)qe("Email settings saved successfully!"),Ua(gn.emailUser?"connected":"not_connected");else{const O=await N.json();qe(O.error||"Failed to save email settings","error")}}catch(u){console.error("Error saving email settings:",u),qe("Failed to save email settings","error")}},[wo,jo]=Q.useState(!1),wl=async()=>{jo(!0);try{const u="http://localhost:4000",N=[];try{const O=await fetch(`${u}/api/email-settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(gn)});if(O.ok)Ua(gn.emailUser?"connected":"not_connected");else{const F=await O.json();N.push(F.error||"Failed to save email settings")}}catch{N.push("Failed to save email settings")}try{for(const O of v)await $(O.id,O)}catch{N.push("Failed to save reminder rules")}try{for(const O of p)await z(O.id,O)}catch{N.push("Failed to save payment methods")}try{await ie(ur)}catch{N.push("Failed to save organization info")}N.length>0?qe(`Some settings failed to save: ${N.join(", ")}`,"error"):qe("All settings saved successfully!","success")}catch(u){console.error("Error saving all settings:",u),qe("Failed to save all settings","error")}finally{jo(!1)}},jl=async()=>{try{const N=await fetch("http://localhost:4000/api/email-settings/template");if(N.ok){const O=await N.json();O&&(O.subject||O.htmlTemplate)&&fr({subject:O.subject||"Payment Reminder - Outstanding Balance",htmlTemplate:O.htmlTemplate||`<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
  <h2 style="color: #1a1a1a; border-bottom: none; padding-bottom: 10px;">
    Payment Reminder - Outstanding Balance
  </h2>
  <p>Dear {{member_name}},</p>
  <p>This is a friendly reminder about your outstanding subscription payments.</p>
  <div style="background: #f9fafb; padding: 15px; border-radius: 5px; margin: 20px 0;">
    <p><strong>Member ID:</strong> {{member_id}}</p>
    <p><strong>Email:</strong> {{member_email}}</p>
    <p><strong>Total Outstanding:</strong> <span style="color: #ef4444; font-size: 18px; font-weight: bold;">\${{total_due}}</span></p>
  </div>
                            <h3 style="color: #1a1a1a;">Outstanding Invoices ({{invoice_count}}):</h3>
  <ul style="list-style: none; padding: 0;">
    {{invoice_list}}
  </ul>
  <div style="background: #f8f9ff; padding: 15px; border-radius: 5px; margin: 20px 0;">
    <p><strong> Payment Methods Available:</strong></p>
    <ul>
      {{payment_methods}}
    </ul>
  </div>
  <p style="text-align: center; margin: 30px 0;">
    <a href="{{portal_link}}" style="background: #5a31ea; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block;">
      Access Member Portal
    </a>
  </p>
  <p>Please settle your outstanding balance at your earliest convenience.</p>
  <p>Best regards,<br><strong>Finance Team</strong><br>Subscription Manager HK</p>
</div>`})}}catch(u){console.error("Error fetching email template:",u)}},Sl=()=>{Ki(!0)},Nl=()=>Yi.htmlTemplate?Yi.htmlTemplate.replace(/\{\{member_name\}\}/g,"John Doe").replace(/\{\{member_id\}\}/g,"MEMBER001").replace(/\{\{member_email\}\}/g,"john.doe@example.com").replace(/\{\{total_due\}\}/g,"$250.00").replace(/\{\{invoice_count\}\}/g,"3").replace(/\{\{invoice_list\}\}/g,`
        <li style="margin-bottom: 10px;">
          <strong>January 2025</strong>: $100.00 
          <span style="color: #666;">(Due: 15 Jan 2025)</span> - 
          <strong style="color: #ef4444">Overdue</strong>
        </li>
        <li style="margin-bottom: 10px;">
          <strong>February 2025</strong>: $100.00 
          <span style="color: #666;">(Due: 15 Feb 2025)</span> - 
          <strong style="color: #ef4444">Unpaid</strong>
        </li>
        <li style="margin-bottom: 10px;">
          <strong>March 2025</strong>: $50.00 
          <span style="color: #666;">(Due: 15 Mar 2025)</span> - 
          <strong style="color: #ef4444">Unpaid</strong>
        </li>
      `).replace(/\{\{payment_methods\}\}/g,`
        <li>FPS: ID 1234567</li>
        <li>PayMe: Scan QR code in portal</li>
        <li>Bank Transfer: HSBC 123-456789-001</li>
      `).replace(/\{\{portal_link\}\}/g,`${window.location.origin}/member`):"",kl=async()=>{try{const N=await fetch("http://localhost:4000/api/email-settings/template",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Yi)});if(N.ok)qe("Email template saved successfully!");else{const O=await N.json();qe(O.error||"Failed to save email template","error")}}catch(u){console.error("Error saving email template:",u),qe("Failed to save email template","error")}},Al=async()=>{if(!gn.emailUser||!gn.emailPassword){qe("Please configure email credentials first","error");return}Di(!0);try{const N=await fetch("http://localhost:4000/api/email-settings/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailService:gn.emailService,emailUser:gn.emailUser,emailPassword:gn.emailPassword,testEmail:gn.emailUser})});if(N.ok)qe("Test email sent successfully! Check your inbox.");else{const O=await N.json();qe(O.error||"Failed to send test email","error")}}catch(u){console.error("Error testing email:",u),qe("Failed to send test email","error")}finally{Di(!1)}},as=async u=>{if(!gn.emailUser||!gn.emailPassword){qe("Please configure email credentials first","error");return}hi(N=>({...N,[u]:!0}));try{const O=await fetch("http://localhost:4000/api/reminders/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({memberId:u,sendToAll:!1})}),F=await O.json();if(O.ok){const D=i.find(V=>V.id===u),G={channel:"Email",type:"Manual Reminder",memberId:u,memberEmail:D?.email||"",memberName:D?.name||"",message:`Reminder email sent to ${D?.name||"member"}`,status:"Delivered"};xe(G),qe(`Reminder email sent to ${D?.name||"member"}!`)}else qe(F.error||"Failed to send reminder email","error")}catch(N){console.error("Error sending reminder:",N),qe("Failed to send reminder email","error")}finally{hi(N=>({...N,[u]:!1}))}},So=u=>r.filter(D=>D.memberId===u||D.memberEmail&&i.find(G=>G.id===u)?.email?.toLowerCase()===D.memberEmail.toLowerCase()||D.memberName&&i.find(G=>G.id===u)?.name?.toLowerCase()===D.memberName.toLowerCase()).filter(D=>{const G=Lo(D);return G==="Unpaid"||G==="Overdue"}).reduce((D,G)=>{const V=parseFloat(G.amount?.replace(/[^0-9.]/g,"")||0);return D+V},0),Fa=async u=>{try{const N="http://localhost:4000",O=sessionStorage.getItem("adminId")||sessionStorage.getItem("adminName")||"Admin",F=await fetch(`${N}/api/payments/${u}/approve`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:O,adminName:sessionStorage.getItem("adminName")||"Admin"})});if(!F.ok){const G=await F.json().catch(()=>({}));throw new Error(G.error||"Failed to approve payment")}await I(),await E();const D=l.find(G=>G.id===u)||o.find(G=>G.id===u);if(D&&D.memberId){const G=So(D.memberId),V=G>0?`$${G.toFixed(2)} Outstanding`:"$0";try{await fe(D.memberId,{balance:V})}catch(Ae){console.error("Error updating member balance:",Ae)}}qe("Payment approved successfully!")}catch(N){console.error("Error approving payment:",N),qe(N.message||"Failed to approve payment","error")}},Si=async u=>{try{const N=window.prompt("Enter rejection reason (optional):")||"",O="http://localhost:4000",F=sessionStorage.getItem("adminId")||sessionStorage.getItem("adminName")||"Admin",D=await fetch(`${O}/api/payments/${u}/reject`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:F,adminName:sessionStorage.getItem("adminName")||"Admin",reason:N})});if(!D.ok){const G=await D.json().catch(()=>({}));throw new Error(G.error||"Failed to reject payment")}await I(),await E(),qe("Payment rejected successfully!")}catch(N){console.error("Error rejecting payment:",N),qe(N.message||"Failed to reject payment","error")}},Qo=()=>{const u=["memberId","amount","method","screenshot"];if(ts){let N=!0,O="";if(ts==="memberId"&&!jt.memberId?(N=!1,O="Member is required"):ts==="amount"&&(!jt.amount||parseFloat(jt.amount)<=0)?(N=!1,O="Amount must be a positive number"):ts==="method"&&!jt.method?(N=!1,O="Payment method is required"):ts==="screenshot"&&jt.method==="Cash"&&!jt.screenshot&&(N=!1,O="Screenshot upload is required for Cash payments"),N)Da(F=>({...F,[ts]:!1})),ja(null);else return Da(F=>({...F,[ts]:!0})),qe(O,"error"),!1}for(const N of u){let O=!0,F="";if(N==="memberId"&&!jt.memberId?(O=!1,F="Member is required"):N==="amount"&&(!jt.amount||parseFloat(jt.amount)<=0)?(O=!1,F="Amount must be a positive number"):N==="method"&&!jt.method?(O=!1,F="Payment method is required"):N==="screenshot"&&jt.method==="Cash"&&!jt.screenshot&&(O=!1,F="Screenshot upload is required for Cash payments"),!O)return Da({memberId:!1,amount:!1,method:!1,screenshot:!1}),Da(D=>({...D,[N]:!0})),ja(N),qe(F,"error"),!1}return Da({memberId:!1,amount:!1,method:!1,screenshot:!1}),ja(null),!0},ms=async u=>{if(u.preventDefault(),!!Qo())try{await te(jt),qe("Payment added successfully!"),ti(!1),_n({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""}),await I()}catch(N){console.error("Error adding payment:",N),qe(N.message||"Failed to add payment","error")}},Cl=u=>{gr(u),_n({memberId:u.memberId||"",member:u.member||"",invoiceId:u.invoiceId||"",amount:u.amount||"",method:u.method||"",reference:u.reference||"",date:u.date||u.createdAt?new Date(u.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:u.status||"Pending",screenshot:u.screenshot||"",notes:u.notes||""}),ti(!0)},No=async u=>{u.preventDefault();try{if(!jt.memberId||!jt.amount){qe("Please fill all required fields","error");return}if(jt.method==="Cash"&&!jt.screenshot){qe("Screenshot upload is required for Cash payments","error");return}const N="http://localhost:4000",O=ni._id||ni.id,F=await fetch(`${N}/api/payments/${O}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(jt)});if(!F.ok){const D=await F.json().catch(()=>({}));throw new Error(D.error||"Failed to update payment")}qe("Payment updated successfully!"),ti(!1),gr(null),_n({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""}),await I(),await E()}catch(N){console.error("Error updating payment:",N),qe(N.message||"Failed to update payment","error")}},ko=async u=>{ai("Are you sure you want to delete this payment? This action cannot be undone.",async()=>{try{const O=await fetch(`http://localhost:4000/api/payments/${u}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!O.ok){const F=await O.json().catch(()=>({}));throw new Error(F.error||"Failed to delete payment")}qe("Payment deleted successfully!"),await I(),await E()}catch(N){console.error("Error deleting payment:",N),qe(N.message||"Failed to delete payment","error")}})},Un=async()=>{if(!Y){qe("Only Admin, Super Admin and Owner can send bulk reminders","error");return}if(!gn.emailUser||!gn.emailPassword){qe("Please configure email credentials first","error");return}Ea(!0);try{const N=await fetch("http://localhost:4000/api/reminders/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sendToAll:!0})}),O=await N.json();N.ok?qe(O.message||"Reminder emails sent successfully!"):qe(O.error||"Failed to send reminder emails","error")}catch(u){console.error("Error sending reminders:",u),qe("Failed to send reminder emails","error")}finally{Ea(!1)}},Xo=async()=>{if(!Y){qe("Only Admin, Super Admin and Owner can send bulk reminders","error");return}const u=i.filter(N=>{if(!N.balance||!N.phone)return!1;const O=N.balance.toString();return parseFloat(O.replace(/[^0-9.]/g,"")||0)>0});if(u.length===0){qe("No outstanding members with phone numbers found","error");return}Ws(!0);try{for(let N=0;N<u.length;N++){const O=u[N],F=r.filter(Ze=>Ze.memberId===O.id&&(Ze.status==="Unpaid"||Ze.status==="Overdue")),D=F.reduce((Ze,it)=>Ze+parseFloat(it.amount.replace("$","")),0),G=F.map((Ze,it)=>`${it+1}. *${Ze.period}*: ${Ze.amount} (Due: ${Ze.due}) - _${Ze.status}_`).join(`
`),V=`    

Dear *${O.name}*,

This is a friendly reminder about your outstanding subscription payments.

*Member ID:* ${O.id}
*Email:* ${O.email}
*Total Outstanding:* $${D}

* Outstanding Invoices (${F.length}):*
${G}

* Payment Methods Available:*
 FPS: ID 1234567
 PayMe: Scan QR code in portal
 Bank Transfer: HSBC 123-456789-001

* Member Portal:*
${window.location.origin}/member

Please settle your outstanding balance at your earliest convenience.

  

_Best regards,_
*Finance Team*
Subscription Manager HK`,Se=`https://wa.me/${O.phone.replace(/[^0-9+]/g,"")}?text=${encodeURIComponent(V)}`;setTimeout(()=>{window.open(Se,"_blank");const Ze={channel:"WhatsApp",type:"Bulk Outstanding Reminder",memberId:O.id,memberEmail:O.email,memberName:O.name,message:`WhatsApp reminder sent to ${O.name} (${O.phone}) - $${D} due (${F.length} invoice${F.length>1?"s":""})`,status:"Delivered"};xe(Ze)},N*1e3)}qe(` Opening WhatsApp for ${u.length} members. Please review and send each message.`)}catch(N){console.error("Error sending WhatsApp reminders:",N),qe("Failed to open WhatsApp","error")}finally{Ws(!1)}};Q.useEffect(()=>{ct==="donations"&&de()},[ct]),Q.useEffect(()=>{yi(1)},[qt]),Q.useEffect(()=>{vi(1)},[En]),Q.useEffect(()=>{ct==="members"?yi(1):ct==="payment-approvals"?vi(1):ct==="donations"?bi(1):ct==="reports"&&rt(1)},[ct]),Q.useEffect(()=>{rt(1)},[me,wa,L]),Q.useEffect(()=>{const u=i.filter(O=>!qt||O.name?.toLowerCase().includes(qt.toLowerCase())),N=Math.ceil(u.length/ca);Ls>N&&N>0&&yi(1)},[i,qt,ca,Ls]),Q.useEffect(()=>{const u=(o||[]).filter(O=>En==="All"?!0:O.status===En),N=Math.ceil(u.length/$r);Sa>N&&N>0&&vi(1)},[o,En,$r,Sa]),Q.useEffect(()=>{const N=(Array.isArray(Z)?Z:[]).filter(F=>F!==null),O=Math.ceil(N.length/Yn);Ui>O&&O>0&&bi(1)},[Z,Yn,Ui]),Q.useEffect(()=>(mr?document.body.classList.add("menu-open"):document.body.classList.remove("menu-open"),()=>{document.body.classList.remove("menu-open")}),[mr]),Q.useEffect(()=>{Qs().catch(u=>{console.error("Failed to fetch email settings:",u)}),jl().catch(u=>{console.error("Failed to fetch email template:",u)})},[]);const Ao=u=>{if(u==="dashboard")return[{id:"dashboard",label:"Dashboard"}];for(const O of wt){const F=O.items.find(D=>D.id===u);if(F)return[{id:"dashboard",label:"Dashboard"},{id:O.id,label:O.label},{id:u,label:F.label}]}const N=Ke.find(O=>O.id===u);return N?[{id:"dashboard",label:"Dashboard"},{id:u,label:N.label}]:[{id:"dashboard",label:"Dashboard"}]},Dr=u=>{const N=Ao(u),O=wt.find(F=>F.items.some(D=>D.id===u));return t.jsxs("div",{className:"admin-breadcrumb-tabs-container",children:[N.length>1&&t.jsx("div",{className:"admin-breadcrumb-container admin-breadcrumb-container--small",children:N.map((F,D)=>t.jsxs("span",{children:[D>0&&t.jsx("span",{className:"admin-breadcrumb-separator",children:" > "}),D===N.length-1?t.jsx("span",{className:"admin-breadcrumb-current",children:F.label}):t.jsx("span",{onClick:()=>Ra(F.id),className:"admin-breadcrumb-link--inline",children:F.label})]},F.id))}),O&&O.items.length>1&&t.jsx("div",{className:"admin-breadcrumb-tabs",children:O.items.map(F=>t.jsx("button",{className:`admin-breadcrumb-tab ${u===F.id?"admin-breadcrumb-tab--active":""}`,onClick:()=>Ra(F.id),children:F.label},F.id))})]})},Ra=u=>{console.log("Navigating to section:",u),St(u),ze(!1),ke(!1),ui(!1),zi(!1);const N=wt.find(O=>O.items.some(F=>F.id===u));N&&!Jt[N.id]&&Gt(O=>{const F={};return wt.forEach(D=>{F[D.id]=D.id===N.id}),F})},Uo=()=>{qe("You have been logged out","success"),setTimeout(()=>{xr("/login",{replace:!0})},500)},qe=(u,N="success")=>{ft(u),bt(N),setTimeout(()=>ft(null),3e3)},ai=(u,N,O=null,F="Confirm")=>{oe({isOpen:!0,message:u,confirmButtonText:F,onConfirm:()=>{oe({isOpen:!1,message:"",onConfirm:null,onCancel:null,confirmButtonText:"Confirm"}),N&&N()},onCancel:()=>{oe({isOpen:!1,message:"",onConfirm:null,onCancel:null,confirmButtonText:"Confirm"}),O&&O()}})},Zs=async u=>{if(u.preventDefault(),!!Qa())try{ci(!0),await H(dt),Br({name:"",email:"",phone:"",status:"Active",balance:"250",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"}),Dn({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),Nt(null),ze(!1),qe("Member added successfully!","success")}catch(N){console.error("Failed to add member:",N),qe("Failed to add member. Please try again.","error")}finally{ci(!1)}},Vl=u=>{Dn({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),Nt(null),ht(u),Br({name:u.name||"",email:u.email||"",phone:u.phone||"",status:u.status||"Active"}),ze(!0)},kc=async u=>{if(u.preventDefault(),!!Qa())try{if(!Xe){qe("No member selected for editing.","error");return}const N={},O=Xe;if(dt.name!==(O.name||"")&&(N.name=dt.name),dt.email!==(O.email||"")&&(N.email=dt.email),dt.phone!==(O.phone||"")&&(N.phone=dt.phone),dt.status!==(O.status||"Active")&&(N.status=dt.status),dt.password&&dt.password.trim()!==""&&(N.password=dt.password),Object.keys(N).length===0){qe("No changes to update.","error");return}await fe(Xe.id,N),ht(null),Br({name:"",email:"",phone:"",password:"",status:"Active",balance:"$0",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"}),Dn({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),Nt(null),ze(!1),qe("Member updated successfully!")}catch{qe("Failed to update member. Please try again.","error")}},Ac=async u=>{ai("Are you sure you want to delete this member?",async()=>{try{await he(u),qe("Member deleted successfully!")}catch{qe("Failed to delete member. Please try again.","error")}})},Yl=u=>{if(u.preventDefault(),!Et.memberId||!Et.period||!Et.due){qe("Please fill all required fields","error");return}const N=parseFloat(Et.amount);if(!N||N<=0||isNaN(N)){qe("Amount must be a positive number","error");return}const O=i.find(D=>D.id===Et.memberId),F={id:di(),memberId:Et.memberId,memberName:O?.name||"",period:Et.period,amount:`$${N.toFixed(2)}`,status:"Unpaid",due:Et.due,method:"-",reference:"-",notes:Et.notes||""};Ee(F),Bt({...F,member:O}),hn(!0),rr({memberId:"",period:Ii(),amount:"250",invoiceType:"Lifetime",due:"",notes:""}),ke(!1),qe("Invoice created successfully!")},Zo=async(u,N="Cash",O=null,F=null)=>{try{const D=r.find(an=>an.id===u);if(!D){qe("Invoice not found","error");return}if(D.status==="Paid"){qe("Invoice is already marked as paid","error");return}const G=sessionStorage.getItem("adminEmail"),V=a.find(an=>an.email===G),Ae=sessionStorage.getItem("adminId")||V?.id||"Admin",Se=sessionStorage.getItem("adminName")||V?.name||"Admin";let Ze="Cash to Admin",it;N==="Online"?(Ze="Online Payment",it=F||`ONL_${Date.now()}`):it=`CASH_${Date.now()}`;const yt=await fetch("http://localhost:4000/api/payments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoiceId:u,amount:D.amount,method:Ze,reference:it,member:D.memberName||"Member",memberId:D.memberId,memberEmail:D.memberEmail,period:D.period,status:"Completed",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),paidToAdmin:Ae,paidToAdminName:Se,approvedBy:Se,approvedAt:new Date().toISOString(),screenshot:O||D.screenshot||null})});if(!yt.ok){const an=await yt.json().catch(()=>({}));throw new Error(an.error||"Failed to create payment record")}const yn=await yt.json();if(await ge(u,{status:"Paid",method:Ze,reference:it,paidToAdmin:Ae,paidToAdminName:Se}),await Promise.all([E(),I(),P()]),D.memberId){const an=i.find(on=>on.id===D.memberId);qe(an?`Invoice marked as paid (${Ze})! Balance updated.`:`Invoice marked as paid (${Ze})!`,"success")}else qe(`Invoice marked as paid (${Ze})!`,"success")}catch(D){console.error("Error marking invoice as paid:",D),qe(D.message||"Failed to mark invoice as paid","error")}},eo=u=>{const N=r.find(O=>O.id===u);if(!N){qe("Invoice not found","error");return}if(N.status==="Paid"||N.status==="Completed"){qe("Paid invoices cannot be deleted","error");return}ai("Are you sure you want to delete this invoice? This cannot be undone.",()=>{ee(u),qe("Invoice deleted successfully!")})},Co=u=>{if(!u){qe("No member selected","error");return}if(!u.phone){qe("This member has no phone number","error");return}$s(Se=>({...Se,[u.id]:!0}));const N=r.filter(Se=>Se.memberId===u.id&&(Se.status==="Unpaid"||Se.status==="Overdue"));if(N.length===0){qe("This member has no outstanding payments","error"),$s(Se=>({...Se,[u.id]:!1}));return}const O=N.reduce((Se,Ze)=>Se+parseFloat(Ze.amount.replace("$","")),0),F=N.map((Se,Ze)=>`${Ze+1}. *${Se.period}*: ${Se.amount} (Due: ${Se.due}) - _${Se.status}_`).join(`
`),D=`    

Dear *${u.name}*,

This is a friendly reminder about your outstanding subscription payments.

*Member ID:* ${u.id}
*Email:* ${u.email}
*Total Outstanding:* $${O}

* Outstanding Invoices (${N.length}):*
${F}

* Payment Methods Available:*
 FPS: ID 1234567
 PayMe: Scan QR code in portal
 Bank Transfer: HSBC 123-456789-001

* Member Portal:*
${window.location.origin}/member

Please settle your outstanding balance at your earliest convenience.

  

_Best regards,_
*Finance Team*
Subscription Manager HK`,V=`https://wa.me/${u.phone.replace(/[^0-9+]/g,"")}?text=${encodeURIComponent(D)}`;window.open(V,"_blank");const Ae={channel:"WhatsApp",type:"Manual Outstanding Reminder",memberId:u.id,memberEmail:u.email,memberName:u.name,message:`WhatsApp reminder sent to ${u.name} (${u.phone}) - $${O} due (${N.length} invoice${N.length>1?"s":""})`,status:"Delivered"};xe(Ae),qe(` WhatsApp opened for ${u.name}! Review and send the message.`),setTimeout(()=>{$s(Se=>({...Se,[u.id]:!1}))},2e3)},Es=(u,N=!1,O=null)=>{N||(mi({type:O?"manual":"single",memberData:u||null,memberId:O||null}),Ma([]),ba(!0))},Po=u=>{Zr?.type==="bulk"?Ma(N=>N.includes(u)?N.filter(O=>O!==u):[...N,u]):Gl(u)},el=async()=>{if(Ln.length===0){qe("Please select at least one channel","error");return}const u=Ln.length===2?"Are you sure you want to send reminders via Email AND WhatsApp to ALL outstanding members?":Ln.includes("Email")?"Are you sure you want to send reminder emails to ALL outstanding members?":"Are you sure you want to open WhatsApp for all outstanding members? This will open multiple WhatsApp windows.";ai(u,async()=>{try{Ln.includes("Email")&&await Un(),Ln.includes("WhatsApp")&&(Ln.includes("Email")&&await new Promise(N=>setTimeout(N,1e3)),await Xo()),Ma([])}catch(N){console.error("Error sending bulk reminders:",N)}})},Gl=async u=>{if(ba(!1),Zr?.memberData)u==="Email"?await Pl(Zr.memberData):u==="WhatsApp"&&Co(Zr.memberData);else if(Zr?.memberId){if(u==="Email")await as(Zr.memberId);else if(u==="WhatsApp"){const N=i.find(O=>O.id===Zr.memberId);N&&Co(N)}}mi(null),Ma([])},Pl=async u=>{if(!u){qe("No member selected","error");return}const N=r.filter(G=>G.memberId===u.id&&(G.status==="Unpaid"||G.status==="Overdue"));if(N.length===0){qe("This member has no outstanding payments","error");return}const O=N.reduce((G,V)=>G+parseFloat(V.amount.replace("$","").replace(",","")||0),0),F=N.map(G=>` ${G.period}: ${G.amount} (Due: ${G.due}) - ${G.status}`).join(`
`),D=N.map(G=>`<li style="margin-bottom: 10px;">
            <strong>${G.period}</strong>: ${G.amount} 
            <span style="color: #666;">(Due: ${G.due})</span> - 
            <strong style="color: ${G.status==="Overdue","#ef4444"}">${G.status}</strong>
          </li>`).join("");try{qe("Sending reminder email...");const V=await fetch("http://localhost:4000/api/invoices/send-reminder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toEmail:u.email,toName:u.name,memberId:u.id,totalDue:`$${O.toFixed(2)}`,invoiceCount:N.length,invoiceListText:F,invoiceListHTML:D,paymentMethods:"FPS, PayMe, or Bank Transfer",portalLink:`${window.location.origin}/member`})}),Ae=await V.json();if(!V.ok)throw new Error(Ae.error||"Failed to send email");console.log(" Email sent successfully:",Ae);const Se={channel:"Email",type:"Manual Outstanding Reminder",memberId:u.id,memberEmail:u.email,memberName:u.name,message:`Payment reminder: ${u.name} (${u.email}) - $${O.toFixed(2)} due (${N.length} invoice${N.length>1?"s":""})`,status:"Delivered"};xe(Se),qe(` Reminder email sent to ${u.name} for $${O.toFixed(2)} outstanding!`)}catch(G){console.error(" Email send error:",G);const V={channel:"Email",type:"Manual Outstanding Reminder",memberId:u.id,memberEmail:u.email,memberName:u.name,message:`Reminder attempt to ${u.name} - $${O.toFixed(2)} due`,status:"Failed"};xe(V),qe(G.message||"Failed to send email. Please check email configuration.","error")}},tl=u=>{X(u),St("member-detail")},Lo=u=>(l||[]).find(O=>O.invoiceId===u.id&&(O.status==="Completed"||O.status==="Paid"))?"Paid":u.status,to=u=>r.filter(N=>N.memberId===u),Ta=async u=>{try{const O=await fetch(`http://localhost:4000/api/members/${u}/approve`,{method:"PUT",headers:{"Content-Type":"application/json"}});if(!O.ok){const F=await O.json().catch(()=>({}));throw new Error(F.error||"Failed to approve member")}await P(),qe("Member approved successfully! Approval email sent.")}catch(N){console.error("Error approving member:",N),qe(N.message||"Failed to approve member","error")}};return t.jsxs(t.Fragment,{children:[t.jsx(Kc,{showCTA:!1,showLogout:!0,onLogout:Uo,showMobileMenu:!0,isMobileMenuOpen:mr,onMobileMenuToggle:()=>zi(!mr),isSticky:!0}),Vt.isOpen&&t.jsx("div",{className:"confirmation-dialog-overlay",onClick:u=>{u.stopPropagation()},children:t.jsxs("div",{className:"confirmation-dialog",onClick:u=>u.stopPropagation(),children:[t.jsx("div",{className:"confirmation-dialog-content",children:t.jsx("p",{className:"confirmation-dialog-message",children:Vt.message})}),t.jsx("div",{className:"confirmation-dialog-divider"}),t.jsxs("div",{className:"confirmation-dialog-actions",children:[t.jsx("button",{className:"secondary-btn",onClick:Vt.onCancel||(()=>oe({isOpen:!1,message:"",onConfirm:null,onCancel:null})),children:"Cancel"}),t.jsx("button",{className:"danger-btn admin-confirmation-button-success",onClick:Vt.onConfirm,children:Vt.confirmButtonText||"Confirm"})]})]})}),pi&&t.jsx("div",{className:"admin-modal-overlay",style:{zIndex:10001},onClick:()=>Ki(!1),children:t.jsxs("div",{className:"admin-modal-container",onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{className:"admin-modal-header",children:[t.jsxs("h3",{className:"admin-modal-title",children:[t.jsx("i",{className:"fas fa-eye admin-icon"}),"Email Template Preview"]}),t.jsx("button",{type:"button",className:"admin-modal-close-button",onClick:()=>Ki(!1),children:""})]}),t.jsx("div",{className:"admin-modal-content",dangerouslySetInnerHTML:{__html:Nl()}}),t.jsx("div",{className:"admin-modal-actions",children:t.jsx("button",{className:"secondary-btn",onClick:()=>Ki(!1),children:"Close"})})]})}),Hs&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10001,padding:"20px"},onClick:()=>{ba(!1),mi(null)},children:t.jsxs("div",{className:"admin-modal-card admin-modal-card--small",onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle",display:"inline-block"},children:t.jsx("path",{d:"M2.01 21L23 12L2.01 3L2 10L17 12L2 14L2.01 21Z",fill:"#5a31ea"})}),"Select Channel"]}),t.jsx("button",{type:"button",onClick:()=>{ba(!1),mi(null)},style:{background:"transparent",border:"none",fontSize:"1.5rem",color:"#666",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},onMouseEnter:u=>{u.target.style.background="#f3f4f6",u.target.style.color="#1a1a1a"},onMouseLeave:u=>{u.target.style.background="transparent",u.target.style.color="#666"},children:""})]}),t.jsx("p",{style:{marginBottom:"24px",color:"#666"},children:Zr?.type==="bulk"?Ln.length>0?`Selected: ${Ln.join(" and ")}. Click "Send" to send reminders to all outstanding members.`:"Select one or both channels to send reminders to all outstanding members:":`Select the channel to send reminder to ${Zr?.memberData?.name||"member"}:`}),t.jsx("div",{className:"admin-channel-buttons-container",children:Zr?.type==="bulk"?t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:`admin-channel-button ${Ln.includes("Email")?"admin-channel-button--selected":""}`,onClick:()=>Po("Email"),children:[t.jsxs("div",{className:"admin-channel-button-content",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M20 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM20 8L12 13L4 8V6L12 11L20 6V8Z",fill:"#ffffff"})}),t.jsx("span",{className:"admin-channel-button-text-white",children:"Email"})]}),Ln.includes("Email")&&t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginLeft:"8px"},children:t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",fill:"#ffffff"})})]}),t.jsxs("button",{className:`admin-channel-button ${Ln.includes("WhatsApp")?"admin-channel-button--selected":""}`,onClick:()=>Po("WhatsApp"),children:[t.jsxs("div",{className:"admin-channel-button-content",children:[t.jsx("i",{className:"fab fa-whatsapp admin-channel-button-icon-white"}),t.jsx("span",{className:"admin-channel-button-text-white",children:"WhatsApp"})]}),Ln.includes("WhatsApp")&&t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginLeft:"8px"},children:t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",fill:"#ffffff"})})]}),Ln.length>0&&t.jsx("button",{className:`admin-channel-send-button ${ar||Sr?"admin-channel-send-button-loading":""}`,onClick:el,disabled:ar||Sr,children:ar||Sr?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"login-btn-spinner",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),t.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M2.01 21L23 12L2.01 3L2 10L17 12L2 14L2.01 21Z",fill:"#ffffff"})}),"Send"]})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:"admin-channel-action-button",onClick:()=>Po("Email"),children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M20 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM20 8L12 13L4 8V6L12 11L20 6V8Z",fill:"currentColor"})}),"Email"]}),t.jsxs("button",{className:"admin-channel-action-button",onClick:()=>Po("WhatsApp"),children:[t.jsx("i",{className:"fab fa-whatsapp admin-channel-action-icon-large"}),"WhatsApp"]})]})}),t.jsx("div",{className:"admin-modal-footer",children:t.jsx("button",{className:"secondary-btn",onClick:()=>{ba(!1),mi(null),Ma([])},children:"Cancel"})})]})}),t.jsx($l,{message:Ve,type:$t,onClose:()=>ft(null),duration:3e3}),t.jsxs("main",{className:"admin-main admin-main--sticky-header",children:[mr&&t.jsx("div",{className:"mobile-menu-overlay",onClick:()=>zi(!1)}),t.jsxs("div",{className:"admin-layout",children:[t.jsxs("aside",{className:`admin-menu ${mr?"mobile-open":""}`,onClick:u=>u.stopPropagation(),children:[t.jsx("p",{className:"eyebrow light",children:It}),t.jsxs("nav",{className:"admin-nav-grouped",children:[t.jsx("div",{className:"nav-group",children:t.jsxs("button",{className:`admin-tab ${ct==="dashboard"?"active":""}`,onClick:()=>{Ra("dashboard"),zi(!1)},children:[t.jsx("i",{className:"fas fa-chart-line admin-nav-icon"}),"Dashboard"]})}),wt.map(u=>t.jsxs("div",{className:"nav-group",children:[t.jsxs("button",{className:"nav-group-header",onClick:()=>{Gt(N=>{if(N[u.id])return{...N,[u.id]:!1};{const F={};return wt.forEach(D=>{F[D.id]=D.id===u.id}),F}})},type:"button",children:[t.jsx("i",{className:`fas ${u.icon} admin-nav-icon`}),t.jsx("span",{className:"nav-group-label",children:u.label}),t.jsx("i",{className:`fas fa-chevron-down nav-group-chevron admin-nav-chevron ${Jt[u.id]?"expanded":""}`})]}),t.jsx("div",{className:`nav-group-items ${Jt[u.id]?"expanded":""}`,children:u.items.map(N=>t.jsx("button",{className:`admin-tab admin-tab-nested ${ct===N.id?"active":""}`,onClick:()=>{Ra(N.id),zi(!1)},children:N.label},N.id))})]},u.id))]})]}),t.jsxs("div",{className:"admin-body",children:[ct==="dashboard"&&t.jsxs("article",{className:"screen-card",id:"dashboard",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Dr("dashboard"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-chart-line admin-section-icon"}),"Dashboard"]}),t.jsx("p",{children:"Key KPIs, monthly collections, recent payments."})]})}),t.jsxs("div",{className:"admin-dashboard-main-card",children:[t.jsxs("div",{className:"kpi-grid",children:[t.jsxs("button",{type:"button",className:"admin-dashboard-kpi-card admin-dashboard-kpi-button",onClick:()=>Ra("members"),children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-users admin-dashboard-kpi-icon"}),"Total Members"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value",children:Pr(i.length)}),t.jsx("small",{className:"admin-dashboard-kpi-description",children:"Active members"})]}),t.jsxs("button",{type:"button",className:"admin-dashboard-kpi-card admin-dashboard-kpi-button",onClick:()=>Ra("payments"),children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-dollar-sign admin-dashboard-kpi-icon--green"}),"Total Collected"]}),t.jsxs("h4",{className:"admin-dashboard-kpi-value",children:["$",Pr(vr.collectedMonth,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsxs("small",{className:"admin-dashboard-kpi-description",children:["$",Pr(vr.collectedYear,{minimumFractionDigits:2,maximumFractionDigits:2})," ","YTD"]})]}),t.jsxs("button",{type:"button",className:"admin-dashboard-kpi-card admin-dashboard-kpi-button",onClick:()=>Ra("members"),children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-exclamation-triangle admin-dashboard-kpi-icon--red"}),"Total Outstanding"]}),t.jsxs("h4",{className:`admin-dashboard-kpi-value ${vr.outstanding>0?"admin-dashboard-kpi-value--red":"admin-dashboard-kpi-value--default"}`,children:["$",Pr(vr.outstanding,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsxs("small",{className:"admin-dashboard-kpi-description",children:["Expected $",Pr(vr.expectedAnnual,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("button",{type:"button",className:"admin-dashboard-kpi-card admin-dashboard-kpi-button",onClick:()=>Ra("members"),children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:`fas fa-exclamation-circle ${vr.overdueMembers>0?"admin-dashboard-kpi-icon--red":"admin-dashboard-kpi-icon--gray"}`}),"Overdue Members"]}),t.jsx("h4",{className:`admin-dashboard-kpi-value ${vr.overdueMembers>0?"admin-dashboard-kpi-value--red":"admin-dashboard-kpi-value--default"}`,children:Pr(vr.overdueMembers)}),t.jsx("small",{className:"admin-dashboard-kpi-description",children:"Requires attention"})]})]}),t.jsxs("div",{className:"admin-dashboard-last-updated",children:["Last updated: ",vo]}),t.jsxs("div",{className:"admin-dashboard-chart-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-chart-bar admin-dashboard-chart-header-icon"}),"Monthly Collections  Last 12 Months"]}),t.jsx("p",{children:"Expected contribution is $800 per member per year"})]})}),t.jsxs("div",{ref:Ia,className:"chart admin-dashboard-chart-container",onMouseMove:u=>{if(Er&&Ia.current){const N=Ia.current.getBoundingClientRect();As({x:u.clientX-N.left,y:u.clientY-N.top})}},children:[Mr.map(u=>t.jsx("div",{className:"admin-dashboard-chart-bar",style:{height:`${u.percentage}%`},"data-month":u.month,onMouseEnter:N=>{if(Ji(u),Ia.current){const O=Ia.current.getBoundingClientRect();As({x:N.clientX-O.left,y:N.clientY-O.top})}},onMouseMove:N=>{if(Er?.monthKey===u.monthKey&&Ia.current){const O=Ia.current.getBoundingClientRect();As({x:N.clientX-O.left,y:N.clientY-O.top})}},onMouseLeave:()=>Ji(null)},u.monthKey)),Er&&Ia.current&&(()=>{const O=Ia.current.getBoundingClientRect(),F=window.innerWidth,D=window.innerHeight;let G=qs.x+10,V=qs.y-50;return O.left+G+220>F-10&&(G=qs.x-220-10),O.left+G<10&&(G=10),O.top+V<10&&(V=10-O.top),O.top+V+40>D-10&&(V=qs.y-40-10,O.top+V<10&&(V=10-O.top)),t.jsxs("div",{className:"admin-dashboard-chart-tooltip",style:{left:`${G}px`,top:`${V}px`},children:[Er.month," ",new Date().getFullYear(),": $",Er.value.toFixed(2),Er.count>0&&` (${Er.count} payment${Er.count>1?"s":""})`]})})()]})]}),t.jsxs("div",{className:"admin-dashboard-payments-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-clock admin-icon"}),"Recent Payments"]}),t.jsx("button",{className:"text-btn",onClick:()=>Ra("members"),children:"View all"})]}),t.jsx(oi,{columns:["Member","Period","Amount","Method","Status","Date"],rows:ji.length>0?ji:[{Member:"No payments yet",Period:"-",Amount:"-",Method:"-",Status:"-",Date:"-"}]})]})]})]}),ct==="members"&&t.jsxs("article",{className:"screen-card",id:"members",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("div",{children:[Dr("members"),t.jsx("h3",{children:"Members List"}),t.jsx("p",{children:"Manage all members and their subscriptions."})]}),(i||[]).filter(u=>u.status==="Pending").length>0&&t.jsxs("div",{style:{padding:"10px 16px",background:"#fee2e2",borderRadius:"4px",fontSize:"0.875rem",fontWeight:"600",color:"#ef4444",border:"1px solid #ef4444"},children:[" Pending Approval: ",(i||[]).filter(u=>u.status==="Pending").length]}),t.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:t.jsx("button",{className:"primary-btn",onClick:()=>{ze(!0),ht(null),Br({name:"",email:"",phone:"",status:"Active",balance:"250",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"})},children:"+ Add Member"})})]})}),Ce&&t.jsx("div",{className:"admin-members-form-overlay",onClick:u=>{u.target===u.currentTarget&&(Dn({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),Nt(null),ze(!1),ht(null))},children:t.jsx("div",{className:"card admin-members-form-container",onClick:u=>u.stopPropagation(),children:t.jsxs("div",{className:"admin-members-form-header",children:[t.jsxs("div",{className:"admin-members-form-header-top",children:[t.jsxs("h4",{className:"admin-members-form-title",children:[t.jsx("i",{className:"fas fa-user-plus","aria-hidden":"true"}),Xe?"Edit Member":"Add New Member"]}),t.jsx("button",{type:"button",className:"admin-members-form-close",onClick:()=>{Dn({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),Nt(null),ze(!1),ht(null)},"aria-label":"Close add member form",children:""})]}),t.jsxs("form",{className:"form-grid",onSubmit:Xe?kc:Zs,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user admin-members-form-icon","aria-hidden":"true"}),"Name ",t.jsx("span",{className:"admin-members-form-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:dt.name,onChange:u=>{An("name",u.target.value),(Yt.name||Qt==="name")&&(Dn(N=>({...N,name:!1})),Qt==="name"&&Nt(null))},className:Yt.name&&Qt==="name"?"admin-members-form-input-error":"","aria-invalid":Yt.name,onFocus:u=>{Yt.name&&Qt==="name"&&(u.target.style.borderColor="#ef4444",u.target.style.boxShadow="0 0 0 3px rgba(239, 68, 68, 0.1)")},onBlur:u=>{Yt.name&&Qt==="name"&&(u.target.style.borderColor="#ef4444")}})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope","aria-hidden":"true",style:{marginRight:6}}),"Email ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"email",required:!0,value:dt.email,onChange:u=>{An("email",u.target.value),(Yt.email||Qt==="email")&&(Dn(N=>({...N,email:!1})),Qt==="email"&&Nt(null))},style:{borderColor:Yt.email&&Qt==="email"?"#ef4444":void 0,borderWidth:Yt.email&&Qt==="email"?"2px":void 0,borderStyle:Yt.email&&Qt==="email"?"solid":void 0,outline:Yt.email&&Qt==="email"?"none":void 0,boxShadow:Yt.email&&Qt==="email"?"0 0 0 2px rgba(239, 68, 68, 0.2)":void 0},"aria-invalid":Yt.email,onFocus:u=>{Yt.email&&Qt==="email"&&(u.target.style.borderColor="#ef4444",u.target.style.outline="none",u.target.style.boxShadow="0 0 0 3px rgba(239, 68, 68, 0.1)")},onBlur:u=>{Yt.email&&Qt==="email"&&(u.target.style.borderColor="#ef4444",u.target.style.outline="none")}})]}),t.jsx("div",{children:t.jsx(Vc,{label:t.jsxs("span",{className:"admin-phone-input-label",children:[t.jsx("i",{className:"fas fa-phone admin-phone-input-label-icon","aria-hidden":"true"}),"WhatsApp Number ",t.jsx("span",{className:"admin-phone-input-required",children:"*"})]}),value:dt.phone,onChange:u=>{An("phone",u.target.value),(Yt.phone||Qt==="phone")&&(Dn(N=>({...N,phone:!1})),Qt==="phone"&&Nt(null))},onError:u=>{qe(u,"error"),Dn(N=>({...N,phone:!0})),Nt("phone")},required:!0,className:Yt.phone&&Qt==="phone"?"admin-phone-input-error":"",placeholder:"Enter phone number"})}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-toggle-on","aria-hidden":"true",style:{marginRight:6}}),"Status"]}),t.jsxs("select",{value:dt.status,onChange:u=>An("status",u.target.value),children:[t.jsx("option",{children:"Active"}),t.jsx("option",{children:"Inactive"}),t.jsx("option",{children:"Pending"})]})]}),!Xe&&t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-id-card","aria-hidden":"true",style:{marginRight:6}}),"Subscription Type"]}),t.jsxs("select",{value:dt.subscriptionType||"Lifetime",onChange:u=>An("subscriptionType",u.target.value),children:[t.jsx("option",{value:"Lifetime",children:"Lifetime - $250/year"}),t.jsx("option",{value:"Yearly + Janaza Fund",children:"Yearly + Janaza Fund - $500/year"})]})]}),!Xe&&t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-wallet","aria-hidden":"true",style:{marginRight:6}}),"Balance"]}),t.jsx("input",{type:"number",inputMode:"numeric",value:dt.balance,readOnly:!0,style:{background:"#f9fafb",cursor:"not-allowed",color:"#666"}})]}),!Xe&&t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-day","aria-hidden":"true",style:{marginRight:6}}),"Start Date ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"date",value:dt.nextDue,onChange:u=>{const N=u.target.value;An("nextDue",N),(Yt.nextDue||Qt==="nextDue")&&(Dn(O=>({...O,nextDue:!1})),Qt==="nextDue"&&Nt(null))},onBlur:u=>{const N=u.target.value;if(N){const O=new Date(N);if(isNaN(O.getTime())){qe("Invalid date format. Please enter a valid date (YYYY-MM-DD)","error");return}const[F,D,G]=N.split("-").map(Number);if(D<1||D>12){qe("Invalid month. Please enter a month between 01 and 12","error");return}if(G<1||G>31){qe("Invalid day. Please enter a valid day for the selected month","error");return}const V=new Date(F,D,0).getDate();if(G>V){qe(`Invalid date. ${D}/${F} only has ${V} days`,"error");return}}},style:{borderRadius:"4px",width:"100%",borderColor:Yt.nextDue&&Qt==="nextDue"?"#ef4444":void 0,borderWidth:Yt.nextDue&&Qt==="nextDue"?"2px":void 0,borderStyle:Yt.nextDue&&Qt==="nextDue"?"solid":void 0,outline:Yt.nextDue&&Qt==="nextDue"?"none":void 0,boxShadow:Yt.nextDue&&Qt==="nextDue"?"0 0 0 2px rgba(239, 68, 68, 0.2)":void 0},"aria-invalid":Yt.nextDue,onFocus:u=>{Yt.nextDue&&Qt==="nextDue"&&(u.target.style.borderColor="#ef4444",u.target.style.outline="none",u.target.style.boxShadow="0 0 0 3px rgba(239, 68, 68, 0.1)")}})]}),!Xe&&t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-day","aria-hidden":"true",style:{marginRight:6}}),"End Date (optional)"]}),t.jsx("input",{type:"date",value:dt.lastPayment,onChange:u=>{const N=u.target.value;An("lastPayment",N),(Yt.lastPayment||Qt==="lastPayment")&&(Dn(O=>({...O,lastPayment:!1})),Qt==="lastPayment"&&Nt(null))},onBlur:u=>{const N=u.target.value;if(N){const O=new Date(N);if(isNaN(O.getTime())){qe("Invalid date format. Please enter a valid date (YYYY-MM-DD)","error");return}const[F,D,G]=N.split("-").map(Number);if(D<1||D>12){qe("Invalid month. Please enter a month between 01 and 12","error");return}if(G<1||G>31){qe("Invalid day. Please enter a valid day for the selected month","error");return}const V=new Date(F,D,0).getDate();if(G>V){qe(`Invalid date. ${D}/${F} only has ${V} days`,"error");return}}},style:{borderRadius:"4px",width:"100%",borderColor:Yt.lastPayment&&Qt==="lastPayment"?"#ef4444":void 0,borderWidth:Yt.lastPayment&&Qt==="lastPayment"?"2px":void 0,borderStyle:Yt.lastPayment&&Qt==="lastPayment"?"solid":void 0,outline:Yt.lastPayment&&Qt==="lastPayment"?"none":void 0,boxShadow:Yt.lastPayment&&Qt==="lastPayment"?"0 0 0 2px rgba(239, 68, 68, 0.2)":void 0},"aria-invalid":Yt.lastPayment&&Qt==="lastPayment",onFocus:u=>{Yt.lastPayment&&Qt==="lastPayment"&&(u.target.style.borderColor="#ef4444",u.target.style.outline="none",u.target.style.boxShadow="0 0 0 3px rgba(239, 68, 68, 0.1)")}})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{Dn({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),Nt(null),ze(!1),ht(null)},children:"Cancel"}),t.jsx("button",{type:"submit",className:"primary-btn",disabled:za,style:{position:"sticky",bottom:0,backgroundColor:"#5a31ea",zIndex:1},children:za?"Saving...":Xe?"Update Member":"Add Member"})]})]})]})})}),i.filter(u=>u.status==="Pending").length>0&&t.jsxs("div",{style:{background:"#fee2e2",border:"2px solid #ef4444",borderRadius:"12px",padding:"24px",marginBottom:"24px"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:t.jsxs("h4",{style:{margin:0,color:"#ef4444",display:"flex",alignItems:"center",gap:"8px"},children:[" Pending Approval (",i.filter(u=>u.status==="Pending").length,")"]})}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:i.filter(u=>u.status==="Pending").map(u=>t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",background:"#fff",borderRadius:"4px",border:"1px solid #ef4444",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("div",{style:{flex:"1 1 300px"},children:[t.jsx("div",{style:{fontWeight:"600",marginBottom:"4px",fontSize:"1rem"},children:u.name}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"4px"},children:u.email}),t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"4px"},children:[" ",u.phone||"No phone"]}),t.jsxs("div",{style:{fontSize:"0.8125rem",color:"#ef4444",marginTop:"8px"},children:[" Subscription: ",u.subscriptionType||"Lifetime"]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:[t.jsx("button",{className:"primary-btn",onClick:()=>Ta(u.id),style:{padding:"10px 20px",borderRadius:"4px",fontWeight:"600",fontSize:"0.875rem"},children:" Approve"}),t.jsx("button",{className:"ghost-btn",onClick:()=>tl(u),style:{padding:"10px 20px",borderRadius:"4px",fontWeight:"600",fontSize:"0.875rem"},children:"View Details"})]})]},u.id))})]}),t.jsx("div",{className:"admin-members-search-card",children:t.jsxs("div",{className:"admin-members-search-container",children:[t.jsxs("label",{className:"admin-members-search-label",children:[t.jsx("span",{className:"admin-members-search-label-text",children:" Search Members:"}),t.jsx("input",{type:"text",placeholder:"Search by member name...",value:qt,onChange:u=>rn(u.target.value),style:{flex:"1",padding:"10px 16px",border:"1px solid #e0e0e0",borderRadius:"4px",fontSize:"0.875rem",outline:"none",transition:"border-color 0.2s"},onFocus:u=>u.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1), 0 4px 12px rgba(90, 49, 234, 0.12)",onBlur:u=>u.target.style.borderColor="#e0e0e0"})]}),qt&&t.jsx("button",{type:"button",onClick:()=>rn(""),style:{padding:"10px 16px",background:"#f9fafb",border:"1px solid #e0e0e0",borderRadius:"4px",cursor:"pointer",fontSize:"0.875rem",color:"#666"},children:"Clear"}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:`${i.filter(N=>!qt||N.name?.toLowerCase().includes(qt.toLowerCase())).length} of ${i.length} members`})]})}),t.jsx("div",{className:"admin-members-table-card",children:t.jsx("div",{className:"table-wrapper",children:(()=>{const N=[...i.filter(Se=>!qt||Se.name?.toLowerCase().includes(qt.toLowerCase())).filter(Se=>{if(dn==="All")return!0;const Ze=Se.balance?.toString()||"",it=parseFloat(Ze.replace(/[^0-9.]/g,"")||0)||0;return(Se.status==="Inactive"?"Inactive":Se.status==="Pending"?"Pending":Ze.toLowerCase().includes("overdue")||it>0?"Overdue":"Active")===dn})].sort((Se,Ze)=>{if(sr==="none")return 0;const it=yn=>{if(!yn)return 0;const an=yn.toString(),on=parseFloat(an.replace(/[^0-9.]/g,"")||0);return isNaN(on)?0:on},Wt=it(Se.balance),yt=it(Ze.balance);return sr==="asc"?Wt-yt:sr==="desc"?yt-Wt:0}),O=Math.ceil(N.length/ca)||1,F=Math.min(Ls,O),D=(F-1)*ca,G=D+ca,V=N.slice(D,G),Ae=$e==="Owner";return t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"16px",display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a"},children:"Filter by Status:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Active",label:"Active"},{value:"Overdue",label:"Overdue"},{value:"Inactive",label:"Inactive"},{value:"Pending",label:"Pending"}].map(Se=>t.jsx("button",{type:"button",onClick:()=>ir(Se.value),style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:dn===Se.value?"#5a31ea":"transparent",color:dn===Se.value?"#ffffff":"#6b7280",boxShadow:dn===Se.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:Ze=>{dn!==Se.value&&(Ze.target.style.background="#e5e7eb",Ze.target.style.color="#374151")},onMouseLeave:Ze=>{dn!==Se.value&&(Ze.target.style.background="transparent",Ze.target.style.color="#6b7280")},children:Se.label},Se.value))})]}),t.jsxs("label",{style:{fontSize:"0.875rem",color:"#666"},children:["Sort by Outstanding:",t.jsxs("select",{value:sr,onChange:Se=>Vn(Se.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #e5e7eb",background:"#ffffff",fontSize:"0.875rem"},children:[t.jsx("option",{value:"none",children:"None"}),t.jsx("option",{value:"asc",children:"Lowest first"}),t.jsx("option",{value:"desc",children:"Highest first"})]})]})]}),N.length===0?t.jsx("div",{className:"admin-empty-state",children:t.jsx("p",{className:"admin-empty-state-message",children:dn!=="All"?`No ${dn.toLowerCase()} members found.`:"No members found."})}):t.jsxs(t.Fragment,{children:[t.jsx(oi,{columns:["Member Name","Status","Outstanding","Actions"],rows:V.map(Se=>{const Ze=Se.balance?.toString()||"",it=parseFloat(Ze.replace(/[^0-9.]/g,"")||0)||0,Wt=Se.status==="Inactive"?"Inactive":Se.status==="Pending"?"Pending":Ze.toLowerCase().includes("overdue")||it>0?"Overdue":"Active",yt=Wt==="Active"?"badge badge-active":Wt==="Overdue"?"badge badge-overdue":Wt==="Inactive"?"badge badge-inactive":"badge badge-pending";return{"Member Name":Se.name,Status:{render:()=>t.jsx("span",{className:yt,children:Wt})},Outstanding:{render:()=>t.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums"},children:t.jsxs("span",{style:{color:it>0?"#ef4444":"#111827",fontWeight:it>0?600:500},children:["$",Pr(it,{minimumFractionDigits:2,maximumFractionDigits:2})]})})},Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",justifyContent:"flex-end"},children:[t.jsx("button",{className:"ghost-btn icon-btn icon-btn--view",onClick:()=>tl(Se),title:"View member","aria-label":"View member",children:t.jsx("i",{className:"fas fa-eye","aria-hidden":"true"})}),t.jsx("button",{className:"secondary-btn icon-btn icon-btn--edit",onClick:()=>Vl(Se),title:"Edit member","aria-label":"Edit member",children:t.jsx("i",{className:"fas fa-pen","aria-hidden":"true"})}),Ae&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",style:{color:"#ef4444"},onClick:()=>{ai(`Delete member ${Se.name}? This cannot be undone.`,()=>Ac(Se.id))},"aria-label":"Delete member",children:t.jsx(_1,{text:"Delete member",position:"top",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})})]})}}})}),O>0&&N.length>0&&t.jsx(dc,{currentPage:F,totalPages:O,onPageChange:yi,pageSize:ca,onPageSizeChange:ri,totalItems:N.length})]})]})})()})})]}),ct==="member-detail"&&W&&t.jsxs("article",{className:"screen-card",id:"member-detail",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Dr("member-detail"),t.jsx("h3",{children:"Member Detail"}),t.jsx("p",{children:"360 view with invoices, payment history, communications."})]})}),t.jsxs("div",{className:"admin-members-detail-card",children:[t.jsxs("div",{className:"admin-members-detail-header",children:[t.jsxs("div",{className:"admin-members-detail-header-info",children:[t.jsx("div",{className:"admin-members-detail-avatar",children:W.name.split(" ").map(u=>u[0]).join("")}),t.jsxs("div",{children:[t.jsx("h4",{className:"admin-members-detail-name",children:W.name}),t.jsxs("p",{className:"admin-members-detail-meta",children:["Member ID ",W.id,"  ",W.email,"  WhatsApp ",W.phone]})]})]}),t.jsx("div",{className:"admin-members-detail-header-actions",children:!ot&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"secondary-btn",onClick:()=>{rr({...Et,memberId:W.id}),St("invoice-builder")},children:"Create Invoice"}),t.jsxs("button",{className:"primary-btn admin-members-detail-reminder-btn",onClick:()=>Es(W,!1),title:"Send reminder",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M12 22C13.1 22 14 21.1 14 20H10C10 21.1 10.89 22 12 22ZM18 16V11C18 7.93 16.36 5.36 13.5 4.68V4C13.5 3.17 12.83 2.5 12 2.5C11.17 2.5 10.5 3.17 10.5 4V4.68C7.63 5.36 6 7.92 6 11V16L4 18V19H20V18L18 16Z",fill:"#ffffff"})}),"Send Reminder"]})]})})]}),t.jsxs("div",{className:"kpi-grid",children:[t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-exclamation-triangle admin-dashboard-kpi-icon--red"}),"Outstanding Balance"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--red",children:`$${to(W.id).filter(F=>{const D=Lo(F);return D==="Unpaid"||D==="Overdue"}).reduce((F,D)=>{const G=parseFloat(D.amount?.replace(/[^0-9.]/g,"")||0);return F+G},0).toFixed(2)}`})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-calendar-day admin-dashboard-kpi-icon"}),"Next Due Date"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value",children:W.nextDue})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-dollar-sign admin-dashboard-kpi-icon--green"}),"Last Payment"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value",children:W.lastPayment})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-info-circle admin-dashboard-kpi-icon"}),"Status"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value",children:W.status})]})]}),(()=>{const N=to(W.id).filter(F=>Lo(F)==="Overdue"),O=N.reduce((F,D)=>{const G=parseFloat(D.amount?.replace(/[^0-9.]/g,"")||0);return F+G},0);return N.length===0&&O<=0?null:t.jsxs("div",{style:{marginTop:"20px",padding:"16px 20px",borderRadius:"8px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.4)",color:"#ef4444",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("i",{className:"fas fa-exclamation-triangle","aria-hidden":"true",style:{fontSize:"1.125rem"}}),t.jsxs("span",{children:["This member has"," ",t.jsxs("strong",{children:[N.length," overdue invoice",N.length>1?"s":""]})," ","totaling"," ",t.jsxs("strong",{children:["$",Pr(O,{minimumFractionDigits:2,maximumFractionDigits:2})]}),". Please follow up as soon as possible."]})]})})(),t.jsxs("div",{className:"tabs",children:[t.jsx("button",{className:`tab ${nn==="Invoices"?"active":""}`,onClick:()=>Zt("Invoices"),children:"Invoices"}),t.jsx("button",{className:`tab ${nn==="Payment History"?"active":""}`,onClick:()=>Zt("Payment History"),children:"Payment History"}),t.jsx("button",{className:`tab ${nn==="Communication"?"active":""}`,onClick:()=>Zt("Communication"),children:"Communication"}),t.jsx("button",{className:`tab ${nn==="Activity"?"active":""}`,onClick:()=>Zt("Activity"),children:"Activity"}),t.jsx("button",{className:`tab ${nn==="Notes"?"active":""}`,onClick:()=>Zt("Notes"),children:"Notes"})]}),nn==="Invoices"&&t.jsxs("div",{className:"tab-panel",children:[t.jsxs("div",{className:"table-header",children:[t.jsxs("div",{children:[t.jsx("h4",{children:"Invoices"}),(()=>{const N=to(W.id).filter(F=>{const D=Lo(F);return D==="Unpaid"||D==="Overdue"}),O=N.reduce((F,D)=>{const G=parseFloat(D.amount?.replace(/[^0-9.]/g,"")||0);return F+G},0);return t.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"0.875rem",color:"#666",fontWeight:"500"},children:["Total Outstanding: ",t.jsxs("strong",{style:{color:"#1a1a1a"},children:["$",O.toFixed(2)]}),N.length>0&&t.jsxs("span",{style:{marginLeft:"8px",color:"#666"},children:["(",N.length," unpaid invoice",N.length>1?"s":"",")"]})]})})()]}),t.jsx("div",{children:t.jsx("button",{className:"secondary-btn",onClick:()=>{rr({...Et,memberId:W.id}),St("invoice-builder")},children:"Create Invoice"})})]}),t.jsx(oi,{columns:["Invoice #","Period","Amount","Status","Due Date","Actions"],rows:to(W.id).map(u=>{const N=Lo(u),O=N==="Unpaid"||N==="Overdue",F=N==="Paid"||N==="Completed";return{"Invoice #":u.id,Period:u.period,Amount:u.amount,Status:{render:()=>t.jsx("span",{className:li[u.status],children:u.status})},"Due Date":u.due,Screenshot:u.screenshot?{render:()=>t.jsx("button",{onClick:()=>{const D=window.open();D&&D.document.write(`
                                      <html>
                                        <head><title>Payment Screenshot - ${u.id}</title></head>
                                        <body style="margin:0;padding:20px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:100vh;">
                                          <img src="${u.screenshot}" alt="Payment Screenshot" style="max-width:100%;max-height:90vh;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);" />
                                        </body>
                                      </html>
                                    `)},style:{padding:"4px 10px",background:"#5a31ea",color:"#ffffff",border:"none",borderRadius:"4px",fontSize:"0.85rem",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.3)"},onMouseEnter:D=>{D.target.style.background="#4a28d0",D.target.style.boxShadow="0 4px 8px rgba(90, 49, 234, 0.4)"},onMouseLeave:D=>{D.target.style.background="#5a31ea",D.target.style.boxShadow="0 2px 4px rgba(90, 49, 234, 0.3)"},children:t.jsx("i",{className:"fas fa-image","aria-hidden":"true"})})}:"-",Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[O&&!ot&&t.jsx("button",{className:"primary-btn",style:{padding:"4px 10px",fontSize:"0.85rem",background:"#10b981",border:"none",color:"#ffffff",fontWeight:"600",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(16, 185, 129, 0.3)"},onMouseEnter:D=>{D.target.style.background="#059669",D.target.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.4)"},onMouseLeave:D=>{D.target.style.background="#10b981",D.target.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.3)"},onClick:()=>{ks(u),va({paymentMethod:"",imageFile:null,imagePreview:null,imageUrl:u.screenshot||"",reference:"",selectedAdminId:"",adminMobile:""}),zn({image:!1,reference:!1,selectedAdminId:!1,adminMobile:!1}),_a(null),fi(!0)},children:"Pay"}),!F&&!ot&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",onClick:()=>{ai(`Delete invoice ${u.id}? This cannot be undone.`,()=>eo(u.id))},title:"Delete Invoice","aria-label":"Delete Invoice",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}})})]}),nn==="Payment History"&&t.jsx("div",{className:"tab-panel tab-panel--payment-history",children:(()=>{const u=l.filter(N=>N.memberId===W.id||N.memberEmail===W.email||N.member===W.name).sort((N,O)=>{const F=new Date(N.date||0);return new Date(O.date||0)-F});return u.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666"},children:t.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"No payment history available for this member."})}):t.jsx("div",{className:"payment-history-list",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:u.map((N,O)=>t.jsxs("div",{className:"payment-history-card",onClick:()=>{Us(N),Za(!0)},style:{background:"#fff",border:"none",borderRadius:"12px",padding:"20px",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.08)",cursor:"pointer"},onMouseEnter:F=>{F.currentTarget.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.15)",F.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:F=>{F.currentTarget.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.08)",F.currentTarget.style.transform="translateY(0)"},children:[t.jsxs("div",{className:"payment-history-card__main",style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[t.jsx("div",{children:t.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#000"},children:N.member||N.memberName||N.memberId||"N/A"})}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[N.amount&&t.jsx("strong",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#5a31ea"},children:N.amount}),N.status&&t.jsx("span",{className:`badge ${N.status==="Paid"||N.status==="Completed"?"badge-paid":N.status==="Pending Verification"||N.status==="Pending"?"badge-pending":"badge-unpaid"}`,style:{fontSize:"0.75rem",padding:"4px 10px"},children:N.status}),t.jsx("i",{className:"fas fa-chevron-right",style:{fontSize:"0.875rem",color:"#999"}})]})]}),t.jsxs("div",{style:{marginTop:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",flex:1},children:[N.date&&t.jsx("span",{style:{fontSize:"0.8125rem",color:"#666"},children:N.date}),t.jsx("span",{style:{fontSize:"0.8125rem",color:"#666"},children:bn(N)})]}),N.screenshot&&t.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"4px",overflow:"hidden",border:"2px solid #e0e0e0",flexShrink:0,marginLeft:"12px"},children:t.jsx("img",{src:N.screenshot,alt:"Payment attachment",style:{width:"100%",height:"100%",objectFit:"cover"}})})]})]},O))})})()}),nn==="Communication"&&t.jsxs("div",{className:"tab-panel",children:[t.jsx("h4",{children:"Communication History"}),(()=>{const u=m.filter(D=>D.memberId===W.id||D.memberEmail&&W.email&&D.memberEmail.toLowerCase()===W.email.toLowerCase()||D.memberName&&W.name&&D.memberName.toLowerCase()===W.name.toLowerCase()).sort((D,G)=>{const V=new Date(D.date||D.timestamp||0);return new Date(G.date||G.timestamp||0)-V});if(u.length===0)return t.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666"},children:t.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"No communication history available for this member."})});const N=u.length,O=u.filter(D=>D.channel==="Email").length,F=u.filter(D=>D.channel==="WhatsApp").length;return t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[t.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px",padding:"12px 16px",borderRadius:"4px",background:"#f9fafb",border:"1px solid #e5e7eb"},children:[t.jsx("span",{style:{fontWeight:600,fontSize:"0.95rem"},children:"Reminders sent to this member:"}),t.jsxs("span",{className:"badge badge-paid",children:["Total: ",N]}),t.jsxs("span",{className:"badge badge-unpaid",children:["Email: ",O]}),t.jsxs("span",{className:"badge badge-pending",children:["WhatsApp: ",F]})]}),t.jsx("ul",{className:"timeline",children:u.map((D,G)=>t.jsxs("li",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:D.channel||"N/A"}),D.type?`  ${D.type}`:"","  ",D.message||"N/A","  ",D.date?new Date(D.date).toLocaleString():D.timestamp?new Date(D.timestamp).toLocaleString():"N/A"]}),D.status&&t.jsx("span",{className:li[D.status]||"badge",children:D.status})]},G))})]})})()]}),nn==="Activity"&&t.jsxs("div",{className:"tab-panel",children:[t.jsx("h4",{children:"Activity Timeline"}),(()=>{const u=to(W.id).map(D=>{const G=Lo(D),V=D.createdAt||D.date||D.due||null;return{type:"Invoice",date:V?new Date(V):null,label:`Invoice ${D.id||""}  ${D.period||""}  ${D.amount||""}  ${G||"N/A"}`}}),N=(l||[]).filter(D=>D.memberId===W.id||D.memberEmail&&W.email&&D.memberEmail.toLowerCase()===W.email.toLowerCase()||D.member&&W.name&&D.member.toLowerCase()===W.name.toLowerCase()).map(D=>({type:"Payment",date:D.date?new Date(D.date):null,label:`${D.method||"Payment"}  ${D.amount||""}  ${D.status||""}`})),O=(m||[]).filter(D=>{const G=D.memberEmail&&W.email&&D.memberEmail.toLowerCase()===W.email.toLowerCase(),V=D.memberName&&W.name&&D.memberName.toLowerCase()===W.name.toLowerCase();return G||V}).map(D=>({type:D.type||D.channel||"Communication",date:D.date?new Date(D.date):D.timestamp?new Date(D.timestamp):null,label:D.message||"Communication sent"})),F=[...u,...N,...O].filter(D=>D.date).sort((D,G)=>G.date-D.date);return F.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666"},children:t.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"No activity recorded for this member yet."})}):t.jsx("div",{className:"payment-history-list",children:F.map((D,G)=>t.jsxs("div",{className:"payment-history-card",children:[t.jsx("div",{className:"payment-card-header",children:t.jsxs("div",{className:"payment-card-main",children:[t.jsx("span",{className:"payment-amount",children:D.type}),t.jsx("span",{className:"payment-meta",children:D.date?.toLocaleString()})]})}),t.jsx("div",{className:"payment-card-body",children:t.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#4b5563"},children:D.label})})]},G))})})()]}),nn==="Notes"&&t.jsxs("div",{className:"tab-panel",children:[t.jsx("h4",{children:"Internal Notes"}),t.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"12px"},children:["These notes are ",t.jsx("strong",{children:"internal only"})," and are not visible to members."]}),t.jsx("textarea",{value:ea,onChange:u=>Qi(u.target.value),rows:5,className:"settings-form__input",placeholder:"Add any internal notes about this member (e.g., context, special arrangements, follow-up actions)...",disabled:ot}),!ot&&t.jsx("div",{style:{marginTop:"12px",textAlign:"right"},children:t.jsx("button",{className:"primary-btn",onClick:()=>{const u={...Nr,[W.id]:ea};kr(u),localStorage.setItem("memberNotes",JSON.stringify(u)),qe("Internal note saved")},children:"Save Note"})}),ot&&t.jsx("p",{style:{marginTop:"8px",fontSize:"0.8rem",color:"#6b7280"},children:"You have read-only access. Contact an Owner or Admin to update notes."})]})]})]}),ct==="invoice-builder"&&t.jsxs("article",{className:"screen-card",id:"invoice-builder",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Dr("invoice-builder"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-file-invoice",style:{marginRight:"10px"}}),"Invoice Builder"]}),t.jsx("p",{children:"Create invoices for Lifetime or Yearly + Janaza Fund subscriptions."})]})}),Kt&&fn&&t.jsxs("div",{style:{marginBottom:"24px",padding:"24px",background:"#f0f9ff",borderRadius:"12px",border:"2px solid #5a31ea",boxShadow:"0 4px 12px rgba(90, 49, 234, 0.15)"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#5a31ea",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:"#fff"},children:""}),t.jsxs("div",{children:[t.jsx("h4",{style:{margin:0,fontSize:"1.25rem",fontWeight:"700",color:"#1a1a1a"},children:"Invoice Has Been Created"}),t.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"0.875rem",color:"#666"},children:["Invoice for ",fn.memberName," - ",fn.period," (",fn.amount,")"]})]})]})}),t.jsxs("div",{className:"success-card-actions",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",marginTop:"16px"},children:[t.jsxs("button",{className:"primary-btn",onClick:()=>{fn.member&&(tl(fn.member),St("member-detail"),hn(!1))},style:{padding:"12px 20px",fontSize:"0.9375rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px"}}),"Member Detail"]}),t.jsxs("button",{className:"secondary-btn",onClick:async()=>{fn.member&&await Pl(fn.member)},style:{padding:"12px 20px",fontSize:"0.9375rem",fontWeight:"600"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M20 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM20 8L12 13L4 8V6L12 11L20 6V8Z",fill:"currentColor"})}),"Send Reminder"]}),t.jsx("button",{className:"ghost-btn",onClick:()=>{hn(!1),Bt(null)},style:{padding:"12px 20px",fontSize:"0.9375rem",fontWeight:"600"},children:"Close"})]})]}),t.jsxs("form",{className:"card form-grid",onSubmit:Yl,noValidate:!0,style:{padding:"40px",background:"#ffffff",boxShadow:"0 4px 16px rgba(90, 49, 234, 0.1)"},children:[t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-hashtag",style:{marginRight:"8px",color:"#5a31ea"}}),"Invoice Number"]}),t.jsx("input",{type:"text",value:Jr,readOnly:!0,className:"mono-input",style:{color:"#6b7280",background:"#f3f4f6",cursor:"not-allowed"}})]}),t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Member ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{position:"relative"},"data-member-dropdown":!0,children:[t.jsxs("div",{onClick:()=>Cs(!Xi),style:{padding:"14px 16px",border:"none",borderRadius:"10px",background:"#f8f9ff",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",color:Et.memberId?"#1a1a1a":"#9ca3af",minHeight:"48px",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.08)",transition:"all 0.2s ease"},onMouseEnter:u=>{u.currentTarget.style.boxShadow="0 4px 8px rgba(90, 49, 234, 0.12)"},onMouseLeave:u=>{u.currentTarget.style.boxShadow="0 2px 4px rgba(90, 49, 234, 0.08)"},children:[t.jsx("span",{children:Et.memberId?(()=>{const u=i.find(N=>N.id===Et.memberId);return u?`${u.name} (${u.id})`:"Select Member"})():"Select Member"}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#5a31ea",transition:"transform 0.2s ease",transform:Xi?"rotate(180deg)":"rotate(0deg)",display:"inline-block"},children:""})]}),Xi&&t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#fff",border:"none",borderRadius:"10px",marginTop:"8px",maxHeight:"300px",overflow:"hidden",zIndex:1e3,boxShadow:"0 8px 24px rgba(90, 49, 234, 0.15)"},children:[t.jsxs("div",{style:{padding:"12px",borderBottom:"none",background:"#ffffff",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.05)"},children:[t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:"text",placeholder:" Search member by name or ID...",value:Kn,onChange:u=>Bi(u.target.value),onClick:u=>u.stopPropagation(),onKeyDown:u=>u.stopPropagation(),autoFocus:!0,style:{width:"100%",padding:"12px 36px 12px 16px",border:"none",borderRadius:"4px",fontSize:"0.875rem",outline:"none",background:"#ffffff",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.08)",color:"#1a1a1a"},onFocus:u=>{u.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1), 0 4px 12px rgba(90, 49, 234, 0.12)"},onBlur:u=>{u.target.style.boxShadow="0 2px 4px rgba(90, 49, 234, 0.08)"}}),Kn&&t.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),Bi("")},style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",color:"#666",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center"},title:"Clear search",children:""})]}),Kn&&t.jsxs("div",{style:{marginTop:"8px",fontSize:"0.75rem",color:"#666"},children:[i.filter(u=>!Kn||u.name?.toLowerCase().includes(Kn.toLowerCase())||u.id?.toLowerCase().includes(Kn.toLowerCase())).length," member",i.filter(u=>!Kn||u.name?.toLowerCase().includes(Kn.toLowerCase())||u.id?.toLowerCase().includes(Kn.toLowerCase())).length!==1?"s":""," found"]})]}),t.jsxs("div",{style:{maxHeight:"250px",overflowY:"auto"},children:[i.filter(u=>!Kn||u.name?.toLowerCase().includes(Kn.toLowerCase())||u.id?.toLowerCase().includes(Kn.toLowerCase())).map(u=>t.jsxs("div",{onClick:()=>{rr({...Et,memberId:u.id}),Cs(!1),Bi("")},style:{padding:"14px 16px",cursor:"pointer",borderBottom:"none",background:Et.memberId===u.id?"#f0f4ff":"#fff",transition:"all 0.2s",boxShadow:Et.memberId===u.id?"0 2px 4px rgba(90, 49, 234, 0.1)":"none"},onMouseEnter:N=>{Et.memberId!==u.id&&(N.currentTarget.style.background="#f8f9ff")},onMouseLeave:N=>{Et.memberId!==u.id&&(N.currentTarget.style.background="#fff")},children:[t.jsx("div",{style:{fontWeight:"500",color:"#1a1a1a"},children:u.name}),t.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"2px"},children:[u.id," ",u.email?` ${u.email}`:""]})]},u.id)),i.filter(u=>!Kn||u.name?.toLowerCase().includes(Kn.toLowerCase())||u.id?.toLowerCase().includes(Kn.toLowerCase())).length===0&&t.jsx("div",{style:{padding:"16px",textAlign:"center",color:"#999",fontSize:"0.875rem"},children:"No members found"})]})]})]}),!Et.memberId&&t.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"4px",display:"none"},children:"Please select a member"})]}),t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-id-card",style:{marginRight:"8px",color:"#5a31ea"}}),"Invoice Type ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{required:!0,value:Et.invoiceType,onChange:u=>{const N=u.target.value;rr({...Et,invoiceType:N,amount:N==="Yearly + Janaza Fund"?"500":"250"})},style:{color:"#1a1a1a",background:"#ffffff",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.08)",transition:"all 0.2s"},className:"mono-input",onFocus:u=>{u.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1), 0 4px 12px rgba(90, 49, 234, 0.12)"},onBlur:u=>{u.target.style.boxShadow="0 2px 4px rgba(90, 49, 234, 0.08)"},children:[t.jsx("option",{value:"",children:"Select Invoice Type"}),t.jsx("option",{value:"Lifetime",children:"Lifetime - $250"}),t.jsx("option",{value:"Yearly + Janaza Fund",children:"Yearly + Janaza Fund - $500"})]})]}),t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-calendar",style:{marginRight:"8px",color:"#5a31ea"}}),"Period ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"month",required:!0,value:Et.period?(()=>{try{if(Et.period.match(/^[A-Za-z]{3} \d{4}$/)){const u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],N=Et.period.split(" "),O=N[0],F=parseInt(N[1],10),D=u.findIndex(G=>G.toLowerCase()===O.toLowerCase());if(D!==-1&&!isNaN(F)&&F>0){const G=String(D+1).padStart(2,"0");return`${F}-${G}`}}if(Et.period.match(/^\d{4}-\d{2}$/))return Et.period}catch(u){console.error("Error parsing period:",u)}return""})():"",onChange:u=>{const N=u.target.value;if(N&&N.match(/^\d{4}-\d{2}$/))try{const O=new Date(N+"-01");if(isNaN(O.getTime()))rr({...Et,period:""});else{const F=O.toLocaleDateString("en-US",{month:"short",year:"numeric"});rr({...Et,period:F})}}catch(O){console.error("Error formatting period:",O),rr({...Et,period:""})}else N||rr({...Et,period:""})},onFocus:u=>{u.currentTarget.select()},className:"mono-input",style:{color:"#1a1a1a"}})]}),t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Amount ($) ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",inputMode:"numeric",required:!0,value:Et.amount,onChange:u=>{const N=u.target.value.replace(/\\D/g,"");rr({...Et,amount:N})},className:"mono-input",style:{color:"#1a1a1a"}})]}),t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-calendar-check",style:{marginRight:"8px",color:"#5a31ea"}}),"Due Date ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"date",required:!0,value:Et.due,onChange:u=>{const N=u.target.value;rr({...Et,due:N})},onBlur:u=>{const N=u.target.value;if(N){const O=new Date(N);if(isNaN(O.getTime())){qe("Invalid date format. Please enter a valid date (YYYY-MM-DD)","error");return}const[F,D,G]=N.split("-").map(Number);if(D<1||D>12){qe("Invalid month. Please enter a month between 01 and 12","error");return}if(G<1||G>31){qe("Invalid day. Please enter a valid day for the selected month","error");return}const V=new Date(F,D,0).getDate();if(G>V){qe(`Invalid date. ${D}/${F} only has ${V} days`,"error");return}}},className:"mono-input",style:{color:"#1a1a1a",borderRadius:"4px",width:"100%"}})]}),t.jsxs("label",{className:"notes",style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-sticky-note",style:{marginRight:"8px",color:"#5a31ea"}}),"Notes"]}),t.jsx("textarea",{placeholder:"Add context for this invoice",value:Et.notes,onChange:u=>rr({...Et,notes:u.target.value}),className:"mono-input",style:{color:"#1a1a1a",minHeight:"100px"}})]}),t.jsxs("div",{style:{marginBottom:"16px",padding:"16px 18px",borderRadius:"10px",background:"#f9fafb",border:"1px solid #e5e7eb",fontSize:"0.875rem",color:"#4b5563"},children:[t.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"0.95rem",color:"#111827"},children:"Invoice Preview"}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Invoice #:"})," ",Jr]}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Member:"})," ",Et.memberId?(()=>{const u=i.find(N=>N.id===Et.memberId);return u?`${u.name} (${u.id})`:"Not selected"})():"Not selected"]}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Period:"})," ",Et.period||"N/A"]}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Amount:"})," ",Et.amount?`$${Number(Et.amount||0).toFixed(2)}`:"$0.00"]}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Due Date:"})," ",Et.due?new Date(Et.due).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"]}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Status:"})," Unpaid"]}),Et.notes&&t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Notes:"})," ",Et.notes]})]}),t.jsxs("div",{className:"form-actions",style:{marginTop:"8px",gap:"12px"},children:[t.jsxs("button",{type:"submit",className:"primary-btn",style:{padding:"14px 28px",fontSize:"1rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-file-invoice",style:{marginRight:"8px"}}),"Create Invoice"]}),t.jsx("button",{type:"button",className:"secondary-btn",onClick:async()=>{const u=i.find(Se=>Se.id===Et.memberId);if(!u){qe("Please select a member","error");return}if(!Et.memberId||!Et.period||!Et.due){qe("Please fill all required fields","error");return}const N=parseFloat(Et.amount);if(!N||N<=0||isNaN(N)){qe("Amount must be a positive number","error");return}const O={id:di(),memberId:Et.memberId,memberName:u?.name||"",period:Et.period,amount:`$${N.toFixed(2)}`,status:"Unpaid",due:Et.due,method:"-",reference:"-",notes:Et.notes||""};Ee(O),Bt({...O,member:u}),hn(!0);const D=[...r.filter(Se=>Se.memberId===u.id&&(Se.status==="Unpaid"||Se.status==="Overdue")),O],G=D.reduce((Se,Ze)=>Se+parseFloat(Ze.amount.replace("$","")),0),V=D.map(Se=>` ${Se.period}: ${Se.amount} (Due: ${Se.due}) - ${Se.status}`).join(`
`),Ae=D.map(Se=>`<li style="margin-bottom: 10px;">
                                <strong>${Se.period}</strong>: ${Se.amount} 
                                <span style="color: #666;">(Due: ${Se.due})</span> - 
                                <strong>${Se.status}</strong>
                              </li>`).join("");try{qe("Sending reminder email...");const Ze=await fetch("http://localhost:4000/api/invoices/send-reminder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toEmail:u.email,toName:u.name,memberId:u.id,totalDue:`$${G.toFixed(2)}`,invoiceCount:D.length,invoiceListText:V,invoiceListHTML:Ae,paymentMethods:"FPS, PayMe, or Bank Transfer",portalLink:`${window.location.origin}/member`})}),it=await Ze.json();if(!Ze.ok)throw new Error(it.error||"Failed to send email");console.log(" Email sent successfully:",it);const Wt={channel:"Email",message:`Payment reminder: ${u.name} (${u.email}) - $${G.toFixed(2)} due (${D.length} invoice${D.length>1?"s":""})`,status:"Delivered"};xe(Wt),rr({memberId:"",period:Ii(),amount:"250",invoiceType:"Lifetime",due:"",notes:""}),ke(!1),qe(` Invoice created and reminder sent to ${u.name} for $${G.toFixed(2)}!`),Bt({...O,member:u}),hn(!0)}catch(Se){console.error(" Email send error:",Se);const Ze={channel:"Email",message:`Reminder attempt to ${u.name} - $${G.toFixed(2)} due`,status:"Failed"};xe(Ze),qe(Se.message||"Invoice created but failed to send email. Please check email configuration.","error"),Bt({...O,member:u}),hn(!0)}},children:"Create & Send Reminder"})]})]})]}),ct==="automation"&&t.jsxs("article",{className:"screen-card",id:"automation",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Dr("automation"),t.jsx("h3",{children:"Reminders & Automation"}),t.jsx("p",{children:"Configure automated payment reminders and email templates."})]})}),t.jsx("div",{style:{background:"#ffffff",borderRadius:"12px",padding:"clamp(24px, 4vw, 32px)",border:"none",marginTop:"24px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:t.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:"clamp(16px, 3vw, 24px)",flexWrap:"wrap"},children:[t.jsxs("div",{style:{flex:"1 1 300px",minWidth:"250px"},children:[t.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"700",color:"#000"},children:"Automation Control"}),t.jsx("p",{style:{margin:0,fontSize:"clamp(0.875rem, 2vw, 0.9375rem)",color:"#666",lineHeight:"1.6"},children:"Enable or disable automated payment reminders system-wide"})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"clamp(12px, 2vw, 16px)",flexShrink:0},children:[t.jsx("span",{style:{fontSize:"clamp(0.75rem, 1.5vw, 0.875rem)",fontWeight:"600",color:j?"#000":"#999",textTransform:"uppercase",letterSpacing:"0.5px",minWidth:"28px",textAlign:"right"},children:j?"ON":"OFF"}),t.jsx("button",{type:"button",role:"switch","aria-checked":j,onClick:async()=>{const u=!j;A(u);try{await fetch("http://localhost:4000/api/email-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...gn,automationEnabled:u})}),qe(u?"Automation enabled!":"Automation disabled!")}catch(N){console.error("Error saving automation status:",N),qe("Failed to save automation status","error"),A(!u)}},style:{position:"relative",width:"clamp(60px, 8vw, 72px)",height:"clamp(34px, 5vw, 40px)",borderRadius:"999px",border:"none",background:j?"#5a31ea":"#f3f4f6",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",outline:"none",padding:0,display:"flex",alignItems:"center",boxShadow:j?"0 4px 12px rgba(0,0,0,0.15)":"inset 0 2px 4px rgba(0,0,0,0.1)",WebkitTapHighlightColor:"transparent"},onMouseEnter:u=>{u.currentTarget.style.transform="scale(1.05)"},onMouseLeave:u=>{u.currentTarget.style.transform="scale(1)"},children:t.jsx("span",{style:{position:"absolute",width:"clamp(26px, 4vw, 30px)",height:"clamp(26px, 4vw, 30px)",borderRadius:"50%",background:j?"#ffffff":"#5a31ea",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",left:j?"auto":"4px",right:j?"4px":"auto",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",border:"1px solid rgba(0,0,0,0.1)"}})})]})]})}),t.jsxs("div",{style:{background:"#ffffff",borderRadius:"12px",padding:"clamp(24px, 4vw, 32px)",border:"none",marginTop:"24px",boxShadow:"0 4px 12px rgba(90, 49, 234, 0.12)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"700",color:"#000"},children:"Outstanding Members"}),t.jsx("p",{style:{margin:0,fontSize:"clamp(0.875rem, 2vw, 0.9375rem)",color:"#666",lineHeight:"1.6"},children:"Send manual reminder emails or WhatsApp messages to members with outstanding invoices"})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("button",{type:"button",onClick:()=>{Ln.includes("Email")?Ma(u=>u.filter(N=>N!=="Email")):Ma(u=>[...u,"Email"])},disabled:ar||Sr||!Y,title:"Email",style:{padding:"12px",borderRadius:"8px",fontWeight:"600",fontSize:"1.25rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:ar||Sr||!Y?"not-allowed":"pointer",transition:"all 0.2s ease",background:Ln.includes("Email")?"#5a31ea":"#ffffff",color:Ln.includes("Email")?"#ffffff":"#6b7280",border:Ln.includes("Email")?"2px solid #5a31ea":"2px solid #e5e7eb",boxShadow:Ln.includes("Email")?"0 2px 8px rgba(90, 49, 234, 0.3)":"none",opacity:ar||Sr||!Y?.5:1,width:"48px",height:"48px"},onMouseEnter:u=>{!ar&&!Sr&&Y&&!Ln.includes("Email")&&(u.target.style.background="#f3f4f6",u.target.style.color="#374151")},onMouseLeave:u=>{!ar&&!Sr&&Y&&!Ln.includes("Email")&&(u.target.style.background="#ffffff",u.target.style.color="#6b7280")},children:t.jsx("i",{className:"fas fa-envelope"})}),t.jsx("button",{type:"button",onClick:()=>{Ln.includes("WhatsApp")?Ma(u=>u.filter(N=>N!=="WhatsApp")):Ma(u=>[...u,"WhatsApp"])},disabled:ar||Sr||!Y,title:"WhatsApp",style:{padding:"12px",borderRadius:"8px",fontWeight:"600",fontSize:"1.25rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:ar||Sr||!Y?"not-allowed":"pointer",transition:"all 0.2s ease",background:Ln.includes("WhatsApp")?"#25D366":"#ffffff",color:Ln.includes("WhatsApp")?"#ffffff":"#25D366",border:(Ln.includes("WhatsApp"),"2px solid #25D366"),boxShadow:Ln.includes("WhatsApp")?"0 2px 8px rgba(37, 211, 102, 0.3)":"none",opacity:ar||Sr||!Y?.5:1,width:"48px",height:"48px"},onMouseEnter:u=>{!ar&&!Sr&&Y&&!Ln.includes("WhatsApp")&&(u.target.style.background="#dcfce7",u.target.style.color="#16a34a")},onMouseLeave:u=>{!ar&&!Sr&&Y&&!Ln.includes("WhatsApp")&&(u.target.style.background="#ffffff",u.target.style.color="#25D366")},children:t.jsx("i",{className:"fab fa-whatsapp"})}),Ln.length>0&&t.jsx("button",{className:"primary-btn",onClick:el,disabled:ar||Sr||!Y,style:{padding:"12px 20px",borderRadius:"4px",fontWeight:"600",fontSize:"0.875rem",opacity:ar||Sr||!Y?.5:1,cursor:ar||Sr||!Y?"not-allowed":"pointer"},children:ar||Sr?"Sending...":"Send All"})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[i.filter(u=>r.filter(O=>O.memberId===u.id&&(O.status==="Unpaid"||O.status==="Overdue")).length>0).map(u=>{const N=r.filter(V=>V.memberId===u.id&&(V.status==="Unpaid"||V.status==="Overdue")),O=N.reduce((V,Ae)=>{const Se=parseFloat(Ae.amount?.replace(/[^0-9.]/g,"")||0);return V+Se},0),F=N.filter(V=>V.status==="Overdue").length,D=N.filter(V=>V.status==="Unpaid").length,G=Oo[u.id];return t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",background:"#f9f9f9",borderRadius:"4px",border:"1px solid #e0e0e0",gap:"16px",flexWrap:"wrap"},children:[t.jsxs("div",{style:{flex:"1 1 300px",minWidth:"200px"},children:[t.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#000",marginBottom:"4px"},children:u.name}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"4px"},children:u.email}),t.jsxs("div",{style:{display:"flex",gap:"12px",fontSize:"0.8125rem",color:"#666"},children:[t.jsxs("span",{children:[t.jsxs("strong",{style:{color:"#000"},children:["$",O.toFixed(2)]})," outstanding"]}),F>0&&t.jsxs("span",{style:{color:"#ef4444",fontWeight:"600"},children:[F," overdue"]}),D>0&&t.jsxs("span",{style:{color:"#ef4444",fontWeight:"600"},children:[D," unpaid"]})]})]}),t.jsx("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:t.jsx("button",{className:"secondary-btn",onClick:()=>Es(u,!1),disabled:G||ps[u.id],style:{padding:"12px 20px",borderRadius:"4px",fontWeight:"600",fontSize:"0.875rem",opacity:G||ps[u.id]?.5:1,cursor:G||ps[u.id]?"not-allowed":"pointer"},children:G||ps[u.id]?"Sending...":t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M12 22C13.1 22 14 21.1 14 20H10C10 21.1 10.89 22 12 22ZM18 16V11C18 7.93 16.36 5.36 13.5 4.68V4C13.5 3.17 12.83 2.5 12 2.5C11.17 2.5 10.5 3.17 10.5 4V4.68C7.63 5.36 6 7.92 6 11V16L4 18V19H20V18L18 16Z",fill:"#5a31ea"})}),"Send Reminder"]})})})]},u.id)}),i.filter(u=>r.filter(O=>O.memberId===u.id&&(O.status==="Unpaid"||O.status==="Overdue")).length>0).length===0&&t.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#666",fontSize:"0.9375rem"},children:"No members with outstanding invoices"})]})]}),t.jsxs("div",{style:{marginTop:"32px"},children:[t.jsx("h4",{style:{margin:"0 0 20px 0",fontSize:"1.25rem",fontWeight:"700",color:"#000"},children:"Email Template"}),t.jsxs("div",{style:{background:"#fff",border:"none",borderRadius:"12px",padding:"32px",boxShadow:"0 4px 12px rgba(90, 49, 234, 0.12)"},children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:"Email Subject"}),t.jsx("input",{type:"text",value:Yi.subject,onChange:u=>fr({...Yi,subject:u.target.value}),placeholder:"Payment Reminder - Outstanding Balance",style:{width:"100%",padding:"12px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"}}),t.jsxs("small",{style:{display:"block",marginTop:"6px",fontSize:"0.75rem",color:"#666"},children:["You can use placeholders: ","{{member_name}}",", ","{{total_due}}",", ","{{invoice_count}}"]})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:"HTML Email Template"}),t.jsx("textarea",{value:Yi.htmlTemplate,onChange:u=>fr({...Yi,htmlTemplate:u.target.value}),rows:20,style:{width:"100%",padding:"14px",border:"1.5px solid #e0e0e0",borderRadius:"10px",fontSize:"0.875rem",fontFamily:"monospace",resize:"vertical",transition:"all 0.2s ease"},onFocus:u=>{u.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1), 0 4px 12px rgba(90, 49, 234, 0.12)",u.target.style.boxShadow="0 0 0 3px rgba(0,0,0,0.05)"},onBlur:u=>{u.target.style.borderColor="#e0e0e0",u.target.style.boxShadow="none"},placeholder:"Enter HTML email template..."}),t.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:"#f8f9fa",borderRadius:"4px",fontSize:"0.75rem",color:"#666"},children:[t.jsx("strong",{children:"Available Placeholders:"}),t.jsxs("ul",{style:{margin:"8px 0 0 0",paddingLeft:"20px"},children:[t.jsxs("li",{children:[t.jsx("code",{children:"{{member_name}}"})," - Member's full name"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{member_id}}"})," - Member ID"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{member_email}}"})," - Member email"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{total_due}}"})," - Total outstanding amount"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{invoice_count}}"})," - Number of unpaid invoices"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{invoice_list}}"})," - HTML list of invoices"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{payment_methods}}"})," - Payment methods list"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{portal_link}}"})," - Member portal URL"]})]})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",paddingTop:"16px",borderTop:"1px solid #e0e0e0"},children:[t.jsxs("button",{className:"secondary-btn",onClick:Sl,style:{padding:"12px 24px",borderRadius:"4px",fontWeight:"600"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",fill:"currentColor"})}),"Preview Template"]}),t.jsxs("button",{className:"primary-btn",onClick:kl,style:{padding:"12px 24px",borderRadius:"4px",fontWeight:"600"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M17 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V7L17 3ZM19 19H5V5H16.17L19 7.83V19ZM12 12C10.34 12 9 13.34 9 15S10.34 18 12 18 15 16.66 15 15 13.66 12 12 12ZM6 6H15V10H6V6Z",fill:"#ffffff"})}),"Save Email Template"]})]})]})]}),t.jsxs("div",{id:"email-config-section",style:{marginTop:"32px"},children:[t.jsx("h4",{style:{margin:"0 0 20px 0",fontSize:"1.25rem",fontWeight:"700",color:"#000"},children:"Email Automation Configuration"}),t.jsxs("div",{style:{background:"#fff",border:"none",borderRadius:"12px",padding:"32px",boxShadow:"0 4px 12px rgba(90, 49, 234, 0.12)"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px",marginBottom:"24px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:"Email Service"}),t.jsxs("select",{value:gn.emailService,onChange:u=>us({...gn,emailService:u.target.value}),style:{width:"100%",padding:"12px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"},children:[t.jsx("option",{value:"gmail",children:"Gmail"}),t.jsx("option",{value:"outlook",children:"Outlook"}),t.jsx("option",{value:"yahoo",children:"Yahoo"}),t.jsx("option",{value:"custom",children:"Custom SMTP"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:["Email Address ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"email",value:gn.emailUser,onChange:u=>us({...gn,emailUser:u.target.value}),placeholder:"your-email@gmail.com",style:{width:"100%",padding:"12px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"}})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:["App Password ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:hr?"text":"password",value:gn.emailPassword,onChange:u=>us({...gn,emailPassword:u.target.value}),placeholder:"Enter app password",style:{width:"100%",padding:"12px",paddingRight:"45px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"}}),t.jsx("button",{type:"button",onClick:()=>Fi(!hr),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},"aria-label":hr?"Hide password":"Show password",children:hr?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),t.jsx("small",{style:{display:"block",marginTop:"6px",fontSize:"0.75rem",color:"#666"},children:"For Gmail: Use App Password (not regular password)"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:"Schedule Time"}),t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("input",{type:"time",value:gn.scheduleTime,onChange:u=>{const N=u.target.value;us({...gn,scheduleTime:N});const[O]=N.split(":").map(Number);fs(O>=12?"PM":"AM")},style:{flex:1,padding:"12px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"}}),t.jsxs("select",{value:Ir,onChange:u=>{const N=u.target.value;fs(N);const[O,F]=gn.scheduleTime.split(":").map(Number);let D=O;N==="AM"&&O===12?D=0:N==="PM"&&O!==12?D=O+12:N==="AM"&&O>=12?D=O-12:N==="PM"&&O<12&&(D=O+12);const G=`${D.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}`;us({...gn,scheduleTime:G})},style:{padding:"12px 16px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit",background:"white",cursor:"pointer",fontWeight:"500"},children:[t.jsx("option",{value:"AM",children:"AM"}),t.jsx("option",{value:"PM",children:"PM"})]})]}),t.jsxs("small",{style:{display:"block",marginTop:"6px",fontSize:"0.75rem",color:"#666"},children:["Daily reminder time (24-hour format stored: ",gn.scheduleTime,")"]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:"Reminder Interval (days)"}),t.jsx("input",{type:"number",min:"1",max:"30",value:gn.reminderInterval,onChange:u=>us({...gn,reminderInterval:parseInt(u.target.value)||7}),style:{width:"100%",padding:"12px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"}}),t.jsx("small",{style:{display:"block",marginTop:"6px",fontSize:"0.75rem",color:"#666"},children:"Days between reminder emails (min: 1, max: 30)"})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",paddingTop:"16px",borderTop:"1px solid #e0e0e0"},children:[t.jsx("button",{className:"secondary-btn",onClick:Al,disabled:ya||!gn.emailUser||!gn.emailPassword,style:{padding:"12px 24px",borderRadius:"4px",fontWeight:"600",opacity:ya||!gn.emailUser||!gn.emailPassword?.5:1,cursor:ya||!gn.emailUser||!gn.emailPassword?"not-allowed":"pointer"},children:ya?"Sending...":t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M20 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM20 8L12 13L4 8V6L12 11L20 6V8Z",fill:"currentColor"})}),"Test Email"]})}),t.jsxs("button",{className:"primary-btn",onClick:Xs,style:{padding:"12px 24px",borderRadius:"4px",fontWeight:"600"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M17 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V7L17 3ZM19 19H5V5H16.17L19 7.83V19ZM12 12C10.34 12 9 13.34 9 15S10.34 18 12 18 15 16.66 15 15 13.66 12 12 12ZM6 6H15V10H6V6Z",fill:"#ffffff"})}),"Save Email Settings"]})]})]})]}),t.jsx("div",{style:{marginTop:"32px",display:"flex",justifyContent:"flex-end"},children:t.jsx("button",{className:"primary-btn",onClick:wl,disabled:wo,style:{padding:"12px 24px",fontSize:"0.9375rem",fontWeight:"600",borderRadius:"4px",color:"#ffffff",opacity:wo?.6:1,cursor:wo?"not-allowed":"pointer"},children:wo?t.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#ffffff"},children:[t.jsxs("svg",{style:{animation:"spin 1s linear infinite",width:"16px",height:"16px"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),t.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}),"Saving..."]}):t.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#ffffff"},children:[t.jsx("i",{className:"fas fa-save"}),"Save All Settings"]})})})]}),ct==="communications"&&t.jsxs("article",{className:"screen-card",id:"communications",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Dr("communications"),t.jsx("h3",{children:"Reminders Log"}),t.jsx("p",{children:"See all reminder emails and WhatsApp messages sent to members."})]})}),(()=>{const u=(C||[]).map(Ze=>{const it=Ze.status?String(Ze.status).trim():"",Wt=it.toLowerCase();let yt="Delivered";return Wt==="failed"?yt="Failed":Wt==="pending"?yt="Pending":it&&(yt=it),{status:yt}}),N=(m||[]).filter(Ze=>Ze.channel==="WhatsApp").map(Ze=>({status:(Ze.status?String(Ze.status).trim():"")||"Delivered"})),O=[...u,...N],F=O.length,D=u.length,G=N.length,V=O.filter(Ze=>Ze.status==="Delivered").length,Ae=O.filter(Ze=>Ze.status==="Failed").length,Se=O.filter(Ze=>Ze.status==="Pending").length;return t.jsxs("div",{className:"kpi-grid",style:{marginBottom:"24px"},children:[t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-bell admin-dashboard-kpi-icon"}),"Total Reminders"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value",children:Pr(F)})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-envelope admin-dashboard-kpi-icon"}),"Email Reminders"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value",children:Pr(D)})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fab fa-whatsapp admin-dashboard-kpi-icon--green"}),"WhatsApp Reminders"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value",children:Pr(G)})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-check-circle admin-dashboard-kpi-icon--green"}),"Delivered"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--green",children:Pr(V)})]}),Ae>0&&t.jsxs("div",{className:"admin-dashboard-kpi-card admin-dashboard-kpi-card--error",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label admin-dashboard-kpi-label--error",children:[t.jsx("i",{className:"fas fa-times-circle admin-dashboard-kpi-icon--red"}),"Failed"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--red",children:Pr(Ae)})]}),Se>0&&t.jsxs("div",{className:"admin-dashboard-kpi-card admin-dashboard-kpi-card--error",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label admin-dashboard-kpi-label--error",children:[t.jsx("i",{className:"fas fa-clock admin-dashboard-kpi-icon--red"}),"Pending"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--red",children:Pr(Se)})]})]})})(),t.jsxs("div",{className:"admin-communications-filter-card",children:[t.jsxs("div",{className:"admin-communications-filters-container",children:[t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a"},children:"Filter by Status:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Delivered",label:"Delivered"},{value:"Failed",label:"Failed"},{value:"Pending",label:"Pending"}].map(u=>t.jsx("button",{type:"button",onClick:()=>{Js(u.value),qa(1)},style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:ta===u.value?"#5a31ea":"transparent",color:ta===u.value?"#ffffff":"#6b7280",boxShadow:ta===u.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:N=>{ta!==u.value&&(N.target.style.background="#e5e7eb",N.target.style.color="#374151")},onMouseLeave:N=>{ta!==u.value&&(N.target.style.background="transparent",N.target.style.color="#6b7280")},children:u.label},u.value))})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a"},children:"Filter by Channel:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Email",label:"Email"},{value:"WhatsApp",label:"WhatsApp"}].map(u=>t.jsx("button",{type:"button",onClick:()=>{Ks(u.value),qa(1)},style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:na===u.value?"#5a31ea":"transparent",color:na===u.value?"#ffffff":"#6b7280",boxShadow:na===u.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:N=>{na!==u.value&&(N.target.style.background="#e5e7eb",N.target.style.color="#374151")},onMouseLeave:N=>{na!==u.value&&(N.target.style.background="transparent",N.target.style.color="#6b7280")},children:u.label},u.value))})]})]}),(()=>{const u=(C||[]).map(D=>({memberName:(i.find(V=>V.id===D.memberId)||i.find(V=>V.email&&D.memberEmail&&V.email.toLowerCase()===D.memberEmail.toLowerCase()))?.name||D.memberEmail||"N/A",memberId:D.memberId,channel:"Email",type:D.reminderType==="overdue"?"Overdue (auto/manual)":"Upcoming (auto/manual)",message:`Email reminder - ${D.amount}  ${D.invoiceCount} invoice(s)`,date:D.sentAt?new Date(D.sentAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A",status:(()=>{const V=D.status?String(D.status).trim():"",Ae=V.toLowerCase();return Ae==="failed"?"Failed":Ae==="pending"?"Pending":V||"Delivered"})(),rawDate:D.sentAt||null,raw:D})),N=(m||[]).filter(D=>D.channel==="WhatsApp").map(D=>{const V=(D.status?String(D.status).trim():"")||"Delivered";return{memberName:D.memberName||D.member||"N/A",memberId:D.memberId,channel:"WhatsApp",type:D.type||"Manual Outstanding Reminder",message:D.message,date:D.date,status:V,rawDate:D.timestamp||null,raw:D}});let O=[...u,...N];O=O.filter(D=>{const G=D.status?String(D.status).trim():"Delivered";let V=!1;if(ta==="All")V=!0;else{const Ze=ta.toLowerCase(),it=G.toLowerCase();V=Ze===it}const Ae=D.channel?String(D.channel).trim():"";return V&&(na==="All"||Ae===na)}),O.sort((D,G)=>{const V=D.rawDate?new Date(D.rawDate).getTime():0;return(G.rawDate?new Date(G.rawDate).getTime():0)-V});const F=O.length;if(F===0){const D=(C||[]).map(Se=>{const Ze=Se.status?String(Se.status).trim():"",it=Ze.toLowerCase();let Wt="Delivered";return it==="failed"?Wt="Failed":it==="pending"?Wt="Pending":Ze&&(Wt=Ze),{status:Wt,channel:"Email"}}),G=(m||[]).filter(Se=>Se.channel==="WhatsApp").map(Se=>({status:Se.status||"Delivered",channel:"WhatsApp"})),V=D.length+G.length;let Ae="No reminders have been sent yet.";return V>0&&(ta!=="All"&&na!=="All"?Ae=`No ${ta.toLowerCase()} ${na.toLowerCase()} reminders found.`:ta!=="All"?Ae=`No ${ta.toLowerCase()} reminders found.`:na!=="All"&&(Ae=`No ${na.toLowerCase()} reminders found.`)),t.jsx("div",{style:{padding:"32px 20px",textAlign:"center",color:"#666"},children:t.jsx("p",{style:{margin:0},children:Ae})})}return t.jsx(t.Fragment,{children:(()=>{const D=Math.max(Ys,10),G=Math.max(1,Math.ceil(F/D)),V=Math.min(rs,G),Ae=(V-1)*D,Se=Ae+D,Ze=O.slice(Ae,Se);return t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Member"}),t.jsx("th",{children:"Channel"}),t.jsx("th",{children:"Type"}),t.jsx("th",{children:"Message"}),t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Ze.map((it,Wt)=>t.jsxs("tr",{children:[t.jsxs("td",{children:[it.memberName||it.member||"N/A",it.memberId?` (${it.memberId})`:""]}),t.jsx("td",{children:it.channel||"N/A"}),t.jsx("td",{children:it.type||"-"}),t.jsx("td",{style:{maxWidth:"320px",whiteSpace:"normal"},children:it.message||"N/A"}),t.jsx("td",{children:it.date||"N/A"}),t.jsx("td",{children:t.jsx("span",{className:li[it.status]||"badge",children:it.status||"N/A"})}),t.jsx("td",{children:t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[t.jsx("button",{type:"button",className:"icon-btn icon-btn--view",title:"View full message","aria-label":"View full message",onClick:()=>{const yt=[`Member: ${it.memberName||"N/A"}`,`Channel: ${it.channel||"N/A"}`,`Type: ${it.type||"-"}`,`Date: ${it.date||"N/A"}`,"","Message:",it.message||"N/A"].join(`
`);window.alert(yt)},children:t.jsx("i",{className:"fas fa-eye","aria-hidden":"true"})}),it.channel==="Email"&&it.status==="Failed"&&!ot&&t.jsx("button",{type:"button",className:"icon-btn icon-btn--edit",title:"Retry sending","aria-label":"Retry sending reminder",onClick:async()=>{try{const yt=it.raw,yn=yt?._id||yt?.id,on=await fetch("http://localhost:4000/api/reminders/retry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reminderId:yn})}),xn=await on.json();on.ok?(qe(xn.message||"Reminder retry queued"),typeof K=="function"&&K()):qe(xn.error||"Failed to retry reminder","error")}catch(yt){console.error("Retry reminder failed",yt),qe("Failed to retry reminder","error")}},children:t.jsx("i",{className:"fas fa-redo","aria-hidden":"true"})})]})})]},`${it.memberId||it.memberName||"row"}-${Ae+Wt}`))})]})}),t.jsxs("div",{style:{marginTop:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"8px"},children:[t.jsxs("div",{style:{fontSize:"0.875rem",color:"#555"},children:["Showing"," ",t.jsxs("strong",{children:[Ae+1,"-",Math.min(Se,F)]})," ","of ",t.jsx("strong",{children:F})," reminders"]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("button",{type:"button",className:"secondary-btn",disabled:V<=1,onClick:()=>qa(Math.max(1,V-1)),children:"Previous"}),t.jsxs("span",{style:{fontSize:"0.875rem"},children:["Page ",t.jsx("strong",{children:V})," of ",t.jsx("strong",{children:G})]}),t.jsx("button",{type:"button",className:"secondary-btn",disabled:V>=G,onClick:()=>qa(Math.min(G,V+1)),children:"Next"})]})]})]})})()})})()]})]}),ct==="payment-methods"&&t.jsxs("article",{className:"screen-card",id:"payment-methods",children:[t.jsxs("header",{className:"screen-card__header",children:[t.jsxs("div",{children:[t.jsx("h3",{children:"Payment Methods"}),t.jsx("p",{children:"Configure payment methods and QR codes for member payments."})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",padding:"8px 16px",background:"#f8f9fa",borderRadius:"8px",fontSize:"0.875rem"},children:[t.jsx("span",{style:{color:"#666"},children:"Active Methods:"}),t.jsx("strong",{style:{color:"#000"},children:p.filter(u=>(u.name==="Alipay"||u.name==="PayMe"||u.name==="FPS"||u.name==="Direct Bank Transfer")&&u.visible).length})]})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"24px",marginTop:"32px"},children:p.filter(u=>u.name==="PayMe"||u.name==="FPS"||u.name==="Direct Bank Transfer").map(u=>{const N=u.name==="PayMe",O=async(F,D)=>{const G=F.target.files[0];if(G){if(!G.type.startsWith("image/")){qe("Please upload an image file","error");return}Ri(V=>({...V,[D]:!0}));try{const V="http://localhost:4000",Ae=new FormData;Ae.append("screenshot",G),Ae.append("uploadType","qr-code");const Se=await fetch(`${V}/api/upload/screenshot`,{method:"POST",body:Ae});if(!Se.ok){let Wt="Failed to upload QR code";try{const yt=await Se.json();Wt=yt.error||Wt,console.error("Upload error response:",yt)}catch(yt){console.error("Failed to parse error response:",yt),Wt=`Upload failed with status ${Se.status}`}throw new Error(Wt)}const Ze=await Se.json();if(!Ze.url)throw new Error("No URL returned from upload. Please try again.");const it=Ze.url;await z(D,{qrImageUrl:it}),qe(`${D} QR code uploaded successfully!`)}catch(V){console.error("Error uploading QR code:",V),qe(V.message||"Failed to upload QR code. Please try again.","error")}finally{Ri(V=>({...V,[D]:!1}))}}};return t.jsxs("div",{style:{background:"#fff",border:"none",borderRadius:"20px",padding:"28px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",boxShadow:u.visible?"0 10px 30px rgba(0,0,0,0.08), 0 0 0 1px rgba(0,0,0,0.05)":"0 2px 8px rgba(0,0,0,0.04)",display:"flex",flexDirection:"column",gap:"20px",overflow:"hidden"},onMouseEnter:F=>{u.visible&&(F.currentTarget.style.boxShadow="0 12px 36px rgba(0,0,0,0.12), 0 0 0 1px rgba(0,0,0,0.08)",F.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:F=>{u.visible&&(F.currentTarget.style.boxShadow="0 10px 30px rgba(0,0,0,0.08), 0 0 0 1px rgba(0,0,0,0.05)",F.currentTarget.style.transform="translateY(0)")},children:[t.jsx("div",{onClick:async()=>{try{await z(u.name,{visible:!u.visible})}catch(F){console.error("Error updating payment method:",F)}},style:{position:"absolute",top:"20px",right:"20px",padding:"6px 14px",borderRadius:"20px",fontSize:"0.7rem",fontWeight:"700",background:u.visible?"#e8f5e9":"#f5f5f5",color:u.visible?"#1b5e20":"#757575",textTransform:"uppercase",letterSpacing:"0.8px",cursor:"pointer",transition:"all 0.2s ease",userSelect:"none",border:u.visible?"1px solid #a5d6a7":"1px solid #e0e0e0",boxShadow:u.visible?"0 2px 4px rgba(0,0,0,0.1)":"none"},onMouseEnter:F=>{F.target.style.transform="scale(1.08)",F.target.style.boxShadow=u.visible?"0 4px 8px rgba(0,0,0,0.15)":"0 2px 4px rgba(0,0,0,0.1)"},onMouseLeave:F=>{F.target.style.transform="scale(1)",F.target.style.boxShadow=u.visible?"0 2px 4px rgba(0,0,0,0.1)":"none"},children:u.visible?" Active":" Inactive"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"18px",marginBottom:"4px",paddingBottom:"20px",borderBottom:"1px solid #e5e7eb"},children:[t.jsxs("div",{style:{width:"64px",height:"64px",borderRadius:"16px",background:u.name==="PayMe"?"#00C300":u.name==="FPS"?"#0066CC":"#E60012",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"28px",fontWeight:"700",color:"#fff",boxShadow:"0 6px 16px rgba(0,0,0,0.15)",position:"relative"},children:[u.name==="PayMe"?"P":u.name==="FPS"?"F":"B",u.visible&&t.jsx("div",{style:{position:"absolute",top:"-4px",right:"-4px",width:"18px",height:"18px",borderRadius:"50%",background:"#4caf50",border:"2px solid #fff",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("span",{style:{fontSize:"10px",color:"#fff"},children:""})})]}),t.jsxs("div",{style:{flex:1},children:[t.jsx("h4",{style:{margin:0,fontSize:"1.625rem",fontWeight:"700",color:"#000",letterSpacing:"-0.5px",marginBottom:"6px"},children:u.name==="Direct Bank Transfer"?"Bank Transfer":u.name}),t.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#666",fontWeight:"500"},children:u.name==="PayMe"?"PayMe by HSBC":u.name==="FPS"?"Faster Payment System":"Direct Bank Transfer"})]})]}),N?t.jsx("div",{style:{background:"#f9fafb",borderRadius:"16px",padding:"28px",border:u.qrImageUrl?"1px solid #e0e0e0":"2px dashed #d0d0d0",minHeight:"300px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"20px",position:"relative",transition:"all 0.3s ease"},children:u.qrImageUrl?t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{padding:"16px",background:"#fff",borderRadius:"12px",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:"1px solid #e0e0e0"},children:t.jsx("img",{src:u.qrImageUrl,alt:`${u.name} QR Code`,style:{maxWidth:"260px",maxHeight:"260px",width:"100%",height:"auto",borderRadius:"4px",display:"block",objectFit:"contain"}})}),t.jsx("button",{onClick:()=>{const F=document.createElement("input");F.type="file",F.accept="image/*",F.onchange=D=>O(D,u.name),F.click()},disabled:Xr[u.name],style:{padding:"10px 20px",background:"#fff",border:"none",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.1)",borderRadius:"4px",fontSize:"0.875rem",fontWeight:"600",cursor:Xr[u.name]?"not-allowed":"pointer",transition:"all 0.2s ease",color:"#000",opacity:Xr[u.name]?.6:1},onMouseEnter:F=>{Xr[u.name]||(F.target.style.background="#000",F.target.style.color="#fff",F.target.style.transform="translateY(-2px)",F.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)")},onMouseLeave:F=>{Xr[u.name]||(F.target.style.background="#fff",F.target.style.color="#000",F.target.style.transform="translateY(0)",F.target.style.boxShadow="none")},children:Xr[u.name]?" Uploading...":" Change QR Code"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",color:"#bbb",marginBottom:"12px",border:"2px dashed #d0d0d0"},children:""}),t.jsx("p",{style:{margin:0,fontSize:"0.9375rem",color:"#666",textAlign:"center",marginBottom:"4px",fontWeight:"500"},children:"No QR code uploaded"}),t.jsx("p",{style:{margin:0,fontSize:"0.8125rem",color:"#999",textAlign:"center",marginBottom:"16px"},children:"Upload a QR code image to enable this payment method"}),t.jsxs("label",{style:{padding:"12px 24px",background:"#1a1a1a",color:"#fff",borderRadius:"10px",fontSize:"0.875rem",fontWeight:"600",cursor:Xr[u.name]?"not-allowed":"pointer",display:"inline-block",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",opacity:Xr[u.name]?.6:1},onMouseEnter:F=>{Xr[u.name]||(F.target.style.transform="translateY(-2px)",F.target.style.boxShadow="0 6px 16px rgba(0,0,0,0.2)")},onMouseLeave:F=>{Xr[u.name]||(F.target.style.transform="translateY(0)",F.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)")},children:[Xr[u.name]?" Uploading...":" Upload QR Code",t.jsx("input",{type:"file",accept:"image/*",onChange:F=>O(F,u.name),style:{display:"none"},disabled:Xr[u.name]})]})]})}):t.jsxs("div",{style:{background:"#f9fafb",borderRadius:"16px",padding:"24px",border:"1px solid #e0e0e0"},children:[t.jsxs("div",{style:{fontSize:"0.8125rem",fontWeight:"700",color:"#666",marginBottom:"18px",textTransform:"uppercase",letterSpacing:"1px",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Payment Details"})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:u.details&&u.details.map((F,D)=>t.jsx("div",{style:{padding:"16px 18px",background:"#fff",borderRadius:"10px",fontSize:"0.9375rem",color:"#333",borderLeft:"4px solid #5a31ea",fontWeight:"500",boxShadow:"0 2px 6px rgba(0,0,0,0.06)",transition:"all 0.2s ease"},onMouseEnter:G=>{G.currentTarget.style.boxShadow="0 4px 10px rgba(0,0,0,0.1)",G.currentTarget.style.transform="translateX(4px)"},onMouseLeave:G=>{G.currentTarget.style.boxShadow="0 2px 6px rgba(0,0,0,0.06)",G.currentTarget.style.transform="translateX(0)"},children:F},`${u.name}-detail-${D}`))})]}),t.jsxs("div",{onClick:async()=>{try{await z(u.name,{visible:!u.visible})}catch(F){console.error("Error updating payment method:",F)}},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"18px 20px",background:u.visible?"#f8f9ff":"#f9fafb",borderRadius:"12px",border:`2px solid ${u.visible?"#2196F3":"#e0e0e0"}`,cursor:"pointer",transition:"all 0.3s ease",marginTop:"4px"},onMouseEnter:F=>{F.currentTarget.style.background=u.visible?"#bbdefb":"#f3f4f6",F.currentTarget.style.borderColor=u.visible?"#1976D2":"#ccc",F.currentTarget.style.transform="scale(1.01)"},onMouseLeave:F=>{F.currentTarget.style.background=u.visible?"#f8f9ff":"#fafafa",F.currentTarget.style.borderColor=u.visible?"#2196F3":"#e0e0e0",F.currentTarget.style.transform="scale(1)"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("span",{style:{fontSize:"0.9375rem",fontWeight:"700",color:u.visible?"#1565C0":"#666",display:"block",marginBottom:"6px"},children:u.visible?" Enabled for members":" Disabled for members"}),t.jsx("span",{style:{fontSize:"0.8125rem",color:u.visible?"#1976D2":"#999",lineHeight:"1.4"},children:u.visible?"This payment method is visible to all members":"This payment method is hidden from members"})]}),t.jsxs("label",{className:"switch",style:{margin:0,marginLeft:"16px"},onClick:F=>F.stopPropagation(),children:[t.jsx("input",{type:"checkbox",checked:u.visible,onChange:async F=>{F.stopPropagation();try{await z(u.name,{visible:F.target.checked})}catch(D){console.error("Error updating payment method:",D)}},tabIndex:-1,onFocus:F=>F.target.blur()}),t.jsx("span",{})]})]})]},u.name)})})]}),ct==="payment-approvals"&&t.jsxs("article",{className:"screen-card",id:"payment-approvals",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("div",{children:[t.jsx("h3",{children:"Payment Approvals"}),t.jsx("p",{children:"Review and approve member payment submissions."})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[t.jsx("button",{className:"primary-btn",onClick:()=>{ti(!0),gr(null),_n({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""})},children:"+ Add Payment"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Pending",label:"Pending"},{value:"Completed",label:"Approved"},{value:"Rejected",label:"Rejected"}].map(u=>t.jsx("button",{type:"button",onClick:()=>Oi(u.value),style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:En===u.value?"#5a31ea":"transparent",color:En===u.value?"#ffffff":"#6b7280",boxShadow:En===u.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:N=>{En!==u.value&&(N.target.style.background="#e5e7eb",N.target.style.color="#374151")},onMouseLeave:N=>{En!==u.value&&(N.target.style.background="transparent",N.target.style.color="#6b7280")},children:u.label},u.value))}),t.jsxs("div",{style:{padding:"10px 16px",background:"#fee2e2",borderRadius:"4px",fontSize:"0.875rem",fontWeight:"600",color:"#ef4444",border:"1px solid #ef4444"},children:[" Pending: ",(o||[]).filter(u=>u.status==="Pending").length]})]})]})}),Ps&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:u=>{u.target,u.currentTarget},children:t.jsxs("div",{className:"card",style:{maxWidth:"640px",width:"100%",maxHeight:"90vh",overflowY:"auto",position:"relative",background:"#ffffff"},onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsx("h4",{style:{margin:0},children:ni?"Edit Payment":"Add New Payment"}),t.jsx("button",{className:"ghost-btn",type:"button",onClick:()=>{Da({memberId:!1,amount:!1,method:!1,screenshot:!1}),ja(null),ti(!1),gr(null),_n({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""})},style:{fontSize:"1.5rem",lineHeight:1,color:"#ef4444",fontWeight:"bold",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",border:"1px solid #ef4444",background:"transparent",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:u=>{u.target.style.background="#fee2e2"},onMouseLeave:u=>{u.target.style.background="transparent"},children:""})]}),t.jsxs("form",{className:"form-grid",onSubmit:ni?No:ms,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Member ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:jt.memberId,onChange:u=>{const N=i.find(O=>O.id===u.target.value);_n({...jt,memberId:u.target.value,member:N?N.name:""})},required:!0,children:[t.jsx("option",{value:"",children:"Select Member"}),i.map(u=>t.jsxs("option",{value:u.id,children:[u.name," (",u.id,")"]},u.id))]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-hashtag",style:{marginRight:"8px",color:"#5a31ea"}}),"Invoice ID"]}),t.jsx("input",{type:"text",value:jt.invoiceId,onChange:u=>_n({...jt,invoiceId:u.target.value}),placeholder:"INV-2025-001"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Amount ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:jt.amount,onChange:u=>_n({...jt,amount:u.target.value}),placeholder:"$50",required:!0})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"8px",color:"#5a31ea"}}),"Payment Method ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:jt.method,onChange:u=>_n({...jt,method:u.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Method"}),t.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),t.jsx("option",{value:"FPS",children:"FPS"}),t.jsx("option",{value:"PayMe",children:"PayMe"}),t.jsx("option",{value:"Cash",children:"Cash"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-hashtag",style:{marginRight:"8px",color:"#5a31ea"}}),"Reference Number"]}),t.jsx("input",{type:"text",value:jt.reference,onChange:u=>_n({...jt,reference:u.target.value}),placeholder:"Transaction reference"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-day",style:{marginRight:"8px",color:"#5a31ea"}}),"Date"]}),t.jsx("input",{type:"text",value:jt.date,onChange:u=>_n({...jt,date:u.target.value}),placeholder:"01 Jan 2025"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-toggle-on",style:{marginRight:"8px",color:"#5a31ea"}}),"Status ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:jt.status,onChange:u=>_n({...jt,status:u.target.value}),required:!0,children:[t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Completed",children:"Completed"}),t.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-image",style:{marginRight:"8px",color:"#5a31ea"}}),"Screenshot URL"," ",jt.method==="Cash"&&t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:jt.screenshot,onChange:u=>_n({...jt,screenshot:u.target.value}),placeholder:"https://...",required:jt.method==="Cash"}),jt.method==="Cash"&&!jt.screenshot&&t.jsx("small",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"4px",display:"block"},children:"Screenshot is required for Cash payments"})]}),t.jsxs("label",{style:{gridColumn:"1 / -1"},children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-sticky-note",style:{marginRight:"8px",color:"#5a31ea"}}),"Notes"]}),t.jsx("textarea",{value:jt.notes,onChange:u=>_n({...jt,notes:u.target.value}),rows:3,placeholder:"Additional notes..."})]}),t.jsxs("div",{className:"form-actions",style:{gridColumn:"1 / -1"},children:[t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{ti(!1),gr(null),_n({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""})},children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[ni?"Update":"Add"," Payment"]})]})]})]})}),t.jsx("div",{className:"card",children:t.jsx("div",{className:"table-wrapper",children:(()=>{const u=(o||[]).filter(V=>En==="All"?!0:V.status===En).sort((V,Ae)=>{if(V.status==="Pending"&&Ae.status!=="Pending")return-1;if(V.status!=="Pending"&&Ae.status==="Pending")return 1;const Se=V.createdAt?new Date(V.createdAt):new Date(V.date||0);return(Ae.createdAt?new Date(Ae.createdAt):new Date(Ae.date||0))-Se}),N=Math.ceil(u.length/$r)||1,O=Math.min(Sa,N),F=(O-1)*$r,D=F+$r,G=u.slice(F,D);return t.jsxs(t.Fragment,{children:[t.jsx(oi,{columns:["Date","Member","Invoice ID","Amount","Method","Screenshot","Status","Actions"],rows:G.map(V=>{const Ae=V._id||V.id,Se=Ae?.toString?Ae.toString():Ae;return{Date:V.date||(V.createdAt?new Date(V.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),Member:V.member||"Unknown","Invoice ID":V.invoiceId||"N/A",Amount:V.amount||"$0",Method:bn(V),Screenshot:{render:()=>V.screenshot?t.jsx("a",{href:V.screenshot,target:"_blank",rel:"noopener noreferrer",style:{color:"#000",textDecoration:"none"},title:"View screenshot","aria-label":"View screenshot",children:t.jsx("i",{className:"fas fa-image","aria-hidden":"true"})}):"N/A"},Status:{render:()=>t.jsx("span",{className:li[V.status]||"badge badge-unpaid",children:V.status})},Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[V.status==="Pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"icon-btn icon-btn--view",onClick:()=>{Se&&Fa(Se)},title:"Approve payment (By Admin)","aria-label":"Approve payment (By Admin)",children:t.jsx("i",{className:"fas fa-check","aria-hidden":"true"})}),t.jsx("button",{className:"icon-btn icon-btn--delete",onClick:()=>{Se&&Si(Se)},title:"Reject payment (By Admin)","aria-label":"Reject payment (By Admin)",children:t.jsx("i",{className:"fas fa-times","aria-hidden":"true"})})]}),V.status==="Rejected"&&V.rejectionReason&&t.jsxs("span",{style:{fontSize:"0.75rem",color:"#666",fontStyle:"italic"},children:["Reason: ",V.rejectionReason]}),V.status==="Completed"&&(()=>{const Ze=V.paidToAdmin||V.paidToAdminName,Wt=["Screenshot","Bank Transfer","FPS","PayMe","Online Payment"].includes(V.method);return Ze?t.jsx("span",{className:"icon-btn",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",color:"#4caf50",cursor:"default",padding:"4px 8px"},title:"Paid by Admin (Cash)","aria-label":"Paid by Admin (Cash)",children:t.jsx("i",{className:"fas fa-user-shield","aria-hidden":"true"})}):Wt?t.jsx("span",{className:"icon-btn",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",color:"#2196F3",cursor:"default",padding:"4px 8px"},title:"Paid Online","aria-label":"Paid Online",children:t.jsx("i",{className:"fas fa-globe","aria-hidden":"true"})}):t.jsxs("span",{style:{fontSize:"0.75rem",color:"#4caf50"},children:[" Approved by ",V.approvedBy||"Admin"]})})(),t.jsx("button",{className:"secondary-btn icon-btn icon-btn--edit",onClick:()=>Cl(V),title:"Edit Payment",children:t.jsx("i",{className:"fas fa-pen","aria-hidden":"true"})}),t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",onClick:()=>{Se&&ko(Se)},title:"Delete Payment",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}})}),N>0&&u.length>0&&t.jsx(dc,{currentPage:O,totalPages:N,onPageChange:vi,pageSize:$r,onPageSizeChange:ns,totalItems:u.length})]})})()})})]}),ct==="invoices"&&t.jsxs("article",{className:"screen-card",id:"invoices",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("div",{children:[Dr("invoices"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-file-invoice",style:{marginRight:"10px"}}),"Invoices"]}),t.jsx("p",{children:"View and manage all invoices."})]}),t.jsxs("button",{className:"primary-btn",onClick:()=>{Ra("invoice-builder"),qe("Redirecting to Invoice Builder...")},children:[t.jsx("i",{className:"fas fa-plus",style:{marginRight:"8px"}}),"Create Invoice"]})]})}),(()=>{const u=r||[],N=u.length,O=u.filter(Ae=>{const Se=Ae?.status||"Unpaid";return Se!=="Paid"&&Se!=="Completed"}),F=u.filter(Ae=>{const Se=Ae?.status||"Unpaid";return Se==="Paid"||Se==="Completed"}),D=u.filter(Ae=>Ae?.status==="Overdue"),G=O.reduce((Ae,Se)=>{const Ze=parseFloat((Se?.amount||"0").replace(/[^0-9.]/g,"")||0);return Ae+Ze},0),V=F.reduce((Ae,Se)=>{const Ze=parseFloat((Se?.amount||"0").replace(/[^0-9.]/g,"")||0);return Ae+Ze},0);return t.jsxs("div",{className:"kpi-grid",style:{marginBottom:"24px"},children:[t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-file-invoice admin-dashboard-kpi-icon"}),"Total Invoices"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value",children:Pr(N)})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-check-circle admin-dashboard-kpi-icon--green"}),"Paid"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--green",children:Pr(F.length)})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-exclamation-circle admin-dashboard-kpi-icon--red"}),"Unpaid"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--red",children:Pr(O.length)})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-exclamation-triangle admin-dashboard-kpi-icon--red"}),"Overdue"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--red",children:Pr(D.length)})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-dollar-sign admin-dashboard-kpi-icon--red"}),"Total Unpaid"]}),t.jsxs("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--red",children:["$",Pr(G,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-dollar-sign admin-dashboard-kpi-icon--green"}),"Total Collected"]}),t.jsxs("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--green",children:["$",Pr(V,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})(),t.jsx("div",{className:"card",children:t.jsx("div",{className:"table-wrapper",children:(()=>{let u=r||[];Hn!=="All"&&(u=u.filter(G=>{const V=G.status||"Unpaid";return Hn==="Paid"?V==="Paid"||V==="Completed":Hn==="Unpaid"?V!=="Paid"&&V!=="Completed"&&V!=="Overdue":V===Hn}));const N=(Gs-1)*wi,O=N+wi,F=u.slice(N,O),D=Math.ceil(u.length/wi);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a"},children:"Filter by Status:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Paid",label:"Paid"},{value:"Unpaid",label:"Unpaid"},{value:"Overdue",label:"Overdue"},{value:"Pending",label:"Pending"}].map(G=>t.jsx("button",{type:"button",onClick:()=>gi(G.value),style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:Hn===G.value?"#5a31ea":"transparent",color:Hn===G.value?"#ffffff":"#6b7280",boxShadow:Hn===G.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:V=>{Hn!==G.value&&(V.target.style.background="#e5e7eb",V.target.style.color="#374151")},onMouseLeave:V=>{Hn!==G.value&&(V.target.style.background="transparent",V.target.style.color="#6b7280")},children:G.label},G.value))})]}),u.length===0?t.jsx("div",{className:"admin-empty-state",children:t.jsx("p",{className:"admin-empty-state-message",children:Hn!=="All"?`No ${Hn.toLowerCase()} invoices found.`:"No invoices found."})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"table-wrapper",children:t.jsx(oi,{columns:["Invoice ID","Member","Period","Amount","Due Date","Status","Actions"],rows:F.map(G=>{const V=G.status==="Paid"||G.status==="Completed";return G.status,{"Invoice ID":G.id||G.invoiceId||"N/A",Member:G.memberName||G.member||"Unknown",Period:G.period||"N/A",Amount:G.amount||"$0","Due Date":G.due?new Date(G.due).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A",Status:{render:()=>t.jsx("span",{className:G.status==="Paid"?"badge badge-paid":G.status==="Overdue"?"badge badge-overdue":G.status==="Pending"?"badge badge-pending":"badge badge-unpaid",children:G.status||"Unpaid"})},Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-start"},children:[t.jsx("button",{className:"icon-btn icon-btn--view",onClick:()=>{const Ae=i.find(Se=>Se.id===G.memberId||Se.email===G.memberEmail||Se.name===G.memberName);Ae&&(tl(Ae),St("member-detail"),Zt("Invoices"))},title:"View Invoice Details","aria-label":"View Invoice Details",children:t.jsx("i",{className:"fas fa-eye","aria-hidden":"true"})}),!V&&t.jsx("button",{className:"icon-btn icon-btn--delete",onClick:()=>{(G.id||G._id)&&eo(G.id||G._id)},title:"Delete Invoice","aria-label":"Delete Invoice",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}})})}),D>0&&r.length>0&&t.jsx(dc,{currentPage:Gs,totalPages:D,onPageChange:yo,pageSize:wi,onPageSizeChange:_s,totalItems:u.length})]})]})})()})})]}),ct==="payments"&&t.jsxs("article",{className:"screen-card",id:"payments",children:[t.jsx("header",{className:"screen-card__header",children:t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:t.jsxs("div",{children:[Dr("payments"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"10px"}}),"Payments"]}),t.jsx("p",{children:"View and manage all payment transactions."})]})})}),Ps&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:u=>{u.target===u.currentTarget&&(ti(!1),gr(null),_n({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""}))},children:t.jsxs("div",{className:"card",style:{maxWidth:"800px",width:"100%",maxHeight:"90vh",overflowY:"auto",position:"relative"},onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"8px",color:"#5a31ea"}}),ni?"Edit Payment":"Add New Payment"]}),t.jsx("button",{type:"button",onClick:()=>{ti(!1),gr(null),_n({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""})},style:{background:"transparent",border:"none",fontSize:"1.5rem",color:"#666",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},onMouseEnter:u=>{u.target.style.background="#f3f4f6",u.target.style.color="#1a1a1a"},onMouseLeave:u=>{u.target.style.background="transparent",u.target.style.color="#666"},children:""})]}),t.jsxs("form",{className:"form-grid",onSubmit:ni?No:ms,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Member ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{ref:u=>{u&&ni&&setTimeout(()=>u.focus(),100)},value:jt.memberId,onChange:u=>{const N=i.find(O=>O.id===u.target.value);_n({...jt,memberId:u.target.value,member:N?N.name:""})},required:!0,children:[t.jsx("option",{value:"",children:"Select Member"}),i.map(u=>t.jsxs("option",{value:u.id,children:[u.name," (",u.id,")"]},u.id))]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-hashtag",style:{marginRight:"8px",color:"#5a31ea"}}),"Invoice ID"]}),t.jsx("input",{type:"text",value:jt.invoiceId,onChange:u=>_n({...jt,invoiceId:u.target.value}),placeholder:"INV-2025-001"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Amount ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:jt.amount,onChange:u=>_n({...jt,amount:u.target.value}),placeholder:"$50",required:!0})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"8px",color:"#5a31ea"}}),"Payment Method ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:jt.method,onChange:u=>_n({...jt,method:u.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Method"}),t.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),t.jsx("option",{value:"FPS",children:"FPS"}),t.jsx("option",{value:"PayMe",children:"PayMe"}),t.jsx("option",{value:"Alipay",children:"Alipay"}),t.jsx("option",{value:"Credit Card",children:"Credit Card"}),t.jsx("option",{value:"Cash",children:"Cash"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-hashtag",style:{marginRight:"8px",color:"#5a31ea"}}),"Reference Number"]}),t.jsx("input",{type:"text",value:jt.reference,onChange:u=>_n({...jt,reference:u.target.value}),placeholder:"Transaction reference"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-day",style:{marginRight:"8px",color:"#5a31ea"}}),"Date"]}),t.jsx("input",{type:"text",value:jt.date,onChange:u=>_n({...jt,date:u.target.value}),placeholder:"01 Jan 2025"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-toggle-on",style:{marginRight:"8px",color:"#5a31ea"}}),"Status ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:jt.status,onChange:u=>_n({...jt,status:u.target.value}),required:!0,children:[t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Completed",children:"Completed"}),t.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-image",style:{marginRight:"8px",color:"#5a31ea"}}),"Screenshot URL ",jt.method==="Cash"&&t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:jt.screenshot,onChange:u=>_n({...jt,screenshot:u.target.value}),placeholder:"https://...",required:jt.method==="Cash"}),jt.method==="Cash"&&!jt.screenshot&&t.jsx("small",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"4px",display:"block"},children:"Screenshot is required for Cash payments"})]}),t.jsxs("label",{style:{gridColumn:"1 / -1"},children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-sticky-note",style:{marginRight:"8px",color:"#5a31ea"}}),"Notes"]}),t.jsx("textarea",{value:jt.notes,onChange:u=>_n({...jt,notes:u.target.value}),rows:3,placeholder:"Additional notes..."})]}),t.jsxs("div",{className:"form-actions",style:{gridColumn:"1 / -1"},children:[t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{ti(!1),gr(null),_n({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""})},children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[ni?"Update":"Add"," Payment"]})]})]})]})}),t.jsx("div",{className:"card",children:t.jsxs("div",{style:{padding:"24px"},children:[t.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a"},children:"Filter by Status:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Paid",label:"Paid"},{value:"Rejected",label:"Rejected"}].map(u=>t.jsx("button",{type:"button",onClick:()=>Oi(u.value),style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:En===u.value?"#5a31ea":"transparent",color:En===u.value?"#ffffff":"#6b7280",boxShadow:En===u.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:N=>{En!==u.value&&(N.target.style.background="#e5e7eb",N.target.style.color="#374151")},onMouseLeave:N=>{En!==u.value&&(N.target.style.background="transparent",N.target.style.color="#6b7280")},children:u.label},u.value))})]}),(()=>{const u=(o||[]).filter(V=>En==="All"?!0:V.status===En).sort((V,Ae)=>{if(V.status==="Pending"&&Ae.status!=="Pending")return-1;if(V.status!=="Pending"&&Ae.status==="Pending")return 1;const Se=V.createdAt?new Date(V.createdAt):new Date(V.date||0);return(Ae.createdAt?new Date(Ae.createdAt):new Date(Ae.date||0))-Se}),N=Math.ceil(u.length/$r)||1,O=Math.min(Sa,N),F=(O-1)*$r,D=F+$r,G=u.slice(F,D);return u.length===0?t.jsx("div",{className:"admin-empty-state",children:t.jsx("p",{className:"admin-empty-state-message",children:En!=="All"?`No ${En.toLowerCase()} payments found.`:"No payments found."})}):t.jsxs(t.Fragment,{children:[t.jsx(oi,{columns:["Date","Member","Invoice ID","Amount","Method","Screenshot","Status","Actions"],rows:G.map(V=>{const Ae=V._id||V.id,Se=Ae?.toString?Ae.toString():Ae;return{Date:V.date||(V.createdAt?new Date(V.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),Member:V.member||"Unknown","Invoice ID":V.invoiceId||"N/A",Amount:V.amount||"$0",Method:bn(V),Screenshot:{render:()=>V.screenshot?t.jsxs("a",{href:V.screenshot,target:"_blank",rel:"noopener noreferrer",style:{color:"#5a31ea",textDecoration:"none"},children:[t.jsx("i",{className:"fas fa-image",style:{marginRight:"4px"}}),"View"]}):"N/A"},Status:{render:()=>t.jsx("span",{className:V.status==="Paid"||V.status==="Completed"?"badge badge-paid":V.status==="Pending"?"badge badge-pending":V.status==="Rejected"?"badge badge-overdue":"badge badge-active",children:V.status})},Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{className:"ghost-btn icon-btn icon-btn--edit",onClick:()=>Cl(V),title:"Edit Payment",children:t.jsx("i",{className:"fas fa-pen","aria-hidden":"true"})}),t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",onClick:()=>{Se&&ko(Se)},title:"Delete Payment",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}})}),N>0&&u.length>0&&t.jsx(dc,{currentPage:O,totalPages:N,onPageChange:vi,pageSize:$r,onPageSizeChange:ns,totalItems:u.length})]})})()]})})]}),ct==="donations"&&t.jsxs("article",{className:"screen-card",id:"donations",style:{minHeight:"400px"},children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("div",{children:[Dr("donations"),t.jsx("h3",{children:"Donations"}),t.jsx("p",{children:"Manage donation records from members and non-members."})]}),t.jsx("button",{className:"primary-btn",onClick:()=>ui(!0),children:"+ Add Donation"})]})}),Ss&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:u=>{u.target===u.currentTarget&&(ui(!1),Ur({donorName:"",isMember:!1,memberId:"",amount:"",method:"",date:"",notes:"",reference:"",screenshot:""}),Cn(null),Xa(null),xi(""),ei(!1))},children:t.jsxs("div",{className:"card",style:{maxWidth:"800px",width:"100%",maxHeight:"90vh",overflowY:"auto",position:"relative"},onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-heart",style:{marginRight:"8px",color:"#5a31ea"}}),"Add Donation"]}),t.jsx("button",{type:"button",onClick:()=>{$n({donorName:!1,amount:!1,method:!1,date:!1,screenshot:!1}),dr(null),ui(!1),Ur({donorName:"",isMember:!1,memberId:"",amount:"",method:"",date:"",notes:"",reference:"",screenshot:""}),Cn(null),Xa(null),xi(""),ei(!1)},style:{background:"transparent",border:"1px solid #ef4444",fontSize:"1.5rem",color:"#ef4444",fontWeight:"bold",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",cursor:"pointer",padding:"0",transition:"all 0.2s ease"},onMouseEnter:u=>{u.target.style.background="#f3f4f6",u.target.style.color="#1a1a1a"},onMouseLeave:u=>{u.target.style.background="transparent",u.target.style.color="#666"},children:""})]}),t.jsxs("form",{noValidate:!0,onSubmit:async u=>{if(u.preventDefault(),!!(()=>{const O=["donorName","amount","method","date","screenshot"];if(cr){let F=!0,D="";if(cr==="donorName"&&!mt.donorName)F=!1,D="Donor name is required";else if(cr==="amount")if(!mt.amount)F=!1,D="Amount is required";else{const G=parseFloat(mt.amount);(!G||G<=0||isNaN(G))&&(F=!1,D="Amount must be a positive number")}else cr==="method"&&!mt.method?(F=!1,D="Payment method is required"):cr==="date"&&!mt.date?(F=!1,D="Date is required"):cr==="screenshot"&&(mt.method==="Cash Payment"&&!mt.screenshot&&!Ns||mt.method==="Online Payment"&&!mt.screenshot&&!Ns)&&(F=!1,D="Proof image is required");if(F)$n(G=>({...G,[cr]:!1})),dr(null);else return $n(G=>({...G,[cr]:!0})),qe(D,"error"),!1}for(const F of O){let D=!0,G="";if(F==="donorName"&&!mt.donorName)D=!1,G="Donor name is required";else if(F==="amount")if(!mt.amount)D=!1,G="Amount is required";else{const V=parseFloat(mt.amount);(!V||V<=0||isNaN(V))&&(D=!1,G="Amount must be a positive number")}else F==="method"&&!mt.method?(D=!1,G="Payment method is required"):F==="date"&&!mt.date?(D=!1,G="Date is required"):F==="screenshot"&&(mt.method==="Cash Payment"&&!mt.screenshot&&!Ns||mt.method==="Online Payment"&&!mt.screenshot&&!Ns)&&(D=!1,G="Proof image is required");if(!D)return $n({donorName:!1,amount:!1,method:!1,date:!1,screenshot:!1}),$n(V=>({...V,[F]:!0})),dr(F),qe(G,"error"),setTimeout(()=>{if(F==="donorName"){const V=document.querySelectorAll('input[type="text"]'),Ae=Array.from(V).find(Se=>Se.placeholder?.includes("donor name")||Se.placeholder?.includes("Donor name"));Ae?.focus(),Ae?.scrollIntoView({behavior:"smooth",block:"center"})}else if(F==="amount"){const V=document.querySelector('input[type="number"][inputmode="numeric"]');V?.focus(),V?.scrollIntoView({behavior:"smooth",block:"center"})}else if(F==="method"){const V=document.querySelectorAll("select"),Ae=Array.from(V).find(Se=>Se.options[0]?.text==="Select method");Ae?.focus(),Ae?.scrollIntoView({behavior:"smooth",block:"center"})}else if(F==="date"){const V=document.querySelector('input[type="date"]');V?.focus(),V?.scrollIntoView({behavior:"smooth",block:"center"})}else if(F==="screenshot"){const V=document.querySelectorAll('[style*="border"]');Array.from(V).find(Se=>Se.style.border.includes("dashed"))?.scrollIntoView({behavior:"smooth",block:"center"})}},100),!1}return $n({donorName:!1,amount:!1,method:!1,date:!1,screenshot:!1}),dr(null),!0})())try{let O=mt.screenshot;if(Ns){const F="http://localhost:4000",D=new FormData;D.append("screenshot",Ns),D.append("uploadType","donation-proof");const G=await fetch(`${F}/api/upload/screenshot`,{method:"POST",body:D});if(!G.ok){let Ae="Failed to upload image";try{Ae=(await G.json()).error||Ae}catch{Ae=`Upload failed with status ${G.status}`}throw new Error(Ae)}const V=await G.json();if(!V.url)throw new Error("No URL returned from upload. Please try again.");O=V.url}await ce({...mt,amount:amountNum.toFixed(2),screenshot:O}),qe("Donation added successfully!"),ui(!1),Ur({donorName:"",isMember:!1,memberId:"",amount:"",method:"",date:"",notes:"",reference:"",screenshot:""}),Cn(null),Xa(null),xi(""),ei(!1),await de()}catch(O){qe(O.message||"Failed to add donation","error")}},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Donor Name ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:mt.donorName,onChange:u=>{Ur({...mt,donorName:u.target.value}),Fn.donorName&&($n(N=>({...N,donorName:!1})),cr==="donorName"&&dr(null))},required:!0,placeholder:mt.isMember?"Will be filled automatically when member is selected":"Enter donor name",disabled:!!(mt.isMember&&mt.memberId),style:{background:mt.isMember&&mt.memberId?"#f9fafb":"#fff",cursor:mt.isMember&&mt.memberId?"not-allowed":"text",border:Fn.donorName?"2px solid #ef4444":void 0}}),mt.isMember&&mt.memberId&&t.jsx("span",{style:{fontSize:"0.75rem",color:"#666",marginTop:"4px",display:"block"},children:"Donor name is automatically set from selected member"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Amount ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",inputMode:"numeric",value:mt.amount,onChange:u=>{const N=u.target.value.replace(/[^0-9.]/g,"");Ur({...mt,amount:N}),Fn.amount&&($n(O=>({...O,amount:!1})),cr==="amount"&&dr(null))},placeholder:"100",required:!0,style:{border:Fn.amount?"2px solid #ef4444":void 0}})]})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"12px"},children:"Donor Type"}),t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[t.jsxs("button",{type:"button",onClick:()=>Ur({...mt,isMember:!0,memberId:"",donorName:mt.donorName}),style:{flex:"1",minWidth:"150px",padding:"14px 20px",borderRadius:"4px",border:"none",background:mt.isMember?"#5a31ea":"#f8f9ff",color:mt.isMember?"#ffffff":"#1a1a1a",boxShadow:mt.isMember?"0 4px 12px rgba(90, 49, 234, 0.3)":"0 2px 4px rgba(90, 49, 234, 0.08)",fontWeight:"600",fontSize:"0.9375rem",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:u=>{mt.isMember||(u.currentTarget.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.15)",u.currentTarget.style.background="#f8f8f8")},onMouseLeave:u=>{mt.isMember||(u.currentTarget.style.borderColor="#e0e0e0",u.currentTarget.style.background="#fff")},children:[t.jsx("span",{style:{color:mt.isMember?"#ffffff":"inherit"},children:""}),t.jsx("span",{style:{color:mt.isMember?"#ffffff":"inherit"},children:"Member"})]}),t.jsxs("button",{type:"button",onClick:()=>Ur({...mt,isMember:!1,memberId:"",donorName:mt.donorName}),style:{flex:"1",minWidth:"150px",padding:"14px 20px",borderRadius:"4px",border:"none",background:mt.isMember?"#f8f9ff":"#5a31ea",color:mt.isMember?"#1a1a1a":"#ffffff",boxShadow:mt.isMember?"0 2px 4px rgba(90, 49, 234, 0.08)":"0 4px 12px rgba(90, 49, 234, 0.3)",fontWeight:"600",fontSize:"0.9375rem",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:u=>{mt.isMember&&(u.currentTarget.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.15)",u.currentTarget.style.background="#f8f8f8")},onMouseLeave:u=>{mt.isMember&&(u.currentTarget.style.borderColor="#e0e0e0",u.currentTarget.style.background="#fff")},children:[t.jsx("span",{style:{color:mt.isMember?"inherit":"#ffffff"},children:""}),t.jsx("span",{style:{color:mt.isMember?"inherit":"#ffffff"},children:"Non-Member"})]})]})]}),mt.isMember&&t.jsx("div",{style:{marginBottom:"16px"},children:t.jsxs("label",{children:["Select Member ",t.jsx("span",{style:{color:"#ef4444"},children:"*"}),t.jsxs("div",{style:{position:"relative"},"data-donation-member-dropdown":!0,children:[t.jsxs("div",{onClick:()=>ei(!Zi),style:{padding:"10px 16px",border:"1px solid #e0e0e0",borderRadius:"4px",background:"#fff",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",color:mt.memberId?"#000":"#999",minHeight:"42px"},children:[t.jsx("span",{children:mt.memberId?(()=>{const u=i.find(N=>N.id===mt.memberId);return u?`${u.name} (${u.id})`:"Select Member"})():"Select Member"}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#5a31ea",transition:"transform 0.2s ease",transform:Zi?"rotate(180deg)":"rotate(0deg)",display:"inline-block"},children:""})]}),Zi&&t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#fff",border:"1px solid #e0e0e0",borderRadius:"4px",marginTop:"4px",maxHeight:"300px",overflow:"hidden",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[t.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid #e0e0e0",background:"#f9fafb"},children:[t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:"text",placeholder:" Search member by name or ID...",value:Ar,onChange:u=>xi(u.target.value),onClick:u=>u.stopPropagation(),onKeyDown:u=>u.stopPropagation(),autoFocus:!0,style:{width:"100%",padding:"10px 36px 10px 12px",border:"1px solid #e0e0e0",borderRadius:"4px",fontSize:"0.875rem",outline:"none",background:"#fff",transition:"border-color 0.2s"},onFocus:u=>{u.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1), 0 4px 12px rgba(90, 49, 234, 0.12)",u.target.style.boxShadow="0 0 0 2px rgba(0,0,0,0.05)"},onBlur:u=>{u.target.style.borderColor="#e0e0e0",u.target.style.boxShadow="none"}}),Ar&&t.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),xi("")},style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",color:"#666",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center"},title:"Clear search",children:""})]}),Ar&&t.jsxs("div",{style:{marginTop:"8px",fontSize:"0.75rem",color:"#666"},children:[i.filter(u=>!Ar||u.name?.toLowerCase().includes(Ar.toLowerCase())||u.id?.toLowerCase().includes(Ar.toLowerCase())).length," member",i.filter(u=>!Ar||u.name?.toLowerCase().includes(Ar.toLowerCase())||u.id?.toLowerCase().includes(Ar.toLowerCase())).length!==1?"s":""," found"]})]}),t.jsxs("div",{style:{maxHeight:"250px",overflowY:"auto"},children:[i.filter(u=>!Ar||u.name?.toLowerCase().includes(Ar.toLowerCase())||u.id?.toLowerCase().includes(Ar.toLowerCase())).map(u=>t.jsxs("div",{onClick:()=>{Ur({...mt,memberId:u.id,donorName:u.name||""}),ei(!1),xi("")},style:{padding:"12px 16px",cursor:"pointer",borderBottom:"1px solid #e5e7eb",background:mt.memberId===u.id?"#f9fafb":"#fff",transition:"background 0.2s"},onMouseEnter:N=>{mt.memberId!==u.id&&(N.target.style.background="#f9f9f9")},onMouseLeave:N=>{mt.memberId!==u.id&&(N.target.style.background="#fff")},children:[t.jsx("div",{style:{fontWeight:"500",color:"#000"},children:u.name}),t.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"2px"},children:[u.id," ",u.email?` ${u.email}`:""]})]},u.id)),i.filter(u=>!Ar||u.name?.toLowerCase().includes(Ar.toLowerCase())||u.id?.toLowerCase().includes(Ar.toLowerCase())).length===0&&t.jsx("div",{style:{padding:"16px",textAlign:"center",color:"#999",fontSize:"0.875rem"},children:"No members found"})]})]})]}),!mt.memberId&&t.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"4px",display:"none"},children:"Please select a member"})]})}),t.jsxs("label",{children:["Payment Method ",t.jsx("span",{style:{color:"#ef4444"},children:"*"}),t.jsxs("select",{value:mt.method,onChange:u=>{Ur({...mt,method:u.target.value}),Fn.method&&($n(N=>({...N,method:!1})),cr==="method"&&dr(null))},required:!0,style:{border:Fn.method?"2px solid #ef4444":void 0},children:[t.jsx("option",{value:"",children:"Select method"}),t.jsx("option",{value:"Online Payment",children:"Online Payment"}),t.jsx("option",{value:"Cash Payment",children:"Cash Payment"})]})]}),mt.method==="Cash Payment"&&t.jsxs("label",{style:{gridColumn:"1 / -1"},children:["Proof Image ",t.jsx("span",{style:{color:"#ef4444"},children:"*"}),t.jsx("div",{style:{border:Fn.screenshot?"2px dashed #ef4444":"2px dashed #d0d0d0",borderRadius:"4px",padding:"24px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",background:Ei||mt.screenshot?"#f9fafb":"#fafafa"},onMouseEnter:u=>{Fn.screenshot||(u.currentTarget.style.borderColor="#5a31ea"),u.currentTarget.style.background="#f8f9ff"},onMouseLeave:u=>{u.currentTarget.style.borderColor=Fn.screenshot?"#ef4444":"#d0d0d0",u.currentTarget.style.background=Ei||mt.screenshot?"#f9fafb":"#fafafa"},onClick:()=>{const u=document.createElement("input");u.type="file",u.accept="image/*",u.onchange=async N=>{const O=N.target.files[0];if(!O)return;if(!O.type.startsWith("image/")){qe("Please upload an image file","error");return}const F=new FileReader;F.onloadend=()=>{Cn(O),Xa(F.result),Fn.screenshot&&($n(D=>({...D,screenshot:!1})),cr==="screenshot"&&dr(null))},F.readAsDataURL(O)},u.click()},children:Ei||mt.screenshot?t.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[t.jsx("img",{src:Ei||mt.screenshot,alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"4px",marginBottom:"8px"}}),t.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),Cn(null),Xa(null),Ur({...mt,screenshot:""}),Fn.screenshot&&($n(N=>({...N,screenshot:!1})),cr==="screenshot"&&dr(null))},style:{position:"absolute",top:"8px",right:"8px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"50%",width:"28px",height:"28px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem"},children:""}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginTop:"8px"},children:"Click to change image"})]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-cloud-upload-alt",style:{fontSize:"2rem",color:"#5a31ea",marginBottom:"8px"}}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginTop:"8px"},children:"Click to upload image"}),t.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"4px"},children:"PNG, JPG, GIF up to 10MB"})]})})]}),mt.method==="Online Payment"&&t.jsxs("label",{style:{gridColumn:"1 / -1"},children:["Proof Image ",t.jsx("span",{style:{color:"#ef4444"},children:"*"}),t.jsx("div",{style:{border:Fn.screenshot?"2px dashed #ef4444":"2px dashed #d0d0d0",borderRadius:"4px",padding:"24px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",background:Ei||mt.screenshot?"#f9fafb":"#fafafa"},onMouseEnter:u=>{Fn.screenshot||(u.currentTarget.style.borderColor="#5a31ea"),u.currentTarget.style.background="#f8f9ff"},onMouseLeave:u=>{u.currentTarget.style.borderColor=Fn.screenshot?"#ef4444":"#d0d0d0",u.currentTarget.style.background=Ei||mt.screenshot?"#f9fafb":"#fafafa"},onClick:()=>{const u=document.createElement("input");u.type="file",u.accept="image/*",u.onchange=async N=>{const O=N.target.files[0];if(!O)return;if(!O.type.startsWith("image/")){qe("Please upload an image file","error");return}const F=new FileReader;F.onloadend=()=>{Cn(O),Xa(F.result),Fn.screenshot&&($n(D=>({...D,screenshot:!1})),cr==="screenshot"&&dr(null))},F.readAsDataURL(O)},u.click()},children:Ei||mt.screenshot?t.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[t.jsx("img",{src:Ei||mt.screenshot,alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"4px",marginBottom:"8px"}}),t.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),Cn(null),Xa(null),Ur({...mt,screenshot:""}),Fn.screenshot&&($n(N=>({...N,screenshot:!1})),cr==="screenshot"&&dr(null))},style:{position:"absolute",top:"8px",right:"8px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"50%",width:"28px",height:"28px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem"},children:""}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginTop:"8px"},children:"Click to change image"})]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-cloud-upload-alt",style:{fontSize:"2rem",color:"#5a31ea",marginBottom:"8px"}}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginTop:"8px"},children:"Click to upload image"}),t.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"4px"},children:"PNG, JPG, GIF up to 10MB"})]})})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-day",style:{marginRight:"8px",color:"#5a31ea"}}),"Date ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"date",value:mt.date,onChange:u=>{const N=u.target.value;Ur({...mt,date:N}),Fn.date&&($n(O=>({...O,date:!1})),cr==="date"&&dr(null))},onBlur:u=>{const N=u.target.value;if(N){const O=new Date(N);if(isNaN(O.getTime())){qe("Invalid date format. Please enter a valid date (YYYY-MM-DD)","error");return}const[F,D,G]=N.split("-").map(Number);if(D<1||D>12){qe("Invalid month. Please enter a month between 01 and 12","error");return}if(G<1||G>31){qe("Invalid day. Please enter a valid day for the selected month","error");return}const V=new Date(F,D,0).getDate();if(G>V){qe(`Invalid date. ${D}/${F} only has ${V} days`,"error");return}}},required:!0,style:{borderRadius:"4px",width:"100%",border:Fn.date?"2px solid #ef4444":void 0}})]}),t.jsxs("label",{children:["Notes (Optional)",t.jsx("textarea",{value:mt.notes,onChange:u=>Ur({...mt,notes:u.target.value}),rows:3,placeholder:"Additional notes about this donation..."})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[t.jsx("button",{type:"submit",className:"primary-btn",children:"Save Donation"}),t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{ui(!1),Ur({donorName:"",isMember:!1,memberId:"",amount:"",method:"",date:"",notes:"",reference:"",screenshot:""}),Cn(null),Xa(null),xi(""),ei(!1)},children:"Cancel"})]})]})]})}),t.jsx("div",{className:"card",children:!Z||Array.isArray(Z)&&Z.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#666"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("p",{style:{margin:0,fontSize:"1.125rem",fontWeight:"500"},children:"No donations yet"}),t.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.9375rem",color:"#999"},children:'Click "Add Donation" to record your first donation'})]}):t.jsx("div",{className:"table-wrapper",children:(()=>{const N=(Array.isArray(Z)?Z:[]).filter(Ae=>Ae!==null),O=Math.ceil(N.length/Yn)||1,F=Math.min(Ui,O),D=(F-1)*Yn,G=D+Yn,V=N.slice(D,G);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666"},children:["Total donations:"," ",t.jsxs("strong",{children:["$",Pr(N.reduce((Ae,Se)=>{const Ze=parseFloat(Se?.amount||0);return Ae+(isNaN(Ze)?0:Ze)},0),{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{try{const Ae=N.map(an=>({Date:an.date||(an.createdAt?new Date(an.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),DonorName:an.donorName||"",Type:an.isMember?"Member":"Non-Member",Amount:an.amount||"0",Method:an.method||"",Notes:(an.notes||"").replace(/\r?\n/g," ")})),Se=["Date","DonorName","Type","Amount","Method","Notes"],Ze=[Se.join(","),...Ae.map(an=>Se.map(on=>{const xn=an[on]??"";return`"${String(xn).replace(/"/g,'""')}"`}).join(","))],it=new Blob([Ze.join(`
`)],{type:"text/csv;charset=utf-8;"}),Wt=URL.createObjectURL(it),yt=document.createElement("a");yt.href=Wt;const yn=new Date().toISOString().slice(0,10);yt.download=`donations-report-${yn}.csv`,document.body.appendChild(yt),yt.click(),document.body.removeChild(yt),URL.revokeObjectURL(Wt),qe("Donations report exported as CSV")}catch(Ae){console.error("Export donations CSV failed",Ae),qe("Failed to export donations report","error")}},children:" Export Donations CSV"})]}),t.jsx(oi,{columns:["Date","Donor Name","Type","Amount","Method","Notes","Actions"],rows:V.map(Ae=>Ae?{Date:Ae.date||(Ae.createdAt?new Date(Ae.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),"Donor Name":Ae.donorName||"Unknown",Type:Ae.isMember?t.jsx("span",{className:"badge badge-active",children:"Member"}):t.jsx("span",{className:"badge badge-inactive",children:"Non-Member"}),Amount:Ae.amount?`$${Pr(Number(Ae.amount),{minimumFractionDigits:2,maximumFractionDigits:2})}`:"$0.00",Method:Ae.method||"-",Notes:Ae.notes||"-",Actions:{render:()=>t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",onClick:async()=>{ai("Are you sure you want to delete this donation?",async()=>{try{const Ze=Ae._id||Ae.id;await be(Ze),qe("Donation deleted successfully!"),await de()}catch(Ze){qe(Ze.message||"Failed to delete donation","error")}})},title:"Delete Donation","aria-label":"Delete Donation",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})}}:null).filter(Ae=>Ae!==null)}),O>0&&N.length>0&&t.jsx(dc,{currentPage:F,totalPages:O,onPageChange:bi,pageSize:Yn,onPageSizeChange:Vs,totalItems:N.length})]})})()})})]}),ct==="reports"&&t.jsxs("article",{className:"screen-card",id:"reports",children:[t.jsxs("header",{className:"screen-card__header",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{children:[Dr("reports"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-chart-line",style:{marginRight:"10px"}}),"Financial Reports"]}),t.jsx("p",{children:"Comprehensive financial overview and payment analytics."})]}),gt&&t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("button",{type:"button",onClick:Bo,title:"Export CSV",style:{padding:"12px",borderRadius:"8px",fontWeight:"600",fontSize:"1.25rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",background:"#ffffff",color:"#5a31ea",border:"2px solid #e5e7eb",boxShadow:"none",width:"48px",height:"48px"},onMouseEnter:u=>{u.target.style.background="#5a31ea",u.target.style.color="#ffffff",u.target.style.border="2px solid #5a31ea",u.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.3)"},onMouseLeave:u=>{u.target.style.background="#ffffff",u.target.style.color="#5a31ea",u.target.style.border="2px solid #e5e7eb",u.target.style.boxShadow="none"},children:t.jsx("i",{className:"fas fa-file-csv"})}),t.jsx("button",{type:"button",onClick:Ko,title:"Export PDF",style:{padding:"12px",borderRadius:"8px",fontWeight:"600",fontSize:"1.25rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",background:"#ffffff",color:"#5a31ea",border:"2px solid #e5e7eb",boxShadow:"none",width:"48px",height:"48px"},onMouseEnter:u=>{u.target.style.background="#5a31ea",u.target.style.color="#ffffff",u.target.style.border="2px solid #5a31ea",u.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.3)"},onMouseLeave:u=>{u.target.style.background="#ffffff",u.target.style.color="#5a31ea",u.target.style.border="2px solid #e5e7eb",u.target.style.boxShadow="none"},children:t.jsx("i",{className:"fas fa-file-pdf"})})]})]}),t.jsx("div",{className:"card",style:{marginBottom:"24px",padding:"20px",background:"#ffffff"},children:t.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px",alignItems:"flex-end"},children:[t.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:[t.jsx("i",{className:"fas fa-calendar-alt",style:{marginRight:"6px",color:"#5a31ea"}}),"Date From"]}),t.jsx("input",{type:"date",value:Wn.from,onChange:u=>{const N=u.target.value;hs({...Wn,from:N})},style:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"2px solid #e5e7eb",fontSize:"0.9375rem",background:"#ffffff",transition:"all 0.2s ease"},onFocus:u=>{u.target.style.borderColor="#5a31ea",u.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1)"},onBlur:u=>{u.target.style.borderColor="#e5e7eb",u.target.style.boxShadow="none"}})]}),t.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:[t.jsx("i",{className:"fas fa-calendar-check",style:{marginRight:"6px",color:"#5a31ea"}}),"Date To"]}),t.jsx("input",{type:"date",value:Wn.to,onChange:u=>{const N=u.target.value;hs({...Wn,to:N})},style:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"2px solid #e5e7eb",fontSize:"0.9375rem",background:"#ffffff",transition:"all 0.2s ease"},onFocus:u=>{u.target.style.borderColor="#5a31ea",u.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1)"},onBlur:u=>{u.target.style.borderColor="#e5e7eb",u.target.style.boxShadow="none"}})]}),t.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:["This Year","This Quarter","This Month"].map(u=>t.jsx("button",{onClick:()=>{Pn(u);const N=new Date;if(u==="This Year")hs({from:`${N.getFullYear()}-01-01`,to:`${N.getFullYear()}-12-31`});else if(u==="This Quarter"){const F=Math.floor(N.getMonth()/3)*3;hs({from:`${N.getFullYear()}-${String(F+1).padStart(2,"0")}-01`,to:`${N.getFullYear()}-${String(F+3).padStart(2,"0")}-31`})}else hs({from:`${N.getFullYear()}-${String(N.getMonth()+1).padStart(2,"0")}-01`,to:`${N.getFullYear()}-${String(N.getMonth()+1).padStart(2,"0")}-31`})},style:{padding:"12px 20px",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",background:Ti===u?"#5a31ea":"#ffffff",color:Ti===u?"#ffffff":"#6b7280",border:Ti===u?"none":"2px solid #e5e7eb",boxShadow:Ti===u?"0 4px 12px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:N=>{Ti!==u&&(N.target.style.background="#f3f4f6",N.target.style.borderColor="#d1d5db")},onMouseLeave:N=>{Ti!==u&&(N.target.style.background="#ffffff",N.target.style.borderColor="#e5e7eb")},children:u},u))})]})}),t.jsxs("div",{className:"kpi-grid",style:{marginBottom:"24px"},children:[t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Total Collected"]}),t.jsxs("h4",{children:["$",In.collected.toLocaleString()]}),t.jsxs("small",{children:[Math.round(In.collected/In.expected*100),"% of $",In.expected.toLocaleString()," expected"]})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-exclamation-triangle",style:{marginRight:"8px",color:"#ef4444"}}),"Outstanding"]}),t.jsxs("h4",{children:["$",Pr(vr.outstanding)]}),t.jsx("small",{children:"Pending collection"})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-users",style:{marginRight:"8px",color:"#5a31ea"}}),"Avg per Member"]}),t.jsxs("h4",{children:["$",In.averagePerMember]}),t.jsx("small",{children:"Goal: $800"})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-exchange-alt",style:{marginRight:"8px",color:"#5a31ea"}}),"Transactions"]}),t.jsx("h4",{children:In.transactionCount}),t.jsx("small",{children:"In selected period"})]})]}),t.jsxs("div",{className:"admin-reports-charts-grid",children:[t.jsxs("div",{className:"admin-reports-chart-card--collected",children:[t.jsxs("div",{className:"admin-settings-section-header",children:[t.jsx("h4",{className:"admin-settings-section-title",children:"Collected vs Outstanding"}),t.jsx("p",{className:"admin-settings-section-description",children:"Financial overview for selected period"})]}),t.jsxs("div",{style:{position:"relative",height:"280px",display:"flex",alignItems:"flex-end",gap:"32px",justifyContent:"center",padding:"0 24px"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"16px",flex:1,maxWidth:"200px"},children:[t.jsxs("div",{style:{width:"100%",background:"#10b981",borderRadius:"8px 8px 0 0",minHeight:"60px",height:`${Math.max(60,Math.round(In.collected/(In.collected+vr.outstanding)*200)||0)}px`,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"700",fontSize:"1.125rem",transition:"all 0.2s ease",cursor:"pointer",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.2)"},onMouseEnter:u=>{u.target.style.transform="translateY(-4px)",u.target.style.boxShadow="0 4px 12px rgba(16, 185, 129, 0.3)"},onMouseLeave:u=>{u.target.style.transform="translateY(0)",u.target.style.boxShadow="0 2px 8px rgba(16, 185, 129, 0.2)"},children:["$",Pr(In.collected)]}),t.jsxs("div",{style:{textAlign:"center",width:"100%"},children:[t.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1a1a1a",display:"block",marginBottom:"4px"},children:"Collected"}),t.jsxs("span",{style:{fontSize:"0.75rem",color:"#666"},children:[Math.round(In.collected/(In.collected+vr.outstanding)*100),"%"]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"16px",flex:1,maxWidth:"200px"},children:[t.jsxs("div",{style:{width:"100%",background:"#ef4444",borderRadius:"8px 8px 0 0",minHeight:"60px",height:`${Math.max(60,Math.round(vr.outstanding/(In.collected+vr.outstanding)*200)||0)}px`,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"700",fontSize:"1.125rem",transition:"all 0.2s ease",cursor:"pointer",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.2)"},onMouseEnter:u=>{u.target.style.transform="translateY(-4px)",u.target.style.boxShadow="0 4px 12px rgba(239, 68, 68, 0.3)"},onMouseLeave:u=>{u.target.style.transform="translateY(0)",u.target.style.boxShadow="0 2px 8px rgba(239, 68, 68, 0.2)"},children:["$",vr.outstanding.toLocaleString()]}),t.jsxs("div",{style:{textAlign:"center",width:"100%"},children:[t.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1a1a1a",display:"block",marginBottom:"4px"},children:"Outstanding"}),t.jsxs("span",{style:{fontSize:"0.75rem",color:"#666"},children:[Math.round(vr.outstanding/(In.collected+vr.outstanding)*100),"%"]})]})]})]})]}),t.jsxs("div",{className:"admin-settings-users-card",children:[t.jsxs("div",{className:"admin-settings-section-header",children:[t.jsx("h4",{className:"admin-settings-section-title",children:"Payments Over Time"}),t.jsx("p",{className:"admin-settings-section-description",children:"Payment trends for selected period"})]}),t.jsx("div",{style:{position:"relative",height:"240px",padding:"0 16px"},children:(()=>{const u={},N=new Date(Wn.from),O=new Date(Wn.to),F=Math.ceil((O-N)/(1e3*60*60*24));In.paymentsInRange.forEach(V=>{const Ae=V.date?new Date(V.date):V.createdAt?new Date(V.createdAt):new Date;let Se;if(F<=7)Se=Ae.toLocaleDateString("en-US",{month:"short",day:"numeric"});else if(F<=30){const it=new Date(Ae);it.setDate(Ae.getDate()-Ae.getDay()),Se=it.toLocaleDateString("en-US",{month:"short",day:"numeric"})}else Se=Ae.toLocaleDateString("en-US",{month:"short",year:"numeric"});u[Se]||(u[Se]=0);const Ze=parseFloat(V.amount?.replace(/[^0-9.]/g,"")||0);u[Se]+=Ze});const D=Object.keys(u).sort((V,Ae)=>new Date(V)-new Date(Ae)).slice(-10),G=Math.max(...D.map(V=>u[V]),1);return t.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:"8px",height:"100%",justifyContent:"space-between"},children:D.length>0?D.map((V,Ae)=>{const Se=u[V],Ze=Math.max(30,Se/G*180);return t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",flex:1,minWidth:"50px"},children:[t.jsx("div",{style:{width:"100%",background:"#5a31ea",borderRadius:"6px 6px 0 0",height:`${Ze}px`,minHeight:"30px",display:"flex",alignItems:"flex-end",justifyContent:"center",paddingBottom:"6px",color:"#fff",fontSize:"0.75rem",fontWeight:"600",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.15)",cursor:"pointer",transition:"all 0.2s ease"},title:`${V}: $${Se.toFixed(2)}`,onMouseEnter:it=>{it.currentTarget.style.transform="translateY(-4px)",it.currentTarget.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.25)"},onMouseLeave:it=>{it.currentTarget.style.transform="translateY(0)",it.currentTarget.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.15)"},children:Ze>40&&`$${Math.round(Se)}`}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#666",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",fontWeight:"500"},children:V.length>10?V.substring(0,8)+"...":V})]},`${V}-${Ae}`)}):t.jsx("div",{style:{width:"100%",textAlign:"center",color:"#999",padding:"60px 0",fontSize:"0.875rem"},children:"No payment data in selected period"})})})()})]})]}),t.jsxs("div",{className:"card",style:{marginBottom:"24px",padding:"24px",background:"#ffffff",border:"1px solid #e5e7eb"},children:[t.jsxs("h4",{style:{marginBottom:"20px",fontSize:"1.25rem",fontWeight:"700",color:"#1a1a1a"},children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"10px",color:"#5a31ea"}}),"Payment Method Breakdown"]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:In.methodMix.map(u=>{const O={FPS:"#10b981",PayMe:"#25D366","Bank Transfer":"#3b82f6",Cash:"#f59e0b",Other:"#6b7280"}[u.label]||"#6b7280";return t.jsxs("div",{style:{padding:"16px",borderRadius:"12px",background:"#ffffff",border:`2px solid ${O}`,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},onMouseEnter:F=>{F.currentTarget.style.transform="translateY(-2px)",F.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.12)"},onMouseLeave:F=>{F.currentTarget.style.transform="translateY(0)",F.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.08)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[t.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:O,flexShrink:0}}),t.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1a1a1a",flex:1},children:u.label})]}),t.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:O,marginLeft:"24px"},children:u.value})]},u.label)})})]}),t.jsxs("div",{className:"card",style:{padding:"24px",background:"#ffffff",border:"1px solid #e5e7eb"},children:[t.jsxs("div",{style:{marginBottom:"24px",display:"flex",gap:"16px",flexWrap:"wrap",alignItems:"center"},children:[t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsxs("label",{style:{fontWeight:"600",color:"#1a1a1a",fontSize:"0.9375rem"},children:[t.jsx("i",{className:"fas fa-filter",style:{marginRight:"6px",color:"#5a31ea"}}),"Filter by Type:"]}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"8px",flexWrap:"wrap"},children:[{value:"all",label:"All"},{value:"payments",label:"Payments"},{value:"donations",label:"Donations"}].map(u=>t.jsx("button",{type:"button",onClick:()=>x(u.value),style:{padding:"8px 16px",borderRadius:"6px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:wa===u.value?"#5a31ea":"transparent",color:wa===u.value?"#ffffff":"#6b7280",boxShadow:wa===u.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:N=>{wa!==u.value&&(N.target.style.background="#e5e7eb",N.target.style.color="#374151")},onMouseLeave:N=>{wa!==u.value&&(N.target.style.background="transparent",N.target.style.color="#6b7280")},children:u.label},u.value))})]}),wa==="donations"&&t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a",fontSize:"0.9375rem"},children:"Filter by Donor Type:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"8px",flexWrap:"wrap"},children:[{value:"all",label:"All"},{value:"member",label:"Members"},{value:"non-member",label:"Non-Members"}].map(u=>t.jsx("button",{type:"button",onClick:()=>ae(u.value),style:{padding:"8px 16px",borderRadius:"6px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:L===u.value?"#5a31ea":"transparent",color:L===u.value?"#ffffff":"#6b7280",boxShadow:L===u.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:N=>{L!==u.value&&(N.target.style.background="#e5e7eb",N.target.style.color="#374151")},onMouseLeave:N=>{L!==u.value&&(N.target.style.background="transparent",N.target.style.color="#6b7280")},children:u.label},u.value))})]})]}),t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("h4",{style:{margin:0,fontSize:"1.25rem",fontWeight:"700",color:"#1a1a1a"},children:[t.jsx("i",{className:"fas fa-list",style:{marginRight:"10px",color:"#5a31ea"}}),"Transactions"]}),t.jsx("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:t.jsx("input",{type:"text",placeholder:"Search transactions...",value:me,onChange:u=>{Le(u.target.value),rt(1)},style:{padding:"10px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.9375rem",minWidth:"250px",background:"#ffffff"}})})]}),t.jsxs("div",{style:{overflow:"hidden",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[t.jsx("div",{className:"table-wrapper",style:{overflowX:"auto",width:"100%",maxWidth:"100%"},children:t.jsx(oi,{columns:["Date","Type","Member / Donor","Invoice ID","Amount","Method","Screenshot","Status","Actions"],rows:(()=>{let N=[...(In.paymentsInRange||[]).map(V=>({...V,type:"Payment",source:V.member||"Unknown",amount:V.amount,method:V.method,screenshot:V.screenshot,status:V.status||"Completed",invoiceId:V.invoiceId,period:V.period,date:V.date||(V.createdAt?new Date(V.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),createdAt:V.createdAt||new Date(V.date||0)})),...(In.donationsInRange||[]).map(V=>({...V,type:"Donation",source:V.donorName,amount:V.amount,method:V.method||"N/A",screenshot:V.screenshot||null,status:"Completed",invoiceId:null,period:null,date:V.date||(V.createdAt?new Date(V.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),createdAt:V.createdAt||new Date(V.date||0),isMember:V.isMember}))].sort((V,Ae)=>{const Se=V.createdAt?new Date(V.createdAt):new Date(V.date||0);return(Ae.createdAt?new Date(Ae.createdAt):new Date(Ae.date||0))-Se}).filter(V=>!(wa==="payments"&&V.type!=="Payment"||wa==="donations"&&V.type!=="Donation"||V.type==="Donation"&&(L==="member"&&!V.isMember||L==="non-member"&&V.isMember)));if(me.trim()){const V=me.toLowerCase();N=N.filter(Ae=>Ae.source&&Ae.source.toLowerCase().includes(V)||Ae.invoiceId&&Ae.invoiceId.toString().toLowerCase().includes(V)||Ae.amount&&Ae.amount.toString().toLowerCase().includes(V)||Ae.method&&Ae.method.toLowerCase().includes(V)||Ae.status&&Ae.status.toLowerCase().includes(V)||Ae.date&&Ae.date.toLowerCase().includes(V))}N.length;const O=(Qe-1)*kt,F=O+kt;return N.slice(O,F).map(V=>(V._id||V.id,{Date:V.date||"N/A",Type:{render:()=>V.type==="Payment"?t.jsx("span",{className:"badge badge-paid",children:"Payment"}):t.jsx("span",{className:"badge badge-active",children:"Donation"})},"Member / Donor":V.source||"Unknown","Invoice ID":V.invoiceId||(V.type==="Donation","N/A"),Amount:V.amount||"$0",Method:V.type==="Payment"?bn(V):V.method||"N/A",Screenshot:{render:()=>V.screenshot?t.jsx("a",{href:V.screenshot,target:"_blank",rel:"noopener noreferrer",style:{color:"#5a31ea",textDecoration:"none"},title:"View screenshot","aria-label":"View screenshot",children:t.jsx("i",{className:"fas fa-image","aria-hidden":"true"})}):"N/A"},Status:{render:()=>t.jsx("span",{className:li[V.status]||"badge badge-paid",children:V.status})},Actions:{render:()=>t.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:V.type==="Payment"&&V.invoiceId&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--view",onClick:()=>{const Ae=r.find(Ze=>Ze.id===V.invoiceId||Ze._id===V.invoiceId);if(!Ae){qe("Invoice not found for this transaction","error");return}const Se=i.find(Ze=>Ze.id===Ae.memberId)||i.find(Ze=>Ze.name&&Ae.memberName&&Ze.name.toLowerCase()===Ae.memberName.toLowerCase());if(!Se){qe("Member not found for this invoice","error");return}X(Se),St("member-detail"),Zt("Invoices")},title:"View Invoice",children:t.jsx("i",{className:"fas fa-eye","aria-hidden":"true"})})})}}))})()})}),(()=>{let N=[...(In.paymentsInRange||[]).map(G=>({...G,type:"Payment",source:G.member||"Unknown",amount:G.amount,method:G.method,screenshot:G.screenshot,status:G.status||"Completed",invoiceId:G.invoiceId,period:G.period,date:G.date||(G.createdAt?new Date(G.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),createdAt:G.createdAt||new Date(G.date||0)})),...(In.donationsInRange||[]).map(G=>({...G,type:"Donation",source:G.donorName,amount:G.amount,method:G.method||"N/A",screenshot:G.screenshot||null,status:"Completed",invoiceId:null,period:null,date:G.date||(G.createdAt?new Date(G.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),createdAt:G.createdAt||new Date(G.date||0),isMember:G.isMember}))].sort((G,V)=>{const Ae=G.createdAt?new Date(G.createdAt):new Date(G.date||0);return(V.createdAt?new Date(V.createdAt):new Date(V.date||0))-Ae}).filter(G=>!(wa==="payments"&&G.type!=="Payment"||wa==="donations"&&G.type!=="Donation"||G.type==="Donation"&&(L==="member"&&!G.isMember||L==="non-member"&&G.isMember)));if(me.trim()){const G=me.toLowerCase();N=N.filter(V=>V.source&&V.source.toLowerCase().includes(G)||V.invoiceId&&V.invoiceId.toString().toLowerCase().includes(G)||V.amount&&V.amount.toString().toLowerCase().includes(G)||V.method&&V.method.toLowerCase().includes(G)||V.status&&V.status.toLowerCase().includes(G)||V.date&&V.date.toLowerCase().includes(G))}const O=N.length,F=Math.ceil(O/kt),D=Math.min(Qe,F||1);return t.jsx(dc,{currentPage:D,totalPages:F||1,onPageChange:rt,pageSize:kt,onPageSizeChange:G=>{Tt(G),rt(1)},totalItems:O})})()]})]})]})]}),ct==="export-reports"&&t.jsxs("article",{className:"screen-card",id:"export-reports",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Dr("export-reports"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-file-export",style:{marginRight:"10px"}}),"Export Reports"]}),t.jsx("p",{children:"Export financial data in various formats."})]})}),t.jsx("div",{className:"card",children:t.jsxs("div",{style:{padding:"24px"},children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h4",{style:{marginBottom:"12px"},children:"Export Options"}),t.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Export your financial data in CSV or PDF format. Select a date range to export specific periods."})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px",marginBottom:"24px"},children:[t.jsxs("div",{className:"card",style:{padding:"20px",background:"#ffffff",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"180px"},children:[t.jsxs("div",{children:[t.jsxs("h4",{style:{marginBottom:"8px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-file-csv",style:{color:"#5a31ea"}}),"CSV Export"]}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"16px"},children:"Export all transactions as a CSV file for Excel or spreadsheet applications."})]}),t.jsxs("button",{className:"secondary-btn",onClick:Bo,style:{width:"100%",marginTop:"auto"},disabled:!gt,title:gt?"Export CSV":"Export allowed only for finance roles",children:[t.jsx("i",{className:"fas fa-file-csv",style:{marginRight:"8px"}}),"Export CSV"]})]}),t.jsxs("div",{className:"card",style:{padding:"20px",background:"#ffffff",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"180px"},children:[t.jsxs("div",{children:[t.jsxs("h4",{style:{marginBottom:"8px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-file-pdf",style:{color:"#5a31ea"}}),"PDF Export"]}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"16px"},children:"Generate a formatted PDF report with charts and summaries."})]}),t.jsxs("button",{className:"secondary-btn",onClick:Ko,style:{width:"100%",marginTop:"auto"},disabled:!gt,title:gt?"Export PDF":"Export allowed only for finance roles",children:[t.jsx("i",{className:"fas fa-file-pdf",style:{marginRight:"8px"}}),"Export PDF"]})]})]}),t.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"#f8f9ff",borderRadius:"8px"},children:[t.jsxs("p",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"8px"},children:[t.jsx("strong",{children:"Note:"})," For detailed reports with date filters and analytics, visit the Financial Reports section."]}),t.jsxs("button",{className:"ghost-btn",onClick:()=>{Ra("reports"),qe("Redirecting to Financial Reports...")},children:[t.jsx("i",{className:"fas fa-chart-bar",style:{marginRight:"8px"}}),"Go to Financial Reports"]})]})]})})]}),ct==="roles"&&De&&t.jsxs("article",{className:"screen-card",id:"roles",children:[t.jsx("header",{className:"screen-card__header",children:t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:t.jsxs("div",{children:[Dr("roles"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-user-shield",style:{marginRight:"10px"}}),"Roles"]}),t.jsx("p",{children:"Manage admin roles and permissions."})]})})}),t.jsx("div",{className:"card",children:t.jsxs("div",{style:{padding:"24px"},children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h4",{style:{marginBottom:"12px"},children:"Available Roles"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",marginBottom:"24px"},children:[t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"2px solid #5a31ea"},children:[t.jsx("h5",{style:{margin:"0 0 8px 0",color:"#5a31ea"},children:"Admin"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",margin:0},children:"Full access to all features and settings"})]}),t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px"},children:[t.jsx("h5",{style:{margin:"0 0 8px 0"},children:"Finance"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",margin:0},children:"Can manage finances, invoices, and payments"})]}),t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px"},children:[t.jsx("h5",{style:{margin:"0 0 8px 0"},children:"Staff"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",margin:0},children:"Can manage members and view reports, no financial exports"})]}),t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px"},children:[t.jsx("h5",{style:{margin:"0 0 8px 0"},children:"Viewer"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",margin:0},children:"Read-only access to view data"})]})]})]}),t.jsx("div",{className:"table-wrapper",children:t.jsx(oi,{columns:["Name","Email","Role","Status","Actions"],rows:a.map(u=>({Name:u.name||"N/A",Email:u.email||"N/A",Role:{render:()=>t.jsx("span",{className:"badge badge-active",children:u.role||"Viewer"})},Status:{render:()=>t.jsx("span",{className:u.status==="Active"?"badge badge-active":u.status==="Pending"?"badge badge-pending":"badge badge-overdue",children:u.status||"Active"})},Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[$e==="Super Admin"&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--edit",onClick:async()=>{try{const N=["Admin","Super Admin","Finance","Staff","Viewer"],O=u.role||"Viewer",F=N.indexOf(O),D=F===-1?0:(F+1)%N.length,G=N[D];await pe(u.id,{role:G}),qe(`${u.name}'s role updated to ${G}`)}catch(N){qe(N.message||"Failed to update role","error")}},title:"Change Role",children:t.jsx("i",{className:"fas fa-sync-alt","aria-hidden":"true"})}),(u.role||"Viewer")!=="Admin"&&(u.role||"Viewer")!=="Super Admin"&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",style:{color:"#ef4444"},onClick:async()=>{ai(`Remove ${u.name} from admin users?`,async()=>{try{await Pe(u.id),qe(`${u.name} removed`),await U()}catch(N){qe(N.message||"Failed to delete admin","error")}})},title:"Delete Admin",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}))})})]})})]}),ct==="org-settings"&&t.jsxs("article",{className:"screen-card",id:"org-settings",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Dr("org-settings"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-building",style:{marginRight:"10px"}}),"Organization Settings"]}),t.jsx("p",{children:"Manage organization information and preferences."})]})}),t.jsx("div",{className:"settings-container",children:t.jsxs("div",{className:"settings-card",children:[t.jsxs("div",{className:"settings-card__header",children:[t.jsx("h4",{className:"settings-card__title",children:"Organization Info"}),t.jsx("p",{className:"settings-card__subtitle",children:"Update your organization's contact information"})]}),t.jsxs("form",{noValidate:!0,onSubmit:u=>{u.preventDefault(),ie(ur),qe("Organization info updated!")},className:"settings-form",children:[t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Organization Name",t.jsx("input",{type:"text",className:"settings-form__input",value:ur.name,onChange:u=>Mi({...ur,name:u.target.value}),placeholder:"Subscription Manager HK"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Email",t.jsx("input",{type:"email",className:"settings-form__input",value:ur.email,onChange:u=>Mi({...ur,email:u.target.value}),placeholder:"support@subscriptionhk.org"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Phone",t.jsx("input",{type:"text",className:"settings-form__input",value:ur.phone,onChange:u=>Mi({...ur,phone:u.target.value}),placeholder:"+852 2800 1122"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Address",t.jsx("textarea",{className:"settings-form__input",value:ur.address,onChange:u=>Mi({...ur,address:u.target.value}),placeholder:"123 Central Street, Hong Kong",rows:3})]})}),t.jsxs("div",{className:"settings-form__group",children:[t.jsxs("label",{className:"settings-form__label",children:[t.jsx("i",{className:"fas fa-globe",style:{marginRight:"8px",color:"#5a31ea"}}),"Number Format Locale ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("select",{className:"settings-form__input",value:we,onChange:u=>{_e(u.target.value),qe("Number format locale updated! Numbers will refresh automatically.","success")},style:{padding:"12px",border:"1px solid #e5e7eb",borderRadius:"4px",fontSize:"0.875rem",color:"#1a1a1a",backgroundColor:"#ffffff",cursor:"pointer"},children:Sy().map(u=>t.jsx("option",{value:u.value,children:u.label},u.value))}),t.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.75rem",color:"#666"},children:["Choose your preferred number format. Example: ",Pr(123456789e-2,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsx("div",{className:"settings-form__actions",children:t.jsx("button",{type:"submit",className:"primary-btn",children:"Save Changes"})})]})]})})]}),ct==="settings"&&De&&t.jsxs("article",{className:"screen-card",id:"settings",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Dr("settings"),t.jsx("h3",{children:"Admin Settings"}),t.jsx("p",{children:"Organization profile and admin accounts."})]})}),t.jsx("div",{className:"settings-container",children:t.jsxs("div",{className:"settings-card",children:[t.jsx("div",{className:"settings-card__header",children:t.jsxs("div",{className:"settings-card__header-content",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"settings-card__title",children:"User Management"}),t.jsx("p",{className:"settings-card__subtitle",children:"Manage admin users and their permissions"})]}),t.jsx("button",{className:"settings-card__add-btn secondary-btn",onClick:()=>{if(!De){qe("Only Admin and Super Admin can add new admin users","error");return}Vi(!0),Qr({name:"",email:"",password:"",role:"Viewer",status:"Active"})},disabled:!De,title:De?"Add a new admin user":"Only Admin and Super Admin can add admins",children:"+ Add Admin"})]})}),t.jsx("div",{className:"settings-table-wrapper",children:t.jsx(oi,{columns:["User","Role","Status","Actions"],rows:a.map(u=>({User:u.name,Role:u.role||"Viewer",Status:{render:()=>t.jsx("span",{className:(u.status||"Active")==="Active"?"badge badge-active":"badge badge-inactive",children:u.status||"Active"})},Actions:{render:()=>t.jsxs("div",{className:"settings-table__actions",children:[(u.status||"Active")==="Active"?t.jsx("button",{className:"ghost-btn settings-table__action-btn",onClick:async()=>{try{await pe(u.id,{status:"Inactive"}),qe(`${u.name} deactivated`)}catch(N){qe(N.message||"Failed to update admin","error")}},children:"Deactivate"}):t.jsx("button",{className:"secondary-btn settings-table__action-btn",onClick:async()=>{try{await pe(u.id,{status:"Active"}),qe(`${u.name} activated`)}catch(N){qe(N.message||"Failed to update admin","error")}},children:"Activate"}),(u.role||"Viewer")!=="Admin"&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",onClick:async()=>{ai(`Remove ${u.name} from admin users?`,async()=>{try{await Pe(u.id),qe(`${u.name} removed`),await U()}catch(N){qe(N.message||"Failed to delete admin","error")}})},title:"Remove Admin","aria-label":"Remove Admin",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}))})})]})}),Jo&&t.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:u=>{u.target===u.currentTarget&&Vi(!1)},children:t.jsxs("div",{className:"card",style:{maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",background:"#f9fafb",position:"relative",padding:"24px 24px 20px"},onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"8px",margin:0},children:[t.jsx("i",{className:"fas fa-user-plus","aria-hidden":"true"}),"Add New Admin"]}),t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>Vi(!1),style:{fontSize:"1.5rem",lineHeight:1,color:"#ef4444",fontWeight:"bold",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",border:"1px solid #ef4444",background:"transparent",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:u=>{u.target.style.background="#fee2e2"},onMouseLeave:u=>{u.target.style.background="transparent"},"aria-label":"Close add admin form",children:""})]}),t.jsxs("form",{noValidate:!0,onSubmit:async u=>{if(u.preventDefault(),!Kr.name){qe("Please enter admin name","error");return}if(!Kr.email){qe("Please enter admin email","error");return}if(!Kr.password){qe("Please enter admin password","error");return}try{await Ie(Kr),Vi(!1),Qr({name:"",email:"",password:"",role:"Viewer",status:"Active"}),qe("Admin user added!")}catch(N){qe(N.message||"Failed to add admin user","error")}},className:"settings-form",children:[t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Name",t.jsx("input",{type:"text",className:"settings-form__input",required:!0,value:Kr.name,onChange:u=>Qr({...Kr,name:u.target.value}),placeholder:"Enter admin name"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Email",t.jsx("input",{type:"email",className:"settings-form__input",required:!0,value:Kr.email,onChange:u=>Qr({...Kr,email:u.target.value}),placeholder:"Enter admin email"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Password",t.jsx("input",{type:"password",className:"settings-form__input",required:!0,value:Kr.password,onChange:u=>Qr({...Kr,password:u.target.value}),placeholder:"Set a password"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Role",t.jsxs("select",{className:"settings-form__select",value:Kr.role,onChange:u=>Qr({...Kr,role:u.target.value}),children:[t.jsx("option",{children:"Admin"}),t.jsx("option",{children:"Super Admin"}),t.jsx("option",{children:"Finance"}),t.jsx("option",{children:"Staff"}),t.jsx("option",{children:"Viewer"})]})]})}),t.jsxs("div",{className:"settings-form__actions",children:[t.jsx("button",{type:"button",className:"ghost-btn settings-form__cancel",onClick:()=>Vi(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"primary-btn settings-form__submit-btn",children:"Add Admin"})]})]})]})})]})]})]})]}),zs&&qr&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:u=>{u.target===u.currentTarget&&(fi(!1),ks(null),va({paymentMethod:"Admin",imageFile:null,imagePreview:null,imageUrl:"",reference:"",selectedAdminId:"",adminMobile:""}))},children:t.jsxs("div",{className:"card",style:{maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",position:"relative"},onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-money-bill-wave",style:{marginRight:"8px",color:"#5a31ea"}}),"Pay Invoice #",qr.id]}),t.jsx("button",{type:"button",onClick:()=>{fi(!1),ks(null),va({paymentMethod:"Admin",imageFile:null,imagePreview:null,imageUrl:""})},style:{background:"transparent",border:"none",fontSize:"1.5rem",color:"#666",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},onMouseEnter:u=>{u.target.style.background="#f3f4f6",u.target.style.color="#1a1a1a"},onMouseLeave:u=>{u.target.style.background="transparent",u.target.style.color="#666"},children:""})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Amount:"}),t.jsx("strong",{style:{color:"#1a1a1a",fontSize:"1.125rem"},children:qr.amount})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Period:"}),t.jsx("span",{style:{color:"#1a1a1a"},children:qr.period})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Due Date:"}),t.jsx("span",{style:{color:"#1a1a1a"},children:qr.due})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"12px"},children:"Payment Method"}),t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[t.jsxs("button",{type:"button",onClick:()=>va({...vn,paymentMethod:"Admin"}),style:{flex:"1",minWidth:"150px",padding:"12px 20px",borderRadius:"8px",border:"none",background:vn.paymentMethod==="Admin"?"#5a31ea":"#f8f9ff",color:vn.paymentMethod==="Admin"?"#ffffff":"#1a1a1a",boxShadow:vn.paymentMethod==="Admin"?"0 4px 12px rgba(90, 49, 234, 0.3)":"0 2px 4px rgba(90, 49, 234, 0.08)",fontWeight:"600",fontSize:"0.9375rem",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-user-shield"}),"Paid Cash"]}),t.jsxs("button",{type:"button",onClick:()=>va({...vn,paymentMethod:"Online"}),style:{flex:"1",minWidth:"150px",padding:"12px 20px",borderRadius:"8px",border:"none",background:vn.paymentMethod==="Online"?"#5a31ea":"#f8f9ff",color:vn.paymentMethod==="Online"?"#ffffff":"#1a1a1a",boxShadow:vn.paymentMethod==="Online"?"0 4px 12px rgba(90, 49, 234, 0.3)":"0 2px 4px rgba(90, 49, 234, 0.08)",fontWeight:"600",fontSize:"0.9375rem",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-globe"}),"Paid Online"]})]})]}),(vn.paymentMethod==="Admin"||vn.paymentMethod==="Online")&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:["Choose Admin ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:vn.selectedAdminId,onChange:u=>{va({...vn,selectedAdminId:u.target.value}),(pr.selectedAdminId||Jn==="selectedAdminId")&&(zn(N=>({...N,selectedAdminId:!1})),Jn==="selectedAdminId"&&_a(null))},style:{width:"100%",padding:"10px 12px",border:pr.selectedAdminId&&Jn==="selectedAdminId"?"2px solid #ef4444":"1px solid #e0e0e0",borderRadius:"8px",fontSize:"0.875rem",background:"#fff",outline:"none",cursor:"pointer",transition:"border-color 0.2s"},onFocus:u=>{(!pr.selectedAdminId||Jn!=="selectedAdminId")&&(u.target.style.borderColor="#5a31ea",u.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1)")},onBlur:u=>{pr.selectedAdminId&&Jn==="selectedAdminId"?(u.target.style.borderColor="#ef4444",u.target.style.boxShadow="0 0 0 3px rgba(239, 68, 68, 0.1)"):(u.target.style.borderColor="#e0e0e0",u.target.style.boxShadow="none")},children:[t.jsx("option",{value:"",children:"Select an admin"}),a.filter(u=>u.status==="Active").map(u=>t.jsxs("option",{value:u.id,children:[u.name," (",u.email,")"]},u.id))]})]}),t.jsx("div",{children:t.jsx(Vc,{label:t.jsxs("span",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:["Mobile Number ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),value:vn.adminMobile,onChange:u=>{va({...vn,adminMobile:u.target.value}),(pr.adminMobile||Jn==="adminMobile")&&(zn(N=>({...N,adminMobile:!1})),Jn==="adminMobile"&&_a(null))},onError:u=>{qe(u,"error"),zn(N=>({...N,adminMobile:!0})),_a("adminMobile")},required:!0,className:pr.adminMobile&&Jn==="adminMobile"?"admin-phone-input-error":"",placeholder:"Enter mobile number"})})]}),(vn.paymentMethod==="Admin"||vn.paymentMethod==="Online")&&t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"12px"},children:["Attachment Image ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("div",{style:{border:pr.image?"2px dashed #ef4444":"2px dashed #d0d0d0",borderRadius:"8px",padding:"20px",textAlign:"center",background:pr.image?"#fef2f2":"#fafafa",cursor:"pointer",transition:"all 0.2s ease",boxShadow:pr.image?"0 0 0 3px rgba(239, 68, 68, 0.1)":"none"},onMouseEnter:u=>{pr.image||(u.currentTarget.style.borderColor="#5a31ea",u.currentTarget.style.background="#f8f9ff")},onMouseLeave:u=>{pr.image?(u.currentTarget.style.borderColor="#ef4444",u.currentTarget.style.background="#fef2f2"):(u.currentTarget.style.borderColor="#d0d0d0",u.currentTarget.style.background="#fafafa")},onClick:()=>{pr.image&&zn({...pr,image:!1});const u=document.createElement("input");u.type="file",u.accept="image/*",u.onchange=async N=>{const O=N.target.files[0];if(!O)return;if(!O.type.startsWith("image/")){qe("Please upload an image file","error");return}const F=new FileReader;F.onloadend=()=>{va(D=>({...D,imageFile:O,imagePreview:F.result})),zn(D=>({...D,image:!1}))},F.readAsDataURL(O)},u.click()},children:vn.imagePreview||qr.screenshot&&!vn.imageFile?t.jsxs("div",{style:{position:"relative"},children:[t.jsx("img",{src:vn.imagePreview||qr.screenshot,alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"4px",marginBottom:"8px"}}),t.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),va({...vn,imageFile:null,imagePreview:null,imageUrl:""}),zn(N=>({...N,image:!1}))},style:{position:"absolute",top:"8px",right:"8px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"50%",width:"28px",height:"28px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem"},children:""})]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-cloud-upload-alt",style:{fontSize:"2rem",color:"#5a31ea",marginBottom:"8px"}}),t.jsx("p",{style:{margin:"0",color:"#666",fontSize:"0.875rem"},children:"Click to upload image"}),t.jsx("p",{style:{margin:"4px 0 0 0",color:"#999",fontSize:"0.75rem"},children:"PNG, JPG, GIF up to 5MB"})]})})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"8px"},children:[t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{fi(!1),ks(null),va({paymentMethod:"",imageFile:null,imagePreview:null,imageUrl:"",reference:"",selectedAdminId:"",adminMobile:""}),zn({image:!1,reference:!1,selectedAdminId:!1,adminMobile:!1}),_a(null)},disabled:Gi,children:"Cancel"}),vn.paymentMethod&&t.jsx("button",{type:"button",className:"primary-btn",disabled:Gi,onClick:async()=>{(()=>{const N=["selectedAdminId","adminMobile","image"];if(Jn){let O=!0,F="";if(Jn==="selectedAdminId"&&!vn.selectedAdminId?(O=!1,F="Please select an admin"):Jn==="adminMobile"&&!vn.adminMobile.trim()?(O=!1,F="Mobile number is required"):Jn==="image"&&(vn.imageFile||vn.imageUrl||qr?.screenshot||(O=!1,F="Image has not been uploaded. Please upload an image attachment.")),O)zn(D=>({...D,[Jn]:!1})),_a(null);else return zn(D=>({...D,[Jn]:!0})),qe(F,"error"),!1}for(const O of N){let F=!0,D="";if(O==="selectedAdminId"&&!vn.selectedAdminId?(F=!1,D="Please select an admin"):O==="adminMobile"&&!vn.adminMobile.trim()?(F=!1,D="Mobile number is required"):O==="image"&&(vn.imageFile||vn.imageUrl||qr?.screenshot||(F=!1,D="Image has not been uploaded. Please upload an image attachment.")),!F)return zn({image:!1,reference:!1,selectedAdminId:!1,adminMobile:!1}),zn(G=>({...G,[O]:!0})),_a(O),qe(D,"error"),setTimeout(()=>{if(O==="selectedAdminId"){const G=document.querySelectorAll("select"),V=Array.from(G).find(Ae=>Ae.options[0]?.text==="Select an admin");V?.focus(),V?.scrollIntoView({behavior:"smooth",block:"center"})}else if(O==="adminMobile"){const G=document.querySelectorAll(".phone-input-field"),V=Array.from(G).find(Ae=>Ae.placeholder?.includes("mobile number"));V?.focus(),V?.scrollIntoView({behavior:"smooth",block:"center"})}else if(O==="image"){const G=document.querySelectorAll('[style*="border"]');Array.from(G).find(Ae=>Ae.style.border.includes("dashed"))?.scrollIntoView({behavior:"smooth",block:"center"})}},100),!1}return zn({image:!1,reference:!1,selectedAdminId:!1,adminMobile:!1}),_a(null),!0})()&&ai(`Are you sure you want to mark Invoice #${qr.id} as paid?`,async()=>{La(!0);try{const N="http://localhost:4000";let O=vn.imageUrl||qr.screenshot;if(vn.imageFile){const D=new FormData;D.append("screenshot",vn.imageFile),D.append("uploadType","invoice-payment-attachment");const G=await fetch(`${N}/api/upload/screenshot`,{method:"POST",body:D});if(!G.ok){let Ae="Failed to upload image";try{const Se=await G.json();Ae=Se.error||Ae,console.error("Upload error response:",Se)}catch(Se){console.error("Failed to parse error response:",Se),Ae=`Upload failed with status ${G.status}`}throw new Error(Ae)}const V=await G.json();if(!V.url)throw new Error("No URL returned from upload. Please try again.");O=V.url}if(!O)throw new Error("Image upload is required for all payments");O&&O!==qr.screenshot&&await ge(qr.id,{screenshot:O});const F=vn.paymentMethod==="Admin"?"Cash":"Online";await Zo(qr.id,F,O,null),fi(!1),ks(null),va({paymentMethod:"",imageFile:null,imagePreview:null,imageUrl:"",reference:"",selectedAdminId:"",adminMobile:""}),zn({image:!1,reference:!1,selectedAdminId:!1,adminMobile:!1}),_a(null),qe(`Invoice #${qr.id} marked as paid!`,"success")}catch(N){console.error("Error processing payment:",N),qe(N.message||"Failed to process payment","error")}finally{La(!1)}},null,"Confirm")},style:{opacity:Gi?.6:1,cursor:Gi?"not-allowed":"pointer"},children:Gi?"Processing...":"Mark as Paid"})]})]})]})}),Xt&&jn&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:u=>{u.target===u.currentTarget&&(Za(!1),Us(null))},children:t.jsxs("div",{className:"card",style:{maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",position:"relative"},onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-receipt",style:{marginRight:"8px",color:"#5a31ea"}}),"Payment Details"]}),t.jsx("button",{type:"button",onClick:()=>{Za(!1),Us(null)},style:{background:"transparent",border:"none",fontSize:"1.5rem",color:"#666",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},onMouseEnter:u=>{u.target.style.background="#f3f4f6",u.target.style.color="#1a1a1a"},onMouseLeave:u=>{u.target.style.background="transparent",u.target.style.color="#666"},children:""})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:[jn.date&&t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsx("span",{style:{display:"block",color:"#666",fontSize:"0.875rem",marginBottom:"4px"},children:"Date"}),t.jsx("strong",{style:{color:"#1a1a1a",fontSize:"1rem"},children:jn.date})]}),jn.amount&&t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsx("span",{style:{display:"block",color:"#666",fontSize:"0.875rem",marginBottom:"4px"},children:"Amount"}),t.jsx("strong",{style:{color:"#5a31ea",fontSize:"1.25rem",fontWeight:"700"},children:jn.amount})]}),jn.status&&t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsx("span",{style:{display:"block",color:"#666",fontSize:"0.875rem",marginBottom:"4px"},children:"Status"}),t.jsx("span",{className:`badge ${jn.status==="Paid"||jn.status==="Completed"?"badge-paid":jn.status==="Pending Verification"||jn.status==="Pending"?"badge-pending":"badge-unpaid"}`,style:{fontSize:"0.875rem",padding:"6px 12px",display:"inline-block",marginTop:"4px"},children:jn.status})]}),t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsx("span",{style:{display:"block",color:"#666",fontSize:"0.875rem",marginBottom:"4px"},children:"Payment Method"}),t.jsx("strong",{style:{color:"#1a1a1a",fontSize:"1rem"},children:bn(jn)})]})]}),t.jsxs("div",{style:{padding:"20px",background:"#fafafa",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsx("h4",{style:{margin:"0 0 16px 0",fontSize:"1rem",fontWeight:"600",color:"#333"},children:"Additional Information"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[jn.reference&&jn.reference!=="N/A"&&jn.reference!=="-"&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Reference:"}),t.jsx("strong",{style:{fontSize:"0.875rem",fontFamily:"monospace",color:"#1a1a1a"},children:jn.reference})]}),jn.paidToAdminName&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Paid to:"}),t.jsx("strong",{style:{fontSize:"0.875rem",color:"#1a1a1a"},children:jn.paidToAdminName})]}),jn.period&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Period:"}),t.jsx("strong",{style:{fontSize:"0.875rem",color:"#1a1a1a"},children:jn.period})]}),jn.member&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Member:"}),t.jsx("strong",{style:{fontSize:"0.875rem",color:"#1a1a1a"},children:jn.member})]}),jn.memberEmail&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Email:"}),t.jsx("strong",{style:{fontSize:"0.875rem",color:"#1a1a1a"},children:jn.memberEmail})]}),jn.invoiceId&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Invoice ID:"}),t.jsx("strong",{style:{fontSize:"0.875rem",fontFamily:"monospace",color:"#1a1a1a"},children:jn.invoiceId})]}),jn.notes&&t.jsxs("div",{style:{marginTop:"8px",paddingTop:"12px",borderTop:"1px solid #e0e0e0"},children:[t.jsx("span",{style:{display:"block",fontSize:"0.875rem",color:"#666",marginBottom:"4px"},children:"Notes:"}),t.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#1a1a1a"},children:jn.notes})]})]})]}),jn.screenshot&&t.jsxs("div",{children:[t.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",fontWeight:"600",color:"#333"},children:[t.jsx("i",{className:"fas fa-image",style:{marginRight:"8px",color:"#5a31ea"}}),"Payment Screenshot"]}),t.jsx("div",{style:{border:"1px solid #e0e0e0",borderRadius:"8px",overflow:"hidden",background:"#fafafa"},children:t.jsx("img",{src:jn.screenshot,alt:"Payment Screenshot",style:{width:"100%",height:"auto",display:"block",cursor:"pointer"},onClick:()=>{const u=window.open();u&&u.document.write(`
                            <html>
                              <head><title>Payment Screenshot</title></head>
                              <body style="margin:0;padding:20px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:100vh;">
                                <img src="${jn.screenshot}" alt="Payment Screenshot" style="max-width:100%;max-height:90vh;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);" />
                              </body>
                            </html>
                          `)}})}),t.jsxs("button",{type:"button",onClick:()=>{const u=window.open();u&&u.document.write(`
                          <html>
                            <head><title>Payment Screenshot</title></head>
                            <body style="margin:0;padding:20px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:100vh;">
                              <img src="${jn.screenshot}" alt="Payment Screenshot" style="max-width:100%;max-height:90vh;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);" />
                            </body>
                          </html>
                        `)},className:"primary-btn",style:{width:"100%",marginTop:"12px",padding:"12px 20px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-expand"}),"Open Screenshot in New Window"]})]}),t.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"8px"},children:t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{Za(!1),Us(null)},children:"Close"})})]})]})}),t.jsx(Qc,{})]})}function ky(){const{members:i,admins:a,invoices:r,payments:o,paymentHistory:c,addPayment:l,updateInvoice:m,updateMember:p,fetchInvoices:g,fetchPayments:v,fetchMembers:j,loading:A}=Qd(),M=[{id:"dashboard",label:"Dashboard"},{id:"pay",label:"Pay Now"},{id:"invoices",label:"Invoices"},{id:"history",label:"Payment History"},{id:"profile",label:"Profile"}],[b,U]=Q.useState(M[0].id),[E,I]=Q.useState("Online Payment"),[P,W]=Q.useState([]),[X,H]=Q.useState(""),[fe,he]=Q.useState(null),[Ee,ge]=Q.useState(!1),[ee,xe]=Q.useState(null),[z,$]=Q.useState(!1),[le,ie]=Q.useState(null),[we,_e]=Q.useState("success"),[Ie,pe]=Q.useState(!1),[Pe,Ue]=Q.useState(!1),[te,C]=Q.useState(!1),[K,Z]=Q.useState(!1),[de,ce]=Q.useState(1),[be,Me]=Q.useState(10),Fe=sessionStorage.getItem("memberEmail"),$e=sessionStorage.getItem("memberId"),De=$e?i.find(Ce=>Ce.id===$e):Fe?i.find(Ce=>Ce.email&&Ce.email.toLowerCase()===Fe.toLowerCase()):null,[at,ot]=Q.useState(()=>De?{name:De.name||"",email:De.email||"",phone:De.phone||"",password:"",emailReminders:!0,whatsappReminders:!0}:{name:"",email:"",phone:"",password:"",emailReminders:!0,whatsappReminders:!0});Q.useEffect(()=>{De&&ot({name:De.name||"",email:De.email||"",phone:De.phone||"",password:"",emailReminders:!0,whatsappReminders:!0})},[De,i]),Q.useEffect(()=>{(Fe||$e)&&!De&&!A&&i.length===0&&j()},[Fe,$e,De,A,i.length]),Q.useEffect(()=>{b==="history"&&ce(1)},[be,b]),Q.useEffect(()=>{(b==="invoices"||b==="history")&&(g(),v())},[b]),Q.useEffect(()=>{const Ce=ze=>{te&&!ze.target.closest(".admin-menu")&&!ze.target.closest(".mobile-menu-toggle")&&C(!1)};return te?(document.addEventListener("click",Ce),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.removeEventListener("click",Ce),document.body.style.overflow=""}},[te]);const gt=ho();Om(15);const Y=Ce=>{U(Ce),$(!1)},nt=()=>{It("You have been logged out","success"),setTimeout(()=>{gt("/login",{replace:!0})},500)},It=(Ce,ze="success")=>{ie(Ce),_e(ze),setTimeout(()=>ie(null),3e3)},wt=Ce=>{const ze=(o||c||[]).find(se=>se.invoiceId===Ce.id);if(ze){if(ze.status==="Pending")return"Pending Verification";if(ze.status==="Completed")return"Paid";if(ze.status==="Rejected")return"Unpaid"}return Ce.status},Ke=()=>De?r.filter(Ce=>{const ze=wt(Ce);return(Ce.memberId===De.id||Ce.memberEmail===De.email||Ce.memberName===De.name)&&(ze==="Unpaid"||ze==="Overdue")}):[],_t=()=>Ke().map(ze=>({label:ze.period,due:ze.due,amount:ze.amount,status:ze.status,id:ze.id})),vt=()=>P.reduce((Ce,ze)=>{const se=r.find(ke=>ke.id===ze);return se?Ce+parseFloat(se.amount.replace("$","")):Ce},0),ct=Ce=>{P.includes(Ce)?W(P.filter(ze=>ze!==Ce)):W([...P,Ce])},St=async Ce=>{if(Ce.preventDefault(),P.length===0){It("Please select at least one invoice","error");return}if(!fe){It("Please upload a payment screenshot","error");return}ge(!0);try{const ze="http://localhost:4000",se=new FormData;se.append("screenshot",fe);const ke=await fetch(`${ze}/api/upload-screenshot`,{method:"POST",body:se});if(!ke.ok){let Ve="Failed to upload screenshot";try{const ft=await ke.json();Ve=ft.error||Ve,console.error("Upload error response:",ft)}catch(ft){console.error("Failed to parse error response:",ft),Ve=`Upload failed with status ${ke.status}`}throw new Error(Ve)}const Xe=await ke.json();if(!Xe.url)throw new Error("No URL returned from upload. Please try again.");const ht=Xe.url;for(const Ve of P){const ft=r.find($t=>$t.id===Ve);ft&&(await m(Ve,{status:"Pending Verification",method:"Screenshot",reference:`PENDING_${Date.now()}`,screenshot:ht}),await l({invoiceId:Ve,amount:ft.amount,method:"Screenshot",reference:`PENDING_${Date.now()}`,member:De?.name||"Member",memberId:De?.id,memberEmail:De?.email,period:ft.period,status:"Pending",screenshot:ht}))}he(null),W([]),$(!0),It(`Payment proof submitted successfully! ${P.length} invoice(s) pending admin approval.`)}catch(ze){console.error("Error submitting payment:",ze),It(ze.message||"Failed to submit payment. Please try again.","error")}finally{ge(!1)}},nn=async Ce=>{if(Ce.preventDefault(),P.length===0){It("Please select at least one invoice","error");return}if(!X){It("Please select the admin you paid to","error");return}ge(!0);try{const ze=a.find(ke=>ke.id===X);if(!ze){It("Admin not found","error");return}let se=null;if(fe){const ke="http://localhost:4000",Xe=new FormData;Xe.append("screenshot",fe);const ht=await fetch(`${ke}/api/upload-screenshot`,{method:"POST",body:Xe});if(!ht.ok){let ft="Failed to upload screenshot";try{const $t=await ht.json();ft=$t.error||ft,console.error("Upload error response:",$t)}catch($t){console.error("Failed to parse error response:",$t),ft=`Upload failed with status ${ht.status}`}throw new Error(ft)}const Ve=await ht.json();if(!Ve.url)throw new Error("No URL returned from upload. Please try again.");se=Ve.url}for(const ke of P){const Xe=r.find(ht=>ht.id===ke);Xe&&(await m(ke,{status:"Pending Verification",method:"Cash to Admin",reference:`CASH_PENDING_${Date.now()}`,paidToAdmin:ze.id,paidToAdminName:ze.name,screenshot:se}),await l({invoiceId:ke,amount:Xe.amount,method:"Cash to Admin",reference:`CASH_PENDING_${Date.now()}`,member:De?.name||"Member",memberId:De?.id,memberEmail:De?.email,period:Xe.period,status:"Pending",paidToAdmin:ze.id,paidToAdminName:ze.name,screenshot:se}))}W([]),H(""),he(null),$(!0),It(`Payment submitted successfully! ${P.length} invoice(s) pending admin approval.`)}catch(ze){console.error("Error submitting payment:",ze),It(ze.message||"Failed to submit payment. Please try again.","error")}finally{ge(!1)}},Zt=async Ce=>{if(Ce.preventDefault(),!De){It("Member not found","error");return}try{const ze={name:at.name,email:at.email,phone:at.phone};if(at.password&&at.password.trim()!==""){if(at.password.length<6){It("Password must be at least 6 characters long","error");return}ze.password=at.password}await p(De.id,ze),It("Profile updated successfully!"),pe(!1),ot({...at,password:""})}catch(ze){console.error("Error updating profile:",ze),It("Failed to update profile. Please try again.","error")}},Gt=(()=>{const Ce=Ke(),ze=Ce.reduce((ft,$t)=>{const bt=parseFloat($t.amount?.replace(/[^0-9.]/g,"")||0);return ft+bt},0),se=new Date().getFullYear();let ht=(De?c.filter(ft=>(ft.memberId===De.id||ft.memberEmail===De.email||ft.member===De.name)&&(ft.status==="Paid"||ft.status==="Completed")):c.filter(ft=>ft.status==="Paid"||ft.status==="Completed")).filter(ft=>ft.date?new Date(ft.date).getFullYear()===se:!1).reduce((ft,$t)=>{const bt=parseFloat($t.amount?.replace(/[^0-9.]/g,"")||0);return ft+bt},0);ht===0&&(ht=r.filter(bt=>bt.status==="Paid"&&(bt.memberId===De?.id||bt.memberEmail===De?.email||bt.memberName===De?.name)).filter(bt=>bt.due?new Date(bt.due).getFullYear()===se:!0).reduce((bt,fn)=>bt+parseFloat(fn.amount.replace("$","")),0));const Ve=Ce.sort((ft,$t)=>new Date(ft.due)-new Date($t.due))[0];return{outstanding:ze,paidThisYear:ht,nextDue:Ve?.due||"N/A",nextDueAmount:Ve?.amount||"$0"}})();return A||(Fe||$e)&&!De&&i.length===0?t.jsxs("div",{className:"member-loading-container",children:[t.jsx("div",{className:"member-loading-spinner"}),t.jsx("p",{className:"member-loading-text",children:A?"Loading data from server...":"Loading member information..."})]}):(Fe||$e)&&!A&&i.length>0&&!De?t.jsxs("div",{className:"member-not-found-container",children:[t.jsx("div",{className:"member-not-found-icon",children:""}),t.jsx("p",{className:"member-not-found-title",children:"Member Not Found"}),t.jsx("p",{className:"member-not-found-text",children:"We couldn't find your member account. Please contact support or try logging in again."}),t.jsx("button",{onClick:()=>{sessionStorage.clear(),gt("/login")},className:"primary-btn member-not-found-button",children:"Return to Login"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Kc,{showCTA:!1,showLogout:!0,onLogout:nt,showMobileMenu:!0,isMobileMenuOpen:te,onMobileMenuToggle:()=>C(!te),isSticky:!0}),t.jsx($l,{message:le,type:we,onClose:()=>ie(null),duration:3e3}),t.jsxs("main",{className:"admin-main admin-main--sticky-header",children:[te&&t.jsx("div",{className:"mobile-menu-overlay",onClick:()=>C(!1)}),t.jsxs("div",{className:"admin-layout",children:[t.jsxs("aside",{className:`admin-menu ${te?"mobile-open":""}`,onClick:Ce=>Ce.stopPropagation(),children:[t.jsx("p",{className:"eyebrow light",children:"Member Portal"}),t.jsx("h3",{children:De?.name||"Member"}),t.jsx("nav",{children:M.map(Ce=>t.jsx("button",{className:`admin-tab ${b===Ce.id?"active":""}`,onClick:()=>{Y(Ce.id),C(!1)},children:Ce.label},Ce.id))})]}),t.jsxs("div",{className:"admin-body",children:[b==="dashboard"&&t.jsxs("article",{className:"screen-card",id:"dashboard",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-chart-line member-dashboard-icon"}),"Dashboard"]}),t.jsxs("p",{children:["Welcome back, ",De?.name?.split(" ")[0]||"Member",". Here's an overview of your membership account."]})]})}),t.jsxs("div",{className:"card dashboard-card",children:[Gt.outstanding>0&&!Pe&&t.jsxs("div",{className:"alert-banner alert-warning member-alert-banner",children:[t.jsxs("div",{className:"alert-content",children:[t.jsx("strong",{children:"Payment Due Soon"}),t.jsxs("p",{children:["You have an outstanding balance of $",Gt.outstanding.toFixed(2),". Please pay to avoid late fees."]})]}),t.jsx("button",{className:"alert-dismiss member-alert-dismiss",onClick:()=>Ue(!0),children:""})]}),t.jsxs("div",{className:"kpi-grid",children:[t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-exclamation-circle",style:{marginRight:"8px",color:"#ef4444"}}),"Outstanding Balance"]}),t.jsxs("h4",{children:["$",Gt.outstanding.toFixed(2)]}),t.jsxs("small",{children:[Ke().length," invoice(s) pending"]})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px",color:"#5a31ea"}}),"Next Due Date"]}),t.jsx("h4",{children:Gt.nextDue}),t.jsx("small",{children:Gt.nextDueAmount})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-check-circle",style:{marginRight:"8px",color:"#10b981"}}),"Paid This Year"]}),t.jsxs("h4",{children:["$",parseFloat(Gt.paidThisYear).toFixed(2)]}),t.jsx("small",{children:"On track"})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-user-check",style:{marginRight:"8px",color:"#5a31ea"}}),"Membership Plan"]}),t.jsx("h4",{children:"Active"}),t.jsx("small",{children:"Lifetime: $250/year or Yearly + Janaza Fund: $500/year"})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginTop:"24px"},children:[t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header-flex",children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-clock",style:{marginRight:"8px"}}),"Upcoming Payments"]}),t.jsx("span",{className:"badge-count",children:_t().length})]}),t.jsx("div",{className:"payment-list",children:_t().slice(0,3).map(Ce=>t.jsxs("div",{className:"payment-item",children:[t.jsxs("div",{className:"payment-info",children:[t.jsx("strong",{className:"payment-title",children:Ce.label}),t.jsxs("span",{className:"payment-date",children:["Due ",Ce.due]})]}),t.jsxs("div",{className:"payment-right",children:[t.jsx("span",{className:"payment-amount",children:Ce.amount}),t.jsx("span",{className:li[Ce.status],children:Ce.status})]})]},Ce.id))}),t.jsx("button",{className:"btn-link",onClick:()=>Y("invoices"),children:"View All Invoices "})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header-flex",children:t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-history",style:{marginRight:"8px"}}),"Recent Activity"]})}),t.jsx("div",{className:"activity-list",children:(()=>{const ze=(De?c.filter(se=>se.memberId===De.id||se.memberEmail===De.email||se.member===De.name):c).slice(0,3);return ze.length===0?t.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666",fontSize:"0.9rem"},children:"No recent payments"}):ze.map((se,ke)=>t.jsx("div",{className:"activity-item",children:t.jsxs("div",{className:"activity-details",children:[t.jsx("strong",{children:"Payment Made"}),t.jsxs("span",{children:[se.date,"  ",se.amount," via ",se.paidToAdmin||se.paidToAdminName||se.method==="Cash to Admin"?"Cash":["Screenshot","Bank Transfer","FPS","PayMe","Alipay","Credit Card","Online Payment"].includes(se.method)?"Online Payment":se.method||"N/A",se.paidToAdminName&&`  Paid to ${se.paidToAdminName}`,se.reference&&`  Ref: ${se.reference}`]})]})},ke))})()}),(De?c.filter(ze=>ze.memberId===De.id||ze.memberEmail===De.email||ze.member===De.name):c).length>0&&t.jsx("button",{className:"btn-link",onClick:()=>Y("history"),children:"View Payment History "})]}),t.jsxs("div",{className:"card quick-actions-card",children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-bolt",style:{marginRight:"8px"}}),"Quick Actions"]}),t.jsxs("div",{className:"quick-actions-grid",children:[t.jsxs("button",{className:"quick-action-btn",onClick:()=>Y("pay"),children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"8px"}}),t.jsx("span",{className:"action-label",children:"Pay Now"})]}),t.jsxs("button",{className:"quick-action-btn",onClick:()=>Y("invoices"),children:[t.jsx("i",{className:"fas fa-file-invoice",style:{marginRight:"8px"}}),t.jsx("span",{className:"action-label",children:"View Invoices"})]}),t.jsxs("button",{className:"quick-action-btn",onClick:()=>Y("history"),children:[t.jsx("i",{className:"fas fa-list-alt",style:{marginRight:"8px"}}),t.jsx("span",{className:"action-label",children:"Payment History"})]}),t.jsxs("button",{className:"quick-action-btn",onClick:()=>Y("profile"),children:[t.jsx("i",{className:"fas fa-cog",style:{marginRight:"8px"}}),t.jsx("span",{className:"action-label",children:"Settings"})]})]})]})]})]})]}),b==="pay"&&t.jsxs("article",{className:"screen-card",id:"pay",children:[t.jsxs("header",{className:"screen-card__header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"10px"}}),"Pay Now"]}),t.jsx("p",{children:"Select invoices and choose your payment method."})]}),z?t.jsxs("div",{className:"card",style:{textAlign:"center",padding:"40px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("h2",{children:"Payment Submitted"}),t.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:"Your payment has been submitted successfully."}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[t.jsx("button",{className:"primary-btn",onClick:()=>Y("dashboard"),children:"Back to Dashboard"}),t.jsx("button",{className:"secondary-btn",onClick:()=>{$(!1),Y("invoices")},children:"View Invoices"})]})]}):t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"invoice-selection-section",style:{marginBottom:"32px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"12px"},children:[t.jsx("h4",{style:{margin:0},children:"Select Invoices to Pay"}),Ke().length>0&&t.jsx("button",{type:"button",className:"ghost-btn",style:{fontSize:"0.875rem",padding:"6px 12px"},onClick:()=>{P.length===Ke().length?W([]):W(Ke().map(Ce=>Ce.id))},children:P.length===Ke().length?"Deselect All":"Select All"})]}),Ke().length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666"},children:t.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"No unpaid invoices available."})}):t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px",marginBottom:"24px"},children:Ke().map(Ce=>{const ze=P.includes(Ce.id);return t.jsxs("label",{style:{display:"flex",flexDirection:"column",padding:"16px",border:`2px solid ${ze?"#5a31ea":"#e0e0e0"}`,borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:ze?"rgba(0, 0, 0, 0.02)":"#fff",position:"relative"},onMouseEnter:se=>{ze||(se.currentTarget.style.borderColor="#ccc")},onMouseLeave:se=>{ze||(se.currentTarget.style.borderColor="#e0e0e0")},children:[t.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"12px"},children:[t.jsx("input",{type:"checkbox",checked:ze,onChange:()=>ct(Ce.id),style:{marginTop:"2px",width:"18px",height:"18px",cursor:"pointer",flexShrink:0}}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("div",{style:{fontWeight:"600",fontSize:"0.95rem",marginBottom:"4px",color:"#5a31ea"},children:Ce.period}),t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"8px"},children:["Due: ",Ce.due]})]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto",paddingTop:"12px",borderTop:"1px solid #e5e7eb"},children:[t.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#1a1a1a"},children:Ce.amount}),t.jsx("span",{className:li[wt(Ce)],style:{fontSize:"0.75rem",padding:"4px 8px"},children:wt(Ce)})]})]},Ce.id)})}),P.length>0&&t.jsx("div",{style:{padding:"20px",backgroundColor:"#f8f8f8",borderRadius:"8px",border:"1px solid #e0e0e0"},children:t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"12px"},children:t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"4px"},children:[P.length," invoice",P.length>1?"s":""," selected"]}),t.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#5a31ea"},children:["Total: $",vt().toFixed(2)]})]})})})]}),P.length>0&&t.jsxs("div",{className:"payment-methods",children:[t.jsxs("div",{className:"tabs",children:[t.jsx("button",{className:`tab ${E==="Online Payment"?"active":""}`,onClick:()=>I("Online Payment"),children:"Online Payment"}),t.jsx("button",{className:`tab ${E==="Cash Payment"?"active":""}`,onClick:()=>I("Cash Payment"),children:"Cash Payment"})]}),E==="Online Payment"&&t.jsxs("form",{className:"method-panel",onSubmit:St,noValidate:!0,children:[t.jsx("p",{style:{marginBottom:"16px",color:"#666"},children:"Upload a screenshot of your payment confirmation for the selected invoice(s). All selected invoices will be marked as paid once the screenshot is uploaded."}),t.jsxs("label",{children:["Upload Payment Screenshot *",t.jsx("input",{type:"file",accept:"image/*",required:!0,onInvalid:Ce=>Ce.preventDefault(),onChange:Ce=>he(Ce.target.files[0])}),fe&&t.jsxs("div",{style:{marginTop:"8px",fontSize:"0.875rem",color:"#666"},children:["Selected: ",fe.name]})]}),t.jsx("button",{type:"submit",className:"primary-btn",style:{marginTop:"16px"},disabled:Ee,children:Ee?"Uploading...":`Pay $${vt().toFixed(2)}`})]}),E==="Cash Payment"&&t.jsxs("form",{className:"method-panel",onSubmit:nn,noValidate:!0,children:[t.jsx("p",{style:{marginBottom:"16px",color:"#666"},children:"Select the admin you paid to. You can optionally upload a payment screenshot as proof. All selected invoices will be pending admin approval."}),t.jsxs("label",{children:["Select Admin You Paid To *",t.jsxs("select",{required:!0,onInvalid:Ce=>Ce.preventDefault(),value:X||"",onChange:Ce=>H(Ce.target.value),style:{color:"#000"},children:[t.jsx("option",{value:"",children:"Choose an admin"}),a.filter(Ce=>Ce.status==="Active").map(Ce=>t.jsxs("option",{value:Ce.id,children:[Ce.name," (",Ce.email,")"]},Ce.id))]})]}),t.jsxs("label",{children:["Upload Payment Screenshot (Optional)",t.jsx("input",{type:"file",accept:"image/*",onChange:Ce=>he(Ce.target.files[0])}),fe&&t.jsxs("div",{style:{marginTop:"8px",fontSize:"0.875rem",color:"#666"},children:["Selected: ",fe.name]})]}),t.jsx("button",{type:"submit",className:"primary-btn",style:{marginTop:"16px"},disabled:Ee,children:Ee?"Uploading...":`Pay $${vt().toFixed(2)}`})]})]}),P.length===0&&t.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666",border:"2px dashed #e0e0e0",borderRadius:"8px"},children:t.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"Please select at least one invoice above to proceed with payment."})})]})]}),b==="invoices"&&t.jsxs("article",{className:"screen-card",id:"invoices",children:[t.jsxs("header",{className:"screen-card__header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-file-invoice-dollar",style:{marginRight:"10px"}}),"My Invoices"]}),t.jsx("p",{children:"View all your invoices and payment status."})]}),t.jsx("div",{className:"card",children:(()=>{if(!r||!Array.isArray(r))return t.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"Loading invoices..."});const Ce=De?r.filter(ze=>ze&&(ze.memberId===De.id||ze.memberEmail===De.email||ze.memberName===De.name)):r;return Ce.length===0?t.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#666"},children:t.jsx("p",{children:"No invoices found."})}):t.jsx(oi,{columns:["Invoice No","Period","Amount","Status","Due Date","Action"],rows:Ce.map(ze=>{if(!ze)return null;const se=wt(ze);return{"Invoice No":ze.id||"N/A",Period:ze.period||"N/A",Amount:ze.amount||"$0",Status:{render:()=>t.jsx("span",{className:li[se]||"badge badge-unpaid",children:se})},"Due Date":ze.due||"N/A",Action:{render:()=>se==="Paid"||se==="Pending Verification"?t.jsx("button",{className:"ghost-btn",style:{padding:"6px 12px"},onClick:()=>xe(ze),children:"View"}):t.jsx("button",{className:"primary-btn",style:{padding:"6px 12px"},onClick:()=>{W([ze.id]),Y("pay")},children:"Pay Now"})}}}).filter(ze=>ze!==null)})})()})]}),ee&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"20px"},onClick:()=>xe(null),children:t.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"32px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 24px rgba(0,0,0,0.2)"},onClick:Ce=>Ce.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[t.jsx("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"700"},children:"Invoice Details"}),t.jsx("button",{onClick:()=>xe(null),style:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",transition:"all 0.2s ease"},onMouseEnter:Ce=>{Ce.target.style.background="#f3f4f6",Ce.target.style.color="#000"},onMouseLeave:Ce=>{Ce.target.style.background="transparent",Ce.target.style.color="#666"},children:""})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[t.jsxs("div",{style:{padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Invoice ID:"}),t.jsx("strong",{children:ee.id})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Period:"}),t.jsx("strong",{children:ee.period})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Amount:"}),t.jsx("strong",{style:{fontSize:"1.25rem",color:"#000"},children:ee.amount})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Due Date:"}),t.jsx("strong",{children:ee.due})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Status:"}),t.jsx("span",{className:li[wt(ee)],children:wt(ee)})]})]}),wt(ee)==="Pending Verification"&&t.jsxs("div",{style:{padding:"16px",background:"#fff3cd",borderRadius:"8px",border:"1px solid #ffc107",marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[t.jsx("span",{style:{fontSize:"1.25rem"},children:""}),t.jsx("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"600",color:"#856404"},children:"Payment Pending Approval"})]}),t.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#856404"},children:"Your payment has been submitted and is awaiting admin approval. You will be notified once it's reviewed."}),ee.method&&t.jsx("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #ffc107"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#856404",fontSize:"0.875rem"},children:"Payment Method:"}),t.jsx("strong",{style:{color:"#856404"},children:ee.method})]})})]}),wt(ee)==="Paid"&&t.jsxs("div",{style:{padding:"16px",background:"#f0f8ff",borderRadius:"8px",border:"1px solid #1677FF"},children:[t.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",fontWeight:"600"},children:"Payment Information"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Payment Method:"}),t.jsx("strong",{children:ee.paidToAdmin||ee.paidToAdminName||ee.method==="Cash to Admin"?"Cash":["Screenshot","Bank Transfer","FPS","PayMe","Alipay","Credit Card","Online Payment"].includes(ee.method)?"Online Payment":ee.method||"N/A"})]}),ee.reference&&ee.reference!=="-"&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Reference:"}),t.jsx("strong",{children:ee.reference})]}),ee.paidToAdminName&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Paid to:"}),t.jsx("strong",{children:ee.paidToAdminName})]})]})]}),ee.screenshot&&t.jsxs("div",{style:{padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[t.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",fontWeight:"600"},children:"Payment Screenshot"}),t.jsx("button",{onClick:()=>{const Ce=window.open();Ce&&Ce.document.write(`
                                <html>
                                  <head><title>Payment Screenshot - ${ee.id}</title></head>
                                  <body style="margin:0;padding:20px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:100vh;">
                                    <img src="${ee.screenshot}" alt="Payment Screenshot" style="max-width:100%;max-height:90vh;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);" />
                                  </body>
                                </html>
                              `)},style:{width:"100%",padding:"12px",background:"#5a31ea",color:"#fff",border:"none",borderRadius:"8px",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.3)"},onMouseEnter:Ce=>{Ce.target.style.background="#4a28d0",Ce.target.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.4)"},onMouseLeave:Ce=>{Ce.target.style.background="#5a31ea",Ce.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.3)"},children:t.jsx("span",{style:{color:"#ffffff"},children:" View Full Screenshot"})}),t.jsx("img",{src:ee.screenshot,alt:"Payment Screenshot Preview",style:{width:"100%",maxHeight:"300px",objectFit:"contain",borderRadius:"8px",marginTop:"12px",border:"1px solid #e0e0e0"}})]})]}),t.jsx("div",{style:{marginTop:"24px",display:"flex",justifyContent:"flex-end"},children:t.jsx("button",{onClick:()=>xe(null),style:{padding:"10px 20px",background:"#5a31ea",color:"#fff",border:"none",borderRadius:"8px",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.3)"},onMouseEnter:Ce=>{Ce.target.style.background="#4a28d0",Ce.target.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.4)"},onMouseLeave:Ce=>{Ce.target.style.background="#5a31ea",Ce.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.3)"},children:"Close"})})]})}),b==="history"&&t.jsxs("article",{className:"screen-card",id:"history",children:[t.jsxs("header",{className:"screen-card__header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-history",style:{marginRight:"10px"}}),"Payment History"]}),t.jsx("p",{children:"Complete record of all your payments."})]}),t.jsx("div",{style:{marginTop:"24px"},children:(()=>{const Ce=De?c.filter(Ve=>Ve.memberId===De.id||Ve.memberEmail===De.email||Ve.member===De.name):c,ze=Math.ceil(Ce.length/be),se=Math.min(Math.max(1,de),ze||1),ke=se*be,Xe=ke-be,ht=Ce.slice(Xe,ke);return Ce.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#666"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("p",{style:{margin:0,fontSize:"1.125rem",fontWeight:"500"},children:"No payment history yet"}),t.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.9375rem",color:"#999"},children:"Your payment records will appear here"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsxs("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#1a1a1a",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-list",style:{color:"#5a31ea"}}),"Show:"]}),t.jsxs("select",{value:be,onChange:Ve=>{Me(Number(Ve.target.value)),ce(1)},style:{padding:"8px 12px",border:"none",borderRadius:"8px",background:"#f8f9ff",color:"#1a1a1a",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.08)",outline:"none"},children:[t.jsx("option",{value:2,children:"2"}),t.jsx("option",{value:5,children:"5"}),t.jsx("option",{value:10,children:"10"}),t.jsx("option",{value:20,children:"20"}),t.jsx("option",{value:50,children:"50"}),t.jsx("option",{value:100,children:"100"})]}),t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"per page"})]}),t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666"},children:["Showing ",Xe+1," to ",Math.min(ke,Ce.length)," of ",Ce.length," payments"]})]}),t.jsx("div",{className:"payment-history-list",style:{marginBottom:"24px"},children:ht.map((Ve,ft)=>{const $t=Ve.paidToAdmin||Ve.paidToAdminName||Ve.method==="Cash to Admin"?"Cash":["Screenshot","Bank Transfer","FPS","PayMe","Alipay","Credit Card","Online Payment"].includes(Ve.method)?"Online Payment":Ve.method||"N/A";return t.jsxs("div",{className:"payment-history-card",children:[t.jsxs("div",{className:"payment-history-card__main",children:[t.jsxs("div",{children:[t.jsx("p",{className:"payment-history-card__amount",children:Ve.amount||"$0"}),t.jsx("p",{className:"payment-history-card__date",children:Ve.date||"N/A"})]}),t.jsx("div",{className:"payment-history-card__status",children:t.jsx("span",{className:li[Ve.status]||"payment-history-card__status-pill",children:Ve.status||"Pending"})})]}),t.jsxs("div",{className:"payment-history-card__meta",children:[t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Method"}),t.jsx("span",{className:"value",children:$t})]}),Ve.reference&&Ve.reference!=="-"&&t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Reference"}),t.jsx("span",{className:"value code",children:Ve.reference})]}),Ve.paidToAdminName&&t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Paid to"}),t.jsx("span",{className:"value",children:Ve.paidToAdminName})]}),Ve.period&&t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Period"}),t.jsx("span",{className:"value",children:Ve.period})]})]}),Ve.status==="Pending"&&t.jsx("div",{style:{marginTop:"8px",padding:"8px",background:"#fff3cd",borderRadius:"8px",border:"1px solid #ffc107",fontSize:"0.8rem",color:"#856404"},children:" Your payment is pending admin approval. You will be notified once it's reviewed."}),Ve.status==="Rejected"&&Ve.rejectionReason&&t.jsxs("div",{style:{marginTop:"8px",padding:"8px",background:"#f8d7da",borderRadius:"8px",border:"1px solid #f5c6cb",fontSize:"0.8rem",color:"#721c24"},children:[" Payment rejected: ",Ve.rejectionReason]}),Ve.screenshot&&t.jsx("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px solid #e5e7eb"},children:t.jsxs("button",{onClick:()=>{const bt=window.open();bt&&bt.document.write(`
                                            <html>
                                              <head><title>Payment Screenshot</title></head>
                                              <body style="margin:0;padding:20px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:100vh;">
                                                <img src="${Ve.screenshot}" alt="Payment Screenshot" style="max-width:100%;max-height:90vh;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);" />
                                              </body>
                                            </html>
                                          `)},style:{width:"100%",padding:"8px 12px",background:"#5a31ea",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.3)"},children:[t.jsx("span",{style:{color:"#ffffff"},children:""}),t.jsx("span",{style:{color:"#ffffff"},children:"View Screenshot"})]})})]},ft)})}),ze>1&&t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",marginTop:"32px",flexWrap:"wrap"},children:[t.jsxs("button",{onClick:()=>ce(Ve=>Math.max(1,Ve-1)),disabled:se===1,style:{padding:"10px 16px",border:"none",borderRadius:"8px",background:se===1?"#f3f4f6":"#5a31ea",color:se===1?"#999":"#ffffff",fontSize:"0.875rem",fontWeight:"600",cursor:se===1?"not-allowed":"pointer",boxShadow:se===1?"none":"0 2px 8px rgba(90, 49, 234, 0.2)",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:Ve=>{se!==1&&(Ve.target.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.3)")},onMouseLeave:Ve=>{se!==1&&(Ve.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.2)")},children:[t.jsx("i",{className:"fas fa-chevron-left"}),"Previous"]}),t.jsx("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:Array.from({length:ze},(Ve,ft)=>ft+1).map(Ve=>Ve===1||Ve===ze||Ve>=se-1&&Ve<=se+1?t.jsx("button",{onClick:()=>ce(Ve),style:{padding:"10px 16px",border:"none",borderRadius:"8px",background:se===Ve?"#5a31ea":"#f8f9ff",color:se===Ve?"#ffffff":"#1a1a1a",fontSize:"0.875rem",fontWeight:se===Ve?"600":"500",cursor:"pointer",boxShadow:se===Ve?"0 2px 8px rgba(90, 49, 234, 0.3)":"0 2px 4px rgba(90, 49, 234, 0.08)",transition:"all 0.2s ease",minWidth:"40px"},onMouseEnter:$t=>{se!==Ve&&($t.target.style.background="#ffffff",$t.target.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.15)")},onMouseLeave:$t=>{se!==Ve&&($t.target.style.background="#f8f9ff",$t.target.style.boxShadow="0 2px 4px rgba(90, 49, 234, 0.08)")},children:Ve},Ve):Ve===se-2||Ve===se+2?t.jsx("span",{style:{padding:"10px 8px",color:"#666",fontSize:"0.875rem"},children:"..."},Ve):null)}),t.jsxs("button",{onClick:()=>ce(Ve=>Math.min(ze,Ve+1)),disabled:se===ze,style:{padding:"10px 16px",border:"none",borderRadius:"8px",background:se===ze?"#f3f4f6":"#5a31ea",color:se===ze?"#999":"#ffffff",fontSize:"0.875rem",fontWeight:"600",cursor:se===ze?"not-allowed":"pointer",boxShadow:se===ze?"none":"0 2px 8px rgba(90, 49, 234, 0.2)",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:Ve=>{se!==ze&&(Ve.target.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.3)")},onMouseLeave:Ve=>{se!==ze&&(Ve.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.2)")},children:["Next",t.jsx("i",{className:"fas fa-chevron-right"})]})]})]})})()})]}),b==="profile"&&t.jsxs("article",{className:"screen-card",id:"profile",children:[t.jsxs("header",{className:"screen-card__header",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-user-cog",style:{marginRight:"10px"}}),"Profile Settings"]}),t.jsx("p",{children:"Manage your account information and preferences."})]}),!Ie&&t.jsx("button",{type:"button",className:"primary-btn",onClick:()=>pe(!0),style:{padding:"10px 20px",fontSize:"0.9rem"},children:"Edit Profile"})]}),t.jsxs("form",{onSubmit:Zt,noValidate:!0,children:[t.jsx("div",{className:"card",style:{padding:"24px",marginBottom:"24px",background:"#ffffff",border:"1px solid #e0e0e0",borderRadius:"12px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",flexWrap:"wrap"},children:[t.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"#5a31ea",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"2rem",fontWeight:"600",flexShrink:0},children:De?.name?.charAt(0)?.toUpperCase()||"M"}),t.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[t.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"1.5rem",fontWeight:"600"},children:De?.name||"Member"}),t.jsx("p",{style:{margin:"0 0 4px 0",color:"#666",fontSize:"0.9rem"},children:De?.email||"No email"}),t.jsx("p",{style:{margin:0,color:"#666",fontSize:"0.9rem"},children:De?.phone||"No phone"})]}),t.jsx("div",{style:{padding:"8px 16px",background:De?.status==="Active"?"#d1fae5":"#fee2e2",color:De?.status==="Active"?"#065f46":"#991b1b",borderRadius:"20px",fontSize:"0.875rem",fontWeight:"500"},children:De?.status||"Active"})]})}),t.jsxs("div",{className:"card",style:{padding:"24px",marginBottom:"24px",border:"1px solid #e0e0e0",borderRadius:"12px"},children:[t.jsx("h4",{style:{margin:"0 0 20px 0",fontSize:"1.1rem",fontWeight:"600",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"},children:"Personal Information"}),Ie?t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px"},children:[t.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#333"},children:["Full Name ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{required:!0,onInvalid:Ce=>Ce.preventDefault(),value:at.name,onChange:Ce=>ot({...at,name:Ce.target.value}),style:{padding:"12px 16px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border-color 0.2s"},onFocus:Ce=>Ce.target.style.borderColor="#5a31ea",onBlur:Ce=>Ce.target.style.borderColor="#ddd"})]}),t.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#333"},children:["Email Address ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{required:!0,type:"email",onInvalid:Ce=>Ce.preventDefault(),value:at.email,onChange:Ce=>ot({...at,email:Ce.target.value}),style:{padding:"12px 16px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border-color 0.2s"},onFocus:Ce=>Ce.target.style.borderColor="#5a31ea",onBlur:Ce=>Ce.target.style.borderColor="#ddd"})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.jsx(Vc,{label:t.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#333"},children:["Phone Number (WhatsApp) ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),value:at.phone,onChange:Ce=>ot({...at,phone:Ce.target.value}),onError:Ce=>{It(Ce,"error")},placeholder:"Enter phone number",required:!0})}),t.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#333",display:"flex",alignItems:"center",gap:"6px"},children:[t.jsx("i",{className:"fas fa-lock",style:{color:"#5a31ea",fontSize:"0.875rem"}}),"New Password (leave blank to keep current)"]}),t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:K?"text":"password",value:at.password,onChange:Ce=>ot({...at,password:Ce.target.value}),placeholder:"Enter new password (min. 6 characters)",minLength:6,style:{padding:"12px 45px 12px 16px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",width:"100%",transition:"border-color 0.2s"},onFocus:Ce=>Ce.target.style.borderColor="#5a31ea",onBlur:Ce=>Ce.target.style.borderColor="#ddd"}),t.jsx("button",{type:"button",onClick:()=>Z(!K),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},"aria-label":K?"Hide password":"Show password",children:K?t.jsx("i",{className:"fas fa-eye-slash",style:{fontSize:"0.875rem"}}):t.jsx("i",{className:"fas fa-eye",style:{fontSize:"0.875rem"}})})]}),t.jsx("small",{style:{fontSize:"0.75rem",color:"#666",marginTop:"-4px"},children:"Leave blank if you don't want to change your password"})]})]}):t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"24px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#666",marginBottom:"8px"},children:"Full Name"}),t.jsx("div",{style:{fontSize:"1rem",fontWeight:"500",color:"#000"},children:De?.name||"N/A"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#666",marginBottom:"8px"},children:"Email Address"}),t.jsx("div",{style:{fontSize:"1rem",fontWeight:"500",color:"#000"},children:De?.email||"N/A"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#666",marginBottom:"8px"},children:"Phone Number"}),t.jsx("div",{style:{fontSize:"1rem",fontWeight:"500",color:"#000"},children:De?.phone||"N/A"})]})]})]}),t.jsxs("div",{className:"card",style:{padding:"24px",marginBottom:"24px",border:"1px solid #e0e0e0",borderRadius:"12px"},children:[t.jsx("h4",{style:{margin:"0 0 20px 0",fontSize:"1.1rem",fontWeight:"600",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"},children:"Notification Preferences"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",border:"1px solid #e0e0e0",borderRadius:"8px",transition:"all 0.2s",background:"#f8f8f8",opacity:"0.8"},children:[t.jsxs("div",{children:[t.jsxs("div",{style:{fontWeight:"500",marginBottom:"4px",display:"flex",alignItems:"center",gap:"8px"},children:["Email Reminders",t.jsx("span",{style:{fontSize:"0.75rem",color:"#666",fontWeight:"normal",fontStyle:"italic"},children:"(Required)"})]}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"Receive payment reminders and updates via email"})]}),t.jsx("div",{style:{position:"relative",width:"50px",height:"28px",borderRadius:"14px",backgroundColor:"#5a31ea",cursor:"not-allowed",transition:"background-color 0.3s ease",flexShrink:0,opacity:"1"},children:t.jsx("div",{style:{position:"absolute",top:"2px",left:"24px",width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#fff",transition:"left 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",border:"1px solid #e0e0e0",borderRadius:"8px",transition:"all 0.2s",background:"#f8f8f8",opacity:"0.8"},children:[t.jsxs("div",{children:[t.jsxs("div",{style:{fontWeight:"500",marginBottom:"4px",display:"flex",alignItems:"center",gap:"8px"},children:["WhatsApp Reminders",t.jsx("span",{style:{fontSize:"0.75rem",color:"#666",fontWeight:"normal",fontStyle:"italic"},children:"(Required)"})]}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"Receive payment reminders via WhatsApp"})]}),t.jsx("div",{style:{position:"relative",width:"50px",height:"28px",borderRadius:"14px",backgroundColor:"#5a31ea",cursor:"not-allowed",transition:"background-color 0.3s ease",flexShrink:0,opacity:"1"},children:t.jsx("div",{style:{position:"absolute",top:"2px",left:"24px",width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#fff",transition:"left 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})})]})]})]}),Ie&&t.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"},children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>{pe(!1),De&&ot({name:De.name||"",email:De.email||"",phone:De.phone||"",emailReminders:!0,whatsappReminders:!0})},style:{padding:"12px 24px",minWidth:"120px"},children:"Cancel"}),t.jsx("button",{type:"submit",className:"primary-btn",style:{padding:"12px 24px",minWidth:"120px"},children:"Save Changes"})]})]})]})]})]})]}),t.jsx(Qc,{})]})}function Ay(){const{members:i,fetchMembers:a}=Qd(),[r,o]=Q.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",subscriptionType:"Lifetime"}),[c,l]=Q.useState(!1),[m,p]=Q.useState(!1),[g,v]=Q.useState(!1),[j,A]=Q.useState(null),[M,b]=Q.useState("error"),[U,E]=Q.useState({name:!1,email:!1,phone:!1,password:!1,confirmPassword:!1}),I=ho();Q.useEffect(()=>{a()},[a]);const P=fe=>{if(!fe)return!1;const he=fe.trim().toLowerCase();return i.some(ge=>ge.email&&ge.email.toLowerCase()===he)?(A("This email has already been registered. Please use a different email or try logging in."),b("error"),setTimeout(()=>A(null),3e3),!0):!1},W=fe=>{const he=fe.target.value;o({...r,email:he})},X=fe=>{const he=fe.target.value.trim();he&&P(he)},H=async fe=>{fe.preventDefault();const he={name:!1,email:!1,phone:!1,password:!1,confirmPassword:!1};if(!r.name||!r.name.trim()){he.name=!0,A("Name is required"),b("error"),setTimeout(()=>A(null),3e3),E(he);return}if(!r.email||!r.email.trim()){he.email=!0,A("Email is required"),b("error"),setTimeout(()=>A(null),3e3),E(he);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email.trim())){he.email=!0,A("Please enter a valid email address"),b("error"),setTimeout(()=>A(null),3e3),E(he);return}if(P(r.email)){he.email=!0,A("This email has already been registered. Please use a different email or try logging in."),b("error"),E(he);return}if(!r.phone||!r.phone.trim()){he.phone=!0,A("Phone number is required"),b("error"),setTimeout(()=>A(null),3e3),E(he);return}if(!r.password){he.password=!0,A("Password is required"),b("error"),setTimeout(()=>A(null),3e3),E(he);return}if(r.password.length<6){he.password=!0,A("Password must be at least 6 characters long"),b("error"),setTimeout(()=>A(null),3e3),E(he);return}if(r.password!==r.confirmPassword){he.confirmPassword=!0,A("Passwords do not match"),b("error"),setTimeout(()=>A(null),3e3),E(he);return}E({name:!1,email:!1,phone:!1,password:!1,confirmPassword:!1}),l(!0);try{const ee=await fetch("http://localhost:4000/api/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name.trim(),email:r.email.trim().toLowerCase(),phone:r.phone.trim(),password:r.password,status:"Pending",balance:"$0",nextDue:"",lastPayment:"",subscriptionType:r.subscriptionType})}),xe=await ee.json();if(!ee.ok){const z=xe.message||xe.error||"Failed to create account";throw z.toLowerCase().includes("email")||z.toLowerCase().includes("already exists")||z.toLowerCase().includes("duplicate")?new Error("This email has already been registered. Please use a different email or try logging in."):new Error(z)}A("Account created successfully! Your account is pending approval. You will be able to login once an admin approves your account."),b("success"),setTimeout(()=>{I("/login",{replace:!0,state:{message:"Account created successfully! Your account is pending approval. Please wait for admin approval before logging in.",email:r.email}})},3e3)}catch(ge){console.error("Signup error:",ge),A(ge.message||"Failed to create account. Please try again."),b("error")}finally{l(!1)}};return t.jsxs(t.Fragment,{children:[t.jsx(Kc,{showCTA:!1}),t.jsx("main",{className:"login-main",children:t.jsxs("div",{className:"login-shell",children:[t.jsxs("aside",{className:"login-menu",children:[t.jsx("p",{className:"eyebrow light",children:"Welcome"}),t.jsx("h2",{children:"Subscription Manager HK"}),t.jsx("p",{children:"Create your member account to access the subscription portal."}),t.jsxs("ul",{children:[t.jsx("li",{children:"Track your subscription payments"}),t.jsx("li",{children:"View invoices and payment history"}),t.jsx("li",{children:"Manage your profile and preferences"})]})]}),t.jsxs("div",{className:"login-form-card",children:[t.jsxs("div",{className:"login-form-card__header",children:[t.jsxs("h1",{children:[t.jsx("i",{className:"fas fa-user-plus login-title-icon"}),"Create Account"]}),t.jsxs("p",{children:["Already have an account? ",t.jsx(Jc,{to:"/login",className:"signup-link",children:"Sign in"})]})]}),t.jsxs("form",{onSubmit:H,noValidate:!0,children:[t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user login-icon"}),"Full Name ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,onInvalid:fe=>fe.preventDefault(),value:r.name,onChange:fe=>{o({...r,name:fe.target.value}),U.name&&E(he=>({...he,name:!1}))},placeholder:"Enter your full name",className:`mono-input ${U.name?"signup-input-error":""}`})]}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope login-icon"}),"Email ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsx("input",{type:"email",required:!0,onInvalid:fe=>fe.preventDefault(),value:r.email,onChange:fe=>{W(fe),U.email&&E(he=>({...he,email:!1}))},onBlur:X,placeholder:"Enter your email address",className:`mono-input ${U.email?"signup-input-error":""}`})]}),t.jsx("div",{className:"mono-label",children:t.jsx(Vc,{label:t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-phone login-icon"}),"Phone Number ",t.jsx("span",{className:"login-required",children:"*"})]}),value:r.phone,onChange:fe=>{o({...r,phone:fe.target.value}),U.phone&&E(he=>({...he,phone:!1}))},onError:fe=>{A(fe),b("error"),E(he=>({...he,phone:!0}))},placeholder:"Enter your phone number",required:!0,className:`mono-input ${U.phone?"signup-input-error":""}`})}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-id-card login-icon"}),"Subscription Type ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsxs("div",{className:"signup-subscription-grid",children:[t.jsxs("button",{type:"button",onClick:()=>o({...r,subscriptionType:"Lifetime"}),className:`signup-subscription-button ${r.subscriptionType==="Lifetime"?"signup-subscription-button--active":"signup-subscription-button--default"}`,children:[t.jsx("div",{className:"signup-subscription-button-title",children:"Lifetime"}),t.jsx("div",{className:"signup-subscription-button-price",children:"$250/year"})]}),t.jsxs("button",{type:"button",onClick:()=>o({...r,subscriptionType:"Yearly + Janaza Fund"}),className:`signup-subscription-button ${r.subscriptionType==="Yearly + Janaza Fund"?"signup-subscription-button--active":"signup-subscription-button--default"}`,children:[t.jsx("div",{className:"signup-subscription-button-title",children:"Yearly + Janaza Fund"}),t.jsx("div",{className:"signup-subscription-button-price",children:"$500/year"})]})]})]}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock login-icon"}),"Password ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsxs("div",{className:"login-input-wrapper",children:[t.jsx("input",{type:m?"text":"password",required:!0,onInvalid:fe=>fe.preventDefault(),value:r.password,onChange:fe=>o({...r,password:fe.target.value}),placeholder:"Create a password (min. 6 characters)",className:"mono-input login-input--with-icon",minLength:6}),t.jsx("button",{type:"button",onClick:()=>p(!m),className:"login-password-toggle","aria-label":m?"Hide password":"Show password",children:m?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock login-icon"}),"Confirm Password ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsxs("div",{className:"login-input-wrapper",children:[t.jsx("input",{type:g?"text":"password",required:!0,onInvalid:fe=>fe.preventDefault(),value:r.confirmPassword,onChange:fe=>{o({...r,confirmPassword:fe.target.value}),U.confirmPassword&&E(he=>({...he,confirmPassword:!1}))},placeholder:"Confirm your password",className:`mono-input login-input--with-icon ${U.confirmPassword?"signup-input-error":""}`,minLength:6}),t.jsx("button",{type:"button",onClick:()=>v(!g),className:"login-password-toggle","aria-label":g?"Hide password":"Show password",children:g?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),t.jsx("button",{type:"submit",className:"primary-btn signup-submit-button",disabled:c,children:c?"Creating Account...":"Create Account"})]}),t.jsx(Hd,{isOpen:!!error,message:error,type:"error",onClose:()=>setError(null)}),t.jsx(Hd,{isOpen:!!success,message:success,type:"success",onClose:()=>setSuccess(null)}),t.jsx($l,{message:j,type:M,onClose:()=>A(null),duration:3e3})]})]})}),t.jsx(Qc,{})]})}function Cy(){const{members:i,admins:a,invoices:r,payments:o,paymentHistory:c,donations:l,paymentMethods:m,communicationLog:p,fetchMembers:g,fetchAdmins:v,fetchInvoices:j,fetchPayments:A,fetchDonations:M,fetchPaymentMethods:b,addMember:U,updateMember:E,deleteMember:I,addAdminUser:P,updateAdminUser:W,deleteAdminUser:X,addInvoice:H,updateInvoice:fe,deleteInvoice:he,addDonation:Ee,deleteDonation:ge,updatePaymentMethod:ee,loading:xe}=Qd(),z=ho(),[$,le]=Q.useState("members"),[ie,we]=Q.useState(!1),[_e,Ie]=Q.useState(null),[pe,Pe]=Q.useState(null),[Ue,te]=Q.useState("success"),[C,K]=Q.useState({name:"",email:"",phone:"",password:"",status:"Active",balance:"$0",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"}),[Z,de]=Q.useState({name:"",email:"",password:"",role:"Viewer",status:"Active"}),[ce,be]=Q.useState({memberId:"",memberName:"",period:"",amount:"",invoiceType:"Lifetime",due:"",status:"Unpaid",notes:""}),[Me,Fe]=Q.useState(!1),[$e,De]=Q.useState(!1),[at,ot]=Q.useState({donorName:"",isMember:!1,memberId:"",amount:"",notes:""}),[gt,Y]=Q.useState({name:"",visible:!0,qrImageUrl:"",details:[]});Q.useEffect(()=>{g(),v(),j(),A(),M(),b()},[]);const nt=(oe,dt="success")=>{Pe(oe),te(dt)},It=()=>{nt("You have been logged out","success"),setTimeout(()=>{sessionStorage.clear(),z("/login",{replace:!0})},500)},wt=async oe=>{oe.preventDefault();try{await U(C),nt("Member added successfully!"),we(!1),ct(),g()}catch(dt){nt(dt.message||"Failed to add member","error")}},Ke=async oe=>{oe.preventDefault();try{await E(_e.id,C),nt("Member updated successfully!"),we(!1),Ie(null),ct(),g()}catch(dt){nt(dt.message||"Failed to update member","error")}},_t=async oe=>{if(window.confirm("Are you sure you want to delete this member?"))try{await I(oe),nt("Member deleted successfully!"),g()}catch(dt){nt(dt.message||"Failed to delete member","error")}},vt=oe=>{Ie(oe),K({name:oe.name||"",email:oe.email||"",phone:oe.phone||"",password:"",status:oe.status||"Active",balance:oe.balance||"$0",nextDue:oe.nextDue||"",lastPayment:oe.lastPayment||"",subscriptionType:oe.subscriptionType||"Lifetime"}),we(!0)},ct=()=>{K({name:"",email:"",phone:"",password:"",status:"Active",balance:"$0",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"})},St=async oe=>{oe.preventDefault();try{await P(Z),nt("Admin added successfully!"),we(!1),Gt(),v()}catch(dt){nt(dt.message||"Failed to add admin","error")}},nn=async oe=>{oe.preventDefault();try{await W(_e.id,Z),nt("Admin updated successfully!"),we(!1),Ie(null),Gt(),v()}catch(dt){nt(dt.message||"Failed to update admin","error")}},Zt=async oe=>{if(window.confirm("Are you sure you want to delete this admin?"))try{await X(oe),nt("Admin deleted successfully!"),v()}catch(dt){nt(dt.message||"Failed to delete admin","error")}},Jt=oe=>{Ie(oe),de({name:oe.name||"",email:oe.email||"",password:"",role:oe.role||"Viewer",status:oe.status||"Active"}),we(!0)},Gt=()=>{de({name:"",email:"",password:"",role:"Viewer",status:"Active"})},Ce=async oe=>{oe.preventDefault();try{const dt={...ce,amount:ce.amount.startsWith("$")?ce.amount:`$${ce.amount}`};await H(dt),nt("Invoice added successfully!"),we(!1),Xe(),j()}catch(dt){nt(dt.message||"Failed to add invoice","error")}},ze=async oe=>{oe.preventDefault();try{const dt={...ce,amount:ce.amount.startsWith("$")?ce.amount:`$${ce.amount}`};await fe(_e.id,dt),nt("Invoice updated successfully!"),we(!1),Ie(null),Xe(),j()}catch(dt){nt(dt.message||"Failed to update invoice","error")}},se=async oe=>{if(window.confirm("Are you sure you want to delete this invoice?"))try{await he(oe),nt("Invoice deleted successfully!"),j()}catch(dt){nt(dt.message||"Failed to delete invoice","error")}},ke=oe=>{Ie(oe),be({memberId:oe.memberId||"",memberName:oe.memberName||"",period:oe.period||"",amount:oe.amount?.replace("$","")||"",invoiceType:oe.invoiceType||"Lifetime",due:oe.due||"",status:oe.status||"Unpaid",notes:oe.notes||""}),we(!0)},Xe=()=>{be({memberId:"",memberName:"",period:"",amount:"",invoiceType:"Lifetime",due:"",status:"Unpaid",notes:""})},ht=async oe=>{oe.preventDefault();try{await Ee(at),nt("Donation added successfully!"),we(!1),$t(),M()}catch(dt){nt(dt.message||"Failed to add donation","error")}},Ve=async oe=>{oe.preventDefault();try{nt("Donation update functionality not available","error"),we(!1),Ie(null),$t()}catch(dt){nt(dt.message||"Failed to update donation","error")}},ft=async oe=>{if(window.confirm("Are you sure you want to delete this donation?"))try{await ge(oe),nt("Donation deleted successfully!"),M()}catch(dt){nt(dt.message||"Failed to delete donation","error")}},$t=()=>{ot({donorName:"",isMember:!1,memberId:"",amount:"",notes:""})},bt=async oe=>{oe.preventDefault();try{const Br=await fetch("http://localhost:4000/api/payment-methods",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(gt)});if(!Br.ok){const Yt=await Br.json().catch(()=>({}));throw new Error(Yt.error||"Failed to add payment method")}nt("Payment method added successfully!"),we(!1),Kt(),b()}catch(dt){nt(dt.message||"Failed to add payment method","error")}},fn=async oe=>{oe.preventDefault();try{await ee(_e.name,gt),nt("Payment method updated successfully!"),we(!1),Ie(null),Kt(),b()}catch(dt){nt(dt.message||"Failed to update payment method","error")}},Bt=oe=>{Ie(oe),Y({name:oe.name||"",visible:oe.visible!==void 0?oe.visible:!0,qrImageUrl:oe.qrImageUrl||"",details:Array.isArray(oe.details)?oe.details:[]}),we(!0)},Kt=()=>{Y({name:"",visible:!0,qrImageUrl:"",details:[]})},hn=()=>{Ie(null),$==="members"?ct():$==="admins"?Gt():$==="invoices"?Xe():$==="donations"?$t():$==="payment-methods"&&Kt(),we(!0)},Vt=()=>{we(!1),Ie(null),$==="members"?ct():$==="admins"?Gt():$==="invoices"?Xe():$==="donations"?$t():$==="payment-methods"&&Kt()};return xe?t.jsxs("div",{className:"server-loading",children:[t.jsx("div",{className:"server-loading-spinner"}),t.jsx("p",{className:"server-loading-text",children:"Loading data from server..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Kc,{showCTA:!1,showLogout:!0,onLogout:It,isSticky:!0}),t.jsx($l,{message:pe,type:Ue,onClose:()=>Pe(null),duration:3e3}),t.jsx("main",{className:"server-main server-main--sticky-header",children:t.jsx("div",{className:"server-layout",children:t.jsxs("article",{className:"server-card",children:[t.jsxs("header",{className:"server-header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-server"}),"Server Management"]}),t.jsx("p",{children:"Manage all data entities: Members, Admins, Invoices, Payments, Donations, and Payment Methods"})]}),t.jsxs("div",{className:"server-nav",children:[t.jsxs("button",{className:`server-nav-btn ${$==="members"?"active":""}`,onClick:()=>{le("members"),we(!1),Ie(null)},children:[t.jsx("i",{className:"fas fa-users"}),"Members (",i.length,")"]}),t.jsxs("button",{className:`server-nav-btn ${$==="admins"?"active":""}`,onClick:()=>{le("admins"),we(!1),Ie(null)},children:[t.jsx("i",{className:"fas fa-user-shield"}),"Admins (",a.length,")"]}),t.jsxs("button",{className:`server-nav-btn ${$==="invoices"?"active":""}`,onClick:()=>{le("invoices"),we(!1),Ie(null)},children:[t.jsx("i",{className:"fas fa-file-invoice"}),"Invoices (",r.length,")"]}),t.jsxs("button",{className:`server-nav-btn ${$==="payments"?"active":""}`,onClick:()=>{le("payments"),we(!1),Ie(null)},children:[t.jsx("i",{className:"fas fa-credit-card"}),"Payments (",c?.length||0,")"]}),t.jsxs("button",{className:`server-nav-btn ${$==="donations"?"active":""}`,onClick:()=>{le("donations"),we(!1),Ie(null)},children:[t.jsx("i",{className:"fas fa-hand-holding-heart"}),"Donations (",l?.length||0,")"]}),t.jsxs("button",{className:`server-nav-btn ${$==="payment-methods"?"active":""}`,onClick:()=>{le("payment-methods"),we(!1),Ie(null)},children:[t.jsx("i",{className:"fas fa-wallet"}),"Payment Methods (",m?.length||0,")"]})]}),t.jsxs("div",{className:"server-content",children:[$==="members"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"server-section-header",children:[t.jsx("h4",{children:"Members Management"}),t.jsxs("button",{className:"server-add-btn",onClick:hn,children:[t.jsx("i",{className:"fas fa-plus"}),"Add Member"]})]}),ie&&t.jsxs("div",{className:"server-form-card",children:[t.jsx("h4",{children:_e?"Edit Member":"Add New Member"}),t.jsxs("form",{className:"server-form-grid",onSubmit:_e?Ke:wt,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user server-form-icon"}),"Name ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:C.name,onChange:oe=>K({...C,name:oe.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope server-form-icon"}),"Email ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"email",required:!0,value:C.email,onChange:oe=>K({...C,email:oe.target.value}),className:"mono-input"})]}),t.jsx("div",{children:t.jsx(Vc,{label:t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-phone server-form-icon"}),"Phone"]}),value:C.phone,onChange:oe=>K({...C,phone:oe.target.value}),onError:oe=>{nt(oe,"error")},placeholder:"Enter phone number",className:"mono-input"})}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock server-form-icon"}),"Password ",_e?"(leave blank to keep current)":t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsxs("div",{className:"server-form-input-wrapper",children:[t.jsx("input",{type:Me?"text":"password",required:!_e,value:C.password,onChange:oe=>K({...C,password:oe.target.value}),className:"mono-input login-input--with-icon"}),t.jsx("button",{type:"button",onClick:()=>Fe(!Me),className:"login-password-toggle",children:t.jsx("i",{className:`fas ${Me?"fa-eye-slash":"fa-eye"}`})})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-toggle-on server-form-icon"}),"Status"]}),t.jsxs("select",{value:C.status,onChange:oe=>K({...C,status:oe.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"}),t.jsx("option",{value:"Pending",children:"Pending"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign server-form-icon"}),"Balance"]}),t.jsx("input",{type:"text",value:C.balance,onChange:oe=>K({...C,balance:oe.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar server-form-icon"}),"Next Due"]}),t.jsx("input",{type:"text",value:C.nextDue,onChange:oe=>K({...C,nextDue:oe.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-check server-form-icon"}),"Last Payment"]}),t.jsx("input",{type:"text",value:C.lastPayment,onChange:oe=>K({...C,lastPayment:oe.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-id-card server-form-icon"}),"Subscription Type"]}),t.jsxs("select",{value:C.subscriptionType,onChange:oe=>K({...C,subscriptionType:oe.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Lifetime",children:"Lifetime"}),t.jsx("option",{value:"Yearly + Janaza Fund",children:"Yearly + Janaza Fund"})]})]}),t.jsxs("div",{className:"server-form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:Vt,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[_e?"Update":"Add"," Member"]})]})]})]}),t.jsx("div",{className:"server-table-container",children:t.jsx(oi,{columns:["ID","Name","Email","Phone","Status","Balance","Actions"],rows:i.map(oe=>({ID:oe.id,Name:oe.name,Email:oe.email,Phone:oe.phone||"-",Status:{render:()=>t.jsx("span",{className:oe.status==="Active"?"server-badge server-badge--active":oe.status==="Pending"?"server-badge server-badge--pending":"server-badge server-badge--inactive",children:oe.status})},Balance:oe.balance||"$0",Actions:{render:()=>t.jsxs("div",{className:"server-action-buttons",children:[t.jsxs("button",{className:"server-action-btn server-action-btn--edit",onClick:()=>vt(oe),children:[t.jsx("i",{className:"fas fa-edit"}),"Edit"]}),t.jsx("button",{className:"server-action-btn server-action-btn--delete",onClick:()=>_t(oe.id),title:"Delete Member","aria-label":"Delete Member",children:t.jsx("i",{className:"fas fa-trash"})})]})}}))})})]}),$==="admins"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"server-section-header",children:[t.jsx("h4",{children:"Admins Management"}),t.jsxs("button",{className:"server-add-btn",onClick:hn,children:[t.jsx("i",{className:"fas fa-plus"}),"Add Admin"]})]}),ie&&t.jsxs("div",{className:"server-form-card",children:[t.jsx("h4",{children:_e?"Edit Admin":"Add New Admin"}),t.jsxs("form",{className:"server-form-grid",onSubmit:_e?nn:St,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user server-form-icon"}),"Name ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:Z.name,onChange:oe=>de({...Z,name:oe.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope server-form-icon"}),"Email ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"email",required:!0,value:Z.email,onChange:oe=>de({...Z,email:oe.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock server-form-icon"}),"Password ",_e?"(leave blank to keep current)":t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsxs("div",{className:"server-form-input-wrapper",children:[t.jsx("input",{type:$e?"text":"password",required:!_e,value:Z.password,onChange:oe=>de({...Z,password:oe.target.value}),className:"mono-input login-input--with-icon"}),t.jsx("button",{type:"button",onClick:()=>De(!$e),className:"login-password-toggle",children:t.jsx("i",{className:`fas ${$e?"fa-eye-slash":"fa-eye"}`})})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user-tag server-form-icon"}),"Role"]}),t.jsxs("select",{value:Z.role,onChange:oe=>de({...Z,role:oe.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Admin",children:"Admin"}),t.jsx("option",{value:"Super Admin",children:"Super Admin"}),t.jsx("option",{value:"Finance",children:"Finance"}),t.jsx("option",{value:"Staff",children:"Staff"}),t.jsx("option",{value:"Viewer",children:"Viewer"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-toggle-on server-form-icon"}),"Status"]}),t.jsxs("select",{value:Z.status,onChange:oe=>de({...Z,status:oe.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),t.jsxs("div",{className:"server-form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:Vt,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[_e?"Update":"Add"," Admin"]})]})]})]}),t.jsx("div",{className:"server-table-container",children:t.jsx(oi,{columns:["ID","Name","Email","Role","Status","Actions"],rows:a.map(oe=>({ID:oe.id,Name:oe.name,Email:oe.email,Role:oe.role||"Viewer",Status:{render:()=>t.jsx("span",{className:oe.status==="Active"?"server-badge server-badge--active":"server-badge server-badge--inactive",children:oe.status})},Actions:{render:()=>t.jsxs("div",{className:"server-action-buttons",children:[t.jsxs("button",{className:"server-action-btn server-action-btn--edit",onClick:()=>Jt(oe),children:[t.jsx("i",{className:"fas fa-edit"}),"Edit"]}),t.jsx("button",{className:"server-action-btn server-action-btn--delete",onClick:()=>Zt(oe.id),title:"Delete Admin","aria-label":"Delete Admin",children:t.jsx("i",{className:"fas fa-trash"})})]})}}))})})]}),$==="invoices"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"server-section-header",children:[t.jsx("h4",{children:"Invoices Management"}),t.jsxs("button",{className:"server-add-btn",onClick:hn,children:[t.jsx("i",{className:"fas fa-plus"}),"Add Invoice"]})]}),ie&&t.jsxs("div",{className:"server-form-card",children:[t.jsx("h4",{children:_e?"Edit Invoice":"Add New Invoice"}),t.jsxs("form",{className:"server-form-grid",onSubmit:_e?ze:Ce,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user server-form-icon"}),"Member ID ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:ce.memberId,onChange:oe=>be({...ce,memberId:oe.target.value}),className:"mono-input",placeholder:"e.g. HK1001"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user server-form-icon"}),"Member Name ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:ce.memberName,onChange:oe=>be({...ce,memberName:oe.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar server-form-icon"}),"Period ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:ce.period,onChange:oe=>be({...ce,period:oe.target.value}),className:"mono-input",placeholder:"e.g. Nov 2025"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-id-card server-form-icon"}),"Invoice Type"]}),t.jsxs("select",{value:ce.invoiceType,onChange:oe=>be({...ce,invoiceType:oe.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Lifetime",children:"Lifetime"}),t.jsx("option",{value:"Yearly + Janaza Fund",children:"Yearly + Janaza Fund"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign server-form-icon"}),"Amount ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"number",required:!0,value:ce.amount,onChange:oe=>be({...ce,amount:oe.target.value}),className:"mono-input",placeholder:"e.g. 50"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-check server-form-icon"}),"Due Date ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"date",required:!0,value:ce.due,onChange:oe=>{const dt=oe.target.value;be({...ce,due:dt})},onBlur:oe=>{const dt=oe.target.value;if(dt){const Br=new Date(dt);if(isNaN(Br.getTime())){nt("Invalid date format. Please enter a valid date (YYYY-MM-DD)","error");return}const[Yt,Dn,Qt]=dt.split("-").map(Number);if(Dn<1||Dn>12){nt("Invalid month. Please enter a month between 01 and 12","error");return}if(Qt<1||Qt>31){nt("Invalid day. Please enter a valid day for the selected month","error");return}const Nt=new Date(Yt,Dn,0).getDate();if(Qt>Nt){nt(`Invalid date. ${Dn}/${Yt} only has ${Nt} days`,"error");return}}},className:"mono-input server-form-input-full-width"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-info-circle server-form-icon"}),"Status"]}),t.jsxs("select",{value:ce.status,onChange:oe=>be({...ce,status:oe.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Unpaid",children:"Unpaid"}),t.jsx("option",{value:"Paid",children:"Paid"}),t.jsx("option",{value:"Overdue",children:"Overdue"}),t.jsx("option",{value:"Pending Verification",children:"Pending Verification"})]})]}),t.jsxs("label",{className:"notes server-form-notes-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-sticky-note"}),"Notes"]}),t.jsx("textarea",{value:ce.notes,onChange:oe=>be({...ce,notes:oe.target.value}),className:"mono-input server-form-textarea"})]}),t.jsxs("div",{className:"server-form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:Vt,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[_e?"Update":"Add"," Invoice"]})]})]})]}),t.jsx("div",{className:"server-table-container",children:t.jsx(oi,{columns:["Invoice #","Member","Period","Amount","Status","Due Date","Actions"],rows:r.map(oe=>({"Invoice #":oe.id,Member:oe.memberName||oe.memberId||"-",Period:oe.period,Amount:oe.amount,Status:{render:()=>t.jsx("span",{className:oe.status==="Paid"?"server-badge server-badge--success":oe.status==="Overdue"?"server-badge server-badge--danger":oe.status==="Pending Verification"?"server-badge server-badge--pending":"server-badge server-badge--warning",children:oe.status})},"Due Date":oe.due,Actions:{render:()=>t.jsxs("div",{className:"server-action-buttons",children:[t.jsxs("button",{className:"server-action-btn server-action-btn--edit",onClick:()=>ke(oe),children:[t.jsx("i",{className:"fas fa-edit"}),"Edit"]}),t.jsx("button",{className:"server-action-btn server-action-btn--delete",onClick:()=>se(oe.id),title:"Delete Invoice","aria-label":"Delete Invoice",children:t.jsx("i",{className:"fas fa-trash"})})]})}}))})})]}),$==="payments"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"server-section-header",children:t.jsx("h4",{children:"Payments Management"})}),t.jsx("div",{className:"server-table-container",children:t.jsx(oi,{columns:["Date","Member","Amount","Method","Status","Reference","Period"],rows:(c||[]).map(oe=>({Date:oe.date||"-",Member:oe.member||oe.memberName||oe.memberId||"-",Amount:oe.amount||"$0",Method:oe.method||"-",Status:{render:()=>t.jsx("span",{className:oe.status==="Paid"||oe.status==="Completed"?"server-badge server-badge--success":oe.status==="Pending"||oe.status==="Pending Verification"?"server-badge server-badge--pending":oe.status==="Rejected"?"server-badge server-badge--danger":"server-badge server-badge--warning",children:oe.status})},Reference:oe.reference||"-",Period:oe.period||"-"}))})})]}),$==="donations"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"server-section-header",children:[t.jsx("h4",{children:"Donations Management"}),t.jsxs("button",{className:"server-add-btn",onClick:hn,children:[t.jsx("i",{className:"fas fa-plus"}),"Add Donation"]})]}),ie&&t.jsxs("div",{className:"server-form-card",children:[t.jsx("h4",{children:_e?"Edit Donation":"Add New Donation"}),t.jsxs("form",{className:"server-form-grid",onSubmit:_e?Ve:ht,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user server-form-icon"}),"Donor Name ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:at.donorName,onChange:oe=>ot({...at,donorName:oe.target.value}),className:"mono-input",placeholder:"Enter donor name"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign server-form-icon"}),"Amount ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"number",required:!0,value:at.amount,onChange:oe=>ot({...at,amount:oe.target.value}),className:"mono-input",placeholder:"Enter amount"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-check-circle server-form-icon"}),"Is Member"]}),t.jsxs("select",{value:at.isMember?"true":"false",onChange:oe=>ot({...at,isMember:oe.target.value==="true"}),className:"mono-input",children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]}),at.isMember&&t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user server-form-icon"}),"Member ID"]}),t.jsx("input",{type:"text",value:at.memberId,onChange:oe=>ot({...at,memberId:oe.target.value}),className:"mono-input",placeholder:"Enter member ID"})]}),t.jsxs("label",{className:"notes server-form-notes-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-sticky-note"}),"Notes"]}),t.jsx("textarea",{value:at.notes,onChange:oe=>ot({...at,notes:oe.target.value}),className:"mono-input server-form-textarea"})]}),t.jsxs("div",{className:"server-form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:Vt,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[_e?"Update":"Add"," Donation"]})]})]})]}),t.jsx("div",{className:"server-table-container",children:t.jsx(oi,{columns:["Donor","Amount","Is Member","Member ID","Date","Actions"],rows:(l||[]).map(oe=>({Donor:oe.donorName||"-",Amount:oe.amount?`$${oe.amount}`:"$0","Is Member":oe.isMember?"Yes":"No","Member ID":oe.memberId||"-",Date:oe.date||"-",Actions:{render:()=>t.jsx("div",{className:"server-action-buttons",children:t.jsx("button",{className:"server-action-btn server-action-btn--delete",onClick:()=>ft(oe._id||oe.id),title:"Delete Donation","aria-label":"Delete Donation",children:t.jsx("i",{className:"fas fa-trash"})})})}}))})})]}),$==="payment-methods"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"server-section-header",children:[t.jsx("h4",{children:"Payment Methods Management"}),t.jsxs("button",{className:"server-add-btn",onClick:hn,children:[t.jsx("i",{className:"fas fa-plus"}),"Add Payment Method"]})]}),ie&&t.jsxs("div",{className:"server-form-card",children:[t.jsx("h4",{children:_e?"Edit Payment Method":"Add New Payment Method"}),t.jsxs("form",{className:"server-form-grid",onSubmit:_e?fn:bt,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-wallet server-form-icon"}),"Name ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:gt.name,onChange:oe=>Y({...gt,name:oe.target.value}),className:"mono-input",placeholder:"e.g. FPS, PayMe, Bank Transfer"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-eye server-form-icon"}),"Visible"]}),t.jsxs("select",{value:gt.visible?"true":"false",onChange:oe=>Y({...gt,visible:oe.target.value==="true"}),className:"mono-input",children:[t.jsx("option",{value:"true",children:"Yes"}),t.jsx("option",{value:"false",children:"No"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-image server-form-icon"}),"QR Image URL"]}),t.jsx("input",{type:"url",value:gt.qrImageUrl,onChange:oe=>Y({...gt,qrImageUrl:oe.target.value}),className:"mono-input",placeholder:"Enter QR code image URL"})]}),t.jsxs("label",{className:"notes server-form-notes-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-list server-form-icon"}),"Details (one per line)"]}),t.jsx("textarea",{value:Array.isArray(gt.details)?gt.details.join(`
`):"",onChange:oe=>Y({...gt,details:oe.target.value.split(`
`).filter(dt=>dt.trim())}),className:"mono-input server-form-textarea",placeholder:"Enter details, one per line"})]}),t.jsxs("div",{className:"server-form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:Vt,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[_e?"Update":"Add"," Payment Method"]})]})]})]}),t.jsx("div",{className:"server-table-container",children:t.jsx(oi,{columns:["Name","Visible","QR Image","Details","Actions"],rows:(m||[]).map(oe=>({Name:oe.name||"-",Visible:{render:()=>t.jsx("span",{className:oe.visible?"server-badge server-badge--success":"server-badge server-badge--inactive",children:oe.visible?"Yes":"No"})},"QR Image":oe.qrImageUrl?t.jsx("a",{href:oe.qrImageUrl,target:"_blank",rel:"noopener noreferrer",className:"server-link",children:"View Image"}):"-",Details:Array.isArray(oe.details)?oe.details.join(", "):"-",Actions:{render:()=>t.jsx("div",{className:"server-action-buttons",children:t.jsxs("button",{className:"server-action-btn server-action-btn--edit",onClick:()=>Bt(oe),children:[t.jsx("i",{className:"fas fa-edit"}),"Edit"]})})}}))})})]})]})]})})}),t.jsx(Qc,{})]})}function Py(){const[i,a]=Q.useState(""),[r,o]=Q.useState(!1),[c,l]=Q.useState(!1),[m,p]=Q.useState(""),[g,v]=Q.useState(null),[j,A]=Q.useState("error"),M=ho();Q.useEffect(()=>(document.body.classList.add("login-page-body"),()=>{document.body.classList.remove("login-page-body")}),[]);const b=E=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E),U=async E=>{if(E.preventDefault(),!r){if(p(""),v(null),!i.trim()){p("Email is required"),v("Email is required"),A("error");return}if(!b(i.trim())){p("Please enter a valid email address"),v("Please enter a valid email address"),A("error");return}o(!0),v(null);try{const P=await fetch("http://localhost:4000/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i.trim()})});let W;try{W=await P.json()}catch(X){console.error("Failed to parse response:",X),v("Server returned an invalid response. Please try again."),A("error"),o(!1);return}if(!P.ok||!W.success){const X=W.message||"Failed to send reset request. Please try again.";v(X),A("error"),o(!1);return}l(!0),o(!1)}catch(I){console.error("Forgot password error:",I),v("Unable to connect. Please check your connection and try again."),A("error"),o(!1)}}};return t.jsx(t.Fragment,{children:t.jsx("main",{className:"login-main",children:t.jsxs("div",{className:"login-shell",children:[t.jsxs("aside",{className:"login-menu",children:[t.jsx("p",{className:"eyebrow light",children:"Password Recovery"}),t.jsx("h2",{children:"Request Password Reset"}),t.jsx("p",{children:"Enter your email address to request a password reset. Your request will be sent to the administrator for manual approval."}),t.jsxs("ul",{children:[t.jsx("li",{children:"Submit your email address"}),t.jsx("li",{children:"Administrator will review your request"}),t.jsx("li",{children:"You'll receive your new password after verification"})]})]}),t.jsxs("div",{className:"login-form-card",children:[t.jsx("div",{className:"login-form-card__header",children:t.jsxs("h1",{children:[t.jsx("i",{className:"fas fa-key login-title-icon"}),"Forgot Password"]})}),c?t.jsxs("div",{className:"forgot-password-success",children:[t.jsx("div",{className:"forgot-password-success-icon",children:t.jsx("i",{className:"fas fa-check"})}),t.jsx("h3",{className:"forgot-password-success-title",children:"Request Sent"}),t.jsx("p",{className:"forgot-password-success-message",children:"Your request has been sent to the administrator. You will receive your new password after verification."}),t.jsx("div",{className:"login-buttons",children:t.jsx("button",{type:"button",className:"btn-admin login-btn-full-width",onClick:()=>M("/login"),children:"Back to Login"})})]}):t.jsxs("form",{onSubmit:U,noValidate:!0,children:[t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope login-icon"}),"Email ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsx("input",{type:"email",value:i,onChange:E=>{a(E.target.value),m&&p("")},onInvalid:E=>E.preventDefault(),placeholder:"Enter your email address",className:`mono-input ${m?"input-error":""}`,disabled:r})]}),t.jsx("div",{className:"login-buttons",children:t.jsx("button",{type:"submit",className:`btn-admin login-btn-wrapper login-btn-full-width ${r?"login-btn--loading":""}`,disabled:r,children:r?t.jsxs("span",{className:"login-btn-spinner",children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),t.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}),"Sending..."]}):"Request Password Reset"})}),t.jsx("div",{className:"forgot-password-back-link",children:t.jsxs(Jc,{to:"/login",children:[t.jsx("i",{className:"fas fa-arrow-left forgot-password-back-link-icon"}),"Back to Login"]})})]}),t.jsx($l,{message:g,type:j,onClose:()=>v(null),duration:3e3})]})]})})})}function Ly(){const[i]=Rm(),[a,r]=Q.useState(""),[o,c]=Q.useState(""),[l,m]=Q.useState(!1),[p,g]=Q.useState(!1),[v,j]=Q.useState(null),[A,M]=Q.useState(!1),[b,U]=Q.useState(!1),[E,I]=Q.useState({password:"",confirmPassword:""}),[P,W]=Q.useState(null),[X,H]=Q.useState("error"),fe=ho(),he=i.get("token"),Ee=i.get("role")||"admin";Q.useEffect(()=>{he||j({type:"error",text:"Invalid reset link. Please request a new password reset."})},[he]);const ge=xe=>xe?xe.length<6?"Password must be at least 6 characters long":"":"Password is required",ee=async xe=>{xe.preventDefault();const z=ge(a),$=a!==o?"Passwords do not match":ge(o);if(I({password:z,confirmPassword:$}),z||$){W(z||$),H("error");return}if(!he){j({type:"error",text:"Invalid reset token. Please request a new password reset."});return}M(!0),j(null);try{const ie=await fetch("http://localhost:4000/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:he,newPassword:a,role:Ee})}),we=await ie.json();if(!ie.ok||!we.success){j({type:"error",text:we.message||"Failed to reset password. Please try again."}),M(!1);return}U(!0),j({type:"success",text:we.message||"Password has been reset successfully!"}),M(!1),setTimeout(()=>{fe("/login")},3e3)}catch(le){console.error("Reset password error:",le),j({type:"error",text:"Unable to connect. Please check your connection and try again."}),M(!1)}};return t.jsxs(t.Fragment,{children:[t.jsx(Kc,{showCTA:!1}),t.jsx("main",{className:"login-main",children:t.jsxs("div",{className:"login-shell",children:[t.jsxs("aside",{className:"login-menu",children:[t.jsx("p",{className:"eyebrow light",children:"Password Reset"}),t.jsx("h2",{children:"Create New Password"}),t.jsx("p",{children:"Enter your new password below. Make sure it's strong and secure."}),t.jsxs("ul",{children:[t.jsx("li",{children:"At least 6 characters long"}),t.jsx("li",{children:"Use a combination of letters and numbers"}),t.jsx("li",{children:"Don't reuse your old password"})]})]}),t.jsxs("div",{className:"login-form-card",children:[t.jsx("div",{className:"login-form-card__header",children:t.jsxs("h1",{children:[t.jsx("i",{className:"fas fa-lock login-title-icon"}),"Reset Password"]})}),b?t.jsxs("div",{className:"forgot-password-success",children:[t.jsx("div",{className:"forgot-password-success-icon",children:t.jsx("i",{className:"fas fa-check"})}),t.jsx("h3",{className:"forgot-password-success-title",children:"Password Reset Successful!"}),t.jsx("p",{className:"forgot-password-success-message",children:"Your password has been reset successfully. You can now login with your new password."}),t.jsx("p",{className:"forgot-password-success-message forgot-password-success-message--small",children:"Redirecting to login page in a few seconds..."}),t.jsx("div",{className:"login-buttons",children:t.jsx("button",{type:"button",className:"btn-admin login-btn-full-width",onClick:()=>fe("/login"),children:"Go to Login"})})]}):t.jsxs("form",{onSubmit:ee,noValidate:!0,children:[t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock login-icon"}),"New Password ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsxs("div",{className:"login-input-wrapper",children:[t.jsx("input",{type:l?"text":"password",value:a,onChange:xe=>{r(xe.target.value),E.password&&I({...E,password:""})},onBlur:()=>{const xe=ge(a);I({...E,password:xe}),xe&&(W(xe),H("error"))},onInvalid:xe=>xe.preventDefault(),placeholder:"Enter new password",className:`mono-input login-input--with-icon ${E.password?"input-error":""}`,disabled:A||!he,required:!0}),t.jsx("button",{type:"button",onClick:()=>m(!l),className:"login-password-toggle","aria-label":l?"Hide password":"Show password",disabled:A,children:l?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock login-icon"}),"Confirm Password ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsxs("div",{className:"login-input-wrapper",children:[t.jsx("input",{type:p?"text":"password",value:o,onChange:xe=>{c(xe.target.value),E.confirmPassword&&I({...E,confirmPassword:""})},onBlur:()=>{const xe=a!==o?"Passwords do not match":ge(o);I({...E,confirmPassword:xe}),xe&&(W(xe),H("error"))},onInvalid:xe=>xe.preventDefault(),placeholder:"Confirm new password",className:`mono-input login-input--with-icon ${E.confirmPassword?"input-error":""}`,disabled:A||!he,required:!0}),t.jsx("button",{type:"button",onClick:()=>g(!p),className:"login-password-toggle","aria-label":p?"Hide password":"Show password",disabled:A,children:p?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),t.jsx("div",{className:"login-buttons",children:t.jsx("button",{type:"submit",className:`btn-admin login-btn-wrapper login-btn-full-width ${A||!he?"login-btn--loading":""}`,disabled:A||!he,children:A?t.jsxs("span",{className:"login-btn-spinner",children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),t.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}),"Resetting..."]}):"Reset Password"})}),t.jsx("div",{className:"forgot-password-back-link",children:t.jsxs(Jc,{to:"/login",children:[t.jsx("i",{className:"fas fa-arrow-left forgot-password-back-link-icon"}),"Back to Login"]})})]}),t.jsx(Hd,{isOpen:!!v,message:v?.text,type:v?.type||"error",onClose:()=>j(null)}),t.jsx($l,{message:P,type:X,onClose:()=>W(null),duration:3e3})]})]})}),t.jsx(Qc,{})]})}function _y(){return t.jsx(I1,{children:t.jsx(v1,{future:{v7_startTransition:!0},children:t.jsxs(u1,{children:[t.jsx(Do,{path:"/",element:t.jsx(ep,{to:"/login",replace:!0})}),t.jsx(Do,{path:"/login",element:t.jsx(L1,{})}),t.jsx(Do,{path:"/signup",element:t.jsx(Ay,{})}),t.jsx(Do,{path:"/forgot-password",element:t.jsx(Py,{})}),t.jsx(Do,{path:"/reset-password",element:t.jsx(Ly,{})}),t.jsx(Do,{path:"/admin",element:t.jsx(Ny,{})}),t.jsx(Do,{path:"/member",element:t.jsx(ky,{})}),t.jsx(Do,{path:"/server",element:t.jsx(Cy,{})}),t.jsx(Do,{path:"*",element:t.jsx(ep,{to:"/login",replace:!0})})]})})})}const Iy="867870699456-djt0cnrakntduqs6g2gm3pk24vj6qoc9.apps.googleusercontent.com",_0=()=>{document.querySelectorAll("input[title], select[title], textarea[title], input[pattern], select[pattern], textarea[pattern]").forEach(a=>{a.removeAttribute("title"),a.removeAttribute("pattern")})},Ey=()=>{const i=()=>{document.querySelectorAll("input[required], select[required], textarea[required]").forEach(o=>{o.hasAttribute("data-invalid-handler-added")||(o.addEventListener("invalid",c=>{c.preventDefault(),c.stopPropagation()},{capture:!0}),o.setAttribute("data-invalid-handler-added","true"))})};i();const a=new MutationObserver(()=>{_0(),i()});document.body?a.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["title","required","pattern"]}):document.addEventListener("DOMContentLoaded",()=>{a.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["title","required","pattern"]})})};_0();Ey();vg.createRoot(document.getElementById("root")).render(t.jsx(Af.StrictMode,{children:t.jsx(P1,{clientId:Iy,children:t.jsx(_y,{})})}));export{tr as _,My as c,km as g};
