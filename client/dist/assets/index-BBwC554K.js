function cg(s,a){for(var r=0;r<a.length;r++){const l=a[r];if(typeof l!="string"&&!Array.isArray(l)){for(const f in l)if(f!=="default"&&!(f in s)){const u=Object.getOwnPropertyDescriptor(l,f);u&&Object.defineProperty(s,f,u.get?u:{enumerable:!0,get:()=>l[f]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))l(f);new MutationObserver(f=>{for(const u of f)if(u.type==="childList")for(const x of u.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&l(x)}).observe(document,{childList:!0,subtree:!0});function r(f){const u={};return f.integrity&&(u.integrity=f.integrity),f.referrerPolicy&&(u.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?u.credentials="include":f.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(f){if(f.ep)return;f.ep=!0;const u=r(f);fetch(f.href,u)}})();var My=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function km(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Du={exports:{}},zc={},Fu={exports:{}},ln={};var Bh;function dg(){if(Bh)return ln;Bh=1;var s=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),x=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),j=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),L=Symbol.iterator;function R(Q){return Q===null||typeof Q!="object"?null:(Q=L&&Q[L]||Q["@@iterator"],typeof Q=="function"?Q:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,F={};function D(Q,_,W){this.props=Q,this.context=_,this.refs=F,this.updater=W||N}D.prototype.isReactComponent={},D.prototype.setState=function(Q,_){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,_,"setState")},D.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function E(){}E.prototype=D.prototype;function q(Q,_,W){this.props=Q,this.context=_,this.refs=F,this.updater=W||N}var J=q.prototype=new E;J.constructor=q,z(J,D.prototype),J.isPureReactComponent=!0;var $=Array.isArray,oe=Object.prototype.hasOwnProperty,ce={current:null},Ee={key:!0,ref:!0,__self:!0,__source:!0};function fe(Q,_,W){var Y,re={},ee=null,me=null;if(_!=null)for(Y in _.ref!==void 0&&(me=_.ref),_.key!==void 0&&(ee=""+_.key),_)oe.call(_,Y)&&!Ee.hasOwnProperty(Y)&&(re[Y]=_[Y]);var Ce=arguments.length-2;if(Ce===1)re.children=W;else if(1<Ce){for(var _e=Array(Ce),Be=0;Be<Ce;Be++)_e[Be]=arguments[Be+2];re.children=_e}if(Q&&Q.defaultProps)for(Y in Ce=Q.defaultProps,Ce)re[Y]===void 0&&(re[Y]=Ce[Y]);return{$$typeof:s,type:Q,key:ee,ref:me,props:re,_owner:ce.current}}function K(Q,_){return{$$typeof:s,type:Q.type,key:_,ref:Q.ref,props:Q.props,_owner:Q._owner}}function pe(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===s}function B(Q){var _={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(W){return _[W]})}var U=/\/+/g;function ae(Q,_){return typeof Q=="object"&&Q!==null&&Q.key!=null?B(""+Q.key):_.toString(36)}function Z(Q,_,W,Y,re){var ee=typeof Q;(ee==="undefined"||ee==="boolean")&&(Q=null);var me=!1;if(Q===null)me=!0;else switch(ee){case"string":case"number":me=!0;break;case"object":switch(Q.$$typeof){case s:case a:me=!0}}if(me)return me=Q,re=re(me),Q=Y===""?"."+ae(me,0):Y,$(re)?(W="",Q!=null&&(W=Q.replace(U,"$&/")+"/"),Z(re,_,W,"",function(Be){return Be})):re!=null&&(pe(re)&&(re=K(re,W+(!re.key||me&&me.key===re.key?"":(""+re.key).replace(U,"$&/")+"/")+Q)),_.push(re)),1;if(me=0,Y=Y===""?".":Y+":",$(Q))for(var Ce=0;Ce<Q.length;Ce++){ee=Q[Ce];var _e=Y+ae(ee,Ce);me+=Z(ee,_,W,_e,re)}else if(_e=R(Q),typeof _e=="function")for(Q=_e.call(Q),Ce=0;!(ee=Q.next()).done;)ee=ee.value,_e=Y+ae(ee,Ce++),me+=Z(ee,_,W,_e,re);else if(ee==="object")throw _=String(Q),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return me}function xe(Q,_,W){if(Q==null)return Q;var Y=[],re=0;return Z(Q,Y,"","",function(ee){return _.call(W,ee,re++)}),Y}function Ae(Q){if(Q._status===-1){var _=Q._result;_=_(),_.then(function(W){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=W)},function(W){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=W)}),Q._status===-1&&(Q._status=0,Q._result=_)}if(Q._status===1)return Q._result.default;throw Q._result}var ke={current:null},le={transition:null},Se={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:le,ReactCurrentOwner:ce};function Fe(){throw Error("act(...) is not supported in production builds of React.")}return ln.Children={map:xe,forEach:function(Q,_,W){xe(Q,function(){_.apply(this,arguments)},W)},count:function(Q){var _=0;return xe(Q,function(){_++}),_},toArray:function(Q){return xe(Q,function(_){return _})||[]},only:function(Q){if(!pe(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},ln.Component=D,ln.Fragment=r,ln.Profiler=f,ln.PureComponent=q,ln.StrictMode=l,ln.Suspense=y,ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Se,ln.act=Fe,ln.cloneElement=function(Q,_,W){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var Y=z({},Q.props),re=Q.key,ee=Q.ref,me=Q._owner;if(_!=null){if(_.ref!==void 0&&(ee=_.ref,me=ce.current),_.key!==void 0&&(re=""+_.key),Q.type&&Q.type.defaultProps)var Ce=Q.type.defaultProps;for(_e in _)oe.call(_,_e)&&!Ee.hasOwnProperty(_e)&&(Y[_e]=_[_e]===void 0&&Ce!==void 0?Ce[_e]:_[_e])}var _e=arguments.length-2;if(_e===1)Y.children=W;else if(1<_e){Ce=Array(_e);for(var Be=0;Be<_e;Be++)Ce[Be]=arguments[Be+2];Y.children=Ce}return{$$typeof:s,type:Q.type,key:re,ref:ee,props:Y,_owner:me}},ln.createContext=function(Q){return Q={$$typeof:x,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:u,_context:Q},Q.Consumer=Q},ln.createElement=fe,ln.createFactory=function(Q){var _=fe.bind(null,Q);return _.type=Q,_},ln.createRef=function(){return{current:null}},ln.forwardRef=function(Q){return{$$typeof:g,render:Q}},ln.isValidElement=pe,ln.lazy=function(Q){return{$$typeof:k,_payload:{_status:-1,_result:Q},_init:Ae}},ln.memo=function(Q,_){return{$$typeof:j,type:Q,compare:_===void 0?null:_}},ln.startTransition=function(Q){var _=le.transition;le.transition={};try{Q()}finally{le.transition=_}},ln.unstable_act=Fe,ln.useCallback=function(Q,_){return ke.current.useCallback(Q,_)},ln.useContext=function(Q){return ke.current.useContext(Q)},ln.useDebugValue=function(){},ln.useDeferredValue=function(Q){return ke.current.useDeferredValue(Q)},ln.useEffect=function(Q,_){return ke.current.useEffect(Q,_)},ln.useId=function(){return ke.current.useId()},ln.useImperativeHandle=function(Q,_,W){return ke.current.useImperativeHandle(Q,_,W)},ln.useInsertionEffect=function(Q,_){return ke.current.useInsertionEffect(Q,_)},ln.useLayoutEffect=function(Q,_){return ke.current.useLayoutEffect(Q,_)},ln.useMemo=function(Q,_){return ke.current.useMemo(Q,_)},ln.useReducer=function(Q,_,W){return ke.current.useReducer(Q,_,W)},ln.useRef=function(Q){return ke.current.useRef(Q)},ln.useState=function(Q){return ke.current.useState(Q)},ln.useSyncExternalStore=function(Q,_,W){return ke.current.useSyncExternalStore(Q,_,W)},ln.useTransition=function(){return ke.current.useTransition()},ln.version="18.3.1",ln}var zh;function kf(){return zh||(zh=1,Fu.exports=dg()),Fu.exports}var Uh;function ug(){if(Uh)return zc;Uh=1;var s=kf(),a=Symbol.for("react.element"),r=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,f=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function x(g,y,j){var k,L={},R=null,N=null;j!==void 0&&(R=""+j),y.key!==void 0&&(R=""+y.key),y.ref!==void 0&&(N=y.ref);for(k in y)l.call(y,k)&&!u.hasOwnProperty(k)&&(L[k]=y[k]);if(g&&g.defaultProps)for(k in y=g.defaultProps,y)L[k]===void 0&&(L[k]=y[k]);return{$$typeof:a,type:g,key:R,ref:N,props:L,_owner:f.current}}return zc.Fragment=r,zc.jsx=x,zc.jsxs=x,zc}var qh;function fg(){return qh||(qh=1,Du.exports=ug()),Du.exports}var t=fg(),H=kf();const Af=km(H),hg=cg({__proto__:null,default:Af},[H]);var Cd={},Ru={exports:{}},Ks={},Tu={exports:{}},Ou={};var $h;function pg(){return $h||($h=1,(function(s){function a(le,Se){var Fe=le.length;le.push(Se);e:for(;0<Fe;){var Q=Fe-1>>>1,_=le[Q];if(0<f(_,Se))le[Q]=Se,le[Fe]=_,Fe=Q;else break e}}function r(le){return le.length===0?null:le[0]}function l(le){if(le.length===0)return null;var Se=le[0],Fe=le.pop();if(Fe!==Se){le[0]=Fe;e:for(var Q=0,_=le.length,W=_>>>1;Q<W;){var Y=2*(Q+1)-1,re=le[Y],ee=Y+1,me=le[ee];if(0>f(re,Fe))ee<_&&0>f(me,re)?(le[Q]=me,le[ee]=Fe,Q=ee):(le[Q]=re,le[Y]=Fe,Q=Y);else if(ee<_&&0>f(me,Fe))le[Q]=me,le[ee]=Fe,Q=ee;else break e}}return Se}function f(le,Se){var Fe=le.sortIndex-Se.sortIndex;return Fe!==0?Fe:le.id-Se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var x=Date,g=x.now();s.unstable_now=function(){return x.now()-g}}var y=[],j=[],k=1,L=null,R=3,N=!1,z=!1,F=!1,D=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(le){for(var Se=r(j);Se!==null;){if(Se.callback===null)l(j);else if(Se.startTime<=le)l(j),Se.sortIndex=Se.expirationTime,a(y,Se);else break;Se=r(j)}}function $(le){if(F=!1,J(le),!z)if(r(y)!==null)z=!0,Ae(oe);else{var Se=r(j);Se!==null&&ke($,Se.startTime-le)}}function oe(le,Se){z=!1,F&&(F=!1,E(fe),fe=-1),N=!0;var Fe=R;try{for(J(Se),L=r(y);L!==null&&(!(L.expirationTime>Se)||le&&!B());){var Q=L.callback;if(typeof Q=="function"){L.callback=null,R=L.priorityLevel;var _=Q(L.expirationTime<=Se);Se=s.unstable_now(),typeof _=="function"?L.callback=_:L===r(y)&&l(y),J(Se)}else l(y);L=r(y)}if(L!==null)var W=!0;else{var Y=r(j);Y!==null&&ke($,Y.startTime-Se),W=!1}return W}finally{L=null,R=Fe,N=!1}}var ce=!1,Ee=null,fe=-1,K=5,pe=-1;function B(){return!(s.unstable_now()-pe<K)}function U(){if(Ee!==null){var le=s.unstable_now();pe=le;var Se=!0;try{Se=Ee(!0,le)}finally{Se?ae():(ce=!1,Ee=null)}}else ce=!1}var ae;if(typeof q=="function")ae=function(){q(U)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,xe=Z.port2;Z.port1.onmessage=U,ae=function(){xe.postMessage(null)}}else ae=function(){D(U,0)};function Ae(le){Ee=le,ce||(ce=!0,ae())}function ke(le,Se){fe=D(function(){le(s.unstable_now())},Se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(le){le.callback=null},s.unstable_continueExecution=function(){z||N||(z=!0,Ae(oe))},s.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<le?Math.floor(1e3/le):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_getFirstCallbackNode=function(){return r(y)},s.unstable_next=function(le){switch(R){case 1:case 2:case 3:var Se=3;break;default:Se=R}var Fe=R;R=Se;try{return le()}finally{R=Fe}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(le,Se){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var Fe=R;R=le;try{return Se()}finally{R=Fe}},s.unstable_scheduleCallback=function(le,Se,Fe){var Q=s.unstable_now();switch(typeof Fe=="object"&&Fe!==null?(Fe=Fe.delay,Fe=typeof Fe=="number"&&0<Fe?Q+Fe:Q):Fe=Q,le){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=Fe+_,le={id:k++,callback:Se,priorityLevel:le,startTime:Fe,expirationTime:_,sortIndex:-1},Fe>Q?(le.sortIndex=Fe,a(j,le),r(y)===null&&le===r(j)&&(F?(E(fe),fe=-1):F=!0,ke($,Fe-Q))):(le.sortIndex=_,a(y,le),z||N||(z=!0,Ae(oe))),le},s.unstable_shouldYield=B,s.unstable_wrapCallback=function(le){var Se=R;return function(){var Fe=R;R=Se;try{return le.apply(this,arguments)}finally{R=Fe}}}})(Ou)),Ou}var Wh;function mg(){return Wh||(Wh=1,Tu.exports=pg()),Tu.exports}var Hh;function gg(){if(Hh)return Ks;Hh=1;var s=kf(),a=mg();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,f={};function u(e,n){x(e,n),x(e+"Capture",n)}function x(e,n){for(f[e]=n,e=0;e<n.length;e++)l.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,j=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},L={};function R(e){return y.call(L,e)?!0:y.call(k,e)?!1:j.test(e)?L[e]=!0:(k[e]=!0,!1)}function N(e,n,o,p){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return p?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function z(e,n,o,p){if(n===null||typeof n>"u"||N(e,n,o,p))return!0;if(p)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function F(e,n,o,p,b,A,O){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=p,this.attributeNamespace=b,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=A,this.removeEmptyString=O}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){D[e]=new F(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];D[n]=new F(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){D[e]=new F(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){D[e]=new F(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){D[e]=new F(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){D[e]=new F(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){D[e]=new F(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){D[e]=new F(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){D[e]=new F(e,5,!1,e.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(E,q);D[n]=new F(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(E,q);D[n]=new F(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(E,q);D[n]=new F(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){D[e]=new F(e,1,!1,e.toLowerCase(),null,!1,!1)}),D.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){D[e]=new F(e,1,!1,e.toLowerCase(),null,!0,!0)});function J(e,n,o,p){var b=D.hasOwnProperty(n)?D[n]:null;(b!==null?b.type!==0:p||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(z(n,o,b,p)&&(o=null),p||b===null?R(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):b.mustUseProperty?e[b.propertyName]=o===null?b.type===3?!1:"":o:(n=b.attributeName,p=b.attributeNamespace,o===null?e.removeAttribute(n):(b=b.type,o=b===3||b===4&&o===!0?"":""+o,p?e.setAttributeNS(p,n,o):e.setAttribute(n,o))))}var $=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oe=Symbol.for("react.element"),ce=Symbol.for("react.portal"),Ee=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),B=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),le=Symbol.iterator;function Se(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,Q;function _(e){if(Q===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Q=n&&n[1]||""}return`
`+Q+e}var W=!1;function Y(e,n){if(!e||W)return"";W=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(Oe){var p=Oe}Reflect.construct(e,[],n)}else{try{n.call()}catch(Oe){p=Oe}e.call(n.prototype)}else{try{throw Error()}catch(Oe){p=Oe}e()}}catch(Oe){if(Oe&&p&&typeof Oe.stack=="string"){for(var b=Oe.stack.split(`
`),A=p.stack.split(`
`),O=b.length-1,se=A.length-1;1<=O&&0<=se&&b[O]!==A[se];)se--;for(;1<=O&&0<=se;O--,se--)if(b[O]!==A[se]){if(O!==1||se!==1)do if(O--,se--,0>se||b[O]!==A[se]){var ge=`
`+b[O].replace(" at new "," at ");return e.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",e.displayName)),ge}while(1<=O&&0<=se);break}}}finally{W=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?_(e):""}function re(e){switch(e.tag){case 5:return _(e.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return e=Y(e.type,!1),e;case 11:return e=Y(e.type.render,!1),e;case 1:return e=Y(e.type,!0),e;default:return""}}function ee(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ee:return"Fragment";case ce:return"Portal";case K:return"Profiler";case fe:return"StrictMode";case ae:return"Suspense";case Z:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case B:return(e.displayName||"Context")+".Consumer";case pe:return(e._context.displayName||"Context")+".Provider";case U:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xe:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case Ae:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}function me(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(n);case 8:return n===fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _e(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Be(e){var n=_e(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),p=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var b=o.get,A=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return b.call(this)},set:function(O){p=""+O,A.call(this,O)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return p},setValue:function(O){p=""+O},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Le(e){e._valueTracker||(e._valueTracker=Be(e))}function Ge(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),p="";return e&&(p=_e(e)?e.checked?"true":"false":e.value),e=p,e!==o?(n.setValue(e),!0):!1}function tt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function it(e,n){var o=n.checked;return Fe({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function G(e,n){var o=n.defaultValue==null?"":n.defaultValue,p=n.checked!=null?n.checked:n.defaultChecked;o=Ce(n.value!=null?n.value:o),e._wrapperState={initialChecked:p,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ve(e,n){n=n.checked,n!=null&&J(e,"checked",n,!1)}function vt(e,n){Ve(e,n);var o=Ce(n.value),p=n.type;if(o!=null)p==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(p==="submit"||p==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ye(e,n.type,o):n.hasOwnProperty("defaultValue")&&Ye(e,n.type,Ce(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function ht(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var p=n.type;if(!(p!=="submit"&&p!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function Ye(e,n,o){(n!=="number"||tt(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var gt=Array.isArray;function ot(e,n,o,p){if(e=e.options,n){n={};for(var b=0;b<o.length;b++)n["$"+o[b]]=!0;for(o=0;o<e.length;o++)b=n.hasOwnProperty("$"+e[o].value),e[o].selected!==b&&(e[o].selected=b),b&&p&&(e[o].defaultSelected=!0)}else{for(o=""+Ce(o),n=null,b=0;b<e.length;b++){if(e[b].value===o){e[b].selected=!0,p&&(e[b].defaultSelected=!0);return}n!==null||e[b].disabled||(n=e[b])}n!==null&&(n.selected=!0)}}function pt(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return Fe({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wt(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(r(92));if(gt(o)){if(1<o.length)throw Error(r(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:Ce(o)}}function rn(e,n){var o=Ce(n.value),p=Ce(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),p!=null&&(e.defaultValue=""+p)}function $t(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Ct(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Ct(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var we,De=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,p,b){MSApp.execUnsafeLocalFunction(function(){return e(n,o,p,b)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(we=we||document.createElement("div"),we.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=we.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function He(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gt=["Webkit","ms","Moz","O"];Object.keys(Qe).forEach(function(e){Gt.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Qe[n]=Qe[e]})});function ye(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||Qe.hasOwnProperty(e)&&Qe[e]?(""+n).trim():n+"px"}function ue(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var p=o.indexOf("--")===0,b=ye(o,n[o],p);o==="float"&&(o="cssFloat"),p?e.setProperty(o,b):e[o]=b}}var Re=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function at(e,n){if(n){if(Re[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Xe(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ct=null;function Nt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var It=null,Jt=null,Ot=null;function ne(e){if(e=jo(e)){if(typeof It!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Ta(n),It(e.stateNode,e.type,n))}}function dt(e){Jt?Ot?Ot.push(e):Ot=[e]:Jt=e}function dr(){if(Jt){var e=Jt,n=Ot;if(Ot=Jt=null,ne(e),n)for(e=0;e<n.length;e++)ne(n[e])}}function ar(e,n){return e(n)}function Or(){}var _n=!1;function Et(e,n,o){if(_n)return e(n,o);_n=!0;try{return ar(e,n,o)}finally{_n=!1,(Jt!==null||Ot!==null)&&(Or(),dr())}}function Ha(e,n){var o=e.stateNode;if(o===null)return null;var p=Ta(o);if(p===null)return null;o=p[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(e=e.type,p=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!p;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(r(231,n,typeof o));return o}var Va=!1;if(g)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Va=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{Va=!1}function ls(e,n,o,p,b,A,O,se,ge){var Oe=Array.prototype.slice.call(arguments,3);try{n.apply(o,Oe)}catch(et){this.onError(et)}}var cn=!1,Tn=null,ur=!1,Na=null,cs={onError:function(e){cn=!0,Tn=e}};function ka(e,n,o,p,b,A,O,se,ge){cn=!1,Tn=null,ls.apply(cs,arguments)}function gn(e,n,o,p,b,A,O,se,ge){if(ka.apply(this,arguments),cn){if(cn){var Oe=Tn;cn=!1,Tn=null}else throw Error(r(198));ur||(ur=!0,Na=Oe)}}function Gn(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function Wt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Pn(e){if(Gn(e)!==e)throw Error(r(188))}function Kt(e){var n=e.alternate;if(!n){if(n=Gn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var o=e,p=n;;){var b=o.return;if(b===null)break;var A=b.alternate;if(A===null){if(p=b.return,p!==null){o=p;continue}break}if(b.child===A.child){for(A=b.child;A;){if(A===o)return Pn(b),e;if(A===p)return Pn(b),n;A=A.sibling}throw Error(r(188))}if(o.return!==p.return)o=b,p=A;else{for(var O=!1,se=b.child;se;){if(se===o){O=!0,o=b,p=A;break}if(se===p){O=!0,p=b,o=A;break}se=se.sibling}if(!O){for(se=A.child;se;){if(se===o){O=!0,o=A,p=b;break}if(se===p){O=!0,p=A,o=b;break}se=se.sibling}if(!O)throw Error(r(189))}}if(o.alternate!==p)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?e:n}function $n(e){return e=Kt(e),e!==null?Xs(e):null}function Xs(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Xs(e);if(n!==null)return n;e=e.sibling}return null}var xi=a.unstable_scheduleCallback,yi=a.unstable_cancelCallback,Fi=a.unstable_shouldYield,Zs=a.unstable_requestPaint,Wn=a.unstable_now,jl=a.unstable_getCurrentPriorityLevel,vi=a.unstable_ImmediatePriority,mt=a.unstable_UserBlockingPriority,fr=a.unstable_NormalPriority,io=a.unstable_LowPriority,Ri=a.unstable_IdlePriority,Ln=null,jn=null;function sr(e){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Ln,e,void 0,(e.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:Ke,oo=Math.log,bi=Math.LN2;function Ke(e){return e>>>=0,e===0?32:31-(oo(e)/bi|0)|0}var er=64,Ar=4194304;function Br(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Aa(e,n){var o=e.pendingLanes;if(o===0)return 0;var p=0,b=e.suspendedLanes,A=e.pingedLanes,O=o&268435455;if(O!==0){var se=O&~b;se!==0?p=Br(se):(A&=O,A!==0&&(p=Br(A)))}else O=o&~b,O!==0?p=Br(O):A!==0&&(p=Br(A));if(p===0)return 0;if(n!==0&&n!==p&&(n&b)===0&&(b=p&-p,A=n&-n,b>=A||b===16&&(A&4194240)!==0))return n;if((p&4)!==0&&(p|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=p;0<n;)o=31-dn(n),b=1<<o,p|=e[o],n&=~b;return p}function yr(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sn(e,n){for(var o=e.suspendedLanes,p=e.pingedLanes,b=e.expirationTimes,A=e.pendingLanes;0<A;){var O=31-dn(A),se=1<<O,ge=b[O];ge===-1?((se&o)===0||(se&p)!==0)&&(b[O]=yr(se,n)):ge<=n&&(e.expiredLanes|=se),A&=~se}}function Ca(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mo(){var e=er;return er<<=1,(er&4194240)===0&&(er=64),e}function ei(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Cr(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-dn(n),e[n]=o}function ha(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var p=e.eventTimes;for(e=e.expirationTimes;0<o;){var b=31-dn(o),A=1<<b;n[b]=0,p[b]=-1,e[b]=-1,o&=~A}}function ds(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var p=31-dn(o),b=1<<p;b&n|e[p]&n&&(e[p]|=n),o&=~b}}var sn=0;function Qt(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Pa,Do,lo,Ti,Oi,Fo=!1,Zr=[],Ya=null,La=null,un=null,ks=new Map,Pt=new Map,As=[],wi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qo(e,n){switch(e){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":ks.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(n.pointerId)}}function Ga(e,n,o,p,b,A){return e===null||e.nativeEvent!==A?(e={blockedOn:n,domEventName:o,eventSystemFlags:p,nativeEvent:A,targetContainers:[b]},n!==null&&(n=jo(n),n!==null&&Do(n)),e):(e.eventSystemFlags|=p,n=e.targetContainers,b!==null&&n.indexOf(b)===-1&&n.push(b),e)}function Ja(e,n,o,p,b){switch(n){case"focusin":return Ya=Ga(Ya,e,n,o,p,b),!0;case"dragenter":return La=Ga(La,e,n,o,p,b),!0;case"mouseover":return un=Ga(un,e,n,o,p,b),!0;case"pointerover":var A=b.pointerId;return ks.set(A,Ga(ks.get(A)||null,e,n,o,p,b)),!0;case"gotpointercapture":return A=b.pointerId,Pt.set(A,Ga(Pt.get(A)||null,e,n,o,p,b)),!0}return!1}function Pr(e){var n=Ai(e.target);if(n!==null){var o=Gn(n);if(o!==null){if(n=o.tag,n===13){if(n=Wt(o),n!==null){e.blockedOn=n,Oi(e.priority,function(){lo(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ts(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=tn(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var p=new o.constructor(o.type,o);ct=p,o.target.dispatchEvent(p),ct=null}else return n=jo(o),n!==null&&Do(n),e.blockedOn=o,!1;n.shift()}return!0}function en(e,n,o){Ts(e)&&o.delete(n)}function pa(){Fo=!1,Ya!==null&&Ts(Ya)&&(Ya=null),La!==null&&Ts(La)&&(La=null),un!==null&&Ts(un)&&(un=null),ks.forEach(en),Pt.forEach(en)}function ma(e,n){e.blockedOn===n&&(e.blockedOn=null,Fo||(Fo=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,pa)))}function ji(e){function n(b){return ma(b,e)}if(0<Zr.length){ma(Zr[0],e);for(var o=1;o<Zr.length;o++){var p=Zr[o];p.blockedOn===e&&(p.blockedOn=null)}}for(Ya!==null&&ma(Ya,e),La!==null&&ma(La,e),un!==null&&ma(un,e),ks.forEach(n),Pt.forEach(n),o=0;o<As.length;o++)p=As[o],p.blockedOn===e&&(p.blockedOn=null);for(;0<As.length&&(o=As[0],o.blockedOn===null);)Pr(o),o.blockedOn===null&&As.shift()}var In=$.ReactCurrentBatchConfig,vr=!0;function Lr(e,n,o,p){var b=sn,A=In.transition;In.transition=null;try{sn=1,co(e,n,o,p)}finally{sn=b,In.transition=A}}function Ka(e,n,o,p){var b=sn,A=In.transition;In.transition=null;try{sn=4,co(e,n,o,p)}finally{sn=b,In.transition=A}}function co(e,n,o,p){if(vr){var b=tn(e,n,o,p);if(b===null)qo(e,n,p,ga,o),Qo(e,p);else if(Ja(b,e,n,o,p))p.stopPropagation();else if(Qo(e,p),n&4&&-1<wi.indexOf(e)){for(;b!==null;){var A=jo(b);if(A!==null&&Pa(A),A=tn(e,n,o,p),A===null&&qo(e,n,p,ga,o),A===b)break;b=A}b!==null&&p.stopPropagation()}else qo(e,n,p,null,o)}}var ga=null;function tn(e,n,o,p){if(ga=null,e=Nt(p),e=Ai(e),e!==null)if(n=Gn(e),n===null)e=null;else if(o=n.tag,o===13){if(e=Wt(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ga=e,null}function Os(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jl()){case vi:return 1;case mt:return 4;case fr:case io:return 16;case Ri:return 536870912;default:return 16}default:return 16}}var us=null,Qa=null,fs=null;function ti(){if(fs)return fs;var e,n=Qa,o=n.length,p,b="value"in us?us.value:us.textContent,A=b.length;for(e=0;e<o&&n[e]===b[e];e++);var O=o-e;for(p=1;p<=O&&n[o-p]===b[A-p];p++);return fs=b.slice(e,1<p?1-p:void 0)}function Bs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zr(){return!0}function Ur(){return!1}function qr(e){function n(o,p,b,A,O){this._reactName=o,this._targetInst=b,this.type=p,this.nativeEvent=A,this.target=O,this.currentTarget=null;for(var se in e)e.hasOwnProperty(se)&&(o=e[se],this[se]=o?o(A):A[se]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?zr:Ur,this.isPropagationStopped=Ur,this}return Fe(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),n}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=qr(xa),v=Fe({},xa,{view:0,detail:0}),M=qr(v),X,he,je,ze=Fe({},v,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==je&&(je&&e.type==="mousemove"?(X=e.screenX-je.screenX,he=e.screenY-je.screenY):he=X=0,je=e),X)},movementY:function(e){return"movementY"in e?e.movementY:he}}),Je=qr(ze),xt=Fe({},ze,{dataTransfer:0}),kt=qr(xt),jt=Fe({},v,{relatedTarget:0}),Ut=qr(jt),fn=Fe({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),En=qr(fn),hr=Fe({},xa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=qr(hr),hn=Fe({},xa,{data:0}),On=qr(hn),Mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $r(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=nn[e])?!!n[e]:!1}function Dn(){return $r}var Bi=Fe({},v,{key:function(e){if(e.key){var n=Mn[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xa[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dn,charCode:function(e){return e.type==="keypress"?Bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_r=qr(Bi),zi=Fe({},ze,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ir=qr(zi),Si=Fe({},v,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dn}),Fn=qr(Si),Ui=Fe({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),hs=qr(Ui),Ro=Fe({},ze,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fo=qr(Ro),br=[9,13,27,32],_a=g&&"CompositionEvent"in window,zs=null;g&&"documentMode"in document&&(zs=document.documentMode);var Za=g&&"TextEvent"in window&&!zs,Ia=g&&(!_a||zs&&8<zs&&11>=zs),ea=" ",ho=!1;function ni(e,n){switch(e){case"keyup":return br.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ri(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ea=!1;function es(e,n){switch(e){case"compositionend":return ri(n);case"keypress":return n.which!==32?null:(ho=!0,ea);case"textInput":return e=n.data,e===ea&&ho?null:e;default:return null}}function Ma(e,n){if(Ea)return e==="compositionend"||!_a&&ni(e,n)?(e=ti(),fs=Qa=us=null,Ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ia&&n.locale!=="ko"?null:n.data;default:return null}}var ai={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ai[e.type]:n==="textarea"}function Cs(e,n,o,p){dt(p),n=$o(n,"onChange"),0<n.length&&(o=new uo("onChange","change",null,o,p),e.push({event:o,listeners:n}))}var Jn=null,ta=null;function Kn(e){Uo(e,0)}function Ni(e){var n=Ie(e);if(Ge(n))return e}function ps(e,n){if(e==="change")return n}var na=!1;if(g){var si;if(g){var Ps="oninput"in document;if(!Ps){var Ls=document.createElement("div");Ls.setAttribute("oninput","return;"),Ps=typeof Ls.oninput=="function"}si=Ps}else si=!1;na=si&&(!document.documentMode||9<document.documentMode)}function Us(){Jn&&(Jn.detachEvent("onpropertychange",qs),ta=Jn=null)}function qs(e){if(e.propertyName==="value"&&Ni(ta)){var n=[];Cs(n,ta,e,Nt(e)),Et(Kn,n)}}function ra(e,n,o){e==="focusin"?(Us(),Jn=n,ta=o,Jn.attachEvent("onpropertychange",qs)):e==="focusout"&&Us()}function aa(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ni(ta)}function Da(e,n){if(e==="click")return Ni(n)}function qi(e,n){if(e==="input"||e==="change")return Ni(n)}function ms(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nn=typeof Object.is=="function"?Object.is:ms;function Wr(e,n){if(Nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),p=Object.keys(n);if(o.length!==p.length)return!1;for(p=0;p<o.length;p++){var b=o[p];if(!y.call(n,b)||!Nn(e[b],n[b]))return!1}return!0}function nt(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rt(e,n){var o=nt(e);e=0;for(var p;o;){if(o.nodeType===3){if(p=e+o.textContent.length,e<=n&&p>=n)return{node:o,offset:n-e};e=p}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=nt(o)}}function Vn(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vn(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Qn(){for(var e=window,n=tt();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=tt(e.document)}return n}function sa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function To(e){var n=Qn(),o=e.focusedElem,p=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&Vn(o.ownerDocument.documentElement,o)){if(p!==null&&sa(o)){if(n=p.start,e=p.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var b=o.textContent.length,A=Math.min(p.start,b);p=p.end===void 0?A:Math.min(p.end,b),!e.extend&&A>p&&(b=p,p=A,A=b),b=Rt(o,A);var O=Rt(o,p);b&&O&&(e.rangeCount!==1||e.anchorNode!==b.node||e.anchorOffset!==b.offset||e.focusNode!==O.node||e.focusOffset!==O.offset)&&(n=n.createRange(),n.setStart(b.node,b.offset),e.removeAllRanges(),A>p?(e.addRange(n),e.extend(O.node,O.offset)):(n.setEnd(O.node,O.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ii=g&&"documentMode"in document&&11>=document.documentMode,ts=null,ns=null,$i=null,po=!1;function Oo(e,n,o){var p=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;po||ts==null||ts!==tt(p)||(p=ts,"selectionStart"in p&&sa(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),$i&&Wr($i,p)||($i=p,p=$o(ns,"onSelect"),0<p.length&&(n=new uo("onSelect","select",null,n,o),e.push({event:n,listeners:p}),n.target=ts)))}function $s(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Wi={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionend:$s("Transition","TransitionEnd")},Hi={},mo={};g&&(mo=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function Bo(e){if(Hi[e])return Hi[e];if(!Wi[e])return e;var n=Wi[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in mo)return Hi[e]=n[o];return e}var Yl=Bo("animationend"),Xo=Bo("animationiteration"),Sl=Bo("animationstart"),go=Bo("transitionend"),Nl=new Map,rs="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(e,n){Nl.set(e,n),u(n,[e])}for(var ia=0;ia<rs.length;ia++){var ya=rs[ia],gs=ya.toLowerCase(),Zo=ya[0].toUpperCase()+ya.slice(1);Ws(gs,"on"+Zo)}Ws(Yl,"onAnimationEnd"),Ws(Xo,"onAnimationIteration"),Ws(Sl,"onAnimationStart"),Ws("dblclick","onDoubleClick"),Ws("focusin","onFocus"),Ws("focusout","onBlur"),Ws(go,"onTransitionEnd"),x("onMouseEnter",["mouseout","mouseover"]),x("onMouseLeave",["mouseout","mouseover"]),x("onPointerEnter",["pointerout","pointerover"]),x("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hs=new Set("cancel close invalid load scroll toggle".split(" ").concat(ki));function zo(e,n,o){var p=e.type||"unknown-event";e.currentTarget=o,gn(p,n,void 0,e),e.currentTarget=null}function Uo(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var p=e[o],b=p.event;p=p.listeners;e:{var A=void 0;if(n)for(var O=p.length-1;0<=O;O--){var se=p[O],ge=se.instance,Oe=se.currentTarget;if(se=se.listener,ge!==A&&b.isPropagationStopped())break e;zo(b,se,Oe),A=ge}else for(O=0;O<p.length;O++){if(se=p[O],ge=se.instance,Oe=se.currentTarget,se=se.listener,ge!==A&&b.isPropagationStopped())break e;zo(b,se,Oe),A=ge}}}if(ur)throw e=Na,ur=!1,Na=null,e}function kn(e,n){var o=n[Fa];o===void 0&&(o=n[Fa]=new Set);var p=e+"__bubble";o.has(p)||(pn(n,e,2,!1),o.add(p))}function ir(e,n,o){var p=0;n&&(p|=4),pn(o,e,p,n)}var xo="_reactListening"+Math.random().toString(36).slice(2);function yo(e){if(!e[xo]){e[xo]=!0,l.forEach(function(o){o!=="selectionchange"&&(Hs.has(o)||ir(o,!1,e),ir(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[xo]||(n[xo]=!0,ir("selectionchange",!1,n))}}function pn(e,n,o,p){switch(Os(n)){case 1:var b=Lr;break;case 4:b=Ka;break;default:b=co}o=b.bind(null,n,o,e),b=void 0,!Va||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(b=!0),p?b!==void 0?e.addEventListener(n,o,{capture:!0,passive:b}):e.addEventListener(n,o,!0):b!==void 0?e.addEventListener(n,o,{passive:b}):e.addEventListener(n,o,!1)}function qo(e,n,o,p,b){var A=p;if((n&1)===0&&(n&2)===0&&p!==null)e:for(;;){if(p===null)return;var O=p.tag;if(O===3||O===4){var se=p.stateNode.containerInfo;if(se===b||se.nodeType===8&&se.parentNode===b)break;if(O===4)for(O=p.return;O!==null;){var ge=O.tag;if((ge===3||ge===4)&&(ge=O.stateNode.containerInfo,ge===b||ge.nodeType===8&&ge.parentNode===b))return;O=O.return}for(;se!==null;){if(O=Ai(se),O===null)return;if(ge=O.tag,ge===5||ge===6){p=A=O;continue e}se=se.parentNode}}p=p.return}Et(function(){var Oe=A,et=Nt(o),rt=[];e:{var Ze=Nl.get(e);if(Ze!==void 0){var yt=uo,Lt=e;switch(e){case"keypress":if(Bs(o)===0)break e;case"keydown":case"keyup":yt=_r;break;case"focusin":Lt="focus",yt=Ut;break;case"focusout":Lt="blur",yt=Ut;break;case"beforeblur":case"afterblur":yt=Ut;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=Je;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=kt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=Fn;break;case Yl:case Xo:case Sl:yt=En;break;case go:yt=hs;break;case"scroll":yt=M;break;case"wheel":yt=fo;break;case"copy":case"cut":case"paste":yt=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=Ir}var Mt=(n&4)!==0,Yr=!Mt&&e==="scroll",Me=Mt?Ze!==null?Ze+"Capture":null:Ze;Mt=[];for(var ve=Oe,Te;ve!==null;){Te=ve;var st=Te.stateNode;if(Te.tag===5&&st!==null&&(Te=st,Me!==null&&(st=Ha(ve,Me),st!=null&&Mt.push(vo(ve,st,Te)))),Yr)break;ve=ve.return}0<Mt.length&&(Ze=new yt(Ze,Lt,null,o,et),rt.push({event:Ze,listeners:Mt}))}}if((n&7)===0){e:{if(Ze=e==="mouseover"||e==="pointerover",yt=e==="mouseout"||e==="pointerout",Ze&&o!==ct&&(Lt=o.relatedTarget||o.fromElement)&&(Ai(Lt)||Lt[la]))break e;if((yt||Ze)&&(Ze=et.window===et?et:(Ze=et.ownerDocument)?Ze.defaultView||Ze.parentWindow:window,yt?(Lt=o.relatedTarget||o.toElement,yt=Oe,Lt=Lt?Ai(Lt):null,Lt!==null&&(Yr=Gn(Lt),Lt!==Yr||Lt.tag!==5&&Lt.tag!==6)&&(Lt=null)):(yt=null,Lt=Oe),yt!==Lt)){if(Mt=Je,st="onMouseLeave",Me="onMouseEnter",ve="mouse",(e==="pointerout"||e==="pointerover")&&(Mt=Ir,st="onPointerLeave",Me="onPointerEnter",ve="pointer"),Yr=yt==null?Ze:Ie(yt),Te=Lt==null?Ze:Ie(Lt),Ze=new Mt(st,ve+"leave",yt,o,et),Ze.target=Yr,Ze.relatedTarget=Te,st=null,Ai(et)===Oe&&(Mt=new Mt(Me,ve+"enter",Lt,o,et),Mt.target=Te,Mt.relatedTarget=Yr,st=Mt),Yr=st,yt&&Lt)t:{for(Mt=yt,Me=Lt,ve=0,Te=Mt;Te;Te=Vi(Te))ve++;for(Te=0,st=Me;st;st=Vi(st))Te++;for(;0<ve-Te;)Mt=Vi(Mt),ve--;for(;0<Te-ve;)Me=Vi(Me),Te--;for(;ve--;){if(Mt===Me||Me!==null&&Mt===Me.alternate)break t;Mt=Vi(Mt),Me=Vi(Me)}Mt=null}else Mt=null;yt!==null&&Gl(rt,Ze,yt,Mt,!1),Lt!==null&&Yr!==null&&Gl(rt,Yr,Lt,Mt,!0)}}e:{if(Ze=Oe?Ie(Oe):window,yt=Ze.nodeName&&Ze.nodeName.toLowerCase(),yt==="select"||yt==="input"&&Ze.type==="file")var Dt=ps;else if(Hn(Ze))if(na)Dt=qi;else{Dt=aa;var Bt=ra}else(yt=Ze.nodeName)&&yt.toLowerCase()==="input"&&(Ze.type==="checkbox"||Ze.type==="radio")&&(Dt=Da);if(Dt&&(Dt=Dt(e,Oe))){Cs(rt,Dt,o,et);break e}Bt&&Bt(e,Ze,Oe),e==="focusout"&&(Bt=Ze._wrapperState)&&Bt.controlled&&Ze.type==="number"&&Ye(Ze,"number",Ze.value)}switch(Bt=Oe?Ie(Oe):window,e){case"focusin":(Hn(Bt)||Bt.contentEditable==="true")&&(ts=Bt,ns=Oe,$i=null);break;case"focusout":$i=ns=ts=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,Oo(rt,o,et);break;case"selectionchange":if(ii)break;case"keydown":case"keyup":Oo(rt,o,et)}var zt;if(_a)e:{switch(e){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else Ea?ni(e,o)&&(Vt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Vt="onCompositionStart");Vt&&(Ia&&o.locale!=="ko"&&(Ea||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Ea&&(zt=ti()):(us=et,Qa="value"in us?us.value:us.textContent,Ea=!0)),Bt=$o(Oe,Vt),0<Bt.length&&(Vt=new On(Vt,e,null,o,et),rt.push({event:Vt,listeners:Bt}),zt?Vt.data=zt:(zt=ri(o),zt!==null&&(Vt.data=zt)))),(zt=Za?es(e,o):Ma(e,o))&&(Oe=$o(Oe,"onBeforeInput"),0<Oe.length&&(et=new On("onBeforeInput","beforeinput",null,o,et),rt.push({event:et,listeners:Oe}),et.data=zt))}Uo(rt,n)})}function vo(e,n,o){return{instance:e,listener:n,currentTarget:o}}function $o(e,n){for(var o=n+"Capture",p=[];e!==null;){var b=e,A=b.stateNode;b.tag===5&&A!==null&&(b=A,A=Ha(e,o),A!=null&&p.unshift(vo(e,A,b)),A=Ha(e,n),A!=null&&p.push(vo(e,A,b))),e=e.return}return p}function Vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gl(e,n,o,p,b){for(var A=n._reactName,O=[];o!==null&&o!==p;){var se=o,ge=se.alternate,Oe=se.stateNode;if(ge!==null&&ge===p)break;se.tag===5&&Oe!==null&&(se=Oe,b?(ge=Ha(o,A),ge!=null&&O.unshift(vo(o,ge,se))):b||(ge=Ha(o,A),ge!=null&&O.push(vo(o,ge,se)))),o=o.return}O.length!==0&&e.push({event:n,listeners:O})}var Ac=/\r\n?/g,el=/\u0000|\uFFFD/g;function kl(e){return(typeof e=="string"?e:""+e).replace(Ac,`
`).replace(el,"")}function tl(e,n,o){if(n=kl(n),kl(e)!==n&&o)throw Error(r(425))}function bo(){}var Wo=null,Yi=null;function Al(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cl=typeof setTimeout=="function"?setTimeout:void 0,Jl=typeof clearTimeout=="function"?clearTimeout:void 0,Kl=typeof Promise=="function"?Promise:void 0,Cc=typeof queueMicrotask=="function"?queueMicrotask:typeof Kl<"u"?function(e){return Kl.resolve(null).then(e).catch(Pc)}:Cl;function Pc(e){setTimeout(function(){throw e})}function Pl(e,n){var o=n,p=0;do{var b=o.nextSibling;if(e.removeChild(o),b&&b.nodeType===8)if(o=b.data,o==="/$"){if(p===0){e.removeChild(b),ji(n);return}p--}else o!=="$"&&o!=="$?"&&o!=="$!"||p++;o=b}while(o);ji(n)}function oa(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function as(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var va=Math.random().toString(36).slice(2),_s="__reactFiber$"+va,wo="__reactProps$"+va,la="__reactContainer$"+va,Fa="__reactEvents$"+va,Ra="__reactListeners$"+va,Is="__reactHandles$"+va;function Ai(e){var n=e[_s];if(n)return n;for(var o=e.parentNode;o;){if(n=o[la]||o[_s]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=as(e);e!==null;){if(o=e[_s])return o;e=as(e)}return n}e=o,o=e.parentNode}return null}function jo(e){return e=e[_s]||e[la],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ie(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Ta(e){return e[wo]||null}var Ll=[],oi=-1;function Es(e){return{current:e}}function yn(e){0>oi||(e.current=Ll[oi],Ll[oi]=null,oi--)}function An(e,n){oi++,Ll[oi]=e.current,e.current=n}var Ci={},Er=Es(Ci),ba=Es(!1),Pi=Ci;function li(e,n){var o=e.type.contextTypes;if(!o)return Ci;var p=e.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===n)return p.__reactInternalMemoizedMaskedChildContext;var b={},A;for(A in o)b[A]=n[A];return p&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=b),b}function wa(e){return e=e.childContextTypes,e!=null}function nl(){yn(ba),yn(Er)}function _l(e,n,o){if(Er.current!==Ci)throw Error(r(168));An(Er,n),An(ba,o)}function So(e,n,o){var p=e.stateNode;if(n=n.childContextTypes,typeof p.getChildContext!="function")return o;p=p.getChildContext();for(var b in p)if(!(b in n))throw Error(r(108,me(e)||"Unknown",b));return Fe({},o,p)}function xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Pi=Er.current,An(Er,e),An(ba,ba.current),!0}function No(e,n,o){var p=e.stateNode;if(!p)throw Error(r(169));o?(e=So(e,n,Pi),p.__reactInternalMemoizedMergedChildContext=e,yn(ba),yn(Er),An(Er,e)):yn(ba),An(ba,o)}var ci=null,d=!1,i=!1;function c(e){ci===null?ci=[e]:ci.push(e)}function h(e){d=!0,c(e)}function m(){if(!i&&ci!==null){i=!0;var e=0,n=sn;try{var o=ci;for(sn=1;e<o.length;e++){var p=o[e];do p=p(!0);while(p!==null)}ci=null,d=!1}catch(b){throw ci!==null&&(ci=ci.slice(e+1)),xi(vi,m),b}finally{sn=n,i=!1}}return null}var w=[],S=0,C=null,P=0,I=[],T=0,te=null,ie=1,V="";function de(e,n){w[S++]=P,w[S++]=C,C=e,P=n}function be(e,n,o){I[T++]=ie,I[T++]=V,I[T++]=te,te=e;var p=ie;e=V;var b=32-dn(p)-1;p&=~(1<<b),o+=1;var A=32-dn(n)+b;if(30<A){var O=b-b%5;A=(p&(1<<O)-1).toString(32),p>>=O,b-=O,ie=1<<32-dn(n)+b|o<<b|p,V=A+e}else ie=1<<A|o<<b|p,V=e}function Ue(e){e.return!==null&&(de(e,1),be(e,1,0))}function Pe(e){for(;e===C;)C=w[--S],w[S]=null,P=w[--S],w[S]=null;for(;e===te;)te=I[--T],I[T]=null,V=I[--T],I[T]=null,ie=I[--T],I[T]=null}var $e=null,We=null,Ne=!1,qe=null;function ut(e,n){var o=Mi(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function ft(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,$e=e,We=oa(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,$e=e,We=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=te!==null?{id:ie,overflow:V}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Mi(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,$e=e,We=null,!0):!1;default:return!1}}function Ht(e){return(e.mode&1)!==0&&(e.flags&128)===0}function At(e){if(Ne){var n=We;if(n){var o=n;if(!ft(e,n)){if(Ht(e))throw Error(r(418));n=oa(o.nextSibling);var p=$e;n&&ft(e,n)?ut(p,o):(e.flags=e.flags&-4097|2,Ne=!1,$e=e)}}else{if(Ht(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ne=!1,$e=e}}}function on(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$e=e}function pr(e){if(e!==$e)return!1;if(!Ne)return on(e),Ne=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Al(e.type,e.memoizedProps)),n&&(n=We)){if(Ht(e))throw Xt(),Error(r(418));for(;n;)ut(e,n),n=oa(n.nextSibling)}if(on(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){We=oa(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}We=null}}else We=$e?oa(e.stateNode.nextSibling):null;return!0}function Xt(){for(var e=We;e;)e=oa(e.nextSibling)}function bt(){We=$e=null,Ne=!1}function lt(e){qe===null?qe=[e]:qe.push(e)}var wr=$.ReactCurrentBatchConfig;function qt(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var p=o.stateNode}if(!p)throw Error(r(147,e));var b=p,A=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===A?n.ref:(n=function(O){var se=b.refs;O===null?delete se[A]:se[A]=O},n._stringRef=A,n)}if(typeof e!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,e))}return e}function an(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Yn(e){var n=e._init;return n(e._payload)}function ca(e){function n(Me,ve){if(e){var Te=Me.deletions;Te===null?(Me.deletions=[ve],Me.flags|=16):Te.push(ve)}}function o(Me,ve){if(!e)return null;for(;ve!==null;)n(Me,ve),ve=ve.sibling;return null}function p(Me,ve){for(Me=new Map;ve!==null;)ve.key!==null?Me.set(ve.key,ve):Me.set(ve.index,ve),ve=ve.sibling;return Me}function b(Me,ve){return Me=fl(Me,ve),Me.index=0,Me.sibling=null,Me}function A(Me,ve,Te){return Me.index=Te,e?(Te=Me.alternate,Te!==null?(Te=Te.index,Te<ve?(Me.flags|=2,ve):Te):(Me.flags|=2,ve)):(Me.flags|=1048576,ve)}function O(Me){return e&&Me.alternate===null&&(Me.flags|=2),Me}function se(Me,ve,Te,st){return ve===null||ve.tag!==6?(ve=Pu(Te,Me.mode,st),ve.return=Me,ve):(ve=b(ve,Te),ve.return=Me,ve)}function ge(Me,ve,Te,st){var Dt=Te.type;return Dt===Ee?et(Me,ve,Te.props.children,st,Te.key):ve!==null&&(ve.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Ae&&Yn(Dt)===ve.type)?(st=b(ve,Te.props),st.ref=qt(Me,ve,Te),st.return=Me,st):(st=vd(Te.type,Te.key,Te.props,null,Me.mode,st),st.ref=qt(Me,ve,Te),st.return=Me,st)}function Oe(Me,ve,Te,st){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Te.containerInfo||ve.stateNode.implementation!==Te.implementation?(ve=Lu(Te,Me.mode,st),ve.return=Me,ve):(ve=b(ve,Te.children||[]),ve.return=Me,ve)}function et(Me,ve,Te,st,Dt){return ve===null||ve.tag!==7?(ve=Ol(Te,Me.mode,st,Dt),ve.return=Me,ve):(ve=b(ve,Te),ve.return=Me,ve)}function rt(Me,ve,Te){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=Pu(""+ve,Me.mode,Te),ve.return=Me,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case oe:return Te=vd(ve.type,ve.key,ve.props,null,Me.mode,Te),Te.ref=qt(Me,null,ve),Te.return=Me,Te;case ce:return ve=Lu(ve,Me.mode,Te),ve.return=Me,ve;case Ae:var st=ve._init;return rt(Me,st(ve._payload),Te)}if(gt(ve)||Se(ve))return ve=Ol(ve,Me.mode,Te,null),ve.return=Me,ve;an(Me,ve)}return null}function Ze(Me,ve,Te,st){var Dt=ve!==null?ve.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return Dt!==null?null:se(Me,ve,""+Te,st);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case oe:return Te.key===Dt?ge(Me,ve,Te,st):null;case ce:return Te.key===Dt?Oe(Me,ve,Te,st):null;case Ae:return Dt=Te._init,Ze(Me,ve,Dt(Te._payload),st)}if(gt(Te)||Se(Te))return Dt!==null?null:et(Me,ve,Te,st,null);an(Me,Te)}return null}function yt(Me,ve,Te,st,Dt){if(typeof st=="string"&&st!==""||typeof st=="number")return Me=Me.get(Te)||null,se(ve,Me,""+st,Dt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case oe:return Me=Me.get(st.key===null?Te:st.key)||null,ge(ve,Me,st,Dt);case ce:return Me=Me.get(st.key===null?Te:st.key)||null,Oe(ve,Me,st,Dt);case Ae:var Bt=st._init;return yt(Me,ve,Te,Bt(st._payload),Dt)}if(gt(st)||Se(st))return Me=Me.get(Te)||null,et(ve,Me,st,Dt,null);an(ve,st)}return null}function Lt(Me,ve,Te,st){for(var Dt=null,Bt=null,zt=ve,Vt=ve=0,qa=null;zt!==null&&Vt<Te.length;Vt++){zt.index>Vt?(qa=zt,zt=null):qa=zt.sibling;var Cn=Ze(Me,zt,Te[Vt],st);if(Cn===null){zt===null&&(zt=qa);break}e&&zt&&Cn.alternate===null&&n(Me,zt),ve=A(Cn,ve,Vt),Bt===null?Dt=Cn:Bt.sibling=Cn,Bt=Cn,zt=qa}if(Vt===Te.length)return o(Me,zt),Ne&&de(Me,Vt),Dt;if(zt===null){for(;Vt<Te.length;Vt++)zt=rt(Me,Te[Vt],st),zt!==null&&(ve=A(zt,ve,Vt),Bt===null?Dt=zt:Bt.sibling=zt,Bt=zt);return Ne&&de(Me,Vt),Dt}for(zt=p(Me,zt);Vt<Te.length;Vt++)qa=yt(zt,Me,Vt,Te[Vt],st),qa!==null&&(e&&qa.alternate!==null&&zt.delete(qa.key===null?Vt:qa.key),ve=A(qa,ve,Vt),Bt===null?Dt=qa:Bt.sibling=qa,Bt=qa);return e&&zt.forEach(function(hl){return n(Me,hl)}),Ne&&de(Me,Vt),Dt}function Mt(Me,ve,Te,st){var Dt=Se(Te);if(typeof Dt!="function")throw Error(r(150));if(Te=Dt.call(Te),Te==null)throw Error(r(151));for(var Bt=Dt=null,zt=ve,Vt=ve=0,qa=null,Cn=Te.next();zt!==null&&!Cn.done;Vt++,Cn=Te.next()){zt.index>Vt?(qa=zt,zt=null):qa=zt.sibling;var hl=Ze(Me,zt,Cn.value,st);if(hl===null){zt===null&&(zt=qa);break}e&&zt&&hl.alternate===null&&n(Me,zt),ve=A(hl,ve,Vt),Bt===null?Dt=hl:Bt.sibling=hl,Bt=hl,zt=qa}if(Cn.done)return o(Me,zt),Ne&&de(Me,Vt),Dt;if(zt===null){for(;!Cn.done;Vt++,Cn=Te.next())Cn=rt(Me,Cn.value,st),Cn!==null&&(ve=A(Cn,ve,Vt),Bt===null?Dt=Cn:Bt.sibling=Cn,Bt=Cn);return Ne&&de(Me,Vt),Dt}for(zt=p(Me,zt);!Cn.done;Vt++,Cn=Te.next())Cn=yt(zt,Me,Vt,Cn.value,st),Cn!==null&&(e&&Cn.alternate!==null&&zt.delete(Cn.key===null?Vt:Cn.key),ve=A(Cn,ve,Vt),Bt===null?Dt=Cn:Bt.sibling=Cn,Bt=Cn);return e&&zt.forEach(function(lg){return n(Me,lg)}),Ne&&de(Me,Vt),Dt}function Yr(Me,ve,Te,st){if(typeof Te=="object"&&Te!==null&&Te.type===Ee&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case oe:e:{for(var Dt=Te.key,Bt=ve;Bt!==null;){if(Bt.key===Dt){if(Dt=Te.type,Dt===Ee){if(Bt.tag===7){o(Me,Bt.sibling),ve=b(Bt,Te.props.children),ve.return=Me,Me=ve;break e}}else if(Bt.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Ae&&Yn(Dt)===Bt.type){o(Me,Bt.sibling),ve=b(Bt,Te.props),ve.ref=qt(Me,Bt,Te),ve.return=Me,Me=ve;break e}o(Me,Bt);break}else n(Me,Bt);Bt=Bt.sibling}Te.type===Ee?(ve=Ol(Te.props.children,Me.mode,st,Te.key),ve.return=Me,Me=ve):(st=vd(Te.type,Te.key,Te.props,null,Me.mode,st),st.ref=qt(Me,ve,Te),st.return=Me,Me=st)}return O(Me);case ce:e:{for(Bt=Te.key;ve!==null;){if(ve.key===Bt)if(ve.tag===4&&ve.stateNode.containerInfo===Te.containerInfo&&ve.stateNode.implementation===Te.implementation){o(Me,ve.sibling),ve=b(ve,Te.children||[]),ve.return=Me,Me=ve;break e}else{o(Me,ve);break}else n(Me,ve);ve=ve.sibling}ve=Lu(Te,Me.mode,st),ve.return=Me,Me=ve}return O(Me);case Ae:return Bt=Te._init,Yr(Me,ve,Bt(Te._payload),st)}if(gt(Te))return Lt(Me,ve,Te,st);if(Se(Te))return Mt(Me,ve,Te,st);an(Me,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,ve!==null&&ve.tag===6?(o(Me,ve.sibling),ve=b(ve,Te),ve.return=Me,Me=ve):(o(Me,ve),ve=Pu(Te,Me.mode,st),ve.return=Me,Me=ve),O(Me)):o(Me,ve)}return Yr}var Mr=ca(!0),or=ca(!1),Hr=Es(null),da=null,tr=null,mn=null;function vn(){mn=tr=da=null}function nr(e){var n=Hr.current;yn(Hr),e._currentValue=n}function bn(e,n,o){for(;e!==null;){var p=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,p!==null&&(p.childLanes|=n)):p!==null&&(p.childLanes&n)!==n&&(p.childLanes|=n),e===o)break;e=e.return}}function mr(e,n){da=e,mn=tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Ys=!0),e.firstContext=null)}function gr(e){var n=e._currentValue;if(mn!==e)if(e={context:e,memoizedValue:n,next:null},tr===null){if(da===null)throw Error(r(308));tr=e,da.dependencies={lanes:0,firstContext:e}}else tr=tr.next=e;return n}var Bn=null;function Oa(e){Bn===null?Bn=[e]:Bn.push(e)}function Rn(e,n,o,p){var b=n.interleaved;return b===null?(o.next=o,Oa(n)):(o.next=b.next,b.next=o),n.interleaved=o,zn(e,p)}function zn(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Dr=!1;function ja(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ys(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Sr(e,n,o){var p=e.updateQueue;if(p===null)return null;if(p=p.shared,(wn&2)!==0){var b=p.pending;return b===null?n.next=n:(n.next=b.next,b.next=n),p.pending=n,zn(e,o)}return b=p.interleaved,b===null?(n.next=n,Oa(p)):(n.next=b.next,b.next=n),p.interleaved=n,zn(e,o)}function Ba(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var p=n.lanes;p&=e.pendingLanes,o|=p,n.lanes=o,ds(e,o)}}function Un(e,n){var o=e.updateQueue,p=e.alternate;if(p!==null&&(p=p.updateQueue,o===p)){var b=null,A=null;if(o=o.firstBaseUpdate,o!==null){do{var O={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};A===null?b=A=O:A=A.next=O,o=o.next}while(o!==null);A===null?b=A=n:A=A.next=n}else b=A=n;o={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:A,shared:p.shared,effects:p.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function za(e,n,o,p){var b=e.updateQueue;Dr=!1;var A=b.firstBaseUpdate,O=b.lastBaseUpdate,se=b.shared.pending;if(se!==null){b.shared.pending=null;var ge=se,Oe=ge.next;ge.next=null,O===null?A=Oe:O.next=Oe,O=ge;var et=e.alternate;et!==null&&(et=et.updateQueue,se=et.lastBaseUpdate,se!==O&&(se===null?et.firstBaseUpdate=Oe:se.next=Oe,et.lastBaseUpdate=ge))}if(A!==null){var rt=b.baseState;O=0,et=Oe=ge=null,se=A;do{var Ze=se.lane,yt=se.eventTime;if((p&Ze)===Ze){et!==null&&(et=et.next={eventTime:yt,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var Lt=e,Mt=se;switch(Ze=n,yt=o,Mt.tag){case 1:if(Lt=Mt.payload,typeof Lt=="function"){rt=Lt.call(yt,rt,Ze);break e}rt=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Mt.payload,Ze=typeof Lt=="function"?Lt.call(yt,rt,Ze):Lt,Ze==null)break e;rt=Fe({},rt,Ze);break e;case 2:Dr=!0}}se.callback!==null&&se.lane!==0&&(e.flags|=64,Ze=b.effects,Ze===null?b.effects=[se]:Ze.push(se))}else yt={eventTime:yt,lane:Ze,tag:se.tag,payload:se.payload,callback:se.callback,next:null},et===null?(Oe=et=yt,ge=rt):et=et.next=yt,O|=Ze;if(se=se.next,se===null){if(se=b.shared.pending,se===null)break;Ze=se,se=Ze.next,Ze.next=null,b.lastBaseUpdate=Ze,b.shared.pending=null}}while(!0);if(et===null&&(ge=rt),b.baseState=ge,b.firstBaseUpdate=Oe,b.lastBaseUpdate=et,n=b.shared.interleaved,n!==null){b=n;do O|=b.lane,b=b.next;while(b!==n)}else A===null&&(b.shared.lanes=0);Dl|=O,e.lanes=O,e.memoizedState=rt}}function Vs(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var p=e[n],b=p.callback;if(b!==null){if(p.callback=null,p=o,typeof b!="function")throw Error(r(191,b));b.call(p)}}}var di={},ua=Es(di),Nr=Es(di),ko=Es(di);function Gi(e){if(e===di)throw Error(r(174));return e}function rl(e,n){switch(An(ko,n),An(Nr,e),An(ua,di),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ft(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ft(n,e)}yn(ua),An(ua,n)}function Li(){yn(ua),yn(Nr),yn(ko)}function ed(e){Gi(ko.current);var n=Gi(ua.current),o=Ft(n,e.type);n!==o&&(An(Nr,e),An(ua,o))}function Lc(e){Nr.current===e&&(yn(ua),yn(Nr))}var Xn=Es(0);function ui(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var _c=[];function Ic(){for(var e=0;e<_c.length;e++)_c[e]._workInProgressVersionPrimary=null;_c.length=0}var Ql=$.ReactCurrentDispatcher,Xl=$.ReactCurrentBatchConfig,_i=0,rr=null,Fr=null,kr=null,al=!1,Ji=!1,sl=0,eu=0;function Vr(){throw Error(r(321))}function Zl(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Nn(e[o],n[o]))return!1;return!0}function Il(e,n,o,p,b,A){if(_i=A,rr=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ql.current=e===null||e.memoizedState===null?D0:F0,e=o(p,b),Ji){A=0;do{if(Ji=!1,sl=0,25<=A)throw Error(r(301));A+=1,kr=Fr=null,n.updateQueue=null,Ql.current=R0,e=o(p,b)}while(Ji)}if(Ql.current=sd,n=Fr!==null&&Fr.next!==null,_i=0,kr=Fr=rr=null,al=!1,n)throw Error(r(300));return e}function Ii(){var e=sl!==0;return sl=0,e}function fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?rr.memoizedState=kr=e:kr=kr.next=e,kr}function Ms(){if(Fr===null){var e=rr.alternate;e=e!==null?e.memoizedState:null}else e=Fr.next;var n=kr===null?rr.memoizedState:kr.next;if(n!==null)kr=n,Fr=e;else{if(e===null)throw Error(r(310));Fr=e,e={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},kr===null?rr.memoizedState=kr=e:kr=kr.next=e}return kr}function El(e,n){return typeof n=="function"?n(e):n}function ec(e){var n=Ms(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var p=Fr,b=p.baseQueue,A=o.pending;if(A!==null){if(b!==null){var O=b.next;b.next=A.next,A.next=O}p.baseQueue=b=A,o.pending=null}if(b!==null){A=b.next,p=p.baseState;var se=O=null,ge=null,Oe=A;do{var et=Oe.lane;if((_i&et)===et)ge!==null&&(ge=ge.next={lane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),p=Oe.hasEagerState?Oe.eagerState:e(p,Oe.action);else{var rt={lane:et,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null};ge===null?(se=ge=rt,O=p):ge=ge.next=rt,rr.lanes|=et,Dl|=et}Oe=Oe.next}while(Oe!==null&&Oe!==A);ge===null?O=p:ge.next=se,Nn(p,n.memoizedState)||(Ys=!0),n.memoizedState=p,n.baseState=O,n.baseQueue=ge,o.lastRenderedState=p}if(e=o.interleaved,e!==null){b=e;do A=b.lane,rr.lanes|=A,Dl|=A,b=b.next;while(b!==e)}else b===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Ao(e){var n=Ms(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var p=o.dispatch,b=o.pending,A=n.memoizedState;if(b!==null){o.pending=null;var O=b=b.next;do A=e(A,O.action),O=O.next;while(O!==b);Nn(A,n.memoizedState)||(Ys=!0),n.memoizedState=A,n.baseQueue===null&&(n.baseState=A),o.lastRenderedState=A}return[A,p]}function td(){}function Ec(e,n){var o=rr,p=Ms(),b=n(),A=!Nn(p.memoizedState,b);if(A&&(p.memoizedState=b,Ys=!0),p=p.queue,rc(rd.bind(null,o,p,e),[e]),p.getSnapshot!==n||A||kr!==null&&kr.memoizedState.tag&1){if(o.flags|=2048,Ds(9,Mc.bind(null,o,p,b,n),void 0,null),Ua===null)throw Error(r(349));(_i&30)!==0||nd(o,n,b)}return b}function nd(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=rr.updateQueue,n===null?(n={lastEffect:null,stores:null},rr.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Mc(e,n,o,p){n.value=o,n.getSnapshot=p,il(n)&&tc(e)}function rd(e,n,o){return o(function(){il(n)&&tc(e)})}function il(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Nn(e,o)}catch{return!0}}function tc(e){var n=zn(e,1);n!==null&&eo(n,e,1,-1)}function Ml(e){var n=fi();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:e},n.queue=e,e=e.dispatch=M0.bind(null,rr,e),[n.memoizedState,e]}function Ds(e,n,o,p){return e={tag:e,create:n,destroy:o,deps:p,next:null},n=rr.updateQueue,n===null?(n={lastEffect:null,stores:null},rr.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(p=o.next,o.next=e,e.next=p,n.lastEffect=e)),e}function Ki(){return Ms().memoizedState}function hi(e,n,o,p){var b=fi();rr.flags|=e,b.memoizedState=Ds(1|n,o,void 0,p===void 0?null:p)}function Ho(e,n,o,p){var b=Ms();p=p===void 0?null:p;var A=void 0;if(Fr!==null){var O=Fr.memoizedState;if(A=O.destroy,p!==null&&Zl(p,O.deps)){b.memoizedState=Ds(n,o,A,p);return}}rr.flags|=e,b.memoizedState=Ds(1|n,o,A,p)}function nc(e,n){return hi(8390656,8,e,n)}function rc(e,n){return Ho(2048,8,e,n)}function ad(e,n){return Ho(4,2,e,n)}function ac(e,n){return Ho(4,4,e,n)}function sc(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tf(e,n,o){return o=o!=null?o.concat([e]):null,Ho(4,4,sc.bind(null,n,e),o)}function tu(){}function Of(e,n){var o=Ms();n=n===void 0?null:n;var p=o.memoizedState;return p!==null&&n!==null&&Zl(n,p[1])?p[0]:(o.memoizedState=[e,n],e)}function Bf(e,n){var o=Ms();n=n===void 0?null:n;var p=o.memoizedState;return p!==null&&n!==null&&Zl(n,p[1])?p[0]:(e=e(),o.memoizedState=[e,n],e)}function zf(e,n,o){return(_i&21)===0?(e.baseState&&(e.baseState=!1,Ys=!0),e.memoizedState=o):(Nn(o,n)||(o=Mo(),rr.lanes|=o,Dl|=o,e.baseState=!0),n)}function I0(e,n){var o=sn;sn=o!==0&&4>o?o:4,e(!0);var p=Xl.transition;Xl.transition={};try{e(!1),n()}finally{sn=o,Xl.transition=p}}function Uf(){return Ms().memoizedState}function E0(e,n,o){var p=dl(e);if(o={lane:p,action:o,hasEagerState:!1,eagerState:null,next:null},qf(e))$f(n,o);else if(o=Rn(e,n,o,p),o!==null){var b=Rs();eo(o,e,p,b),Wf(o,n,p)}}function M0(e,n,o){var p=dl(e),b={lane:p,action:o,hasEagerState:!1,eagerState:null,next:null};if(qf(e))$f(n,b);else{var A=e.alternate;if(e.lanes===0&&(A===null||A.lanes===0)&&(A=n.lastRenderedReducer,A!==null))try{var O=n.lastRenderedState,se=A(O,o);if(b.hasEagerState=!0,b.eagerState=se,Nn(se,O)){var ge=n.interleaved;ge===null?(b.next=b,Oa(n)):(b.next=ge.next,ge.next=b),n.interleaved=b;return}}catch{}finally{}o=Rn(e,n,b,p),o!==null&&(b=Rs(),eo(o,e,p,b),Wf(o,n,p))}}function qf(e){var n=e.alternate;return e===rr||n!==null&&n===rr}function $f(e,n){Ji=al=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Wf(e,n,o){if((o&4194240)!==0){var p=n.lanes;p&=e.pendingLanes,o|=p,n.lanes=o,ds(e,o)}}var sd={readContext:gr,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},D0={readContext:gr,useCallback:function(e,n){return fi().memoizedState=[e,n===void 0?null:n],e},useContext:gr,useEffect:nc,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,hi(4194308,4,sc.bind(null,n,e),o)},useLayoutEffect:function(e,n){return hi(4194308,4,e,n)},useInsertionEffect:function(e,n){return hi(4,2,e,n)},useMemo:function(e,n){var o=fi();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var p=fi();return n=o!==void 0?o(n):n,p.memoizedState=p.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},p.queue=e,e=e.dispatch=E0.bind(null,rr,e),[p.memoizedState,e]},useRef:function(e){var n=fi();return e={current:e},n.memoizedState=e},useState:Ml,useDebugValue:tu,useDeferredValue:function(e){return fi().memoizedState=e},useTransition:function(){var e=Ml(!1),n=e[0];return e=I0.bind(null,e[1]),fi().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var p=rr,b=fi();if(Ne){if(o===void 0)throw Error(r(407));o=o()}else{if(o=n(),Ua===null)throw Error(r(349));(_i&30)!==0||nd(p,n,o)}b.memoizedState=o;var A={value:o,getSnapshot:n};return b.queue=A,nc(rd.bind(null,p,A,e),[e]),p.flags|=2048,Ds(9,Mc.bind(null,p,A,o,n),void 0,null),o},useId:function(){var e=fi(),n=Ua.identifierPrefix;if(Ne){var o=V,p=ie;o=(p&~(1<<32-dn(p)-1)).toString(32)+o,n=":"+n+"R"+o,o=sl++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=eu++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},F0={readContext:gr,useCallback:Of,useContext:gr,useEffect:rc,useImperativeHandle:Tf,useInsertionEffect:ad,useLayoutEffect:ac,useMemo:Bf,useReducer:ec,useRef:Ki,useState:function(){return ec(El)},useDebugValue:tu,useDeferredValue:function(e){var n=Ms();return zf(n,Fr.memoizedState,e)},useTransition:function(){var e=ec(El)[0],n=Ms().memoizedState;return[e,n]},useMutableSource:td,useSyncExternalStore:Ec,useId:Uf,unstable_isNewReconciler:!1},R0={readContext:gr,useCallback:Of,useContext:gr,useEffect:rc,useImperativeHandle:Tf,useInsertionEffect:ad,useLayoutEffect:ac,useMemo:Bf,useReducer:Ao,useRef:Ki,useState:function(){return Ao(El)},useDebugValue:tu,useDeferredValue:function(e){var n=Ms();return Fr===null?n.memoizedState=e:zf(n,Fr.memoizedState,e)},useTransition:function(){var e=Ao(El)[0],n=Ms().memoizedState;return[e,n]},useMutableSource:td,useSyncExternalStore:Ec,useId:Uf,unstable_isNewReconciler:!1};function Qi(e,n){if(e&&e.defaultProps){n=Fe({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function nu(e,n,o,p){n=e.memoizedState,o=o(p,n),o=o==null?n:Fe({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var id={isMounted:function(e){return(e=e._reactInternals)?Gn(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var p=Rs(),b=dl(e),A=jr(p,b);A.payload=n,o!=null&&(A.callback=o),n=Sr(e,A,b),n!==null&&(eo(n,e,b,p),Ba(n,e,b))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var p=Rs(),b=dl(e),A=jr(p,b);A.tag=1,A.payload=n,o!=null&&(A.callback=o),n=Sr(e,A,b),n!==null&&(eo(n,e,b,p),Ba(n,e,b))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Rs(),p=dl(e),b=jr(o,p);b.tag=2,n!=null&&(b.callback=n),n=Sr(e,b,p),n!==null&&(eo(n,e,p,o),Ba(n,e,p))}};function Hf(e,n,o,p,b,A,O){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(p,A,O):n.prototype&&n.prototype.isPureReactComponent?!Wr(o,p)||!Wr(b,A):!0}function Vf(e,n,o){var p=!1,b=Ci,A=n.contextType;return typeof A=="object"&&A!==null?A=gr(A):(b=wa(n)?Pi:Er.current,p=n.contextTypes,A=(p=p!=null)?li(e,b):Ci),n=new n(o,A),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=id,e.stateNode=n,n._reactInternals=e,p&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=b,e.__reactInternalMemoizedMaskedChildContext=A),n}function Yf(e,n,o,p){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,p),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,p),n.state!==e&&id.enqueueReplaceState(n,n.state,null)}function ru(e,n,o,p){var b=e.stateNode;b.props=o,b.state=e.memoizedState,b.refs={},ja(e);var A=n.contextType;typeof A=="object"&&A!==null?b.context=gr(A):(A=wa(n)?Pi:Er.current,b.context=li(e,A)),b.state=e.memoizedState,A=n.getDerivedStateFromProps,typeof A=="function"&&(nu(e,n,A,o),b.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(n=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),n!==b.state&&id.enqueueReplaceState(b,b.state,null),za(e,o,b,p),b.state=e.memoizedState),typeof b.componentDidMount=="function"&&(e.flags|=4194308)}function ic(e,n){try{var o="",p=n;do o+=re(p),p=p.return;while(p);var b=o}catch(A){b=`
Error generating stack: `+A.message+`
`+A.stack}return{value:e,source:n,stack:b,digest:null}}function au(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function su(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var T0=typeof WeakMap=="function"?WeakMap:Map;function Gf(e,n,o){o=jr(-1,o),o.tag=3,o.payload={element:null};var p=n.value;return o.callback=function(){hd||(hd=!0,bu=p),su(e,n)},o}function Jf(e,n,o){o=jr(-1,o),o.tag=3;var p=e.type.getDerivedStateFromError;if(typeof p=="function"){var b=n.value;o.payload=function(){return p(b)},o.callback=function(){su(e,n)}}var A=e.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(o.callback=function(){su(e,n),typeof p!="function"&&(ll===null?ll=new Set([this]):ll.add(this));var O=n.stack;this.componentDidCatch(n.value,{componentStack:O!==null?O:""})}),o}function Kf(e,n,o){var p=e.pingCache;if(p===null){p=e.pingCache=new T0;var b=new Set;p.set(n,b)}else b=p.get(n),b===void 0&&(b=new Set,p.set(n,b));b.has(o)||(b.add(o),e=Q0.bind(null,e,n,o),n.then(e,e))}function Qf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Xf(e,n,o,p,b){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=jr(-1,1),n.tag=2,Sr(o,n,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=b,e)}var O0=$.ReactCurrentOwner,Ys=!1;function Fs(e,n,o,p){n.child=e===null?or(n,null,o,p):Mr(n,e.child,o,p)}function Zf(e,n,o,p,b){o=o.render;var A=n.ref;return mr(n,b),p=Il(e,n,o,p,A,b),o=Ii(),e!==null&&!Ys?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~b,Vo(e,n,b)):(Ne&&o&&Ue(n),n.flags|=1,Fs(e,n,p,b),n.child)}function eh(e,n,o,p,b){if(e===null){var A=o.type;return typeof A=="function"&&!Cu(A)&&A.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=A,th(e,n,A,p,b)):(e=vd(o.type,null,p,n,n.mode,b),e.ref=n.ref,e.return=n,n.child=e)}if(A=e.child,(e.lanes&b)===0){var O=A.memoizedProps;if(o=o.compare,o=o!==null?o:Wr,o(O,p)&&e.ref===n.ref)return Vo(e,n,b)}return n.flags|=1,e=fl(A,p),e.ref=n.ref,e.return=n,n.child=e}function th(e,n,o,p,b){if(e!==null){var A=e.memoizedProps;if(Wr(A,p)&&e.ref===n.ref)if(Ys=!1,n.pendingProps=p=A,(e.lanes&b)!==0)(e.flags&131072)!==0&&(Ys=!0);else return n.lanes=e.lanes,Vo(e,n,b)}return iu(e,n,o,p,b)}function nh(e,n,o){var p=n.pendingProps,b=p.children,A=e!==null?e.memoizedState:null;if(p.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},An(lc,pi),pi|=o;else{if((o&1073741824)===0)return e=A!==null?A.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,An(lc,pi),pi|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=A!==null?A.baseLanes:o,An(lc,pi),pi|=p}else A!==null?(p=A.baseLanes|o,n.memoizedState=null):p=o,An(lc,pi),pi|=p;return Fs(e,n,b,o),n.child}function rh(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function iu(e,n,o,p,b){var A=wa(o)?Pi:Er.current;return A=li(n,A),mr(n,b),o=Il(e,n,o,p,A,b),p=Ii(),e!==null&&!Ys?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~b,Vo(e,n,b)):(Ne&&p&&Ue(n),n.flags|=1,Fs(e,n,o,b),n.child)}function ah(e,n,o,p,b){if(wa(o)){var A=!0;xs(n)}else A=!1;if(mr(n,b),n.stateNode===null)ld(e,n),Vf(n,o,p),ru(n,o,p,b),p=!0;else if(e===null){var O=n.stateNode,se=n.memoizedProps;O.props=se;var ge=O.context,Oe=o.contextType;typeof Oe=="object"&&Oe!==null?Oe=gr(Oe):(Oe=wa(o)?Pi:Er.current,Oe=li(n,Oe));var et=o.getDerivedStateFromProps,rt=typeof et=="function"||typeof O.getSnapshotBeforeUpdate=="function";rt||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(se!==p||ge!==Oe)&&Yf(n,O,p,Oe),Dr=!1;var Ze=n.memoizedState;O.state=Ze,za(n,p,O,b),ge=n.memoizedState,se!==p||Ze!==ge||ba.current||Dr?(typeof et=="function"&&(nu(n,o,et,p),ge=n.memoizedState),(se=Dr||Hf(n,o,se,p,Ze,ge,Oe))?(rt||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(n.flags|=4194308)):(typeof O.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=p,n.memoizedState=ge),O.props=p,O.state=ge,O.context=Oe,p=se):(typeof O.componentDidMount=="function"&&(n.flags|=4194308),p=!1)}else{O=n.stateNode,ys(e,n),se=n.memoizedProps,Oe=n.type===n.elementType?se:Qi(n.type,se),O.props=Oe,rt=n.pendingProps,Ze=O.context,ge=o.contextType,typeof ge=="object"&&ge!==null?ge=gr(ge):(ge=wa(o)?Pi:Er.current,ge=li(n,ge));var yt=o.getDerivedStateFromProps;(et=typeof yt=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(se!==rt||Ze!==ge)&&Yf(n,O,p,ge),Dr=!1,Ze=n.memoizedState,O.state=Ze,za(n,p,O,b);var Lt=n.memoizedState;se!==rt||Ze!==Lt||ba.current||Dr?(typeof yt=="function"&&(nu(n,o,yt,p),Lt=n.memoizedState),(Oe=Dr||Hf(n,o,Oe,p,Ze,Lt,ge)||!1)?(et||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(p,Lt,ge),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(p,Lt,ge)),typeof O.componentDidUpdate=="function"&&(n.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof O.componentDidUpdate!="function"||se===e.memoizedProps&&Ze===e.memoizedState||(n.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||se===e.memoizedProps&&Ze===e.memoizedState||(n.flags|=1024),n.memoizedProps=p,n.memoizedState=Lt),O.props=p,O.state=Lt,O.context=ge,p=Oe):(typeof O.componentDidUpdate!="function"||se===e.memoizedProps&&Ze===e.memoizedState||(n.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||se===e.memoizedProps&&Ze===e.memoizedState||(n.flags|=1024),p=!1)}return ou(e,n,o,p,A,b)}function ou(e,n,o,p,b,A){rh(e,n);var O=(n.flags&128)!==0;if(!p&&!O)return b&&No(n,o,!1),Vo(e,n,A);p=n.stateNode,O0.current=n;var se=O&&typeof o.getDerivedStateFromError!="function"?null:p.render();return n.flags|=1,e!==null&&O?(n.child=Mr(n,e.child,null,A),n.child=Mr(n,null,se,A)):Fs(e,n,se,A),n.memoizedState=p.state,b&&No(n,o,!0),n.child}function sh(e){var n=e.stateNode;n.pendingContext?_l(e,n.pendingContext,n.pendingContext!==n.context):n.context&&_l(e,n.context,!1),rl(e,n.containerInfo)}function ih(e,n,o,p,b){return bt(),lt(b),n.flags|=256,Fs(e,n,o,p),n.child}var lu={dehydrated:null,treeContext:null,retryLane:0};function cu(e){return{baseLanes:e,cachePool:null,transitions:null}}function oh(e,n,o){var p=n.pendingProps,b=Xn.current,A=!1,O=(n.flags&128)!==0,se;if((se=O)||(se=e!==null&&e.memoizedState===null?!1:(b&2)!==0),se?(A=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(b|=1),An(Xn,b&1),e===null)return At(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(O=p.children,e=p.fallback,A?(p=n.mode,A=n.child,O={mode:"hidden",children:O},(p&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=O):A=bd(O,p,0,null),e=Ol(e,p,o,null),A.return=n,e.return=n,A.sibling=e,n.child=A,n.child.memoizedState=cu(o),n.memoizedState=lu,e):du(n,O));if(b=e.memoizedState,b!==null&&(se=b.dehydrated,se!==null))return B0(e,n,O,p,se,b,o);if(A){A=p.fallback,O=n.mode,b=e.child,se=b.sibling;var ge={mode:"hidden",children:p.children};return(O&1)===0&&n.child!==b?(p=n.child,p.childLanes=0,p.pendingProps=ge,n.deletions=null):(p=fl(b,ge),p.subtreeFlags=b.subtreeFlags&14680064),se!==null?A=fl(se,A):(A=Ol(A,O,o,null),A.flags|=2),A.return=n,p.return=n,p.sibling=A,n.child=p,p=A,A=n.child,O=e.child.memoizedState,O=O===null?cu(o):{baseLanes:O.baseLanes|o,cachePool:null,transitions:O.transitions},A.memoizedState=O,A.childLanes=e.childLanes&~o,n.memoizedState=lu,p}return A=e.child,e=A.sibling,p=fl(A,{mode:"visible",children:p.children}),(n.mode&1)===0&&(p.lanes=o),p.return=n,p.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=p,n.memoizedState=null,p}function du(e,n){return n=bd({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function od(e,n,o,p){return p!==null&&lt(p),Mr(n,e.child,null,o),e=du(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function B0(e,n,o,p,b,A,O){if(o)return n.flags&256?(n.flags&=-257,p=au(Error(r(422))),od(e,n,O,p)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(A=p.fallback,b=n.mode,p=bd({mode:"visible",children:p.children},b,0,null),A=Ol(A,b,O,null),A.flags|=2,p.return=n,A.return=n,p.sibling=A,n.child=p,(n.mode&1)!==0&&Mr(n,e.child,null,O),n.child.memoizedState=cu(O),n.memoizedState=lu,A);if((n.mode&1)===0)return od(e,n,O,null);if(b.data==="$!"){if(p=b.nextSibling&&b.nextSibling.dataset,p)var se=p.dgst;return p=se,A=Error(r(419)),p=au(A,p,void 0),od(e,n,O,p)}if(se=(O&e.childLanes)!==0,Ys||se){if(p=Ua,p!==null){switch(O&-O){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(p.suspendedLanes|O))!==0?0:b,b!==0&&b!==A.retryLane&&(A.retryLane=b,zn(e,b),eo(p,e,b,-1))}return Au(),p=au(Error(r(421))),od(e,n,O,p)}return b.data==="$?"?(n.flags|=128,n.child=e.child,n=X0.bind(null,e),b._reactRetry=n,null):(e=A.treeContext,We=oa(b.nextSibling),$e=n,Ne=!0,qe=null,e!==null&&(I[T++]=ie,I[T++]=V,I[T++]=te,ie=e.id,V=e.overflow,te=n),n=du(n,p.children),n.flags|=4096,n)}function lh(e,n,o){e.lanes|=n;var p=e.alternate;p!==null&&(p.lanes|=n),bn(e.return,n,o)}function uu(e,n,o,p,b){var A=e.memoizedState;A===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:p,tail:o,tailMode:b}:(A.isBackwards=n,A.rendering=null,A.renderingStartTime=0,A.last=p,A.tail=o,A.tailMode=b)}function ch(e,n,o){var p=n.pendingProps,b=p.revealOrder,A=p.tail;if(Fs(e,n,p.children,o),p=Xn.current,(p&2)!==0)p=p&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lh(e,o,n);else if(e.tag===19)lh(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}p&=1}if(An(Xn,p),(n.mode&1)===0)n.memoizedState=null;else switch(b){case"forwards":for(o=n.child,b=null;o!==null;)e=o.alternate,e!==null&&ui(e)===null&&(b=o),o=o.sibling;o=b,o===null?(b=n.child,n.child=null):(b=o.sibling,o.sibling=null),uu(n,!1,b,o,A);break;case"backwards":for(o=null,b=n.child,n.child=null;b!==null;){if(e=b.alternate,e!==null&&ui(e)===null){n.child=b;break}e=b.sibling,b.sibling=o,o=b,b=e}uu(n,!0,o,null,A);break;case"together":uu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ld(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Vo(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Dl|=n.lanes,(o&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,o=fl(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=fl(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function z0(e,n,o){switch(n.tag){case 3:sh(n),bt();break;case 5:ed(n);break;case 1:wa(n.type)&&xs(n);break;case 4:rl(n,n.stateNode.containerInfo);break;case 10:var p=n.type._context,b=n.memoizedProps.value;An(Hr,p._currentValue),p._currentValue=b;break;case 13:if(p=n.memoizedState,p!==null)return p.dehydrated!==null?(An(Xn,Xn.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?oh(e,n,o):(An(Xn,Xn.current&1),e=Vo(e,n,o),e!==null?e.sibling:null);An(Xn,Xn.current&1);break;case 19:if(p=(o&n.childLanes)!==0,(e.flags&128)!==0){if(p)return ch(e,n,o);n.flags|=128}if(b=n.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),An(Xn,Xn.current),p)break;return null;case 22:case 23:return n.lanes=0,nh(e,n,o)}return Vo(e,n,o)}var dh,fu,uh,fh;dh=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},fu=function(){},uh=function(e,n,o,p){var b=e.memoizedProps;if(b!==p){e=n.stateNode,Gi(ua.current);var A=null;switch(o){case"input":b=it(e,b),p=it(e,p),A=[];break;case"select":b=Fe({},b,{value:void 0}),p=Fe({},p,{value:void 0}),A=[];break;case"textarea":b=pt(e,b),p=pt(e,p),A=[];break;default:typeof b.onClick!="function"&&typeof p.onClick=="function"&&(e.onclick=bo)}at(o,p);var O;o=null;for(Oe in b)if(!p.hasOwnProperty(Oe)&&b.hasOwnProperty(Oe)&&b[Oe]!=null)if(Oe==="style"){var se=b[Oe];for(O in se)se.hasOwnProperty(O)&&(o||(o={}),o[O]="")}else Oe!=="dangerouslySetInnerHTML"&&Oe!=="children"&&Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&Oe!=="autoFocus"&&(f.hasOwnProperty(Oe)?A||(A=[]):(A=A||[]).push(Oe,null));for(Oe in p){var ge=p[Oe];if(se=b?.[Oe],p.hasOwnProperty(Oe)&&ge!==se&&(ge!=null||se!=null))if(Oe==="style")if(se){for(O in se)!se.hasOwnProperty(O)||ge&&ge.hasOwnProperty(O)||(o||(o={}),o[O]="");for(O in ge)ge.hasOwnProperty(O)&&se[O]!==ge[O]&&(o||(o={}),o[O]=ge[O])}else o||(A||(A=[]),A.push(Oe,o)),o=ge;else Oe==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,se=se?se.__html:void 0,ge!=null&&se!==ge&&(A=A||[]).push(Oe,ge)):Oe==="children"?typeof ge!="string"&&typeof ge!="number"||(A=A||[]).push(Oe,""+ge):Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&(f.hasOwnProperty(Oe)?(ge!=null&&Oe==="onScroll"&&kn("scroll",e),A||se===ge||(A=[])):(A=A||[]).push(Oe,ge))}o&&(A=A||[]).push("style",o);var Oe=A;(n.updateQueue=Oe)&&(n.flags|=4)}},fh=function(e,n,o,p){o!==p&&(n.flags|=4)};function Dc(e,n){if(!Ne)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var p=null;o!==null;)o.alternate!==null&&(p=o),o=o.sibling;p===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:p.sibling=null}}function vs(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,p=0;if(n)for(var b=e.child;b!==null;)o|=b.lanes|b.childLanes,p|=b.subtreeFlags&14680064,p|=b.flags&14680064,b.return=e,b=b.sibling;else for(b=e.child;b!==null;)o|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=e,b=b.sibling;return e.subtreeFlags|=p,e.childLanes=o,n}function U0(e,n,o){var p=n.pendingProps;switch(Pe(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vs(n),null;case 1:return wa(n.type)&&nl(),vs(n),null;case 3:return p=n.stateNode,Li(),yn(ba),yn(Er),Ic(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(e===null||e.child===null)&&(pr(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qe!==null&&(Su(qe),qe=null))),fu(e,n),vs(n),null;case 5:Lc(n);var b=Gi(ko.current);if(o=n.type,e!==null&&n.stateNode!=null)uh(e,n,o,p,b),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!p){if(n.stateNode===null)throw Error(r(166));return vs(n),null}if(e=Gi(ua.current),pr(n)){p=n.stateNode,o=n.type;var A=n.memoizedProps;switch(p[_s]=n,p[wo]=A,e=(n.mode&1)!==0,o){case"dialog":kn("cancel",p),kn("close",p);break;case"iframe":case"object":case"embed":kn("load",p);break;case"video":case"audio":for(b=0;b<ki.length;b++)kn(ki[b],p);break;case"source":kn("error",p);break;case"img":case"image":case"link":kn("error",p),kn("load",p);break;case"details":kn("toggle",p);break;case"input":G(p,A),kn("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!A.multiple},kn("invalid",p);break;case"textarea":wt(p,A),kn("invalid",p)}at(o,A),b=null;for(var O in A)if(A.hasOwnProperty(O)){var se=A[O];O==="children"?typeof se=="string"?p.textContent!==se&&(A.suppressHydrationWarning!==!0&&tl(p.textContent,se,e),b=["children",se]):typeof se=="number"&&p.textContent!==""+se&&(A.suppressHydrationWarning!==!0&&tl(p.textContent,se,e),b=["children",""+se]):f.hasOwnProperty(O)&&se!=null&&O==="onScroll"&&kn("scroll",p)}switch(o){case"input":Le(p),ht(p,A,!0);break;case"textarea":Le(p),$t(p);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(p.onclick=bo)}p=b,n.updateQueue=p,p!==null&&(n.flags|=4)}else{O=b.nodeType===9?b:b.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ct(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=O.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof p.is=="string"?e=O.createElement(o,{is:p.is}):(e=O.createElement(o),o==="select"&&(O=e,p.multiple?O.multiple=!0:p.size&&(O.size=p.size))):e=O.createElementNS(e,o),e[_s]=n,e[wo]=p,dh(e,n,!1,!1),n.stateNode=e;e:{switch(O=Xe(o,p),o){case"dialog":kn("cancel",e),kn("close",e),b=p;break;case"iframe":case"object":case"embed":kn("load",e),b=p;break;case"video":case"audio":for(b=0;b<ki.length;b++)kn(ki[b],e);b=p;break;case"source":kn("error",e),b=p;break;case"img":case"image":case"link":kn("error",e),kn("load",e),b=p;break;case"details":kn("toggle",e),b=p;break;case"input":G(e,p),b=it(e,p),kn("invalid",e);break;case"option":b=p;break;case"select":e._wrapperState={wasMultiple:!!p.multiple},b=Fe({},p,{value:void 0}),kn("invalid",e);break;case"textarea":wt(e,p),b=pt(e,p),kn("invalid",e);break;default:b=p}at(o,b),se=b;for(A in se)if(se.hasOwnProperty(A)){var ge=se[A];A==="style"?ue(e,ge):A==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,ge!=null&&De(e,ge)):A==="children"?typeof ge=="string"?(o!=="textarea"||ge!=="")&&He(e,ge):typeof ge=="number"&&He(e,""+ge):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(f.hasOwnProperty(A)?ge!=null&&A==="onScroll"&&kn("scroll",e):ge!=null&&J(e,A,ge,O))}switch(o){case"input":Le(e),ht(e,p,!1);break;case"textarea":Le(e),$t(e);break;case"option":p.value!=null&&e.setAttribute("value",""+Ce(p.value));break;case"select":e.multiple=!!p.multiple,A=p.value,A!=null?ot(e,!!p.multiple,A,!1):p.defaultValue!=null&&ot(e,!!p.multiple,p.defaultValue,!0);break;default:typeof b.onClick=="function"&&(e.onclick=bo)}switch(o){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return vs(n),null;case 6:if(e&&n.stateNode!=null)fh(e,n,e.memoizedProps,p);else{if(typeof p!="string"&&n.stateNode===null)throw Error(r(166));if(o=Gi(ko.current),Gi(ua.current),pr(n)){if(p=n.stateNode,o=n.memoizedProps,p[_s]=n,(A=p.nodeValue!==o)&&(e=$e,e!==null))switch(e.tag){case 3:tl(p.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&tl(p.nodeValue,o,(e.mode&1)!==0)}A&&(n.flags|=4)}else p=(o.nodeType===9?o:o.ownerDocument).createTextNode(p),p[_s]=n,n.stateNode=p}return vs(n),null;case 13:if(yn(Xn),p=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&We!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Xt(),bt(),n.flags|=98560,A=!1;else if(A=pr(n),p!==null&&p.dehydrated!==null){if(e===null){if(!A)throw Error(r(318));if(A=n.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[_s]=n}else bt(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vs(n),A=!1}else qe!==null&&(Su(qe),qe=null),A=!0;if(!A)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(p=p!==null,p!==(e!==null&&e.memoizedState!==null)&&p&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Xn.current&1)!==0?Sa===0&&(Sa=3):Au())),n.updateQueue!==null&&(n.flags|=4),vs(n),null);case 4:return Li(),fu(e,n),e===null&&yo(n.stateNode.containerInfo),vs(n),null;case 10:return nr(n.type._context),vs(n),null;case 17:return wa(n.type)&&nl(),vs(n),null;case 19:if(yn(Xn),A=n.memoizedState,A===null)return vs(n),null;if(p=(n.flags&128)!==0,O=A.rendering,O===null)if(p)Dc(A,!1);else{if(Sa!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(O=ui(e),O!==null){for(n.flags|=128,Dc(A,!1),p=O.updateQueue,p!==null&&(n.updateQueue=p,n.flags|=4),n.subtreeFlags=0,p=o,o=n.child;o!==null;)A=o,e=p,A.flags&=14680066,O=A.alternate,O===null?(A.childLanes=0,A.lanes=e,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=O.childLanes,A.lanes=O.lanes,A.child=O.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=O.memoizedProps,A.memoizedState=O.memoizedState,A.updateQueue=O.updateQueue,A.type=O.type,e=O.dependencies,A.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return An(Xn,Xn.current&1|2),n.child}e=e.sibling}A.tail!==null&&Wn()>cc&&(n.flags|=128,p=!0,Dc(A,!1),n.lanes=4194304)}else{if(!p)if(e=ui(O),e!==null){if(n.flags|=128,p=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),Dc(A,!0),A.tail===null&&A.tailMode==="hidden"&&!O.alternate&&!Ne)return vs(n),null}else 2*Wn()-A.renderingStartTime>cc&&o!==1073741824&&(n.flags|=128,p=!0,Dc(A,!1),n.lanes=4194304);A.isBackwards?(O.sibling=n.child,n.child=O):(o=A.last,o!==null?o.sibling=O:n.child=O,A.last=O)}return A.tail!==null?(n=A.tail,A.rendering=n,A.tail=n.sibling,A.renderingStartTime=Wn(),n.sibling=null,o=Xn.current,An(Xn,p?o&1|2:o&1),n):(vs(n),null);case 22:case 23:return ku(),p=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==p&&(n.flags|=8192),p&&(n.mode&1)!==0?(pi&1073741824)!==0&&(vs(n),n.subtreeFlags&6&&(n.flags|=8192)):vs(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function q0(e,n){switch(Pe(n),n.tag){case 1:return wa(n.type)&&nl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(),yn(ba),yn(Er),Ic(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Lc(n),null;case 13:if(yn(Xn),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));bt()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return yn(Xn),null;case 4:return Li(),null;case 10:return nr(n.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var cd=!1,bs=!1,$0=typeof WeakSet=="function"?WeakSet:Set,St=null;function oc(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(p){Rr(e,n,p)}else o.current=null}function hu(e,n,o){try{o()}catch(p){Rr(e,n,p)}}var hh=!1;function W0(e,n){if(Wo=vr,e=Qn(),sa(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var p=o.getSelection&&o.getSelection();if(p&&p.rangeCount!==0){o=p.anchorNode;var b=p.anchorOffset,A=p.focusNode;p=p.focusOffset;try{o.nodeType,A.nodeType}catch{o=null;break e}var O=0,se=-1,ge=-1,Oe=0,et=0,rt=e,Ze=null;t:for(;;){for(var yt;rt!==o||b!==0&&rt.nodeType!==3||(se=O+b),rt!==A||p!==0&&rt.nodeType!==3||(ge=O+p),rt.nodeType===3&&(O+=rt.nodeValue.length),(yt=rt.firstChild)!==null;)Ze=rt,rt=yt;for(;;){if(rt===e)break t;if(Ze===o&&++Oe===b&&(se=O),Ze===A&&++et===p&&(ge=O),(yt=rt.nextSibling)!==null)break;rt=Ze,Ze=rt.parentNode}rt=yt}o=se===-1||ge===-1?null:{start:se,end:ge}}else o=null}o=o||{start:0,end:0}}else o=null;for(Yi={focusedElem:e,selectionRange:o},vr=!1,St=n;St!==null;)if(n=St,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,St=e;else for(;St!==null;){n=St;try{var Lt=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Lt!==null){var Mt=Lt.memoizedProps,Yr=Lt.memoizedState,Me=n.stateNode,ve=Me.getSnapshotBeforeUpdate(n.elementType===n.type?Mt:Qi(n.type,Mt),Yr);Me.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:var Te=n.stateNode.containerInfo;Te.nodeType===1?Te.textContent="":Te.nodeType===9&&Te.documentElement&&Te.removeChild(Te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(st){Rr(n,n.return,st)}if(e=n.sibling,e!==null){e.return=n.return,St=e;break}St=n.return}return Lt=hh,hh=!1,Lt}function Fc(e,n,o){var p=n.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&e)===e){var A=b.destroy;b.destroy=void 0,A!==void 0&&hu(n,o,A)}b=b.next}while(b!==p)}}function dd(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var p=o.create;o.destroy=p()}o=o.next}while(o!==n)}}function pu(e){var n=e.ref;if(n!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof n=="function"?n(e):n.current=e}}function ph(e){var n=e.alternate;n!==null&&(e.alternate=null,ph(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[_s],delete n[wo],delete n[Fa],delete n[Ra],delete n[Is])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mh(e){return e.tag===5||e.tag===3||e.tag===4}function gh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mu(e,n,o){var p=e.tag;if(p===5||p===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=bo));else if(p!==4&&(e=e.child,e!==null))for(mu(e,n,o),e=e.sibling;e!==null;)mu(e,n,o),e=e.sibling}function gu(e,n,o){var p=e.tag;if(p===5||p===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(p!==4&&(e=e.child,e!==null))for(gu(e,n,o),e=e.sibling;e!==null;)gu(e,n,o),e=e.sibling}var ss=null,Xi=!1;function ol(e,n,o){for(o=o.child;o!==null;)xh(e,n,o),o=o.sibling}function xh(e,n,o){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Ln,o)}catch{}switch(o.tag){case 5:bs||oc(o,n);case 6:var p=ss,b=Xi;ss=null,ol(e,n,o),ss=p,Xi=b,ss!==null&&(Xi?(e=ss,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):ss.removeChild(o.stateNode));break;case 18:ss!==null&&(Xi?(e=ss,o=o.stateNode,e.nodeType===8?Pl(e.parentNode,o):e.nodeType===1&&Pl(e,o),ji(e)):Pl(ss,o.stateNode));break;case 4:p=ss,b=Xi,ss=o.stateNode.containerInfo,Xi=!0,ol(e,n,o),ss=p,Xi=b;break;case 0:case 11:case 14:case 15:if(!bs&&(p=o.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){b=p=p.next;do{var A=b,O=A.destroy;A=A.tag,O!==void 0&&((A&2)!==0||(A&4)!==0)&&hu(o,n,O),b=b.next}while(b!==p)}ol(e,n,o);break;case 1:if(!bs&&(oc(o,n),p=o.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=o.memoizedProps,p.state=o.memoizedState,p.componentWillUnmount()}catch(se){Rr(o,n,se)}ol(e,n,o);break;case 21:ol(e,n,o);break;case 22:o.mode&1?(bs=(p=bs)||o.memoizedState!==null,ol(e,n,o),bs=p):ol(e,n,o);break;default:ol(e,n,o)}}function yh(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new $0),n.forEach(function(p){var b=Z0.bind(null,e,p);o.has(p)||(o.add(p),p.then(b,b))})}}function Zi(e,n){var o=n.deletions;if(o!==null)for(var p=0;p<o.length;p++){var b=o[p];try{var A=e,O=n,se=O;e:for(;se!==null;){switch(se.tag){case 5:ss=se.stateNode,Xi=!1;break e;case 3:ss=se.stateNode.containerInfo,Xi=!0;break e;case 4:ss=se.stateNode.containerInfo,Xi=!0;break e}se=se.return}if(ss===null)throw Error(r(160));xh(A,O,b),ss=null,Xi=!1;var ge=b.alternate;ge!==null&&(ge.return=null),b.return=null}catch(Oe){Rr(b,n,Oe)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)vh(n,e),n=n.sibling}function vh(e,n){var o=e.alternate,p=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zi(n,e),Co(e),p&4){try{Fc(3,e,e.return),dd(3,e)}catch(Mt){Rr(e,e.return,Mt)}try{Fc(5,e,e.return)}catch(Mt){Rr(e,e.return,Mt)}}break;case 1:Zi(n,e),Co(e),p&512&&o!==null&&oc(o,o.return);break;case 5:if(Zi(n,e),Co(e),p&512&&o!==null&&oc(o,o.return),e.flags&32){var b=e.stateNode;try{He(b,"")}catch(Mt){Rr(e,e.return,Mt)}}if(p&4&&(b=e.stateNode,b!=null)){var A=e.memoizedProps,O=o!==null?o.memoizedProps:A,se=e.type,ge=e.updateQueue;if(e.updateQueue=null,ge!==null)try{se==="input"&&A.type==="radio"&&A.name!=null&&Ve(b,A),Xe(se,O);var Oe=Xe(se,A);for(O=0;O<ge.length;O+=2){var et=ge[O],rt=ge[O+1];et==="style"?ue(b,rt):et==="dangerouslySetInnerHTML"?De(b,rt):et==="children"?He(b,rt):J(b,et,rt,Oe)}switch(se){case"input":vt(b,A);break;case"textarea":rn(b,A);break;case"select":var Ze=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!A.multiple;var yt=A.value;yt!=null?ot(b,!!A.multiple,yt,!1):Ze!==!!A.multiple&&(A.defaultValue!=null?ot(b,!!A.multiple,A.defaultValue,!0):ot(b,!!A.multiple,A.multiple?[]:"",!1))}b[wo]=A}catch(Mt){Rr(e,e.return,Mt)}}break;case 6:if(Zi(n,e),Co(e),p&4){if(e.stateNode===null)throw Error(r(162));b=e.stateNode,A=e.memoizedProps;try{b.nodeValue=A}catch(Mt){Rr(e,e.return,Mt)}}break;case 3:if(Zi(n,e),Co(e),p&4&&o!==null&&o.memoizedState.isDehydrated)try{ji(n.containerInfo)}catch(Mt){Rr(e,e.return,Mt)}break;case 4:Zi(n,e),Co(e);break;case 13:Zi(n,e),Co(e),b=e.child,b.flags&8192&&(A=b.memoizedState!==null,b.stateNode.isHidden=A,!A||b.alternate!==null&&b.alternate.memoizedState!==null||(vu=Wn())),p&4&&yh(e);break;case 22:if(et=o!==null&&o.memoizedState!==null,e.mode&1?(bs=(Oe=bs)||et,Zi(n,e),bs=Oe):Zi(n,e),Co(e),p&8192){if(Oe=e.memoizedState!==null,(e.stateNode.isHidden=Oe)&&!et&&(e.mode&1)!==0)for(St=e,et=e.child;et!==null;){for(rt=St=et;St!==null;){switch(Ze=St,yt=Ze.child,Ze.tag){case 0:case 11:case 14:case 15:Fc(4,Ze,Ze.return);break;case 1:oc(Ze,Ze.return);var Lt=Ze.stateNode;if(typeof Lt.componentWillUnmount=="function"){p=Ze,o=Ze.return;try{n=p,Lt.props=n.memoizedProps,Lt.state=n.memoizedState,Lt.componentWillUnmount()}catch(Mt){Rr(p,o,Mt)}}break;case 5:oc(Ze,Ze.return);break;case 22:if(Ze.memoizedState!==null){jh(rt);continue}}yt!==null?(yt.return=Ze,St=yt):jh(rt)}et=et.sibling}e:for(et=null,rt=e;;){if(rt.tag===5){if(et===null){et=rt;try{b=rt.stateNode,Oe?(A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(se=rt.stateNode,ge=rt.memoizedProps.style,O=ge!=null&&ge.hasOwnProperty("display")?ge.display:null,se.style.display=ye("display",O))}catch(Mt){Rr(e,e.return,Mt)}}}else if(rt.tag===6){if(et===null)try{rt.stateNode.nodeValue=Oe?"":rt.memoizedProps}catch(Mt){Rr(e,e.return,Mt)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===e)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===e)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===e)break e;et===rt&&(et=null),rt=rt.return}et===rt&&(et=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:Zi(n,e),Co(e),p&4&&yh(e);break;case 21:break;default:Zi(n,e),Co(e)}}function Co(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(mh(o)){var p=o;break e}o=o.return}throw Error(r(160))}switch(p.tag){case 5:var b=p.stateNode;p.flags&32&&(He(b,""),p.flags&=-33);var A=gh(e);gu(e,A,b);break;case 3:case 4:var O=p.stateNode.containerInfo,se=gh(e);mu(e,se,O);break;default:throw Error(r(161))}}catch(ge){Rr(e,e.return,ge)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function H0(e,n,o){St=e,bh(e)}function bh(e,n,o){for(var p=(e.mode&1)!==0;St!==null;){var b=St,A=b.child;if(b.tag===22&&p){var O=b.memoizedState!==null||cd;if(!O){var se=b.alternate,ge=se!==null&&se.memoizedState!==null||bs;se=cd;var Oe=bs;if(cd=O,(bs=ge)&&!Oe)for(St=b;St!==null;)O=St,ge=O.child,O.tag===22&&O.memoizedState!==null?Sh(b):ge!==null?(ge.return=O,St=ge):Sh(b);for(;A!==null;)St=A,bh(A),A=A.sibling;St=b,cd=se,bs=Oe}wh(e)}else(b.subtreeFlags&8772)!==0&&A!==null?(A.return=b,St=A):wh(e)}}function wh(e){for(;St!==null;){var n=St;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:bs||dd(5,n);break;case 1:var p=n.stateNode;if(n.flags&4&&!bs)if(o===null)p.componentDidMount();else{var b=n.elementType===n.type?o.memoizedProps:Qi(n.type,o.memoizedProps);p.componentDidUpdate(b,o.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var A=n.updateQueue;A!==null&&Vs(n,A,p);break;case 3:var O=n.updateQueue;if(O!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Vs(n,O,o)}break;case 5:var se=n.stateNode;if(o===null&&n.flags&4){o=se;var ge=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":ge.autoFocus&&o.focus();break;case"img":ge.src&&(o.src=ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var Oe=n.alternate;if(Oe!==null){var et=Oe.memoizedState;if(et!==null){var rt=et.dehydrated;rt!==null&&ji(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}bs||n.flags&512&&pu(n)}catch(Ze){Rr(n,n.return,Ze)}}if(n===e){St=null;break}if(o=n.sibling,o!==null){o.return=n.return,St=o;break}St=n.return}}function jh(e){for(;St!==null;){var n=St;if(n===e){St=null;break}var o=n.sibling;if(o!==null){o.return=n.return,St=o;break}St=n.return}}function Sh(e){for(;St!==null;){var n=St;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{dd(4,n)}catch(ge){Rr(n,o,ge)}break;case 1:var p=n.stateNode;if(typeof p.componentDidMount=="function"){var b=n.return;try{p.componentDidMount()}catch(ge){Rr(n,b,ge)}}var A=n.return;try{pu(n)}catch(ge){Rr(n,A,ge)}break;case 5:var O=n.return;try{pu(n)}catch(ge){Rr(n,O,ge)}}}catch(ge){Rr(n,n.return,ge)}if(n===e){St=null;break}var se=n.sibling;if(se!==null){se.return=n.return,St=se;break}St=n.return}}var V0=Math.ceil,ud=$.ReactCurrentDispatcher,xu=$.ReactCurrentOwner,Ei=$.ReactCurrentBatchConfig,wn=0,Ua=null,fa=null,is=0,pi=0,lc=Es(0),Sa=0,Rc=null,Dl=0,fd=0,yu=0,Tc=null,Gs=null,vu=0,cc=1/0,Yo=null,hd=!1,bu=null,ll=null,pd=!1,cl=null,md=0,Oc=0,wu=null,gd=-1,xd=0;function Rs(){return(wn&6)!==0?Wn():gd!==-1?gd:gd=Wn()}function dl(e){return(e.mode&1)===0?1:(wn&2)!==0&&is!==0?is&-is:wr.transition!==null?(xd===0&&(xd=Mo()),xd):(e=sn,e!==0||(e=window.event,e=e===void 0?16:Os(e.type)),e)}function eo(e,n,o,p){if(50<Oc)throw Oc=0,wu=null,Error(r(185));Cr(e,o,p),((wn&2)===0||e!==Ua)&&(e===Ua&&((wn&2)===0&&(fd|=o),Sa===4&&ul(e,is)),Js(e,p),o===1&&wn===0&&(n.mode&1)===0&&(cc=Wn()+500,d&&m()))}function Js(e,n){var o=e.callbackNode;Sn(e,n);var p=Aa(e,e===Ua?is:0);if(p===0)o!==null&&yi(o),e.callbackNode=null,e.callbackPriority=0;else if(n=p&-p,e.callbackPriority!==n){if(o!=null&&yi(o),n===1)e.tag===0?h(kh.bind(null,e)):c(kh.bind(null,e)),Cc(function(){(wn&6)===0&&m()}),o=null;else{switch(Qt(p)){case 1:o=vi;break;case 4:o=mt;break;case 16:o=fr;break;case 536870912:o=Ri;break;default:o=fr}o=Mh(o,Nh.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function Nh(e,n){if(gd=-1,xd=0,(wn&6)!==0)throw Error(r(327));var o=e.callbackNode;if(dc()&&e.callbackNode!==o)return null;var p=Aa(e,e===Ua?is:0);if(p===0)return null;if((p&30)!==0||(p&e.expiredLanes)!==0||n)n=yd(e,p);else{n=p;var b=wn;wn|=2;var A=Ch();(Ua!==e||is!==n)&&(Yo=null,cc=Wn()+500,Rl(e,n));do try{J0();break}catch(se){Ah(e,se)}while(!0);vn(),ud.current=A,wn=b,fa!==null?n=0:(Ua=null,is=0,n=Sa)}if(n!==0){if(n===2&&(b=Ca(e),b!==0&&(p=b,n=ju(e,b))),n===1)throw o=Rc,Rl(e,0),ul(e,p),Js(e,Wn()),o;if(n===6)ul(e,p);else{if(b=e.current.alternate,(p&30)===0&&!Y0(b)&&(n=yd(e,p),n===2&&(A=Ca(e),A!==0&&(p=A,n=ju(e,A))),n===1))throw o=Rc,Rl(e,0),ul(e,p),Js(e,Wn()),o;switch(e.finishedWork=b,e.finishedLanes=p,n){case 0:case 1:throw Error(r(345));case 2:Tl(e,Gs,Yo);break;case 3:if(ul(e,p),(p&130023424)===p&&(n=vu+500-Wn(),10<n)){if(Aa(e,0)!==0)break;if(b=e.suspendedLanes,(b&p)!==p){Rs(),e.pingedLanes|=e.suspendedLanes&b;break}e.timeoutHandle=Cl(Tl.bind(null,e,Gs,Yo),n);break}Tl(e,Gs,Yo);break;case 4:if(ul(e,p),(p&4194240)===p)break;for(n=e.eventTimes,b=-1;0<p;){var O=31-dn(p);A=1<<O,O=n[O],O>b&&(b=O),p&=~A}if(p=b,p=Wn()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*V0(p/1960))-p,10<p){e.timeoutHandle=Cl(Tl.bind(null,e,Gs,Yo),p);break}Tl(e,Gs,Yo);break;case 5:Tl(e,Gs,Yo);break;default:throw Error(r(329))}}}return Js(e,Wn()),e.callbackNode===o?Nh.bind(null,e):null}function ju(e,n){var o=Tc;return e.current.memoizedState.isDehydrated&&(Rl(e,n).flags|=256),e=yd(e,n),e!==2&&(n=Gs,Gs=o,n!==null&&Su(n)),e}function Su(e){Gs===null?Gs=e:Gs.push.apply(Gs,e)}function Y0(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var p=0;p<o.length;p++){var b=o[p],A=b.getSnapshot;b=b.value;try{if(!Nn(A(),b))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ul(e,n){for(n&=~yu,n&=~fd,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-dn(n),p=1<<o;e[o]=-1,n&=~p}}function kh(e){if((wn&6)!==0)throw Error(r(327));dc();var n=Aa(e,0);if((n&1)===0)return Js(e,Wn()),null;var o=yd(e,n);if(e.tag!==0&&o===2){var p=Ca(e);p!==0&&(n=p,o=ju(e,p))}if(o===1)throw o=Rc,Rl(e,0),ul(e,n),Js(e,Wn()),o;if(o===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Tl(e,Gs,Yo),Js(e,Wn()),null}function Nu(e,n){var o=wn;wn|=1;try{return e(n)}finally{wn=o,wn===0&&(cc=Wn()+500,d&&m())}}function Fl(e){cl!==null&&cl.tag===0&&(wn&6)===0&&dc();var n=wn;wn|=1;var o=Ei.transition,p=sn;try{if(Ei.transition=null,sn=1,e)return e()}finally{sn=p,Ei.transition=o,wn=n,(wn&6)===0&&m()}}function ku(){pi=lc.current,yn(lc)}function Rl(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,Jl(o)),fa!==null)for(o=fa.return;o!==null;){var p=o;switch(Pe(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&nl();break;case 3:Li(),yn(ba),yn(Er),Ic();break;case 5:Lc(p);break;case 4:Li();break;case 13:yn(Xn);break;case 19:yn(Xn);break;case 10:nr(p.type._context);break;case 22:case 23:ku()}o=o.return}if(Ua=e,fa=e=fl(e.current,null),is=pi=n,Sa=0,Rc=null,yu=fd=Dl=0,Gs=Tc=null,Bn!==null){for(n=0;n<Bn.length;n++)if(o=Bn[n],p=o.interleaved,p!==null){o.interleaved=null;var b=p.next,A=o.pending;if(A!==null){var O=A.next;A.next=b,p.next=O}o.pending=p}Bn=null}return e}function Ah(e,n){do{var o=fa;try{if(vn(),Ql.current=sd,al){for(var p=rr.memoizedState;p!==null;){var b=p.queue;b!==null&&(b.pending=null),p=p.next}al=!1}if(_i=0,kr=Fr=rr=null,Ji=!1,sl=0,xu.current=null,o===null||o.return===null){Sa=1,Rc=n,fa=null;break}e:{var A=e,O=o.return,se=o,ge=n;if(n=is,se.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Oe=ge,et=se,rt=et.tag;if((et.mode&1)===0&&(rt===0||rt===11||rt===15)){var Ze=et.alternate;Ze?(et.updateQueue=Ze.updateQueue,et.memoizedState=Ze.memoizedState,et.lanes=Ze.lanes):(et.updateQueue=null,et.memoizedState=null)}var yt=Qf(O);if(yt!==null){yt.flags&=-257,Xf(yt,O,se,A,n),yt.mode&1&&Kf(A,Oe,n),n=yt,ge=Oe;var Lt=n.updateQueue;if(Lt===null){var Mt=new Set;Mt.add(ge),n.updateQueue=Mt}else Lt.add(ge);break e}else{if((n&1)===0){Kf(A,Oe,n),Au();break e}ge=Error(r(426))}}else if(Ne&&se.mode&1){var Yr=Qf(O);if(Yr!==null){(Yr.flags&65536)===0&&(Yr.flags|=256),Xf(Yr,O,se,A,n),lt(ic(ge,se));break e}}A=ge=ic(ge,se),Sa!==4&&(Sa=2),Tc===null?Tc=[A]:Tc.push(A),A=O;do{switch(A.tag){case 3:A.flags|=65536,n&=-n,A.lanes|=n;var Me=Gf(A,ge,n);Un(A,Me);break e;case 1:se=ge;var ve=A.type,Te=A.stateNode;if((A.flags&128)===0&&(typeof ve.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(ll===null||!ll.has(Te)))){A.flags|=65536,n&=-n,A.lanes|=n;var st=Jf(A,se,n);Un(A,st);break e}}A=A.return}while(A!==null)}Lh(o)}catch(Dt){n=Dt,fa===o&&o!==null&&(fa=o=o.return);continue}break}while(!0)}function Ch(){var e=ud.current;return ud.current=sd,e===null?sd:e}function Au(){(Sa===0||Sa===3||Sa===2)&&(Sa=4),Ua===null||(Dl&268435455)===0&&(fd&268435455)===0||ul(Ua,is)}function yd(e,n){var o=wn;wn|=2;var p=Ch();(Ua!==e||is!==n)&&(Yo=null,Rl(e,n));do try{G0();break}catch(b){Ah(e,b)}while(!0);if(vn(),wn=o,ud.current=p,fa!==null)throw Error(r(261));return Ua=null,is=0,Sa}function G0(){for(;fa!==null;)Ph(fa)}function J0(){for(;fa!==null&&!Fi();)Ph(fa)}function Ph(e){var n=Eh(e.alternate,e,pi);e.memoizedProps=e.pendingProps,n===null?Lh(e):fa=n,xu.current=null}function Lh(e){var n=e;do{var o=n.alternate;if(e=n.return,(n.flags&32768)===0){if(o=U0(o,n,pi),o!==null){fa=o;return}}else{if(o=q0(o,n),o!==null){o.flags&=32767,fa=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Sa=6,fa=null;return}}if(n=n.sibling,n!==null){fa=n;return}fa=n=e}while(n!==null);Sa===0&&(Sa=5)}function Tl(e,n,o){var p=sn,b=Ei.transition;try{Ei.transition=null,sn=1,K0(e,n,o,p)}finally{Ei.transition=b,sn=p}return null}function K0(e,n,o,p){do dc();while(cl!==null);if((wn&6)!==0)throw Error(r(327));o=e.finishedWork;var b=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var A=o.lanes|o.childLanes;if(ha(e,A),e===Ua&&(fa=Ua=null,is=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||pd||(pd=!0,Mh(fr,function(){return dc(),null})),A=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||A){A=Ei.transition,Ei.transition=null;var O=sn;sn=1;var se=wn;wn|=4,xu.current=null,W0(e,o),vh(o,e),To(Yi),vr=!!Wo,Yi=Wo=null,e.current=o,H0(o),Zs(),wn=se,sn=O,Ei.transition=A}else e.current=o;if(pd&&(pd=!1,cl=e,md=b),A=e.pendingLanes,A===0&&(ll=null),sr(o.stateNode),Js(e,Wn()),n!==null)for(p=e.onRecoverableError,o=0;o<n.length;o++)b=n[o],p(b.value,{componentStack:b.stack,digest:b.digest});if(hd)throw hd=!1,e=bu,bu=null,e;return(md&1)!==0&&e.tag!==0&&dc(),A=e.pendingLanes,(A&1)!==0?e===wu?Oc++:(Oc=0,wu=e):Oc=0,m(),null}function dc(){if(cl!==null){var e=Qt(md),n=Ei.transition,o=sn;try{if(Ei.transition=null,sn=16>e?16:e,cl===null)var p=!1;else{if(e=cl,cl=null,md=0,(wn&6)!==0)throw Error(r(331));var b=wn;for(wn|=4,St=e.current;St!==null;){var A=St,O=A.child;if((St.flags&16)!==0){var se=A.deletions;if(se!==null){for(var ge=0;ge<se.length;ge++){var Oe=se[ge];for(St=Oe;St!==null;){var et=St;switch(et.tag){case 0:case 11:case 15:Fc(8,et,A)}var rt=et.child;if(rt!==null)rt.return=et,St=rt;else for(;St!==null;){et=St;var Ze=et.sibling,yt=et.return;if(ph(et),et===Oe){St=null;break}if(Ze!==null){Ze.return=yt,St=Ze;break}St=yt}}}var Lt=A.alternate;if(Lt!==null){var Mt=Lt.child;if(Mt!==null){Lt.child=null;do{var Yr=Mt.sibling;Mt.sibling=null,Mt=Yr}while(Mt!==null)}}St=A}}if((A.subtreeFlags&2064)!==0&&O!==null)O.return=A,St=O;else e:for(;St!==null;){if(A=St,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Fc(9,A,A.return)}var Me=A.sibling;if(Me!==null){Me.return=A.return,St=Me;break e}St=A.return}}var ve=e.current;for(St=ve;St!==null;){O=St;var Te=O.child;if((O.subtreeFlags&2064)!==0&&Te!==null)Te.return=O,St=Te;else e:for(O=ve;St!==null;){if(se=St,(se.flags&2048)!==0)try{switch(se.tag){case 0:case 11:case 15:dd(9,se)}}catch(Dt){Rr(se,se.return,Dt)}if(se===O){St=null;break e}var st=se.sibling;if(st!==null){st.return=se.return,St=st;break e}St=se.return}}if(wn=b,m(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Ln,e)}catch{}p=!0}return p}finally{sn=o,Ei.transition=n}}return!1}function _h(e,n,o){n=ic(o,n),n=Gf(e,n,1),e=Sr(e,n,1),n=Rs(),e!==null&&(Cr(e,1,n),Js(e,n))}function Rr(e,n,o){if(e.tag===3)_h(e,e,o);else for(;n!==null;){if(n.tag===3){_h(n,e,o);break}else if(n.tag===1){var p=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ll===null||!ll.has(p))){e=ic(o,e),e=Jf(n,e,1),n=Sr(n,e,1),e=Rs(),n!==null&&(Cr(n,1,e),Js(n,e));break}}n=n.return}}function Q0(e,n,o){var p=e.pingCache;p!==null&&p.delete(n),n=Rs(),e.pingedLanes|=e.suspendedLanes&o,Ua===e&&(is&o)===o&&(Sa===4||Sa===3&&(is&130023424)===is&&500>Wn()-vu?Rl(e,0):yu|=o),Js(e,n)}function Ih(e,n){n===0&&((e.mode&1)===0?n=1:(n=Ar,Ar<<=1,(Ar&130023424)===0&&(Ar=4194304)));var o=Rs();e=zn(e,n),e!==null&&(Cr(e,n,o),Js(e,o))}function X0(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Ih(e,o)}function Z0(e,n){var o=0;switch(e.tag){case 13:var p=e.stateNode,b=e.memoizedState;b!==null&&(o=b.retryLane);break;case 19:p=e.stateNode;break;default:throw Error(r(314))}p!==null&&p.delete(n),Ih(e,o)}var Eh;Eh=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||ba.current)Ys=!0;else{if((e.lanes&o)===0&&(n.flags&128)===0)return Ys=!1,z0(e,n,o);Ys=(e.flags&131072)!==0}else Ys=!1,Ne&&(n.flags&1048576)!==0&&be(n,P,n.index);switch(n.lanes=0,n.tag){case 2:var p=n.type;ld(e,n),e=n.pendingProps;var b=li(n,Er.current);mr(n,o),b=Il(null,n,p,e,b,o);var A=Ii();return n.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,wa(p)?(A=!0,xs(n)):A=!1,n.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,ja(n),b.updater=id,n.stateNode=b,b._reactInternals=n,ru(n,p,e,o),n=ou(null,n,p,!0,A,o)):(n.tag=0,Ne&&A&&Ue(n),Fs(null,n,b,o),n=n.child),n;case 16:p=n.elementType;e:{switch(ld(e,n),e=n.pendingProps,b=p._init,p=b(p._payload),n.type=p,b=n.tag=tg(p),e=Qi(p,e),b){case 0:n=iu(null,n,p,e,o);break e;case 1:n=ah(null,n,p,e,o);break e;case 11:n=Zf(null,n,p,e,o);break e;case 14:n=eh(null,n,p,Qi(p.type,e),o);break e}throw Error(r(306,p,""))}return n;case 0:return p=n.type,b=n.pendingProps,b=n.elementType===p?b:Qi(p,b),iu(e,n,p,b,o);case 1:return p=n.type,b=n.pendingProps,b=n.elementType===p?b:Qi(p,b),ah(e,n,p,b,o);case 3:e:{if(sh(n),e===null)throw Error(r(387));p=n.pendingProps,A=n.memoizedState,b=A.element,ys(e,n),za(n,p,null,o);var O=n.memoizedState;if(p=O.element,A.isDehydrated)if(A={element:p,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},n.updateQueue.baseState=A,n.memoizedState=A,n.flags&256){b=ic(Error(r(423)),n),n=ih(e,n,p,o,b);break e}else if(p!==b){b=ic(Error(r(424)),n),n=ih(e,n,p,o,b);break e}else for(We=oa(n.stateNode.containerInfo.firstChild),$e=n,Ne=!0,qe=null,o=or(n,null,p,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(bt(),p===b){n=Vo(e,n,o);break e}Fs(e,n,p,o)}n=n.child}return n;case 5:return ed(n),e===null&&At(n),p=n.type,b=n.pendingProps,A=e!==null?e.memoizedProps:null,O=b.children,Al(p,b)?O=null:A!==null&&Al(p,A)&&(n.flags|=32),rh(e,n),Fs(e,n,O,o),n.child;case 6:return e===null&&At(n),null;case 13:return oh(e,n,o);case 4:return rl(n,n.stateNode.containerInfo),p=n.pendingProps,e===null?n.child=Mr(n,null,p,o):Fs(e,n,p,o),n.child;case 11:return p=n.type,b=n.pendingProps,b=n.elementType===p?b:Qi(p,b),Zf(e,n,p,b,o);case 7:return Fs(e,n,n.pendingProps,o),n.child;case 8:return Fs(e,n,n.pendingProps.children,o),n.child;case 12:return Fs(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(p=n.type._context,b=n.pendingProps,A=n.memoizedProps,O=b.value,An(Hr,p._currentValue),p._currentValue=O,A!==null)if(Nn(A.value,O)){if(A.children===b.children&&!ba.current){n=Vo(e,n,o);break e}}else for(A=n.child,A!==null&&(A.return=n);A!==null;){var se=A.dependencies;if(se!==null){O=A.child;for(var ge=se.firstContext;ge!==null;){if(ge.context===p){if(A.tag===1){ge=jr(-1,o&-o),ge.tag=2;var Oe=A.updateQueue;if(Oe!==null){Oe=Oe.shared;var et=Oe.pending;et===null?ge.next=ge:(ge.next=et.next,et.next=ge),Oe.pending=ge}}A.lanes|=o,ge=A.alternate,ge!==null&&(ge.lanes|=o),bn(A.return,o,n),se.lanes|=o;break}ge=ge.next}}else if(A.tag===10)O=A.type===n.type?null:A.child;else if(A.tag===18){if(O=A.return,O===null)throw Error(r(341));O.lanes|=o,se=O.alternate,se!==null&&(se.lanes|=o),bn(O,o,n),O=A.sibling}else O=A.child;if(O!==null)O.return=A;else for(O=A;O!==null;){if(O===n){O=null;break}if(A=O.sibling,A!==null){A.return=O.return,O=A;break}O=O.return}A=O}Fs(e,n,b.children,o),n=n.child}return n;case 9:return b=n.type,p=n.pendingProps.children,mr(n,o),b=gr(b),p=p(b),n.flags|=1,Fs(e,n,p,o),n.child;case 14:return p=n.type,b=Qi(p,n.pendingProps),b=Qi(p.type,b),eh(e,n,p,b,o);case 15:return th(e,n,n.type,n.pendingProps,o);case 17:return p=n.type,b=n.pendingProps,b=n.elementType===p?b:Qi(p,b),ld(e,n),n.tag=1,wa(p)?(e=!0,xs(n)):e=!1,mr(n,o),Vf(n,p,b),ru(n,p,b,o),ou(null,n,p,!0,e,o);case 19:return ch(e,n,o);case 22:return nh(e,n,o)}throw Error(r(156,n.tag))};function Mh(e,n){return xi(e,n)}function eg(e,n,o,p){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(e,n,o,p){return new eg(e,n,o,p)}function Cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tg(e){if(typeof e=="function")return Cu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===U)return 11;if(e===xe)return 14}return 2}function fl(e,n){var o=e.alternate;return o===null?(o=Mi(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function vd(e,n,o,p,b,A){var O=2;if(p=e,typeof e=="function")Cu(e)&&(O=1);else if(typeof e=="string")O=5;else e:switch(e){case Ee:return Ol(o.children,b,A,n);case fe:O=8,b|=8;break;case K:return e=Mi(12,o,n,b|2),e.elementType=K,e.lanes=A,e;case ae:return e=Mi(13,o,n,b),e.elementType=ae,e.lanes=A,e;case Z:return e=Mi(19,o,n,b),e.elementType=Z,e.lanes=A,e;case ke:return bd(o,b,A,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pe:O=10;break e;case B:O=9;break e;case U:O=11;break e;case xe:O=14;break e;case Ae:O=16,p=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Mi(O,o,n,b),n.elementType=e,n.type=p,n.lanes=A,n}function Ol(e,n,o,p){return e=Mi(7,e,p,n),e.lanes=o,e}function bd(e,n,o,p){return e=Mi(22,e,p,n),e.elementType=ke,e.lanes=o,e.stateNode={isHidden:!1},e}function Pu(e,n,o){return e=Mi(6,e,null,n),e.lanes=o,e}function Lu(e,n,o){return n=Mi(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ng(e,n,o,p,b){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ei(0),this.expirationTimes=ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.identifierPrefix=p,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function _u(e,n,o,p,b,A,O,se,ge){return e=new ng(e,n,o,se,ge),n===1?(n=1,A===!0&&(n|=8)):n=0,A=Mi(3,null,null,n),e.current=A,A.stateNode=e,A.memoizedState={element:p,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ja(A),e}function rg(e,n,o){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:p==null?null:""+p,children:e,containerInfo:n,implementation:o}}function Dh(e){if(!e)return Ci;e=e._reactInternals;e:{if(Gn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(wa(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var o=e.type;if(wa(o))return So(e,o,n)}return n}function Fh(e,n,o,p,b,A,O,se,ge){return e=_u(o,p,!0,e,b,A,O,se,ge),e.context=Dh(null),o=e.current,p=Rs(),b=dl(o),A=jr(p,b),A.callback=n??null,Sr(o,A,b),e.current.lanes=b,Cr(e,b,p),Js(e,p),e}function wd(e,n,o,p){var b=n.current,A=Rs(),O=dl(b);return o=Dh(o),n.context===null?n.context=o:n.pendingContext=o,n=jr(A,O),n.payload={element:e},p=p===void 0?null:p,p!==null&&(n.callback=p),e=Sr(b,n,O),e!==null&&(eo(e,b,O,A),Ba(e,b,O)),O}function jd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Iu(e,n){Rh(e,n),(e=e.alternate)&&Rh(e,n)}function ag(){return null}var Th=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eu(e){this._internalRoot=e}Sd.prototype.render=Eu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));wd(e,n,null,null)},Sd.prototype.unmount=Eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Fl(function(){wd(null,e,null,null)}),n[la]=null}};function Sd(e){this._internalRoot=e}Sd.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ti();e={blockedOn:null,target:e,priority:n};for(var o=0;o<As.length&&n!==0&&n<As[o].priority;o++);As.splice(o,0,e),o===0&&Pr(e)}};function Mu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Oh(){}function sg(e,n,o,p,b){if(b){if(typeof p=="function"){var A=p;p=function(){var Oe=jd(O);A.call(Oe)}}var O=Fh(n,p,e,0,null,!1,!1,"",Oh);return e._reactRootContainer=O,e[la]=O.current,yo(e.nodeType===8?e.parentNode:e),Fl(),O}for(;b=e.lastChild;)e.removeChild(b);if(typeof p=="function"){var se=p;p=function(){var Oe=jd(ge);se.call(Oe)}}var ge=_u(e,0,!1,null,null,!1,!1,"",Oh);return e._reactRootContainer=ge,e[la]=ge.current,yo(e.nodeType===8?e.parentNode:e),Fl(function(){wd(n,ge,o,p)}),ge}function kd(e,n,o,p,b){var A=o._reactRootContainer;if(A){var O=A;if(typeof b=="function"){var se=b;b=function(){var ge=jd(O);se.call(ge)}}wd(n,O,e,b)}else O=sg(o,n,e,b,p);return jd(O)}Pa=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=Br(n.pendingLanes);o!==0&&(ds(n,o|1),Js(n,Wn()),(wn&6)===0&&(cc=Wn()+500,m()))}break;case 13:Fl(function(){var p=zn(e,1);if(p!==null){var b=Rs();eo(p,e,1,b)}}),Iu(e,1)}},Do=function(e){if(e.tag===13){var n=zn(e,134217728);if(n!==null){var o=Rs();eo(n,e,134217728,o)}Iu(e,134217728)}},lo=function(e){if(e.tag===13){var n=dl(e),o=zn(e,n);if(o!==null){var p=Rs();eo(o,e,n,p)}Iu(e,n)}},Ti=function(){return sn},Oi=function(e,n){var o=sn;try{return sn=e,n()}finally{sn=o}},It=function(e,n,o){switch(n){case"input":if(vt(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var p=o[n];if(p!==e&&p.form===e.form){var b=Ta(p);if(!b)throw Error(r(90));Ge(p),vt(p,b)}}}break;case"textarea":rn(e,o);break;case"select":n=o.value,n!=null&&ot(e,!!o.multiple,n,!1)}},ar=Nu,Or=Fl;var ig={usingClientEntryPoint:!1,Events:[jo,Ie,Ta,dt,dr,Nu]},Bc={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},og={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$n(e),e===null?null:e.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||ag,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{Ln=Ad.inject(og),jn=Ad}catch{}}return Ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ig,Ks.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mu(n))throw Error(r(200));return rg(e,n,null,o)},Ks.createRoot=function(e,n){if(!Mu(e))throw Error(r(299));var o=!1,p="",b=Th;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(p=n.identifierPrefix),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=_u(e,1,!1,null,null,o,!1,p,b),e[la]=n.current,yo(e.nodeType===8?e.parentNode:e),new Eu(n)},Ks.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=$n(n),e=e===null?null:e.stateNode,e},Ks.flushSync=function(e){return Fl(e)},Ks.hydrate=function(e,n,o){if(!Nd(n))throw Error(r(200));return kd(null,e,n,!0,o)},Ks.hydrateRoot=function(e,n,o){if(!Mu(e))throw Error(r(405));var p=o!=null&&o.hydratedSources||null,b=!1,A="",O=Th;if(o!=null&&(o.unstable_strictMode===!0&&(b=!0),o.identifierPrefix!==void 0&&(A=o.identifierPrefix),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),n=Fh(n,null,e,1,o??null,b,!1,A,O),e[la]=n.current,yo(e),p)for(e=0;e<p.length;e++)o=p[e],b=o._getVersion,b=b(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,b]:n.mutableSourceEagerHydrationData.push(o,b);return new Sd(n)},Ks.render=function(e,n,o){if(!Nd(n))throw Error(r(200));return kd(null,e,n,!1,o)},Ks.unmountComponentAtNode=function(e){if(!Nd(e))throw Error(r(40));return e._reactRootContainer?(Fl(function(){kd(null,null,e,!1,function(){e._reactRootContainer=null,e[la]=null})}),!0):!1},Ks.unstable_batchedUpdates=Nu,Ks.unstable_renderSubtreeIntoContainer=function(e,n,o,p){if(!Nd(o))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return kd(e,n,o,!1,p)},Ks.version="18.3.1-next-f1338f8080-20240426",Ks}var Vh;function Am(){if(Vh)return Ru.exports;Vh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),Ru.exports=gg(),Ru.exports}var Yh;function xg(){if(Yh)return Cd;Yh=1;var s=Am();return Cd.createRoot=s.createRoot,Cd.hydrateRoot=s.hydrateRoot,Cd}var yg=xg();const vg=km(yg);Am();function Hc(){return Hc=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=r[l])}return s},Hc.apply(this,arguments)}var gl;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(gl||(gl={}));const Gh="popstate";function bg(s){s===void 0&&(s={});function a(l,f){let{pathname:u,search:x,hash:g}=l.location;return df("",{pathname:u,search:x,hash:g},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function r(l,f){return typeof f=="string"?f:Wd(f)}return jg(a,r,null,s)}function Qr(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function Cf(s,a){if(!s){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function wg(){return Math.random().toString(36).substr(2,8)}function Jh(s,a){return{usr:s.state,key:s.key,idx:a}}function df(s,a,r,l){return r===void 0&&(r=null),Hc({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof a=="string"?jc(a):a,{state:r,key:a&&a.key||l||wg()})}function Wd(s){let{pathname:a="/",search:r="",hash:l=""}=s;return r&&r!=="?"&&(a+=r.charAt(0)==="?"?r:"?"+r),l&&l!=="#"&&(a+=l.charAt(0)==="#"?l:"#"+l),a}function jc(s){let a={};if(s){let r=s.indexOf("#");r>=0&&(a.hash=s.substr(r),s=s.substr(0,r));let l=s.indexOf("?");l>=0&&(a.search=s.substr(l),s=s.substr(0,l)),s&&(a.pathname=s)}return a}function jg(s,a,r,l){l===void 0&&(l={});let{window:f=document.defaultView,v5Compat:u=!1}=l,x=f.history,g=gl.Pop,y=null,j=k();j==null&&(j=0,x.replaceState(Hc({},x.state,{idx:j}),""));function k(){return(x.state||{idx:null}).idx}function L(){g=gl.Pop;let D=k(),E=D==null?null:D-j;j=D,y&&y({action:g,location:F.location,delta:E})}function R(D,E){g=gl.Push;let q=df(F.location,D,E);j=k()+1;let J=Jh(q,j),$=F.createHref(q);try{x.pushState(J,"",$)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;f.location.assign($)}u&&y&&y({action:g,location:F.location,delta:1})}function N(D,E){g=gl.Replace;let q=df(F.location,D,E);j=k();let J=Jh(q,j),$=F.createHref(q);x.replaceState(J,"",$),u&&y&&y({action:g,location:F.location,delta:0})}function z(D){let E=f.location.origin!=="null"?f.location.origin:f.location.href,q=typeof D=="string"?D:Wd(D);return q=q.replace(/ $/,"%20"),Qr(E,"No window.location.(origin|href) available to create URL for href: "+q),new URL(q,E)}let F={get action(){return g},get location(){return s(f,x)},listen(D){if(y)throw new Error("A history only accepts one active listener");return f.addEventListener(Gh,L),y=D,()=>{f.removeEventListener(Gh,L),y=null}},createHref(D){return a(f,D)},createURL:z,encodeLocation(D){let E=z(D);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:R,replace:N,go(D){return x.go(D)}};return F}var Kh;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Kh||(Kh={}));function Sg(s,a,r){return r===void 0&&(r="/"),Ng(s,a,r)}function Ng(s,a,r,l){let f=typeof a=="string"?jc(a):a,u=Pf(f.pathname||"/",r);if(u==null)return null;let x=Cm(s);kg(x);let g=null;for(let y=0;g==null&&y<x.length;++y){let j=Tg(u);g=Dg(x[y],j)}return g}function Cm(s,a,r,l){a===void 0&&(a=[]),r===void 0&&(r=[]),l===void 0&&(l="");let f=(u,x,g)=>{let y={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:x,route:u};y.relativePath.startsWith("/")&&(Qr(y.relativePath.startsWith(l),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(l.length));let j=yl([l,y.relativePath]),k=r.concat(y);u.children&&u.children.length>0&&(Qr(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+j+'".')),Cm(u.children,a,k,j)),!(u.path==null&&!u.index)&&a.push({path:j,score:Eg(j,u.index),routesMeta:k})};return s.forEach((u,x)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))f(u,x);else for(let y of Pm(u.path))f(u,x,y)}),a}function Pm(s){let a=s.split("/");if(a.length===0)return[];let[r,...l]=a,f=r.endsWith("?"),u=r.replace(/\?$/,"");if(l.length===0)return f?[u,""]:[u];let x=Pm(l.join("/")),g=[];return g.push(...x.map(y=>y===""?u:[u,y].join("/"))),f&&g.push(...x),g.map(y=>s.startsWith("/")&&y===""?"/":y)}function kg(s){s.sort((a,r)=>a.score!==r.score?r.score-a.score:Mg(a.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}const Ag=/^:[\w-]+$/,Cg=3,Pg=2,Lg=1,_g=10,Ig=-2,Qh=s=>s==="*";function Eg(s,a){let r=s.split("/"),l=r.length;return r.some(Qh)&&(l+=Ig),a&&(l+=Pg),r.filter(f=>!Qh(f)).reduce((f,u)=>f+(Ag.test(u)?Cg:u===""?Lg:_g),l)}function Mg(s,a){return s.length===a.length&&s.slice(0,-1).every((l,f)=>l===a[f])?s[s.length-1]-a[a.length-1]:0}function Dg(s,a,r){let{routesMeta:l}=s,f={},u="/",x=[];for(let g=0;g<l.length;++g){let y=l[g],j=g===l.length-1,k=u==="/"?a:a.slice(u.length)||"/",L=Fg({path:y.relativePath,caseSensitive:y.caseSensitive,end:j},k),R=y.route;if(!L)return null;Object.assign(f,L.params),x.push({params:f,pathname:yl([u,L.pathname]),pathnameBase:qg(yl([u,L.pathnameBase])),route:R}),L.pathnameBase!=="/"&&(u=yl([u,L.pathnameBase]))}return x}function Fg(s,a){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,l]=Rg(s.path,s.caseSensitive,s.end),f=a.match(r);if(!f)return null;let u=f[0],x=u.replace(/(.)\/+$/,"$1"),g=f.slice(1);return{params:l.reduce((j,k,L)=>{let{paramName:R,isOptional:N}=k;if(R==="*"){let F=g[L]||"";x=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const z=g[L];return N&&!z?j[R]=void 0:j[R]=(z||"").replace(/%2F/g,"/"),j},{}),pathname:u,pathnameBase:x,pattern:s}}function Rg(s,a,r){a===void 0&&(a=!1),r===void 0&&(r=!0),Cf(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let l=[],f="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,g,y)=>(l.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(l.push({paramName:"*"}),f+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?f+="\\/*$":s!==""&&s!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,a?void 0:"i"),l]}function Tg(s){try{return s.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Cf(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),s}}function Pf(s,a){if(a==="/")return s;if(!s.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,l=s.charAt(r);return l&&l!=="/"?null:s.slice(r)||"/"}const Og=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bg=s=>Og.test(s);function zg(s,a){a===void 0&&(a="/");let{pathname:r,search:l="",hash:f=""}=typeof s=="string"?jc(s):s,u;if(r)if(Bg(r))u=r;else{if(r.includes("//")){let x=r;r=r.replace(/\/\/+/g,"/"),Cf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(x+" -> "+r))}r.startsWith("/")?u=Xh(r.substring(1),"/"):u=Xh(r,a)}else u=a;return{pathname:u,search:$g(l),hash:Wg(f)}}function Xh(s,a){let r=a.replace(/\/+$/,"").split("/");return s.split("/").forEach(f=>{f===".."?r.length>1&&r.pop():f!=="."&&r.push(f)}),r.length>1?r.join("/"):"/"}function Bu(s,a,r,l){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ug(s){return s.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function Lf(s,a){let r=Ug(s);return a?r.map((l,f)=>f===r.length-1?l.pathname:l.pathnameBase):r.map(l=>l.pathnameBase)}function _f(s,a,r,l){l===void 0&&(l=!1);let f;typeof s=="string"?f=jc(s):(f=Hc({},s),Qr(!f.pathname||!f.pathname.includes("?"),Bu("?","pathname","search",f)),Qr(!f.pathname||!f.pathname.includes("#"),Bu("#","pathname","hash",f)),Qr(!f.search||!f.search.includes("#"),Bu("#","search","hash",f)));let u=s===""||f.pathname==="",x=u?"/":f.pathname,g;if(x==null)g=r;else{let L=a.length-1;if(!l&&x.startsWith("..")){let R=x.split("/");for(;R[0]==="..";)R.shift(),L-=1;f.pathname=R.join("/")}g=L>=0?a[L]:"/"}let y=zg(f,g),j=x&&x!=="/"&&x.endsWith("/"),k=(u||x===".")&&r.endsWith("/");return!y.pathname.endsWith("/")&&(j||k)&&(y.pathname+="/"),y}const yl=s=>s.join("/").replace(/\/\/+/g,"/"),qg=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),$g=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Wg=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Hg(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Lm=["post","put","patch","delete"];new Set(Lm);const Vg=["get",...Lm];new Set(Vg);function Vc(){return Vc=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=r[l])}return s},Vc.apply(this,arguments)}const If=H.createContext(null),Yg=H.createContext(null),bl=H.createContext(null),Kd=H.createContext(null),wl=H.createContext({outlet:null,matches:[],isDataRoute:!1}),_m=H.createContext(null);function Gg(s,a){let{relative:r}=a===void 0?{}:a;Sc()||Qr(!1);let{basename:l,navigator:f}=H.useContext(bl),{hash:u,pathname:x,search:g}=Em(s,{relative:r}),y=x;return l!=="/"&&(y=x==="/"?l:yl([l,x])),f.createHref({pathname:y,search:g,hash:u})}function Sc(){return H.useContext(Kd)!=null}function Nc(){return Sc()||Qr(!1),H.useContext(Kd).location}function Im(s){H.useContext(bl).static||H.useLayoutEffect(s)}function ro(){let{isDataRoute:s}=H.useContext(wl);return s?o1():Jg()}function Jg(){Sc()||Qr(!1);let s=H.useContext(If),{basename:a,future:r,navigator:l}=H.useContext(bl),{matches:f}=H.useContext(wl),{pathname:u}=Nc(),x=JSON.stringify(Lf(f,r.v7_relativeSplatPath)),g=H.useRef(!1);return Im(()=>{g.current=!0}),H.useCallback(function(j,k){if(k===void 0&&(k={}),!g.current)return;if(typeof j=="number"){l.go(j);return}let L=_f(j,JSON.parse(x),u,k.relative==="path");s==null&&a!=="/"&&(L.pathname=L.pathname==="/"?a:yl([a,L.pathname])),(k.replace?l.replace:l.push)(L,k.state,k)},[a,l,x,u,s])}function Em(s,a){let{relative:r}=a===void 0?{}:a,{future:l}=H.useContext(bl),{matches:f}=H.useContext(wl),{pathname:u}=Nc(),x=JSON.stringify(Lf(f,l.v7_relativeSplatPath));return H.useMemo(()=>_f(s,JSON.parse(x),u,r==="path"),[s,x,u,r])}function Kg(s,a){return Qg(s,a)}function Qg(s,a,r,l){Sc()||Qr(!1);let{navigator:f}=H.useContext(bl),{matches:u}=H.useContext(wl),x=u[u.length-1],g=x?x.params:{};x&&x.pathname;let y=x?x.pathnameBase:"/";x&&x.route;let j=Nc(),k;if(a){var L;let D=typeof a=="string"?jc(a):a;y==="/"||(L=D.pathname)!=null&&L.startsWith(y)||Qr(!1),k=D}else k=j;let R=k.pathname||"/",N=R;if(y!=="/"){let D=y.replace(/^\//,"").split("/");N="/"+R.replace(/^\//,"").split("/").slice(D.length).join("/")}let z=Sg(s,{pathname:N}),F=n1(z&&z.map(D=>Object.assign({},D,{params:Object.assign({},g,D.params),pathname:yl([y,f.encodeLocation?f.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?y:yl([y,f.encodeLocation?f.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),u,r,l);return a&&F?H.createElement(Kd.Provider,{value:{location:Vc({pathname:"/",search:"",hash:"",state:null,key:"default"},k),navigationType:gl.Pop}},F):F}function Xg(){let s=i1(),a=Hg(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,f={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},a),r?H.createElement("pre",{style:f},r):null,null)}const Zg=H.createElement(Xg,null);class e1 extends H.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,r){return r.location!==a.location||r.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:r.error,location:r.location,revalidation:a.revalidation||r.revalidation}}componentDidCatch(a,r){console.error("React Router caught the following error during render",a,r)}render(){return this.state.error!==void 0?H.createElement(wl.Provider,{value:this.props.routeContext},H.createElement(_m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t1(s){let{routeContext:a,match:r,children:l}=s,f=H.useContext(If);return f&&f.static&&f.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(f.staticContext._deepestRenderedBoundaryId=r.route.id),H.createElement(wl.Provider,{value:a},l)}function n1(s,a,r,l){var f;if(a===void 0&&(a=[]),r===void 0&&(r=null),l===void 0&&(l=null),s==null){var u;if(!r)return null;if(r.errors)s=r.matches;else if((u=l)!=null&&u.v7_partialHydration&&a.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let x=s,g=(f=r)==null?void 0:f.errors;if(g!=null){let k=x.findIndex(L=>L.route.id&&g?.[L.route.id]!==void 0);k>=0||Qr(!1),x=x.slice(0,Math.min(x.length,k+1))}let y=!1,j=-1;if(r&&l&&l.v7_partialHydration)for(let k=0;k<x.length;k++){let L=x[k];if((L.route.HydrateFallback||L.route.hydrateFallbackElement)&&(j=k),L.route.id){let{loaderData:R,errors:N}=r,z=L.route.loader&&R[L.route.id]===void 0&&(!N||N[L.route.id]===void 0);if(L.route.lazy||z){y=!0,j>=0?x=x.slice(0,j+1):x=[x[0]];break}}}return x.reduceRight((k,L,R)=>{let N,z=!1,F=null,D=null;r&&(N=g&&L.route.id?g[L.route.id]:void 0,F=L.route.errorElement||Zg,y&&(j<0&&R===0?(l1("route-fallback"),z=!0,D=null):j===R&&(z=!0,D=L.route.hydrateFallbackElement||null)));let E=a.concat(x.slice(0,R+1)),q=()=>{let J;return N?J=F:z?J=D:L.route.Component?J=H.createElement(L.route.Component,null):L.route.element?J=L.route.element:J=k,H.createElement(t1,{match:L,routeContext:{outlet:k,matches:E,isDataRoute:r!=null},children:J})};return r&&(L.route.ErrorBoundary||L.route.errorElement||R===0)?H.createElement(e1,{location:r.location,revalidation:r.revalidation,component:F,error:N,children:q(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):q()},null)}var Mm=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(Mm||{}),Dm=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(Dm||{});function r1(s){let a=H.useContext(If);return a||Qr(!1),a}function a1(s){let a=H.useContext(Yg);return a||Qr(!1),a}function s1(s){let a=H.useContext(wl);return a||Qr(!1),a}function Fm(s){let a=s1(),r=a.matches[a.matches.length-1];return r.route.id||Qr(!1),r.route.id}function i1(){var s;let a=H.useContext(_m),r=a1(),l=Fm();return a!==void 0?a:(s=r.errors)==null?void 0:s[l]}function o1(){let{router:s}=r1(Mm.UseNavigateStable),a=Fm(Dm.UseNavigateStable),r=H.useRef(!1);return Im(()=>{r.current=!0}),H.useCallback(function(f,u){u===void 0&&(u={}),r.current&&(typeof f=="number"?s.navigate(f):s.navigate(f,Vc({fromRouteId:a},u)))},[s,a])}const Zh={};function l1(s,a,r){Zh[s]||(Zh[s]=!0)}function c1(s,a){s?.v7_startTransition,s?.v7_relativeSplatPath}function ep(s){let{to:a,replace:r,state:l,relative:f}=s;Sc()||Qr(!1);let{future:u,static:x}=H.useContext(bl),{matches:g}=H.useContext(wl),{pathname:y}=Nc(),j=ro(),k=_f(a,Lf(g,u.v7_relativeSplatPath),y,f==="path"),L=JSON.stringify(k);return H.useEffect(()=>j(JSON.parse(L),{replace:r,state:l,relative:f}),[j,L,f,r,l]),null}function Lo(s){Qr(!1)}function d1(s){let{basename:a="/",children:r=null,location:l,navigationType:f=gl.Pop,navigator:u,static:x=!1,future:g}=s;Sc()&&Qr(!1);let y=a.replace(/^\/*/,"/"),j=H.useMemo(()=>({basename:y,navigator:u,static:x,future:Vc({v7_relativeSplatPath:!1},g)}),[y,g,u,x]);typeof l=="string"&&(l=jc(l));let{pathname:k="/",search:L="",hash:R="",state:N=null,key:z="default"}=l,F=H.useMemo(()=>{let D=Pf(k,y);return D==null?null:{location:{pathname:D,search:L,hash:R,state:N,key:z},navigationType:f}},[y,k,L,R,N,z,f]);return F==null?null:H.createElement(bl.Provider,{value:j},H.createElement(Kd.Provider,{children:r,value:F}))}function u1(s){let{children:a,location:r}=s;return Kg(uf(a),r)}new Promise(()=>{});function uf(s,a){a===void 0&&(a=[]);let r=[];return H.Children.forEach(s,(l,f)=>{if(!H.isValidElement(l))return;let u=[...a,f];if(l.type===H.Fragment){r.push.apply(r,uf(l.props.children,u));return}l.type!==Lo&&Qr(!1),!l.props.index||!l.props.children||Qr(!1);let x={id:l.props.id||u.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(x.children=uf(l.props.children,u)),r.push(x)}),r}function ff(){return ff=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=r[l])}return s},ff.apply(this,arguments)}function f1(s,a){if(s==null)return{};var r={},l=Object.keys(s),f,u;for(u=0;u<l.length;u++)f=l[u],!(a.indexOf(f)>=0)&&(r[f]=s[f]);return r}function h1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function p1(s,a){return s.button===0&&(!a||a==="_self")&&!h1(s)}function hf(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((a,r)=>{let l=s[r];return a.concat(Array.isArray(l)?l.map(f=>[r,f]):[[r,l]])},[]))}function m1(s,a){let r=hf(s);return a&&a.forEach((l,f)=>{r.has(f)||a.getAll(f).forEach(u=>{r.append(f,u)})}),r}const g1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],x1="6";try{window.__reactRouterVersion=x1}catch{}const y1="startTransition",tp=hg[y1];function v1(s){let{basename:a,children:r,future:l,window:f}=s,u=H.useRef();u.current==null&&(u.current=bg({window:f,v5Compat:!0}));let x=u.current,[g,y]=H.useState({action:x.action,location:x.location}),{v7_startTransition:j}=l||{},k=H.useCallback(L=>{j&&tp?tp(()=>y(L)):y(L)},[y,j]);return H.useLayoutEffect(()=>x.listen(k),[x,k]),H.useEffect(()=>c1(l),[l]),H.createElement(d1,{basename:a,children:r,location:g.location,navigationType:g.action,navigator:x,future:l})}const b1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kc=H.forwardRef(function(a,r){let{onClick:l,relative:f,reloadDocument:u,replace:x,state:g,target:y,to:j,preventScrollReset:k,viewTransition:L}=a,R=f1(a,g1),{basename:N}=H.useContext(bl),z,F=!1;if(typeof j=="string"&&w1.test(j)&&(z=j,b1))try{let J=new URL(window.location.href),$=j.startsWith("//")?new URL(J.protocol+j):new URL(j),oe=Pf($.pathname,N);$.origin===J.origin&&oe!=null?j=oe+$.search+$.hash:F=!0}catch{}let D=Gg(j,{relative:f}),E=j1(j,{replace:x,state:g,target:y,preventScrollReset:k,relative:f,viewTransition:L});function q(J){l&&l(J),J.defaultPrevented||E(J)}return H.createElement("a",ff({},R,{href:z||D,onClick:F||u?l:q,ref:r,target:y}))});var np;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(np||(np={}));var rp;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(rp||(rp={}));function j1(s,a){let{target:r,replace:l,state:f,preventScrollReset:u,relative:x,viewTransition:g}=a===void 0?{}:a,y=ro(),j=Nc(),k=Em(s,{relative:x});return H.useCallback(L=>{if(p1(L,r)){L.preventDefault();let R=l!==void 0?l:Wd(j)===Wd(k);y(s,{replace:R,state:f,preventScrollReset:u,relative:x,viewTransition:g})}},[j,y,k,l,f,r,s,u,x,g])}function Rm(s){let a=H.useRef(hf(s)),r=H.useRef(!1),l=Nc(),f=H.useMemo(()=>m1(l.search,r.current?null:a.current),[l.search]),u=ro(),x=H.useCallback((g,y)=>{const j=hf(typeof g=="function"?g(f):g);r.current=!0,u("?"+j,y)},[u,f]);return[f,x]}function Hd({isOpen:s,message:a,type:r="success",onClose:l,title:f}){if(!s||!a)return null;const u=r==="success"?"success":"error",x=()=>{switch(u){case"success":return"fa-check-circle";case"error":return"fa-exclamation-circle";default:return"fa-exclamation-circle"}};return t.jsx("div",{className:"alert-modal-overlay",onClick:g=>{g.stopPropagation()},children:t.jsxs("div",{className:`alert-modal alert-modal--${u}`,onClick:g=>g.stopPropagation(),children:[t.jsxs("div",{className:"alert-modal-content",children:[t.jsxs("div",{className:"alert-modal-header",children:[t.jsx("div",{className:"alert-modal-icon",children:t.jsx("i",{className:`fas ${x()}`})}),f&&t.jsx("h3",{className:"alert-modal-title",children:f})]}),t.jsx("div",{className:"alert-modal-message",children:a})]}),t.jsx("div",{className:"alert-modal-divider"}),t.jsx("div",{className:"alert-modal-actions",children:t.jsx("button",{className:"primary-btn",onClick:l,children:"OK"})})]})})}function Wl({message:s,type:a="success",onClose:r,duration:l=3e3}){const[f,u]=H.useState(!1),[x,g]=H.useState(s),[y,j]=H.useState(a),k=H.useRef(null),L=H.useRef(null);if(H.useEffect(()=>{s&&(k.current&&clearTimeout(k.current),L.current&&clearTimeout(L.current),g(s),j(a),u(!1))},[s,a]),H.useEffect(()=>(k.current&&clearTimeout(k.current),L.current&&clearTimeout(L.current),x&&!f&&l>0&&(k.current=setTimeout(()=>{u(!0),L.current=setTimeout(()=>{r&&r(),g(null),u(!1)},350)},l)),()=>{k.current&&clearTimeout(k.current),L.current&&clearTimeout(L.current)}),[x,l,r,f]),!x)return null;const R=y==="success"?"success":"error";return t.jsx("div",{className:`notie notie--${R} ${f?"notie--exiting":""}`,children:t.jsx("div",{className:"notie-content",children:x})})}const ap={totalMembers:312,collectedMonth:12450,collectedYear:220800,outstanding:18400,overdueMembers:27,expectedAnnual:249600},sp=[{member:"Fatima Hussain",period:"Oct 2025",amount:"$50",method:"PayMe",status:"Paid",date:"02 Oct  09:11"},{member:"Ahmed Al-Rashid",period:"Oct 2025",amount:"$50",method:"FPS",status:"Paid",date:"05 Oct  10:22"},{member:"Aisha Malik",period:"Sep 2025",amount:"$100",method:"Card",status:"Unpaid",date:"30 Sep  12:44"},{member:"Omar Rahman",period:"Sep 2025",amount:"$100",method:"PayMe",status:"Overdue",date:"20 Sep  14:10"}],S1=[{id:"HK1001",name:"Shan Yeager",email:"0741sanjai@gmail.com",phone:"+852 9000 1234",status:"Active",balance:"$250 Outstanding",nextDue:"20 Nov 2025",lastPayment:"15 Oct 2025"},{id:"HK1021",name:"Ahmed Al-Rashid",email:"ahmed.rashid@hk.org",phone:"+852 9123 4567",status:"Active",balance:"$150 Outstanding",nextDue:"05 Nov 2025",lastPayment:"05 Oct 2025"},{id:"HK1088",name:"Fatima Hussain",email:"fatima.hussain@hk.org",phone:"+852 6789 1234",status:"Active",balance:"$0",nextDue:"05 Nov 2025",lastPayment:"02 Oct 2025"},{id:"HK1104",name:"Omar Rahman",email:"omar.rahman@hk.org",phone:"+852 9555 2011",status:"Inactive",balance:"$250 Overdue",nextDue:"20 Sep 2025",lastPayment:"15 Jul 2025"},{id:"HK1112",name:"Aisha Malik",email:"aisha.malik@hk.org",phone:"+852 9988 7766",status:"Active",balance:"$100 Unpaid",nextDue:"30 Sep 2025",lastPayment:"05 Aug 2025"},{id:"HK1125",name:"Yusuf Ibrahim",email:"yusuf.ibrahim@hk.org",phone:"+852 9234 5678",status:"Active",balance:"$50 Outstanding",nextDue:"10 Nov 2025",lastPayment:"10 Oct 2025"},{id:"HK1136",name:"Mariam Abdullah",email:"mariam.abdullah@hk.org",phone:"+852 9345 6789",status:"Active",balance:"$0",nextDue:"15 Nov 2025",lastPayment:"15 Oct 2025"},{id:"HK1147",name:"Hassan Al-Farsi",email:"hassan.farsi@hk.org",phone:"+852 9456 7890",status:"Active",balance:"$0",nextDue:"20 Nov 2025",lastPayment:"20 Oct 2025"},{id:"HK1158",name:"Zainab Mustafa",email:"zainab.mustafa@hk.org",phone:"+852 9567 8901",status:"Inactive",balance:"$200 Overdue",nextDue:"01 Oct 2025",lastPayment:"01 Aug 2025"}],N1=[{id:1,name:"Ibrahim Khan",role:"Owner",status:"Active"},{id:2,name:"Yasmin Ahmed",role:"Finance Admin",status:"Active"},{id:3,name:"Khalid Hassan",role:"Viewer",status:"Pending"}],k1=[{id:"INV-2025-095",memberId:"HK1001",memberName:"Shan Yeager",period:"Nov 2025 Monthly",amount:"$50",status:"Unpaid",due:"20 Nov 2025",method:"-",reference:"-"},{id:"INV-2025-094",memberId:"HK1001",memberName:"Shan Yeager",period:"Oct 2025 Monthly",amount:"$50",status:"Overdue",due:"20 Oct 2025",method:"-",reference:"-"},{id:"INV-2025-093",memberId:"HK1001",memberName:"Shan Yeager",period:"Sep 2025 Eid 2",amount:"$100",status:"Overdue",due:"30 Sep 2025",method:"-",reference:"-"},{id:"INV-2025-092",memberId:"HK1001",memberName:"Shan Yeager",period:"Sep 2025 Monthly",amount:"$50",status:"Overdue",due:"20 Sep 2025",method:"-",reference:"-"},{id:"INV-2025-091",memberId:"HK1021",memberName:"Ahmed Al-Rashid",period:"Oct 2025",amount:"$50",status:"Paid",due:"05 Oct 2025",method:"FPS",reference:"FP89231"},{id:"INV-2025-072",memberId:"HK1112",memberName:"Aisha Malik",period:"Sep 2025 (Eid)",amount:"$100",status:"Unpaid",due:"30 Sep 2025",method:"PayMe",reference:"PM22011"},{id:"INV-2025-051",memberId:"HK1021",memberName:"Ahmed Al-Rashid",period:"Aug 2025",amount:"$50",status:"Paid",due:"05 Aug 2025",method:"Bank Transfer",reference:"BT99127"}],ip=[{date:"05 Oct 2025",amount:"$50",method:"FPS",reference:"FP89231"},{date:"05 Sep 2025",amount:"$50",method:"PayMe",reference:"PM22110"},{date:"02 Apr 2025",amount:"$100",method:"Bank Transfer",reference:"BT44881"}],op=[{channel:"Email",message:"Upcoming due reminder",status:"Delivered",date:"02 Oct 2025"},{channel:"WhatsApp",message:"Overdue alert",status:"Pending",date:"01 Oct 2025"}],zu=[{label:"3 days before due date",channels:["Email","WhatsApp"]},{label:"On due date",channels:["Email","WhatsApp"]},{label:"5 days after due date",channels:["Email"]}],lp=[{name:"Direct Bank Transfer",visible:!0,details:["HSBC Hong Kong","123-456789-001","Subscription Manager HK"]},{name:"FPS",visible:!0,details:["FPS ID 1234567"]},{name:"Alipay",visible:!0,details:["Upload QR placeholder"]},{name:"PayMe",visible:!0,details:["Upload QR placeholder"]},{name:"Credit/Debit Cards",visible:!0,details:["Gateway: Stripe"]}];function A1(s={}){const{nonce:a,onScriptLoadSuccess:r,onScriptLoadError:l}=s,[f,u]=H.useState(!1),x=H.useRef(r);x.current=r;const g=H.useRef(l);return g.current=l,H.useEffect(()=>{const y=document.createElement("script");return y.src="https://accounts.google.com/gsi/client",y.async=!0,y.defer=!0,y.nonce=a,y.onload=()=>{var j;u(!0),(j=x.current)===null||j===void 0||j.call(x)},y.onerror=()=>{var j;u(!1),(j=g.current)===null||j===void 0||j.call(g)},document.body.appendChild(y),()=>{document.body.removeChild(y)}},[a]),f}const C1=H.createContext(null);function P1({clientId:s,nonce:a,onScriptLoadSuccess:r,onScriptLoadError:l,children:f}){const u=A1({nonce:a,onScriptLoadSuccess:r,onScriptLoadError:l}),x=H.useMemo(()=>({clientId:s,scriptLoadedSuccessfully:u}),[s,u]);return Af.createElement(C1.Provider,{value:x},f)}function L1(){const[s,a]=H.useState(null),[r,l]=H.useState(null),[f,u]=H.useState({email:"",password:""}),[x,g]=H.useState(!1),[y,j]=H.useState({email:"",password:""}),[k,L]=H.useState(null),[R,N]=H.useState("error"),z=ro();H.useEffect(()=>{sessionStorage.getItem("logoutReason")==="inactivity"&&(sessionStorage.removeItem("logoutReason"),a({type:"error",text:"Session expired due to inactivity. Please login again."}))},[]),H.useEffect(()=>(document.body.classList.add("login-page-body"),()=>{document.body.classList.remove("login-page-body")}),[]);const F=J=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(J),D=()=>{const J={email:"",password:""};return f.email.trim()?F(f.email.trim())?f.password?(j(J),!0):(J.password="Password is required",j(J),L("Password is required"),N("error"),!1):(J.email="Please enter a valid email address",j(J),L("Please enter a valid email address"),N("error"),!1):(J.email="Email is required",j(J),L("Email is required"),N("error"),!1)},E=!1,q=async J=>{{if(r!==null||!D())return;l(J),a(null),j({email:"",password:""}),L(null);try{const oe=await fetch("http://localhost:4000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f.email.trim(),password:f.password,role:J})});let ce;try{ce=await oe.json()}catch(Ee){console.error("JSON parse error:",Ee),L("Invalid response from server. Please try again."),N("error"),l(null);return}if(!oe.ok||!ce.success){ce.locked?L(ce.message||"Account temporarily locked due to multiple failed login attempts. Please try again later."):L(ce.message||"Invalid email or password. Please check your credentials and try again."),N("error"),l(null);return}sessionStorage.setItem("authToken",ce.token),ce.role==="Admin"?(sessionStorage.setItem("adminEmail",ce.email),sessionStorage.setItem("adminName",ce.name),ce.adminId&&sessionStorage.setItem("adminId",ce.adminId),ce.adminRole&&sessionStorage.setItem("adminRole",ce.adminRole),l(null),z("/admin",{replace:!0,state:{role:"Admin",token:ce.token,email:ce.email,name:ce.name,adminId:ce.adminId,adminRole:ce.adminRole}})):(sessionStorage.setItem("memberEmail",ce.email),sessionStorage.setItem("memberName",ce.name),sessionStorage.setItem("memberId",ce.memberId),l(null),z("/member",{replace:!0,state:{role:"Member",token:ce.token,email:ce.email,name:ce.name,memberId:ce.memberId,phone:ce.phone}}))}catch($){console.error("Login error:",$),L("Unable to connect. Please check your connection and try again."),N("error"),l(null)}}};return t.jsx(t.Fragment,{children:t.jsx("main",{className:"login-main login-page",children:t.jsxs("div",{className:"login-shell",children:[t.jsxs("aside",{className:"login-menu",children:[t.jsx("p",{className:"eyebrow light",children:"Welcome"}),t.jsx("h2",{children:"Subscription Manager HK"}),t.jsx("p",{children:"Streamlined portal for Hong Kong membership dues. Track monthly payments and automations from one place."}),t.jsxs("ul",{children:[t.jsx("li",{children:"Supports FPS, PayMe, bank transfers, cards"}),t.jsx("li",{children:"Automated reminders via email and WhatsApp"}),t.jsx("li",{children:"Clear dashboards for admins and members"})]})]}),t.jsxs("div",{className:"login-form-card",children:[t.jsx("div",{className:"login-form-card__header",children:t.jsxs("h1",{children:[t.jsx("i",{className:"fas fa-sign-in-alt login-title-icon"}),"Sign in"]})}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope login-icon"}),"Email ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsx("input",{type:"text",inputMode:"email",value:f.email,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","data-form-type":"other","data-lpignore":"true","data-1p-ignore":"true",title:"",onInvalid:J=>J.preventDefault(),onChange:J=>{u({...f,email:J.target.value}),y.email&&j({...y,email:""})},placeholder:"Enter your email address",className:`mono-input ${y.email?"input-error":""}`,disabled:r!==null})]}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock login-icon"}),"Password ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsxs("div",{className:"login-input-wrapper",children:[t.jsx("input",{type:x?"text":"password",value:f.password,autoComplete:"new-password",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","data-form-type":"other","data-lpignore":"true","data-1p-ignore":"true",title:"",onInvalid:J=>J.preventDefault(),onChange:J=>{u({...f,password:J.target.value}),y.password&&j({...y,password:""})},placeholder:"Enter your password",className:`mono-input login-input--with-icon ${y.password?"input-error":""}`,disabled:r!==null}),t.jsx("button",{type:"button",onClick:()=>g(!x),className:"login-password-toggle","aria-label":x?"Hide password":"Show password",disabled:r!==null,children:x?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),t.jsx("div",{className:"login-forgot-link",children:t.jsx(Kc,{to:"/forgot-password",onClick:J=>{r!==null&&J.preventDefault()},children:"Forgot Password?"})})]}),t.jsxs("div",{className:"login-hints",children:[t.jsxs("p",{className:"login-hints-title",children:[t.jsx("i",{className:"fas fa-info-circle login-icon"}),"Demo Credentials"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Admin:"})," admin2002@gmail.com / #Admin2204"]}),E]}),t.jsxs("div",{className:"login-buttons",children:[t.jsx("button",{type:"button",className:`btn-admin login-btn-wrapper ${r!==null?"login-btn--loading":""}`,onClick:()=>q("admin"),disabled:r!==null,children:r==="admin"?t.jsxs("span",{className:"login-btn-spinner",children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),t.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}),"Authorising"]}):"Login"}),E]}),E,t.jsx(Hd,{isOpen:!!s,message:s?.text,type:s?.type||"error",onClose:()=>a(null)}),t.jsx(Wl,{message:k,type:R,onClose:()=>L(null),duration:3e3})]})]})})})}function Qc({showCTA:s=!0,showLogout:a=!1,onLogout:r,showMobileMenu:l=!1,isMobileMenuOpen:f=!1,onMobileMenuToggle:u,isSticky:x=!1}){return t.jsxs("header",{className:`site-header ${x?"site-header--sticky":""}`,children:[l&&t.jsx("button",{className:"mobile-menu-toggle",onClick:g=>{g.stopPropagation(),u&&u()},"aria-label":"Toggle menu",type:"button",children:t.jsxs("span",{className:`hamburger ${f?"active":""}`,children:[t.jsx("span",{}),t.jsx("span",{}),t.jsx("span",{})]})}),t.jsxs("div",{className:"brand",children:[t.jsx("span",{className:"logo-mark",children:"SM"}),t.jsxs("div",{children:[t.jsx("p",{className:"logo-title",children:"Subscription Manager HK"}),t.jsx("p",{className:"logo-subtitle",children:"Recurring payments for Hong Kong memberships"})]})]}),s&&t.jsx(Kc,{className:"primary-btn",to:"/login",children:"Launch Demo"}),a&&t.jsx("button",{onClick:r,className:"ghost-btn",children:"Logout"})]})}function Xc(){return t.jsxs("footer",{className:"site-footer",children:[t.jsx("p",{children:" 2025 Subscription Manager HK  Built for recurring memberships in Hong Kong."}),t.jsx("p",{})]})}const Wa={Paid:"badge badge-paid",Unpaid:"badge badge-unpaid",Overdue:"badge badge-overdue","Due Soon":"badge badge-unpaid","Pending Verification":"badge badge-pending",Active:"badge badge-active",Inactive:"badge badge-inactive",Delivered:"badge badge-paid",Pending:"badge badge-pending",Completed:"badge badge-paid",Rejected:"badge badge-overdue"};function os({columns:s,rows:a}){const[r,l]=H.useState(!1),[f,u]=H.useState(null),[x,g]=H.useState({column:null,direction:"asc"});H.useEffect(()=>{const D=()=>{l(window.innerWidth<=768)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),H.useEffect(()=>{const D=E=>{E.key==="Escape"&&f!==null&&u(null)};return f!==null?(document.addEventListener("keydown",D),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.removeEventListener("keydown",D),document.body.style.overflow=""}},[f]);const y=(D,E)=>{const q=["Name","Member Name","Member","User","Donor Name","Source"];for(const J of q)if(E.includes(J)){const $=D[J];if($&&$!=="-"&&$!=="N/A"){if(typeof $=="object"&&$!==null&&$.render)continue;return $}}return null},j=(D,E)=>{if(!E.includes("Status"))return{status:null,borderClass:""};const q=D.Status;let J=null;if(typeof q=="object"&&q!==null&&q.render){const ce=q.render();typeof ce=="string"?J=ce:ce?.props?.children&&(J=ce.props.children)}else q&&(J=q);if(!J||J==="-"||J==="N/A")return{status:null,borderClass:""};const $=J.toLowerCase();let oe="mobile-card-border-default";return $.includes("active")||$.includes("paid")||$.includes("completed")?oe="mobile-card-border-success":$.includes("pending")?oe="mobile-card-border-warning":($.includes("inactive")||$.includes("overdue")||$.includes("rejected"))&&(oe="mobile-card-border-danger"),{status:J,borderClass:oe,statusValue:q}},k=(D,E)=>{const q=["Balance","Amount"];for(const J of q)if(E.includes(J)){const $=D[J];if($&&$!=="-"&&$!=="N/A"&&$!=="$0"){if(typeof $=="object"&&$!==null&&$.render)continue;return{label:J,value:$}}}return null},L=D=>{const E=["Amount","Balance","Outstanding","Total","Collected","Expected","Avg per Member","Transactions","Donation","Donations","Invoice #"];return D==="Status"||D==="Actions"?"center":E.includes(D)?"right":"left"},R=D=>{if(D==null)return"";if(typeof D=="number")return D;if(typeof D=="string"){const E=parseFloat(D.replace(/[^0-9.-]/g,"")||"NaN");return isNaN(E)?D.toLowerCase():E}return D},N=D=>{g(E=>E.column===D?{column:D,direction:E.direction==="asc"?"desc":"asc"}:{column:D,direction:"asc"})},z=H.useMemo(()=>{if(!x.column)return a;const D=x.column,E=x.direction==="asc"?1:-1;return[...a].sort((q,J)=>{const $=q[D],oe=J[D];if(typeof $=="object"&&$!==null&&$.render||typeof oe=="object"&&oe!==null&&oe.render)return 0;const ce=R($),Ee=R(oe);return ce<Ee?-1*E:ce>Ee?1*E:0})},[a,x]),F=(D,E,q,J)=>{const $=y(D,q),oe=k(D,q);return q.map(ce=>{if(["Name","Member","User","Donor Name","Source"].includes(ce)&&$)return null;const K=D[ce];let pe;if(typeof K=="object"&&K!==null&&K.render?pe=K.render():pe=typeof K=="string"&&Wa[K]&&ce==="Status"?t.jsx("span",{className:Wa[K],children:K}):K,!pe&&pe!==0&&pe!=="$0"||oe&&ce===oe.label)return null;if(ce==="Actions"){const ae=D[ce];if(typeof ae=="object"&&ae!==null&&ae.render)return t.jsxs("div",{className:"mobile-card-modal-row mobile-card-modal-row-actions",onClick:Z=>{(Z.target.tagName==="BUTTON"||Z.target.closest("button"))&&setTimeout(()=>{J()},150)},children:[t.jsx("div",{className:"mobile-card-modal-label",children:ce}),t.jsx("div",{className:"mobile-card-modal-value",children:ae.render()})]},`${ce}-${E}`)}const U=(ae=>({Email:"fa-envelope",WhatsApp:"fa-phone",Phone:"fa-phone",Balance:"fa-wallet",Amount:"fa-dollar-sign",Date:"fa-calendar","Due Date":"fa-calendar-alt",Period:"fa-calendar-week",Method:"fa-credit-card",Reference:"fa-hashtag",Status:"fa-info-circle",Type:"fa-tag",Details:"fa-file-alt",ID:"fa-id-card","Invoice #":"fa-file-invoice"})[ae]||null)(ce);return t.jsxs("div",{className:"mobile-card-modal-row",children:[t.jsxs("div",{className:"mobile-card-modal-label",children:[U&&t.jsx("i",{className:`fas ${U}`,style:{marginRight:"6px",color:"#5a31ea",fontSize:"0.75rem"}}),ce]}),t.jsx("div",{className:"mobile-card-modal-value",children:pe})]},`${ce}-${E}`)})};if(r){const D=f!==null?z[f]:null;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mobile-table-cards",children:z.map((E,q)=>{const J=y(E,s)||"View Details",$=j(E,s),oe=k(E,s);return t.jsx("div",{className:`mobile-table-card ${$.borderClass}`,style:E._rowStyle||{},onClick:()=>u(q),children:t.jsx("div",{className:"mobile-table-card-header",children:t.jsxs("div",{className:"mobile-table-card-header-content",children:[t.jsxs("div",{className:"mobile-table-card-title-section",children:[t.jsx("div",{className:"mobile-table-card-title",children:J}),oe&&t.jsxs("div",{className:"mobile-table-card-metric",children:[oe.label==="Balance"&&t.jsx("i",{className:"fas fa-wallet",style:{fontSize:"0.75rem",marginRight:"4px",color:"#666"}}),oe.label==="Amount"&&t.jsx("i",{className:"fas fa-dollar-sign",style:{fontSize:"0.75rem",marginRight:"4px",color:"#666"}}),t.jsx("span",{children:oe.value})]})]}),t.jsxs("div",{className:"mobile-table-card-header-right",children:[$.status&&t.jsx("div",{className:"mobile-table-card-status",children:typeof $.statusValue=="object"&&$.statusValue!==null&&$.statusValue.render?$.statusValue.render():t.jsx("span",{className:Wa[$.status]||"badge",children:$.status})}),t.jsx("div",{className:"mobile-table-card-arrow",children:t.jsx("i",{className:"fa-solid fa-chevron-right"})})]})]})})},`mobile-row-${q}`)})}),f!==null&&D&&t.jsx("div",{className:"mobile-card-modal-overlay",onClick:()=>u(null),children:t.jsxs("div",{className:"mobile-card-modal",onClick:E=>E.stopPropagation(),children:[t.jsxs("div",{className:"mobile-card-modal-header",children:[t.jsxs("div",{className:"mobile-card-modal-title-section",children:[t.jsx("div",{className:"mobile-card-modal-title",children:y(D,s)||"Details"}),k(D,s)&&t.jsxs("div",{className:"mobile-card-modal-metric",children:[k(D,s).label==="Balance"&&t.jsx("i",{className:"fas fa-wallet",style:{fontSize:"0.75rem",marginRight:"4px",color:"#666"}}),k(D,s).label==="Amount"&&t.jsx("i",{className:"fas fa-dollar-sign",style:{fontSize:"0.75rem",marginRight:"4px",color:"#666"}}),t.jsx("span",{children:k(D,s).value})]})]}),t.jsx("button",{className:"mobile-card-modal-close",onClick:()=>u(null),"aria-label":"Close",children:t.jsx("i",{className:"fa-solid fa-times"})})]}),t.jsx("div",{className:"mobile-card-modal-content",children:F(D,f,s,()=>u(null))})]})})]})}return t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsx("tr",{children:s.map(D=>{const E=L(D),q=x.column===D,J=q?x.direction==="asc"?"":"":"";return t.jsx("th",{style:{textAlign:E,cursor:"pointer",whiteSpace:"nowrap"},onClick:()=>N(D),"aria-sort":q?x.direction==="asc"?"ascending":"descending":"none",children:t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px"},children:[t.jsx("span",{children:D}),t.jsx("span",{style:{fontSize:"0.7rem",opacity:.7},children:J})]})},D)})})}),t.jsx("tbody",{children:z.map((D,E)=>{let q=!1;const J=D.Status;if(J)if(typeof J=="object"&&J!==null&&J.render){const $=J.render();if(typeof $=="object"&&$?.props){const oe=$.props.className||"",ce=$.props.children;q=oe.includes("badge-overdue")||oe.includes("badge-unpaid")||typeof ce=="string"&&(ce.toLowerCase().includes("overdue")||ce.toLowerCase().includes("unpaid")||ce.toLowerCase().includes("rejected"))}}else typeof J=="string"&&(q=J==="Overdue"||J==="Unpaid"||J==="Rejected"||Wa[J]?.includes("badge-overdue")||Wa[J]?.includes("badge-unpaid"));return t.jsx("tr",{style:{...D._rowStyle||{},background:q?"#fef2f2":void 0},children:s.map($=>{const oe=D[$],ce=L($);if(typeof oe=="object"&&oe!==null&&oe.render){const fe=oe.render();return t.jsx("td",{"data-label":$,style:{textAlign:ce,verticalAlign:"middle"},children:fe},`${$}-render-${E}`)}const Ee=typeof oe=="string"&&Wa[oe]&&$==="Status";return t.jsx("td",{"data-label":$,style:{textAlign:ce,verticalAlign:"middle"},children:Ee?t.jsx("span",{className:Wa[oe],children:oe}):oe},`${$}-${E}`)})},`${D.id??E}-${E}`)})})]})}function uc({currentPage:s,totalPages:a,onPageChange:r,pageSize:l,onPageSizeChange:f,totalItems:u,pageSizeOptions:x=[5,10,20,50,100]}){if(a<=1&&l>=u)return null;const g=(s-1)*l+1,y=Math.min(s*l,u);return t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"16px",padding:"16px",borderTop:"1px solid #e0e0e0",background:"#f9fafb"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:[t.jsxs("span",{style:{fontSize:"0.875rem",color:"#666"},children:["Showing ",g," to ",y," of ",u," items"]}),t.jsxs("label",{style:{fontSize:"0.875rem",color:"#666",display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap"},children:[t.jsx("span",{children:"Items per page:"}),t.jsx("select",{value:l,onChange:j=>{f(Number(j.target.value)),r(1)},style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #e0e0e0",fontSize:"0.875rem",background:"#fff",cursor:"pointer",minWidth:"70px"},children:x.map(j=>t.jsx("option",{value:j,children:j},j))})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("button",{onClick:()=>r(1),disabled:s===1,style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #e0e0e0",background:s===1?"#f5f5f5":"#fff",cursor:s===1?"not-allowed":"pointer",fontSize:"0.875rem",color:s===1?"#999":"#333",opacity:s===1?.5:1},children:" First"}),t.jsx("button",{onClick:()=>r(s-1),disabled:s===1,style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #e0e0e0",background:s===1?"#f5f5f5":"#fff",cursor:s===1?"not-allowed":"pointer",fontSize:"0.875rem",color:s===1?"#999":"#333",opacity:s===1?.5:1},children:" Prev"}),t.jsxs("span",{style:{fontSize:"0.875rem",color:"#666",padding:"0 8px"},children:["Page ",s," of ",a]}),t.jsx("button",{onClick:()=>r(s+1),disabled:s===a,style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #e0e0e0",background:s===a?"#f5f5f5":"#fff",cursor:s===a?"not-allowed":"pointer",fontSize:"0.875rem",color:s===a?"#999":"#333",opacity:s===a?.5:1},children:"Next "}),t.jsx("button",{onClick:()=>r(a),disabled:s===a,style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #e0e0e0",background:s===a?"#f5f5f5":"#fff",cursor:s===a?"not-allowed":"pointer",fontSize:"0.875rem",color:s===a?"#999":"#333",opacity:s===a?.5:1},children:"Last "})]})]})}function _1({text:s,children:a,position:r="top",delay:l=200}){const[f,u]=H.useState(!1),[x,g]=H.useState({top:0,left:0}),y=H.useRef(null),j=H.useRef(null),k=H.useRef(null);H.useEffect(()=>()=>{k.current&&clearTimeout(k.current)},[]);const L=()=>{if(!j.current||!y.current)return;const z=j.current.getBoundingClientRect(),F=y.current.getBoundingClientRect(),D=8;let E=0,q=0;switch(r){case"top":E=z.top-F.height-D,q=z.left+z.width/2-F.width/2;break;case"bottom":E=z.bottom+D,q=z.left+z.width/2-F.width/2;break;case"left":E=z.top+z.height/2-F.height/2,q=z.left-F.width-D;break;case"right":E=z.top+z.height/2-F.height/2,q=z.right+D;break;default:E=z.top-F.height-D,q=z.left+z.width/2-F.width/2}const J=window.innerWidth,$=window.innerHeight;q<8&&(q=8),q+F.width>J-8&&(q=J-F.width-8),E<8&&(E=8),E+F.height>$-8&&(E=$-F.height-8),g({top:E,left:q})},R=()=>{k.current=setTimeout(()=>{u(!0),setTimeout(()=>{L()},10)},l)},N=()=>{k.current&&clearTimeout(k.current),u(!1)};return s?t.jsxs("span",{ref:j,className:"tooltip-trigger",onMouseEnter:R,onMouseLeave:N,style:{display:"inline-block",position:"relative"},children:[a,f&&t.jsxs("div",{ref:y,className:`tooltip tooltip--${r}`,style:{top:`${x.top}px`,left:`${x.left}px`},children:[t.jsx("div",{className:"tooltip-content",children:s}),t.jsx("div",{className:`tooltip-arrow tooltip-arrow--${r}`})]})]}):a}const Td=[{code:"HK",name:"Hong Kong",dialCode:"+852",flag:"",minLength:8,maxLength:8},{code:"CN",name:"China",dialCode:"+86",flag:"",minLength:11,maxLength:11},{code:"US",name:"United States",dialCode:"+1",flag:"",minLength:10,maxLength:10},{code:"GB",name:"United Kingdom",dialCode:"+44",flag:"",minLength:10,maxLength:10},{code:"IN",name:"India",dialCode:"+91",flag:"",minLength:10,maxLength:10},{code:"SG",name:"Singapore",dialCode:"+65",flag:"",minLength:8,maxLength:8},{code:"MY",name:"Malaysia",dialCode:"+60",flag:"",minLength:9,maxLength:10},{code:"TH",name:"Thailand",dialCode:"+66",flag:"",minLength:9,maxLength:9},{code:"PH",name:"Philippines",dialCode:"+63",flag:"",minLength:10,maxLength:10},{code:"ID",name:"Indonesia",dialCode:"+62",flag:"",minLength:9,maxLength:12},{code:"AU",name:"Australia",dialCode:"+61",flag:"",minLength:9,maxLength:9},{code:"NZ",name:"New Zealand",dialCode:"+64",flag:"",minLength:8,maxLength:10},{code:"JP",name:"Japan",dialCode:"+81",flag:"",minLength:10,maxLength:11},{code:"KR",name:"South Korea",dialCode:"+82",flag:"",minLength:9,maxLength:11},{code:"TW",name:"Taiwan",dialCode:"+886",flag:"",minLength:9,maxLength:9},{code:"VN",name:"Vietnam",dialCode:"+84",flag:"",minLength:9,maxLength:10},{code:"CA",name:"Canada",dialCode:"+1",flag:"",minLength:10,maxLength:10},{code:"DE",name:"Germany",dialCode:"+49",flag:"",minLength:10,maxLength:11},{code:"FR",name:"France",dialCode:"+33",flag:"",minLength:9,maxLength:9},{code:"IT",name:"Italy",dialCode:"+39",flag:"",minLength:9,maxLength:10},{code:"ES",name:"Spain",dialCode:"+34",flag:"",minLength:9,maxLength:9},{code:"NL",name:"Netherlands",dialCode:"+31",flag:"",minLength:9,maxLength:9},{code:"BE",name:"Belgium",dialCode:"+32",flag:"",minLength:9,maxLength:9},{code:"CH",name:"Switzerland",dialCode:"+41",flag:"",minLength:9,maxLength:9},{code:"AT",name:"Austria",dialCode:"+43",flag:"",minLength:10,maxLength:13},{code:"SE",name:"Sweden",dialCode:"+46",flag:"",minLength:9,maxLength:9},{code:"NO",name:"Norway",dialCode:"+47",flag:"",minLength:8,maxLength:8},{code:"DK",name:"Denmark",dialCode:"+45",flag:"",minLength:8,maxLength:8},{code:"FI",name:"Finland",dialCode:"+358",flag:"",minLength:9,maxLength:10},{code:"PL",name:"Poland",dialCode:"+48",flag:"",minLength:9,maxLength:9},{code:"BR",name:"Brazil",dialCode:"+55",flag:"",minLength:10,maxLength:11},{code:"MX",name:"Mexico",dialCode:"+52",flag:"",minLength:10,maxLength:10},{code:"AR",name:"Argentina",dialCode:"+54",flag:"",minLength:10,maxLength:10},{code:"ZA",name:"South Africa",dialCode:"+27",flag:"",minLength:9,maxLength:9},{code:"AE",name:"UAE",dialCode:"+971",flag:"",minLength:9,maxLength:9},{code:"SA",name:"Saudi Arabia",dialCode:"+966",flag:"",minLength:9,maxLength:9},{code:"IL",name:"Israel",dialCode:"+972",flag:"",minLength:9,maxLength:9},{code:"TR",name:"Turkey",dialCode:"+90",flag:"",minLength:10,maxLength:10},{code:"RU",name:"Russia",dialCode:"+7",flag:"",minLength:10,maxLength:10},{code:"EG",name:"Egypt",dialCode:"+20",flag:"",minLength:10,maxLength:10},{code:"NG",name:"Nigeria",dialCode:"+234",flag:"",minLength:10,maxLength:10},{code:"KE",name:"Kenya",dialCode:"+254",flag:"",minLength:9,maxLength:9}],cp=s=>{if(!s)return{country:Td[0],number:""};const a=s.replace(/[^\d+]/g,"");for(const r of Td)if(a.startsWith(r.dialCode)){const l=a.substring(r.dialCode.length);return{country:r,number:l}}return{country:Td[0],number:a.replace(/[^\d]/g,"")}},Yc=({value:s="",onChange:a,onBlur:r,required:l=!1,placeholder:f="Enter phone number",className:u="",style:x={},error:g=null,label:y=null,id:j=null,"aria-invalid":k=!1,onError:L=null})=>{const R=cp(s),[N,z]=H.useState(R.country),[F,D]=H.useState(R.number),[E,q]=H.useState(!1),[J,$]=H.useState(""),oe=H.useRef(null),ce=H.useRef(null);H.useEffect(()=>{const Z=cp(s);z(Z.country),D(Z.number)},[s]),H.useEffect(()=>{const Z=xe=>{oe.current&&!oe.current.contains(xe.target)&&(q(!1),$(""))};return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[]);const Ee=Td.filter(Z=>{const xe=J.toLowerCase().trim();return!!(!xe||Z.name.toLowerCase().includes(xe)||Z.dialCode.includes(J)||Z.code.toLowerCase().includes(xe))}),fe=Z=>{z(Z),q(!1),$("");const xe=F?`${Z.dialCode}${F}`:"";a?.({target:{value:xe}}),setTimeout(()=>ce.current?.focus(),0)},K=Z=>{const Ae=Z.target.value.replace(/\D/g,"");D(Ae);const ke=Ae?`${N.dialCode}${Ae}`:"";a?.({target:{value:ke}})},pe=(Z=!0)=>F?F.replace(/\D/g,"").length<N.minLength?`Phone number must be at least ${N.minLength} digits for ${N.name}`:null:Z&&l?"Phone number is required":null,B=pe(!0),U=B||u&&u.includes("admin-phone-input-error"),ae=Z=>{const xe=pe(!1);xe&&L&&L(xe),r&&r(Z)};return t.jsxs("div",{className:"phone-input-container",children:[y&&t.jsx("div",{className:"phone-input-label-wrapper",children:typeof y=="string"?t.jsx("span",{className:"phone-input-label-text",children:y}):y}),t.jsxs("div",{className:"phone-input-wrapper",children:[t.jsxs("div",{className:"phone-input-country-selector",ref:oe,children:[t.jsxs("button",{type:"button",onClick:()=>q(!E),className:`phone-input-country-button ${U?"phone-input-country-button-error":""}`,children:[t.jsx("span",{className:`fi fi-${N.code.toLowerCase()} phone-input-country-flag`}),t.jsx("span",{className:"phone-input-country-code",children:N.dialCode}),t.jsx("i",{className:`fas fa-chevron-down phone-input-country-chevron ${E?"phone-input-country-chevron-open":""}`})]}),E&&t.jsxs("div",{className:"phone-input-country-dropdown",children:[t.jsx("div",{className:"phone-input-country-search",children:t.jsx("input",{type:"text",placeholder:"Search by name or code...",value:J,onChange:Z=>$(Z.target.value),className:"phone-input-country-search-input",autoFocus:!0})}),t.jsx("div",{className:"phone-input-country-list",children:Ee.length===0?t.jsx("div",{className:"phone-input-country-empty",children:"No countries found"}):Ee.map(Z=>t.jsxs("button",{type:"button",onClick:()=>fe(Z),className:`phone-input-country-item ${N.code===Z.code?"phone-input-country-item-selected":""}`,children:[t.jsx("span",{className:`fi fi-${Z.code.toLowerCase()} phone-input-country-item-flag`}),t.jsx("span",{className:"phone-input-country-item-name",children:Z.name}),t.jsx("span",{className:"phone-input-country-item-code",children:Z.dialCode})]},Z.code))})]})]}),t.jsx("input",{ref:ce,id:j,type:"tel",inputMode:"numeric",required:l,value:F,onChange:K,onBlur:ae,placeholder:f,className:`phone-input-field ${u||""} ${U?"phone-input-field-error":""}`,"aria-invalid":k||!!B,onInvalid:Z=>Z.preventDefault()})]})]})},Tm=H.createContext();function I1({children:s}){const[a,r]=H.useState([]),[l,f]=H.useState([]),[u,x]=H.useState([]),[g,y]=H.useState([]),[j,k]=H.useState([]),[L,R]=H.useState(!0),[N,z]=H.useState(()=>{const ye=localStorage.getItem("recentPayments");return ye?JSON.parse(ye):sp}),[F,D]=H.useState(()=>{const ye=localStorage.getItem("paymentHistory");return ye?JSON.parse(ye):ip}),[E,q]=H.useState(()=>{const ye=localStorage.getItem("communicationLog");return ye?JSON.parse(ye):op}),[J,$]=H.useState([]),[oe,ce]=H.useState([]),[Ee,fe]=H.useState(lp),[K,pe]=H.useState(()=>{const ye=localStorage.getItem("metrics");return ye?JSON.parse(ye):ap}),[B,U]=H.useState(()=>{try{const ye=localStorage.getItem("reminderRules");return ye?JSON.parse(ye):zu}catch{return zu}}),[ae,Z]=H.useState(!0),[xe,Ae]=H.useState(()=>{const ye=localStorage.getItem("reminderTemplates");return ye?JSON.parse(ye):{upcomingDue:"Hi {{member_name}}, friendly reminder your {{period}} subscription of ${{amount}} is due on {{due_date}}. You can pay via FPS, PayMe, or card. Thank you!",overdue:"Hi {{member_name}}, your {{period}} contribution of ${{amount}} is now overdue. Please settle via the member portal or reply once paid."}}),[ke,le]=H.useState(()=>{const ye=localStorage.getItem("organizationInfo");return ye?JSON.parse(ye):{name:"Subscription Manager HK",email:"support@subscriptionhk.org",phone:"+852 2800 1122",address:"123 Central Street, Hong Kong"}}),[Se,Fe]=H.useState(()=>{try{const ye=localStorage.getItem("userLocale");return ye||navigator.language||navigator.userLanguage||"en-US"}catch(ye){return console.error("Error getting user locale:",ye),"en-US"}}),Q=ye=>{try{localStorage.setItem("userLocale",ye),Fe(ye),window.dispatchEvent(new CustomEvent("localeChanged",{detail:{locale:ye}}))}catch(ue){console.error("Error setting user locale:",ue)}},[_,W]=H.useState(null),Y="http://localhost:4000",re=async()=>{try{const ye=await fetch(`${Y}/api/members`);if(!ye.ok)throw new Error("Failed to fetch members");const ue=await ye.json();r(ue),console.log(" Loaded",ue.length,"members from server")}catch(ye){throw console.error("Error fetching members:",ye),r([]),ye}},ee=async()=>{try{const ye=await fetch(`${Y}/api/admins`);if(!ye.ok)throw new Error("Failed to fetch admins");const ue=await ye.json();f(ue),console.log(" Loaded",ue.length,"Admins from server")}catch(ye){throw console.error("Error fetching Admins:",ye),f([]),ye}},me=async()=>{try{const ye=await fetch(`${Y}/api/invoices`);if(!ye.ok)throw new Error("Failed to fetch invoices");const ue=await ye.json();x(ue),console.log(" Loaded",ue.length,"invoices from MongoDB")}catch(ye){throw console.error("Error fetching invoices:",ye),x([]),ye}},Ce=async()=>{try{const ye=await fetch(`${Y}/api/payments`);if(!ye.ok)throw new Error("Failed to fetch payments");const ue=await ye.json();y(ue),D(ue),z(ue.slice(0,10)),console.log(" Loaded",ue.length,"payments from MongoDB")}catch(ye){throw console.error("Error fetching payments:",ye),y([]),D([]),z([]),ye}},_e=async()=>{try{const ye=await fetch(`${Y}/api/donations`);if(!ye.ok)throw new Error("Failed to fetch donations");const ue=await ye.json();k(ue),console.log(" Loaded",ue.length,"donations from MongoDB")}catch(ye){console.error("Error fetching donations:",ye),k([])}},Be=async()=>{try{const ye=await fetch(`${Y}/api/payment-methods`);if(!ye.ok)throw new Error("Failed to fetch payment methods");const ue=await ye.json();if(ue.length===0){console.log(" No payment methods in database, initializing defaults...");const Re=[{name:"Alipay",visible:!1,qrImageUrl:"",details:[]},{name:"PayMe",visible:!1,qrImageUrl:"",details:[]},{name:"FPS",visible:!0,details:["FPS ID 1234567"]},{name:"Direct Bank Transfer",visible:!0,details:["HSBC Hong Kong","123-456789-001","Subscription Manager HK"]},{name:"Credit/Debit Cards",visible:!0,details:["Gateway: Stripe"]}];for(const at of Re)try{await fetch(`${Y}/api/payment-methods`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(at)})}catch(Xe){console.error(`Error initializing payment method ${at.name}:`,Xe)}fe(Re),console.log(" Initialized default payment methods in database")}else fe(ue),console.log(" Loaded",ue.length,"payment methods from MongoDB")}catch(ye){throw console.error("Error fetching payment methods:",ye),fe([]),ye}},Le=async()=>{try{const ye=await fetch(`${Y}/api/reminders/logs`);if(!ye.ok)throw new Error("Failed to fetch reminder logs");const ue=await ye.json();$(ue),console.log(" Loaded",ue.length,"reminder logs from MongoDB")}catch(ye){console.error("Error fetching reminder logs:",ye),$([])}},Ge=async()=>{try{const ye=await fetch(`${Y}/api/auth/password-reset-requests`);if(!ye.ok)throw new Error("Failed to fetch password reset requests");const ue=await ye.json();ce(ue),console.log(" Loaded",ue.length,"password reset requests from MongoDB")}catch(ye){console.error("Error fetching password reset requests:",ye),ce([])}};H.useEffect(()=>{(async()=>{try{const ue=Promise.allSettled([re(),ee(),me()]),Re=Promise.allSettled([Ce(),_e(),Be(),Le()]);await Promise.allSettled([ue,Re]),R(!1)}catch(ue){console.error("Error fetching initial data:",ue),R(!1)}})()},[]),H.useEffect(()=>{localStorage.setItem("recentPayments",JSON.stringify(N))},[N]),H.useEffect(()=>{localStorage.setItem("paymentHistory",JSON.stringify(F))},[F]),H.useEffect(()=>{localStorage.setItem("communicationLog",JSON.stringify(E))},[E]),H.useEffect(()=>{localStorage.setItem("metrics",JSON.stringify(K))},[K]),H.useEffect(()=>{localStorage.setItem("reminderRules",JSON.stringify(B))},[B]),H.useEffect(()=>{localStorage.setItem("reminderTemplates",JSON.stringify(xe))},[xe]),H.useEffect(()=>{localStorage.setItem("organizationInfo",JSON.stringify(ke))},[ke]),H.useEffect(()=>{},[]);const tt=async ye=>{try{const ue=await fetch(`${Y}/api/members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ye)});if(!ue.ok)throw new Error("Failed to add member");const Re=await ue.json();return r([...a,Re]),pt({totalMembers:K.totalMembers+1}),console.log(" Member added to server:",Re),Re}catch(ue){throw console.error("Error adding member:",ue),ue}},it=async(ye,ue)=>{try{const Re=await fetch(`${Y}/api/members/${ye}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ue)});if(!Re.ok)throw new Error("Failed to update member");const at=await Re.json();r(a.map(Xe=>Xe.id===ye?at:Xe)),console.log(" Member updated on server:",at)}catch(Re){throw console.error("Error updating member:",Re),Re}},G=async ye=>{try{if(!(await fetch(`${Y}/api/members/${ye}`,{method:"DELETE"})).ok)throw new Error("Failed to delete member");r(a.filter(Re=>Re.id!==ye)),x(u.filter(Re=>Re.memberId!==ye)),pt({totalMembers:K.totalMembers-1}),console.log(" Member deleted from server:",ye)}catch(ue){throw console.error("Error deleting member:",ue),ue}},Ve=async ye=>{try{const ue=await fetch(`${Y}/api/invoices`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ye)});if(!ue.ok)throw new Error("Failed to add invoice");const Re=await ue.json();return x([Re,...u]),console.log(" Invoice added to server:",Re),Re}catch(ue){throw console.error("Error adding invoice:",ue),ue}},vt=async(ye,ue)=>{try{const Re=await fetch(`${Y}/api/invoices/${ye}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ue)});if(!Re.ok)throw new Error("Failed to update invoice");const at=await Re.json();if(x(u.map(Xe=>Xe.id===ye?at:Xe)),ue.status==="Paid"){const Xe=u.find(ct=>ct.id===ye);if(Xe&&Xe.status!=="Paid"){const ct=parseFloat(Xe.amount.replace("$",""));pt({collectedMonth:K.collectedMonth+ct,collectedYear:K.collectedYear+ct,outstanding:K.outstanding-ct})}}console.log(" Invoice updated on server:",at)}catch(Re){throw console.error("Error updating invoice:",Re),Re}},ht=async ye=>{try{if(!(await fetch(`${Y}/api/invoices/${ye}`,{method:"DELETE"})).ok)throw new Error("Failed to delete invoice");x(u.filter(Re=>Re.id!==ye)),console.log(" Invoice deleted from server:",ye)}catch(ue){throw console.error("Error deleting invoice:",ue),ue}},Ye=async ye=>{try{const ue={...ye,date:ye.date||new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})},Re=await fetch(`${Y}/api/payments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ue)});if(!Re.ok){const ct=await Re.json().catch(()=>({}));throw new Error(ct.error||"Failed to save payment")}const at=await Re.json();y([at,...g]),z([at,...N]),D([at,...F]),ye.invoiceId&&await vt(ye.invoiceId,{status:"Paid",method:ye.method,reference:ye.reference,screenshot:ye.screenshot||ye.screenshotUrl,paidToAdmin:ye.paidToAdmin,paidToAdminName:ye.paidToAdminName});const Xe=parseFloat(ye.amount.replace("$",""));return pt({collectedMonth:K.collectedMonth+Xe,collectedYear:K.collectedYear+Xe,outstanding:Math.max(0,K.outstanding-Xe)}),console.log(" Payment saved to MongoDB:",at),at}catch(ue){console.error("Error adding payment:",ue);const Re={...ye,date:ye.date||new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})};throw z([Re,...N]),D([Re,...F]),ue}},gt=ye=>{const ue={...ye,date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Delivered"};return q([ue,...E]),ue},ot=async(ye,ue)=>{try{const Re=await fetch(`${Y}/api/payment-methods/${ye}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ue)});if(!Re.ok)throw new Error("Failed to update payment method");const at=await Re.json();return fe(Ee.map(Xe=>Xe.name===ye?at:Xe)),console.log(" Payment method updated in database:",at),at}catch(Re){throw console.error("Error updating payment method:",Re),fe(Ee.map(at=>at.name===ye?{...at,...ue}:at)),Re}},pt=ye=>{pe({...K,...ye})},Gt={members:a,invoices:u,payments:g,donations:j,loading:L,fetchMembers:re,fetchAdmins:ee,fetchInvoices:me,fetchPayments:Ce,fetchDonations:_e,fetchPaymentMethods:Be,fetchReminderLogs:Le,fetchPasswordResetRequests:Ge,recentPayments:N,paymentHistory:F,communicationLog:E,reminderLogs:J,passwordResetRequests:oe,paymentMethods:Ee,metrics:K,reminderRules:B,automationEnabled:ae,setAutomationEnabled:Z,reminderTemplates:xe,organizationInfo:ke,admins:l,selectedMember:_,setSelectedMember:W,addMember:tt,updateMember:it,deleteMember:G,addInvoice:Ve,updateInvoice:vt,deleteInvoice:ht,addPayment:Ye,addDonation:async ye=>{try{const ue=await fetch(`${Y}/api/donations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ye)});if(!ue.ok){const at=await ue.json().catch(()=>({}));throw new Error(at.error||"Failed to add donation")}const Re=await ue.json();return k([Re,...j]),console.log(" Donation added to server:",Re),Re}catch(ue){throw console.error("Error adding donation:",ue),ue}},deleteDonation:async ye=>{try{const ue=await fetch(`${Y}/api/donations/${ye}`,{method:"DELETE"});if(!ue.ok){const Re=await ue.json().catch(()=>({}));throw new Error(Re.error||"Failed to delete donation")}k(j.filter(Re=>Re._id!==ye)),console.log(" Donation deleted from server:",ye)}catch(ue){throw console.error("Error deleting donation:",ue),ue}},addCommunication:gt,updatePaymentMethod:ot,updateMetrics:pt,updateReminderRule:(ye,ue)=>{U(B.map(Re=>Re.label===ye?{...Re,channels:ue}:Re))},updateReminderTemplate:(ye,ue)=>{Ae({...xe,[ye]:ue})},updateOrganizationInfo:ye=>{le({...ke,...ye})},userLocale:Se,updateUserLocale:Q,addAdminUser:async ye=>{try{const ue=await fetch(`${Y}/api/admins`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ye.name,email:ye.email||"",role:ye.role||"Viewer",status:ye.status||"Active",password:ye.password||""})});if(!ue.ok){const at=await ue.json().catch(()=>({}));throw new Error(at.message||"Failed to create admin")}const Re=await ue.json();return f([...l,Re]),await ee(),Re}catch(ue){throw console.error("Error adding admin:",ue),ue}},updateAdminUser:async(ye,ue)=>{try{const Re=await fetch(`${Y}/api/admins/${ye}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ue)});if(!Re.ok){const Xe=await Re.json().catch(()=>({}));throw new Error(Xe.message||"Failed to update admin")}const at=await Re.json();return f(l.map(Xe=>Xe.id===ye?at:Xe)),await ee(),at}catch(Re){throw console.error("Error updating admin:",Re),Re}},deleteAdminUser:async ye=>{try{const ue=await fetch(`${Y}/api/admins/${ye}`,{method:"DELETE"});if(!ue.ok){const Re=await ue.json().catch(()=>({}));throw new Error(Re.message||"Failed to delete admin")}f(l.filter(Re=>Re.id!==ye)),await ee()}catch(ue){throw console.error("Error deleting admin:",ue),ue}},resetAllData:()=>{localStorage.clear(),r(S1),f(N1),x(k1),z(sp),D(ip),q(op),fe(lp),pe(ap),U(zu),Z(!0),localStorage.setItem("dataVersion","v2.0")}};return t.jsx(Tm.Provider,{value:Gt,children:s})}function Qd(){const s=H.useContext(Tm);if(!s)throw new Error("useApp must be used within AppProvider");return s}function Om(s=15){const a=ro(),r=H.useRef(null),l=H.useRef(Date.now()),f=()=>{l.current=Date.now(),r.current&&clearTimeout(r.current);const u=s*60*1e3;r.current=setTimeout(()=>{sessionStorage.clear(),sessionStorage.setItem("logoutReason","inactivity"),a("/login",{replace:!0})},u)};H.useEffect(()=>{const u=["mousedown","mousemove","keypress","scroll","touchstart","click","keydown"],x=()=>{f()};return f(),u.forEach(g=>{document.addEventListener(g,x,!0)}),()=>{u.forEach(g=>{document.removeEventListener(g,x,!0)}),r.current&&clearTimeout(r.current)}},[a,s])}const E1="modulepreload",M1=function(s){return"/"+s},dp={},Uu=function(a,r,l){let f=Promise.resolve();if(r&&r.length>0){let y=function(j){return Promise.all(j.map(k=>Promise.resolve(k).then(L=>({status:"fulfilled",value:L}),L=>({status:"rejected",reason:L}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),g=x?.nonce||x?.getAttribute("nonce");f=y(r.map(j=>{if(j=M1(j),j in dp)return;dp[j]=!0;const k=j.endsWith(".css"),L=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${j}"]${L}`))return;const R=document.createElement("link");if(R.rel=k?"stylesheet":E1,k||(R.as="script"),R.crossOrigin="",R.href=j,g&&R.setAttribute("nonce",g),document.head.appendChild(R),k)return new Promise((N,z)=>{R.addEventListener("load",N),R.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${j}`)))})}))}function u(x){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=x,window.dispatchEvent(g),!g.defaultPrevented)throw x}return f.then(x=>{for(const g of x||[])g.status==="rejected"&&u(g.reason);return a().catch(u)})};function qn(s){"@babel/helpers - typeof";return qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},qn(s)}var no=Uint8Array,gi=Uint16Array,Ef=Int32Array,Mf=new no([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Df=new no([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),up=new no([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Bm=function(s,a){for(var r=new gi(31),l=0;l<31;++l)r[l]=a+=1<<s[l-1];for(var f=new Ef(r[30]),l=1;l<30;++l)for(var u=r[l];u<r[l+1];++u)f[u]=u-r[l]<<5|l;return{b:r,r:f}},zm=Bm(Mf,2),D1=zm.b,pf=zm.r;D1[28]=258,pf[258]=28;var F1=Bm(Df,0),fp=F1.r,mf=new gi(32768);for(var cr=0;cr<32768;++cr){var pl=(cr&43690)>>1|(cr&21845)<<1;pl=(pl&52428)>>2|(pl&13107)<<2,pl=(pl&61680)>>4|(pl&3855)<<4,mf[cr]=((pl&65280)>>8|(pl&255)<<8)>>1}var $c=(function(s,a,r){for(var l=s.length,f=0,u=new gi(a);f<l;++f)s[f]&&++u[s[f]-1];var x=new gi(a);for(f=1;f<a;++f)x[f]=x[f-1]+u[f-1]<<1;var g;if(r){g=new gi(1<<a);var y=15-a;for(f=0;f<l;++f)if(s[f])for(var j=f<<4|s[f],k=a-s[f],L=x[s[f]-1]++<<k,R=L|(1<<k)-1;L<=R;++L)g[mf[L]>>y]=j}else for(g=new gi(l),f=0;f<l;++f)s[f]&&(g[f]=mf[x[s[f]-1]++]>>15-s[f]);return g}),ql=new no(288);for(var cr=0;cr<144;++cr)ql[cr]=8;for(var cr=144;cr<256;++cr)ql[cr]=9;for(var cr=256;cr<280;++cr)ql[cr]=7;for(var cr=280;cr<288;++cr)ql[cr]=8;var Vd=new no(32);for(var cr=0;cr<32;++cr)Vd[cr]=5;var R1=$c(ql,9,0),T1=$c(Vd,5,0),Um=function(s){return(s+7)/8|0},O1=function(s,a,r){return(r==null||r>s.length)&&(r=s.length),new no(s.subarray(a,r))},Go=function(s,a,r){r<<=a&7;var l=a/8|0;s[l]|=r,s[l+1]|=r>>8},Uc=function(s,a,r){r<<=a&7;var l=a/8|0;s[l]|=r,s[l+1]|=r>>8,s[l+2]|=r>>16},qu=function(s,a){for(var r=[],l=0;l<s.length;++l)s[l]&&r.push({s:l,f:s[l]});var f=r.length,u=r.slice();if(!f)return{t:$m,l:0};if(f==1){var x=new no(r[0].s+1);return x[r[0].s]=1,{t:x,l:1}}r.sort(function(oe,ce){return oe.f-ce.f}),r.push({s:-1,f:25001});var g=r[0],y=r[1],j=0,k=1,L=2;for(r[0]={s:-1,f:g.f+y.f,l:g,r:y};k!=f-1;)g=r[r[j].f<r[L].f?j++:L++],y=r[j!=k&&r[j].f<r[L].f?j++:L++],r[k++]={s:-1,f:g.f+y.f,l:g,r:y};for(var R=u[0].s,l=1;l<f;++l)u[l].s>R&&(R=u[l].s);var N=new gi(R+1),z=gf(r[k-1],N,0);if(z>a){var l=0,F=0,D=z-a,E=1<<D;for(u.sort(function(ce,Ee){return N[Ee.s]-N[ce.s]||ce.f-Ee.f});l<f;++l){var q=u[l].s;if(N[q]>a)F+=E-(1<<z-N[q]),N[q]=a;else break}for(F>>=D;F>0;){var J=u[l].s;N[J]<a?F-=1<<a-N[J]++-1:++l}for(;l>=0&&F;--l){var $=u[l].s;N[$]==a&&(--N[$],++F)}z=a}return{t:new no(N),l:z}},gf=function(s,a,r){return s.s==-1?Math.max(gf(s.l,a,r+1),gf(s.r,a,r+1)):a[s.s]=r},hp=function(s){for(var a=s.length;a&&!s[--a];);for(var r=new gi(++a),l=0,f=s[0],u=1,x=function(y){r[l++]=y},g=1;g<=a;++g)if(s[g]==f&&g!=a)++u;else{if(!f&&u>2){for(;u>138;u-=138)x(32754);u>2&&(x(u>10?u-11<<5|28690:u-3<<5|12305),u=0)}else if(u>3){for(x(f),--u;u>6;u-=6)x(8304);u>2&&(x(u-3<<5|8208),u=0)}for(;u--;)x(f);u=1,f=s[g]}return{c:r.subarray(0,l),n:a}},qc=function(s,a){for(var r=0,l=0;l<a.length;++l)r+=s[l]*a[l];return r},qm=function(s,a,r){var l=r.length,f=Um(a+2);s[f]=l&255,s[f+1]=l>>8,s[f+2]=s[f]^255,s[f+3]=s[f+1]^255;for(var u=0;u<l;++u)s[f+u+4]=r[u];return(f+4+l)*8},pp=function(s,a,r,l,f,u,x,g,y,j,k){Go(a,k++,r),++f[256];for(var L=qu(f,15),R=L.t,N=L.l,z=qu(u,15),F=z.t,D=z.l,E=hp(R),q=E.c,J=E.n,$=hp(F),oe=$.c,ce=$.n,Ee=new gi(19),fe=0;fe<q.length;++fe)++Ee[q[fe]&31];for(var fe=0;fe<oe.length;++fe)++Ee[oe[fe]&31];for(var K=qu(Ee,7),pe=K.t,B=K.l,U=19;U>4&&!pe[up[U-1]];--U);var ae=j+5<<3,Z=qc(f,ql)+qc(u,Vd)+x,xe=qc(f,R)+qc(u,F)+x+14+3*U+qc(Ee,pe)+2*Ee[16]+3*Ee[17]+7*Ee[18];if(y>=0&&ae<=Z&&ae<=xe)return qm(a,k,s.subarray(y,y+j));var Ae,ke,le,Se;if(Go(a,k,1+(xe<Z)),k+=2,xe<Z){Ae=$c(R,N,0),ke=R,le=$c(F,D,0),Se=F;var Fe=$c(pe,B,0);Go(a,k,J-257),Go(a,k+5,ce-1),Go(a,k+10,U-4),k+=14;for(var fe=0;fe<U;++fe)Go(a,k+3*fe,pe[up[fe]]);k+=3*U;for(var Q=[q,oe],_=0;_<2;++_)for(var W=Q[_],fe=0;fe<W.length;++fe){var Y=W[fe]&31;Go(a,k,Fe[Y]),k+=pe[Y],Y>15&&(Go(a,k,W[fe]>>5&127),k+=W[fe]>>12)}}else Ae=R1,ke=ql,le=T1,Se=Vd;for(var fe=0;fe<g;++fe){var re=l[fe];if(re>255){var Y=re>>18&31;Uc(a,k,Ae[Y+257]),k+=ke[Y+257],Y>7&&(Go(a,k,re>>23&31),k+=Mf[Y]);var ee=re&31;Uc(a,k,le[ee]),k+=Se[ee],ee>3&&(Uc(a,k,re>>5&8191),k+=Df[ee])}else Uc(a,k,Ae[re]),k+=ke[re]}return Uc(a,k,Ae[256]),k+ke[256]},B1=new Ef([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$m=new no(0),z1=function(s,a,r,l,f,u){var x=u.z||s.length,g=new no(l+x+5*(1+Math.ceil(x/7e3))+f),y=g.subarray(l,g.length-f),j=u.l,k=(u.r||0)&7;if(a){k&&(y[0]=u.r>>3);for(var L=B1[a-1],R=L>>13,N=L&8191,z=(1<<r)-1,F=u.p||new gi(32768),D=u.h||new gi(z+1),E=Math.ceil(r/3),q=2*E,J=function(it){return(s[it]^s[it+1]<<E^s[it+2]<<q)&z},$=new Ef(25e3),oe=new gi(288),ce=new gi(32),Ee=0,fe=0,K=u.i||0,pe=0,B=u.w||0,U=0;K+2<x;++K){var ae=J(K),Z=K&32767,xe=D[ae];if(F[Z]=xe,D[ae]=Z,B<=K){var Ae=x-K;if((Ee>7e3||pe>24576)&&(Ae>423||!j)){k=pp(s,y,0,$,oe,ce,fe,pe,U,K-U,k),pe=Ee=fe=0,U=K;for(var ke=0;ke<286;++ke)oe[ke]=0;for(var ke=0;ke<30;++ke)ce[ke]=0}var le=2,Se=0,Fe=N,Q=Z-xe&32767;if(Ae>2&&ae==J(K-Q))for(var _=Math.min(R,Ae)-1,W=Math.min(32767,K),Y=Math.min(258,Ae);Q<=W&&--Fe&&Z!=xe;){if(s[K+le]==s[K+le-Q]){for(var re=0;re<Y&&s[K+re]==s[K+re-Q];++re);if(re>le){if(le=re,Se=Q,re>_)break;for(var ee=Math.min(Q,re-2),me=0,ke=0;ke<ee;++ke){var Ce=K-Q+ke&32767,_e=F[Ce],Be=Ce-_e&32767;Be>me&&(me=Be,xe=Ce)}}}Z=xe,xe=F[Z],Q+=Z-xe&32767}if(Se){$[pe++]=268435456|pf[le]<<18|fp[Se];var Le=pf[le]&31,Ge=fp[Se]&31;fe+=Mf[Le]+Df[Ge],++oe[257+Le],++ce[Ge],B=K+le,++Ee}else $[pe++]=s[K],++oe[s[K]]}}for(K=Math.max(K,B);K<x;++K)$[pe++]=s[K],++oe[s[K]];k=pp(s,y,j,$,oe,ce,fe,pe,U,K-U,k),j||(u.r=k&7|y[k/8|0]<<3,k-=7,u.h=D,u.p=F,u.i=K,u.w=B)}else{for(var K=u.w||0;K<x+j;K+=65535){var tt=K+65535;tt>=x&&(y[k/8|0]=j,tt=x),k=qm(y,k+1,s.subarray(K,tt))}u.i=x}return O1(g,0,l+Um(k)+f)},Wm=function(){var s=1,a=0;return{p:function(r){for(var l=s,f=a,u=r.length|0,x=0;x!=u;){for(var g=Math.min(x+2655,u);x<g;++x)f+=l+=r[x];l=(l&65535)+15*(l>>16),f=(f&65535)+15*(f>>16)}s=l,a=f},d:function(){return s%=65521,a%=65521,(s&255)<<24|(s&65280)<<8|(a&255)<<8|a>>8}}},U1=function(s,a,r,l,f){if(!f&&(f={l:1},a.dictionary)){var u=a.dictionary.subarray(-32768),x=new no(u.length+s.length);x.set(u),x.set(s,u.length),s=x,f.w=u.length}return z1(s,a.level==null?6:a.level,a.mem==null?f.l?Math.ceil(Math.max(8,Math.min(13,Math.log(s.length)))*1.5):20:12+a.mem,r,l,f)},Hm=function(s,a,r){for(;r;++a)s[a]=r,r>>>=8},q1=function(s,a){var r=a.level,l=r==0?0:r<6?1:r==9?3:2;if(s[0]=120,s[1]=l<<6|(a.dictionary&&32),s[1]|=31-(s[0]<<8|s[1])%31,a.dictionary){var f=Wm();f.p(a.dictionary),Hm(s,2,f.d())}};function xf(s,a){a||(a={});var r=Wm();r.p(s);var l=U1(s,a,a.dictionary?6:2,4);return q1(l,a),Hm(l,l.length-4,r.d()),l}var $1=typeof TextDecoder<"u"&&new TextDecoder,W1=0;try{$1.decode($m,{stream:!0}),W1=1}catch{}function H1(s){if(Array.isArray(s))return s}function V1(s,a){var r=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(r!=null){var l,f,u,x,g=[],y=!0,j=!1;try{if(u=(r=r.call(s)).next,a!==0)for(;!(y=(l=u.call(r)).done)&&(g.push(l.value),g.length!==a);y=!0);}catch(k){j=!0,f=k}finally{try{if(!y&&r.return!=null&&(x=r.return(),Object(x)!==x))return}finally{if(j)throw f}}return g}}function mp(s,a){(a==null||a>s.length)&&(a=s.length);for(var r=0,l=Array(a);r<a;r++)l[r]=s[r];return l}function Y1(s,a){if(s){if(typeof s=="string")return mp(s,a);var r={}.toString.call(s).slice(8,-1);return r==="Object"&&s.constructor&&(r=s.constructor.name),r==="Map"||r==="Set"?Array.from(s):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mp(s,a):void 0}}function G1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gp(s,a){return H1(s)||V1(s,a)||Y1(s,a)||G1()}function xp(s,a="utf8"){return new TextDecoder(a).decode(s)}const J1=new TextEncoder;function K1(s){return J1.encode(s)}const Q1=1024*8,X1=(()=>{const s=new Uint8Array(4),a=new Uint32Array(s.buffer);return!((a[0]=1)&s[0])})(),$u={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ff{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(a=Q1,r={}){let l=!1;typeof a=="number"?a=new ArrayBuffer(a):(l=!0,this.lastWrittenByte=a.byteLength);const f=r.offset?r.offset>>>0:0,u=a.byteLength-f;let x=f;(ArrayBuffer.isView(a)||a instanceof Ff)&&(a.byteLength!==a.buffer.byteLength&&(x=a.byteOffset+f),a=a.buffer),l?this.lastWrittenByte=u:this.lastWrittenByte=0,this.buffer=a,this.length=u,this.byteLength=u,this.byteOffset=x,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,x,u),this._mark=0,this._marks=[]}available(a=1){return this.offset+a<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(a=1){return this.offset+=a,this}back(a=1){return this.offset-=a,this}seek(a){return this.offset=a,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const a=this._marks.pop();if(a===void 0)throw new Error("Mark stack empty");return this.seek(a),this}rewind(){return this.offset=0,this}ensureAvailable(a=1){if(!this.available(a)){const l=(this.offset+a)*2,f=new Uint8Array(l);f.set(new Uint8Array(this.buffer)),this.buffer=f.buffer,this.length=l,this.byteLength=l,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(a=1){return this.readArray(a,"uint8")}readArray(a,r){const l=$u[r].BYTES_PER_ELEMENT*a,f=this.byteOffset+this.offset,u=this.buffer.slice(f,f+l);if(this.littleEndian===X1&&r!=="uint8"&&r!=="int8"){const g=new Uint8Array(this.buffer.slice(f,f+l));g.reverse();const y=new $u[r](g.buffer);return this.offset+=l,y.reverse(),y}const x=new $u[r](u);return this.offset+=l,x}readInt16(){const a=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,a}readUint16(){const a=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,a}readInt32(){const a=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,a}readUint32(){const a=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,a}readFloat32(){const a=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,a}readFloat64(){const a=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,a}readBigInt64(){const a=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,a}readBigUint64(){const a=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,a}readChar(){return String.fromCharCode(this.readInt8())}readChars(a=1){let r="";for(let l=0;l<a;l++)r+=this.readChar();return r}readUtf8(a=1){return xp(this.readBytes(a))}decodeText(a=1,r="utf8"){return xp(this.readBytes(a),r)}writeBoolean(a){return this.writeUint8(a?255:0),this}writeInt8(a){return this.ensureAvailable(1),this._data.setInt8(this.offset++,a),this._updateLastWrittenByte(),this}writeUint8(a){return this.ensureAvailable(1),this._data.setUint8(this.offset++,a),this._updateLastWrittenByte(),this}writeByte(a){return this.writeUint8(a)}writeBytes(a){this.ensureAvailable(a.length);for(let r=0;r<a.length;r++)this._data.setUint8(this.offset++,a[r]);return this._updateLastWrittenByte(),this}writeInt16(a){return this.ensureAvailable(2),this._data.setInt16(this.offset,a,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(a){return this.ensureAvailable(2),this._data.setUint16(this.offset,a,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(a){return this.ensureAvailable(4),this._data.setInt32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(a){return this.ensureAvailable(4),this._data.setUint32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(a){return this.ensureAvailable(4),this._data.setFloat32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(a){return this.ensureAvailable(8),this._data.setFloat64(this.offset,a,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(a){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,a,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(a){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,a,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(a){return this.writeUint8(a.charCodeAt(0))}writeChars(a){for(let r=0;r<a.length;r++)this.writeUint8(a.charCodeAt(r));return this}writeUtf8(a){return this.writeBytes(K1(a))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function kc(s){let a=s.length;for(;--a>=0;)s[a]=0}const Z1=3,e2=258,Vm=29,t2=256,n2=t2+1+Vm,Ym=30,r2=512,a2=new Array((n2+2)*2);kc(a2);const s2=new Array(Ym*2);kc(s2);const i2=new Array(r2);kc(i2);const o2=new Array(e2-Z1+1);kc(o2);const l2=new Array(Vm);kc(l2);const c2=new Array(Ym);kc(c2);const d2=(s,a,r,l)=>{let f=s&65535|0,u=s>>>16&65535|0,x=0;for(;r!==0;){x=r>2e3?2e3:r,r-=x;do f=f+a[l++]|0,u=u+f|0;while(--x);f%=65521,u%=65521}return f|u<<16|0};var yf=d2;const u2=()=>{let s,a=[];for(var r=0;r<256;r++){s=r;for(var l=0;l<8;l++)s=s&1?3988292384^s>>>1:s>>>1;a[r]=s}return a},f2=new Uint32Array(u2()),h2=(s,a,r,l)=>{const f=f2,u=l+r;s^=-1;for(let x=l;x<u;x++)s=s>>>8^f[(s^a[x])&255];return s^-1};var Po=h2,vf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Gm={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const p2=(s,a)=>Object.prototype.hasOwnProperty.call(s,a);var m2=function(s){const a=Array.prototype.slice.call(arguments,1);for(;a.length;){const r=a.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const l in r)p2(r,l)&&(s[l]=r[l])}}return s},g2=s=>{let a=0;for(let l=0,f=s.length;l<f;l++)a+=s[l].length;const r=new Uint8Array(a);for(let l=0,f=0,u=s.length;l<u;l++){let x=s[l];r.set(x,f),f+=x.length}return r},Jm={assign:m2,flattenChunks:g2};let Km=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Km=!1}const Gc=new Uint8Array(256);for(let s=0;s<256;s++)Gc[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;Gc[254]=Gc[254]=1;var x2=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let a,r,l,f,u,x=s.length,g=0;for(f=0;f<x;f++)r=s.charCodeAt(f),(r&64512)===55296&&f+1<x&&(l=s.charCodeAt(f+1),(l&64512)===56320&&(r=65536+(r-55296<<10)+(l-56320),f++)),g+=r<128?1:r<2048?2:r<65536?3:4;for(a=new Uint8Array(g),u=0,f=0;u<g;f++)r=s.charCodeAt(f),(r&64512)===55296&&f+1<x&&(l=s.charCodeAt(f+1),(l&64512)===56320&&(r=65536+(r-55296<<10)+(l-56320),f++)),r<128?a[u++]=r:r<2048?(a[u++]=192|r>>>6,a[u++]=128|r&63):r<65536?(a[u++]=224|r>>>12,a[u++]=128|r>>>6&63,a[u++]=128|r&63):(a[u++]=240|r>>>18,a[u++]=128|r>>>12&63,a[u++]=128|r>>>6&63,a[u++]=128|r&63);return a};const y2=(s,a)=>{if(a<65534&&s.subarray&&Km)return String.fromCharCode.apply(null,s.length===a?s:s.subarray(0,a));let r="";for(let l=0;l<a;l++)r+=String.fromCharCode(s[l]);return r};var v2=(s,a)=>{const r=a||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,a));let l,f;const u=new Array(r*2);for(f=0,l=0;l<r;){let x=s[l++];if(x<128){u[f++]=x;continue}let g=Gc[x];if(g>4){u[f++]=65533,l+=g-1;continue}for(x&=g===2?31:g===3?15:7;g>1&&l<r;)x=x<<6|s[l++]&63,g--;if(g>1){u[f++]=65533;continue}x<65536?u[f++]=x:(x-=65536,u[f++]=55296|x>>10&1023,u[f++]=56320|x&1023)}return y2(u,f)},b2=(s,a)=>{a=a||s.length,a>s.length&&(a=s.length);let r=a-1;for(;r>=0&&(s[r]&192)===128;)r--;return r<0||r===0?a:r+Gc[s[r]]>a?r:a},bf={string2buf:x2,buf2string:v2,utf8border:b2};function w2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var j2=w2;const Pd=16209,S2=16191;var N2=function(a,r){let l,f,u,x,g,y,j,k,L,R,N,z,F,D,E,q,J,$,oe,ce,Ee,fe,K,pe;const B=a.state;l=a.next_in,K=a.input,f=l+(a.avail_in-5),u=a.next_out,pe=a.output,x=u-(r-a.avail_out),g=u+(a.avail_out-257),y=B.dmax,j=B.wsize,k=B.whave,L=B.wnext,R=B.window,N=B.hold,z=B.bits,F=B.lencode,D=B.distcode,E=(1<<B.lenbits)-1,q=(1<<B.distbits)-1;e:do{z<15&&(N+=K[l++]<<z,z+=8,N+=K[l++]<<z,z+=8),J=F[N&E];t:for(;;){if($=J>>>24,N>>>=$,z-=$,$=J>>>16&255,$===0)pe[u++]=J&65535;else if($&16){oe=J&65535,$&=15,$&&(z<$&&(N+=K[l++]<<z,z+=8),oe+=N&(1<<$)-1,N>>>=$,z-=$),z<15&&(N+=K[l++]<<z,z+=8,N+=K[l++]<<z,z+=8),J=D[N&q];n:for(;;){if($=J>>>24,N>>>=$,z-=$,$=J>>>16&255,$&16){if(ce=J&65535,$&=15,z<$&&(N+=K[l++]<<z,z+=8,z<$&&(N+=K[l++]<<z,z+=8)),ce+=N&(1<<$)-1,ce>y){a.msg="invalid distance too far back",B.mode=Pd;break e}if(N>>>=$,z-=$,$=u-x,ce>$){if($=ce-$,$>k&&B.sane){a.msg="invalid distance too far back",B.mode=Pd;break e}if(Ee=0,fe=R,L===0){if(Ee+=j-$,$<oe){oe-=$;do pe[u++]=R[Ee++];while(--$);Ee=u-ce,fe=pe}}else if(L<$){if(Ee+=j+L-$,$-=L,$<oe){oe-=$;do pe[u++]=R[Ee++];while(--$);if(Ee=0,L<oe){$=L,oe-=$;do pe[u++]=R[Ee++];while(--$);Ee=u-ce,fe=pe}}}else if(Ee+=L-$,$<oe){oe-=$;do pe[u++]=R[Ee++];while(--$);Ee=u-ce,fe=pe}for(;oe>2;)pe[u++]=fe[Ee++],pe[u++]=fe[Ee++],pe[u++]=fe[Ee++],oe-=3;oe&&(pe[u++]=fe[Ee++],oe>1&&(pe[u++]=fe[Ee++]))}else{Ee=u-ce;do pe[u++]=pe[Ee++],pe[u++]=pe[Ee++],pe[u++]=pe[Ee++],oe-=3;while(oe>2);oe&&(pe[u++]=pe[Ee++],oe>1&&(pe[u++]=pe[Ee++]))}}else if(($&64)===0){J=D[(J&65535)+(N&(1<<$)-1)];continue n}else{a.msg="invalid distance code",B.mode=Pd;break e}break}}else if(($&64)===0){J=F[(J&65535)+(N&(1<<$)-1)];continue t}else if($&32){B.mode=S2;break e}else{a.msg="invalid literal/length code",B.mode=Pd;break e}break}}while(l<f&&u<g);oe=z>>3,l-=oe,z-=oe<<3,N&=(1<<z)-1,a.next_in=l,a.next_out=u,a.avail_in=l<f?5+(f-l):5-(l-f),a.avail_out=u<g?257+(g-u):257-(u-g),B.hold=N,B.bits=z};const fc=15,yp=852,vp=592,bp=0,Wu=1,wp=2,k2=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),A2=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),C2=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),P2=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),L2=(s,a,r,l,f,u,x,g)=>{const y=g.bits;let j=0,k=0,L=0,R=0,N=0,z=0,F=0,D=0,E=0,q=0,J,$,oe,ce,Ee,fe=null,K;const pe=new Uint16Array(fc+1),B=new Uint16Array(fc+1);let U=null,ae,Z,xe;for(j=0;j<=fc;j++)pe[j]=0;for(k=0;k<l;k++)pe[a[r+k]]++;for(N=y,R=fc;R>=1&&pe[R]===0;R--);if(N>R&&(N=R),R===0)return f[u++]=1<<24|64<<16|0,f[u++]=1<<24|64<<16|0,g.bits=1,0;for(L=1;L<R&&pe[L]===0;L++);for(N<L&&(N=L),D=1,j=1;j<=fc;j++)if(D<<=1,D-=pe[j],D<0)return-1;if(D>0&&(s===bp||R!==1))return-1;for(B[1]=0,j=1;j<fc;j++)B[j+1]=B[j]+pe[j];for(k=0;k<l;k++)a[r+k]!==0&&(x[B[a[r+k]]++]=k);if(s===bp?(fe=U=x,K=20):s===Wu?(fe=k2,U=A2,K=257):(fe=C2,U=P2,K=0),q=0,k=0,j=L,Ee=u,z=N,F=0,oe=-1,E=1<<N,ce=E-1,s===Wu&&E>yp||s===wp&&E>vp)return 1;for(;;){ae=j-F,x[k]+1<K?(Z=0,xe=x[k]):x[k]>=K?(Z=U[x[k]-K],xe=fe[x[k]-K]):(Z=96,xe=0),J=1<<j-F,$=1<<z,L=$;do $-=J,f[Ee+(q>>F)+$]=ae<<24|Z<<16|xe|0;while($!==0);for(J=1<<j-1;q&J;)J>>=1;if(J!==0?(q&=J-1,q+=J):q=0,k++,--pe[j]===0){if(j===R)break;j=a[r+x[k]]}if(j>N&&(q&ce)!==oe){for(F===0&&(F=N),Ee+=L,z=j-F,D=1<<z;z+F<R&&(D-=pe[z+F],!(D<=0));)z++,D<<=1;if(E+=1<<z,s===Wu&&E>yp||s===wp&&E>vp)return 1;oe=q&ce,f[oe]=N<<24|z<<16|Ee-u|0}}return q!==0&&(f[Ee+q]=j-F<<24|64<<16|0),g.bits=N,0};var Wc=L2;const _2=0,Qm=1,Xm=2,{Z_FINISH:jp,Z_BLOCK:I2,Z_TREES:Ld,Z_OK:$l,Z_STREAM_END:E2,Z_NEED_DICT:M2,Z_STREAM_ERROR:Di,Z_DATA_ERROR:Zm,Z_MEM_ERROR:e0,Z_BUF_ERROR:D2,Z_DEFLATED:Sp}=Gm,Xd=16180,Np=16181,kp=16182,Ap=16183,Cp=16184,Pp=16185,Lp=16186,_p=16187,Ip=16188,Ep=16189,Yd=16190,Jo=16191,Hu=16192,Mp=16193,Vu=16194,Dp=16195,Fp=16196,Rp=16197,Tp=16198,_d=16199,Id=16200,Op=16201,Bp=16202,zp=16203,Up=16204,qp=16205,Yu=16206,$p=16207,Wp=16208,xr=16209,t0=16210,n0=16211,F2=852,R2=592,T2=15,O2=T2,Hp=s=>(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24);function B2(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Hl=s=>{if(!s)return 1;const a=s.state;return!a||a.strm!==s||a.mode<Xd||a.mode>n0?1:0},r0=s=>{if(Hl(s))return Di;const a=s.state;return s.total_in=s.total_out=a.total=0,s.msg="",a.wrap&&(s.adler=a.wrap&1),a.mode=Xd,a.last=0,a.havedict=0,a.flags=-1,a.dmax=32768,a.head=null,a.hold=0,a.bits=0,a.lencode=a.lendyn=new Int32Array(F2),a.distcode=a.distdyn=new Int32Array(R2),a.sane=1,a.back=-1,$l},a0=s=>{if(Hl(s))return Di;const a=s.state;return a.wsize=0,a.whave=0,a.wnext=0,r0(s)},s0=(s,a)=>{let r;if(Hl(s))return Di;const l=s.state;return a<0?(r=0,a=-a):(r=(a>>4)+5,a<48&&(a&=15)),a&&(a<8||a>15)?Di:(l.window!==null&&l.wbits!==a&&(l.window=null),l.wrap=r,l.wbits=a,a0(s))},i0=(s,a)=>{if(!s)return Di;const r=new B2;s.state=r,r.strm=s,r.window=null,r.mode=Xd;const l=s0(s,a);return l!==$l&&(s.state=null),l},z2=s=>i0(s,O2);let Vp=!0,Gu,Ju;const U2=s=>{if(Vp){Gu=new Int32Array(512),Ju=new Int32Array(32);let a=0;for(;a<144;)s.lens[a++]=8;for(;a<256;)s.lens[a++]=9;for(;a<280;)s.lens[a++]=7;for(;a<288;)s.lens[a++]=8;for(Wc(Qm,s.lens,0,288,Gu,0,s.work,{bits:9}),a=0;a<32;)s.lens[a++]=5;Wc(Xm,s.lens,0,32,Ju,0,s.work,{bits:5}),Vp=!1}s.lencode=Gu,s.lenbits=9,s.distcode=Ju,s.distbits=5},o0=(s,a,r,l)=>{let f;const u=s.state;return u.window===null&&(u.wsize=1<<u.wbits,u.wnext=0,u.whave=0,u.window=new Uint8Array(u.wsize)),l>=u.wsize?(u.window.set(a.subarray(r-u.wsize,r),0),u.wnext=0,u.whave=u.wsize):(f=u.wsize-u.wnext,f>l&&(f=l),u.window.set(a.subarray(r-l,r-l+f),u.wnext),l-=f,l?(u.window.set(a.subarray(r-l,r),0),u.wnext=l,u.whave=u.wsize):(u.wnext+=f,u.wnext===u.wsize&&(u.wnext=0),u.whave<u.wsize&&(u.whave+=f))),0},q2=(s,a)=>{let r,l,f,u,x,g,y,j,k,L,R,N,z,F,D=0,E,q,J,$,oe,ce,Ee,fe;const K=new Uint8Array(4);let pe,B;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Hl(s)||!s.output||!s.input&&s.avail_in!==0)return Di;r=s.state,r.mode===Jo&&(r.mode=Hu),x=s.next_out,f=s.output,y=s.avail_out,u=s.next_in,l=s.input,g=s.avail_in,j=r.hold,k=r.bits,L=g,R=y,fe=$l;e:for(;;)switch(r.mode){case Xd:if(r.wrap===0){r.mode=Hu;break}for(;k<16;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}if(r.wrap&2&&j===35615){r.wbits===0&&(r.wbits=15),r.check=0,K[0]=j&255,K[1]=j>>>8&255,r.check=Po(r.check,K,2,0),j=0,k=0,r.mode=Np;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((j&255)<<8)+(j>>8))%31){s.msg="incorrect header check",r.mode=xr;break}if((j&15)!==Sp){s.msg="unknown compression method",r.mode=xr;break}if(j>>>=4,k-=4,Ee=(j&15)+8,r.wbits===0&&(r.wbits=Ee),Ee>15||Ee>r.wbits){s.msg="invalid window size",r.mode=xr;break}r.dmax=1<<r.wbits,r.flags=0,s.adler=r.check=1,r.mode=j&512?Ep:Jo,j=0,k=0;break;case Np:for(;k<16;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}if(r.flags=j,(r.flags&255)!==Sp){s.msg="unknown compression method",r.mode=xr;break}if(r.flags&57344){s.msg="unknown header flags set",r.mode=xr;break}r.head&&(r.head.text=j>>8&1),r.flags&512&&r.wrap&4&&(K[0]=j&255,K[1]=j>>>8&255,r.check=Po(r.check,K,2,0)),j=0,k=0,r.mode=kp;case kp:for(;k<32;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}r.head&&(r.head.time=j),r.flags&512&&r.wrap&4&&(K[0]=j&255,K[1]=j>>>8&255,K[2]=j>>>16&255,K[3]=j>>>24&255,r.check=Po(r.check,K,4,0)),j=0,k=0,r.mode=Ap;case Ap:for(;k<16;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}r.head&&(r.head.xflags=j&255,r.head.os=j>>8),r.flags&512&&r.wrap&4&&(K[0]=j&255,K[1]=j>>>8&255,r.check=Po(r.check,K,2,0)),j=0,k=0,r.mode=Cp;case Cp:if(r.flags&1024){for(;k<16;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}r.length=j,r.head&&(r.head.extra_len=j),r.flags&512&&r.wrap&4&&(K[0]=j&255,K[1]=j>>>8&255,r.check=Po(r.check,K,2,0)),j=0,k=0}else r.head&&(r.head.extra=null);r.mode=Pp;case Pp:if(r.flags&1024&&(N=r.length,N>g&&(N=g),N&&(r.head&&(Ee=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(l.subarray(u,u+N),Ee)),r.flags&512&&r.wrap&4&&(r.check=Po(r.check,l,N,u)),g-=N,u+=N,r.length-=N),r.length))break e;r.length=0,r.mode=Lp;case Lp:if(r.flags&2048){if(g===0)break e;N=0;do Ee=l[u+N++],r.head&&Ee&&r.length<65536&&(r.head.name+=String.fromCharCode(Ee));while(Ee&&N<g);if(r.flags&512&&r.wrap&4&&(r.check=Po(r.check,l,N,u)),g-=N,u+=N,Ee)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=_p;case _p:if(r.flags&4096){if(g===0)break e;N=0;do Ee=l[u+N++],r.head&&Ee&&r.length<65536&&(r.head.comment+=String.fromCharCode(Ee));while(Ee&&N<g);if(r.flags&512&&r.wrap&4&&(r.check=Po(r.check,l,N,u)),g-=N,u+=N,Ee)break e}else r.head&&(r.head.comment=null);r.mode=Ip;case Ip:if(r.flags&512){for(;k<16;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}if(r.wrap&4&&j!==(r.check&65535)){s.msg="header crc mismatch",r.mode=xr;break}j=0,k=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),s.adler=r.check=0,r.mode=Jo;break;case Ep:for(;k<32;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}s.adler=r.check=Hp(j),j=0,k=0,r.mode=Yd;case Yd:if(r.havedict===0)return s.next_out=x,s.avail_out=y,s.next_in=u,s.avail_in=g,r.hold=j,r.bits=k,M2;s.adler=r.check=1,r.mode=Jo;case Jo:if(a===I2||a===Ld)break e;case Hu:if(r.last){j>>>=k&7,k-=k&7,r.mode=Yu;break}for(;k<3;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}switch(r.last=j&1,j>>>=1,k-=1,j&3){case 0:r.mode=Mp;break;case 1:if(U2(r),r.mode=_d,a===Ld){j>>>=2,k-=2;break e}break;case 2:r.mode=Fp;break;case 3:s.msg="invalid block type",r.mode=xr}j>>>=2,k-=2;break;case Mp:for(j>>>=k&7,k-=k&7;k<32;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}if((j&65535)!==(j>>>16^65535)){s.msg="invalid stored block lengths",r.mode=xr;break}if(r.length=j&65535,j=0,k=0,r.mode=Vu,a===Ld)break e;case Vu:r.mode=Dp;case Dp:if(N=r.length,N){if(N>g&&(N=g),N>y&&(N=y),N===0)break e;f.set(l.subarray(u,u+N),x),g-=N,u+=N,y-=N,x+=N,r.length-=N;break}r.mode=Jo;break;case Fp:for(;k<14;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}if(r.nlen=(j&31)+257,j>>>=5,k-=5,r.ndist=(j&31)+1,j>>>=5,k-=5,r.ncode=(j&15)+4,j>>>=4,k-=4,r.nlen>286||r.ndist>30){s.msg="too many length or distance symbols",r.mode=xr;break}r.have=0,r.mode=Rp;case Rp:for(;r.have<r.ncode;){for(;k<3;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}r.lens[U[r.have++]]=j&7,j>>>=3,k-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,pe={bits:r.lenbits},fe=Wc(_2,r.lens,0,19,r.lencode,0,r.work,pe),r.lenbits=pe.bits,fe){s.msg="invalid code lengths set",r.mode=xr;break}r.have=0,r.mode=Tp;case Tp:for(;r.have<r.nlen+r.ndist;){for(;D=r.lencode[j&(1<<r.lenbits)-1],E=D>>>24,q=D>>>16&255,J=D&65535,!(E<=k);){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}if(J<16)j>>>=E,k-=E,r.lens[r.have++]=J;else{if(J===16){for(B=E+2;k<B;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}if(j>>>=E,k-=E,r.have===0){s.msg="invalid bit length repeat",r.mode=xr;break}Ee=r.lens[r.have-1],N=3+(j&3),j>>>=2,k-=2}else if(J===17){for(B=E+3;k<B;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}j>>>=E,k-=E,Ee=0,N=3+(j&7),j>>>=3,k-=3}else{for(B=E+7;k<B;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}j>>>=E,k-=E,Ee=0,N=11+(j&127),j>>>=7,k-=7}if(r.have+N>r.nlen+r.ndist){s.msg="invalid bit length repeat",r.mode=xr;break}for(;N--;)r.lens[r.have++]=Ee}}if(r.mode===xr)break;if(r.lens[256]===0){s.msg="invalid code -- missing end-of-block",r.mode=xr;break}if(r.lenbits=9,pe={bits:r.lenbits},fe=Wc(Qm,r.lens,0,r.nlen,r.lencode,0,r.work,pe),r.lenbits=pe.bits,fe){s.msg="invalid literal/lengths set",r.mode=xr;break}if(r.distbits=6,r.distcode=r.distdyn,pe={bits:r.distbits},fe=Wc(Xm,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,pe),r.distbits=pe.bits,fe){s.msg="invalid distances set",r.mode=xr;break}if(r.mode=_d,a===Ld)break e;case _d:r.mode=Id;case Id:if(g>=6&&y>=258){s.next_out=x,s.avail_out=y,s.next_in=u,s.avail_in=g,r.hold=j,r.bits=k,N2(s,R),x=s.next_out,f=s.output,y=s.avail_out,u=s.next_in,l=s.input,g=s.avail_in,j=r.hold,k=r.bits,r.mode===Jo&&(r.back=-1);break}for(r.back=0;D=r.lencode[j&(1<<r.lenbits)-1],E=D>>>24,q=D>>>16&255,J=D&65535,!(E<=k);){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}if(q&&(q&240)===0){for($=E,oe=q,ce=J;D=r.lencode[ce+((j&(1<<$+oe)-1)>>$)],E=D>>>24,q=D>>>16&255,J=D&65535,!($+E<=k);){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}j>>>=$,k-=$,r.back+=$}if(j>>>=E,k-=E,r.back+=E,r.length=J,q===0){r.mode=qp;break}if(q&32){r.back=-1,r.mode=Jo;break}if(q&64){s.msg="invalid literal/length code",r.mode=xr;break}r.extra=q&15,r.mode=Op;case Op:if(r.extra){for(B=r.extra;k<B;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}r.length+=j&(1<<r.extra)-1,j>>>=r.extra,k-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Bp;case Bp:for(;D=r.distcode[j&(1<<r.distbits)-1],E=D>>>24,q=D>>>16&255,J=D&65535,!(E<=k);){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}if((q&240)===0){for($=E,oe=q,ce=J;D=r.distcode[ce+((j&(1<<$+oe)-1)>>$)],E=D>>>24,q=D>>>16&255,J=D&65535,!($+E<=k);){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}j>>>=$,k-=$,r.back+=$}if(j>>>=E,k-=E,r.back+=E,q&64){s.msg="invalid distance code",r.mode=xr;break}r.offset=J,r.extra=q&15,r.mode=zp;case zp:if(r.extra){for(B=r.extra;k<B;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}r.offset+=j&(1<<r.extra)-1,j>>>=r.extra,k-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){s.msg="invalid distance too far back",r.mode=xr;break}r.mode=Up;case Up:if(y===0)break e;if(N=R-y,r.offset>N){if(N=r.offset-N,N>r.whave&&r.sane){s.msg="invalid distance too far back",r.mode=xr;break}N>r.wnext?(N-=r.wnext,z=r.wsize-N):z=r.wnext-N,N>r.length&&(N=r.length),F=r.window}else F=f,z=x-r.offset,N=r.length;N>y&&(N=y),y-=N,r.length-=N;do f[x++]=F[z++];while(--N);r.length===0&&(r.mode=Id);break;case qp:if(y===0)break e;f[x++]=r.length,y--,r.mode=Id;break;case Yu:if(r.wrap){for(;k<32;){if(g===0)break e;g--,j|=l[u++]<<k,k+=8}if(R-=y,s.total_out+=R,r.total+=R,r.wrap&4&&R&&(s.adler=r.check=r.flags?Po(r.check,f,R,x-R):yf(r.check,f,R,x-R)),R=y,r.wrap&4&&(r.flags?j:Hp(j))!==r.check){s.msg="incorrect data check",r.mode=xr;break}j=0,k=0}r.mode=$p;case $p:if(r.wrap&&r.flags){for(;k<32;){if(g===0)break e;g--,j+=l[u++]<<k,k+=8}if(r.wrap&4&&j!==(r.total&4294967295)){s.msg="incorrect length check",r.mode=xr;break}j=0,k=0}r.mode=Wp;case Wp:fe=E2;break e;case xr:fe=Zm;break e;case t0:return e0;case n0:default:return Di}return s.next_out=x,s.avail_out=y,s.next_in=u,s.avail_in=g,r.hold=j,r.bits=k,(r.wsize||R!==s.avail_out&&r.mode<xr&&(r.mode<Yu||a!==jp))&&o0(s,s.output,s.next_out,R-s.avail_out),L-=s.avail_in,R-=s.avail_out,s.total_in+=L,s.total_out+=R,r.total+=R,r.wrap&4&&R&&(s.adler=r.check=r.flags?Po(r.check,f,R,s.next_out-R):yf(r.check,f,R,s.next_out-R)),s.data_type=r.bits+(r.last?64:0)+(r.mode===Jo?128:0)+(r.mode===_d||r.mode===Vu?256:0),(L===0&&R===0||a===jp)&&fe===$l&&(fe=D2),fe},$2=s=>{if(Hl(s))return Di;let a=s.state;return a.window&&(a.window=null),s.state=null,$l},W2=(s,a)=>{if(Hl(s))return Di;const r=s.state;return(r.wrap&2)===0?Di:(r.head=a,a.done=!1,$l)},H2=(s,a)=>{const r=a.length;let l,f,u;return Hl(s)||(l=s.state,l.wrap!==0&&l.mode!==Yd)?Di:l.mode===Yd&&(f=1,f=yf(f,a,r,0),f!==l.check)?Zm:(u=o0(s,a,r,r),u?(l.mode=t0,e0):(l.havedict=1,$l))};var V2=a0,Y2=s0,G2=r0,J2=z2,K2=i0,Q2=q2,X2=$2,Z2=W2,ex=H2,tx="pako inflate (from Nodeca project)",Ko={inflateReset:V2,inflateReset2:Y2,inflateResetKeep:G2,inflateInit:J2,inflateInit2:K2,inflate:Q2,inflateEnd:X2,inflateGetHeader:Z2,inflateSetDictionary:ex,inflateInfo:tx};function nx(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var rx=nx;const l0=Object.prototype.toString,{Z_NO_FLUSH:ax,Z_FINISH:sx,Z_OK:Jc,Z_STREAM_END:Ku,Z_NEED_DICT:Qu,Z_STREAM_ERROR:ix,Z_DATA_ERROR:Yp,Z_MEM_ERROR:ox}=Gm;function Zc(s){this.options=Jm.assign({chunkSize:1024*64,windowBits:15,to:""},s||{});const a=this.options;a.raw&&a.windowBits>=0&&a.windowBits<16&&(a.windowBits=-a.windowBits,a.windowBits===0&&(a.windowBits=-15)),a.windowBits>=0&&a.windowBits<16&&!(s&&s.windowBits)&&(a.windowBits+=32),a.windowBits>15&&a.windowBits<48&&(a.windowBits&15)===0&&(a.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j2,this.strm.avail_out=0;let r=Ko.inflateInit2(this.strm,a.windowBits);if(r!==Jc)throw new Error(vf[r]);if(this.header=new rx,Ko.inflateGetHeader(this.strm,this.header),a.dictionary&&(typeof a.dictionary=="string"?a.dictionary=bf.string2buf(a.dictionary):l0.call(a.dictionary)==="[object ArrayBuffer]"&&(a.dictionary=new Uint8Array(a.dictionary)),a.raw&&(r=Ko.inflateSetDictionary(this.strm,a.dictionary),r!==Jc)))throw new Error(vf[r])}Zc.prototype.push=function(s,a){const r=this.strm,l=this.options.chunkSize,f=this.options.dictionary;let u,x,g;if(this.ended)return!1;for(a===~~a?x=a:x=a===!0?sx:ax,l0.call(s)==="[object ArrayBuffer]"?r.input=new Uint8Array(s):r.input=s,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(l),r.next_out=0,r.avail_out=l),u=Ko.inflate(r,x),u===Qu&&f&&(u=Ko.inflateSetDictionary(r,f),u===Jc?u=Ko.inflate(r,x):u===Yp&&(u=Qu));r.avail_in>0&&u===Ku&&r.state.wrap>0&&s[r.next_in]!==0;)Ko.inflateReset(r),u=Ko.inflate(r,x);switch(u){case ix:case Yp:case Qu:case ox:return this.onEnd(u),this.ended=!0,!1}if(g=r.avail_out,r.next_out&&(r.avail_out===0||u===Ku))if(this.options.to==="string"){let y=bf.utf8border(r.output,r.next_out),j=r.next_out-y,k=bf.buf2string(r.output,y);r.next_out=j,r.avail_out=l-j,j&&r.output.set(r.output.subarray(y,y+j),0),this.onData(k)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(u===Jc&&g===0)){if(u===Ku)return u=Ko.inflateEnd(this.strm),this.onEnd(u),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Zc.prototype.onData=function(s){this.chunks.push(s)};Zc.prototype.onEnd=function(s){s===Jc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Jm.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function lx(s,a){const r=new Zc(a);if(r.push(s),r.err)throw r.msg||vf[r.err];return r.result}var cx=Zc,dx=lx,ux={Inflate:cx,inflate:dx};const{Inflate:fx,inflate:hx}=ux;var Gp=fx,px=hx;const c0=[];for(let s=0;s<256;s++){let a=s;for(let r=0;r<8;r++)a&1?a=3988292384^a>>>1:a=a>>>1;c0[s]=a}const Jp=4294967295;function mx(s,a,r){let l=s;for(let f=0;f<r;f++)l=c0[(l^a[f])&255]^l>>>8;return l}function gx(s,a){return(mx(Jp,s,a)^Jp)>>>0}function Kp(s,a,r){const l=s.readUint32(),f=gx(new Uint8Array(s.buffer,s.byteOffset+s.offset-a-4,a),a);if(f!==l)throw new Error(`CRC mismatch for chunk ${r}. Expected ${l}, found ${f}`)}function d0(s,a,r){for(let l=0;l<r;l++)a[l]=s[l]}function u0(s,a,r,l){let f=0;for(;f<l;f++)a[f]=s[f];for(;f<r;f++)a[f]=s[f]+a[f-l]&255}function f0(s,a,r,l){let f=0;if(r.length===0)for(;f<l;f++)a[f]=s[f];else for(;f<l;f++)a[f]=s[f]+r[f]&255}function h0(s,a,r,l,f){let u=0;if(r.length===0){for(;u<f;u++)a[u]=s[u];for(;u<l;u++)a[u]=s[u]+(a[u-f]>>1)&255}else{for(;u<f;u++)a[u]=s[u]+(r[u]>>1)&255;for(;u<l;u++)a[u]=s[u]+(a[u-f]+r[u]>>1)&255}}function p0(s,a,r,l,f){let u=0;if(r.length===0){for(;u<f;u++)a[u]=s[u];for(;u<l;u++)a[u]=s[u]+a[u-f]&255}else{for(;u<f;u++)a[u]=s[u]+r[u]&255;for(;u<l;u++)a[u]=s[u]+xx(a[u-f],r[u],r[u-f])&255}}function xx(s,a,r){const l=s+a-r,f=Math.abs(l-s),u=Math.abs(l-a),x=Math.abs(l-r);return f<=u&&f<=x?s:u<=x?a:r}function yx(s,a,r,l,f,u){switch(s){case 0:d0(a,r,f);break;case 1:u0(a,r,f,u);break;case 2:f0(a,r,l,f);break;case 3:h0(a,r,l,f,u);break;case 4:p0(a,r,l,f,u);break;default:throw new Error(`Unsupported filter: ${s}`)}}const vx=new Uint16Array([255]),bx=new Uint8Array(vx.buffer),wx=bx[0]===255;function jx(s){const{data:a,width:r,height:l,channels:f,depth:u}=s,x=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],g=Math.ceil(u/8)*f,y=new Uint8Array(l*r*g);let j=0;for(let k=0;k<7;k++){const L=x[k],R=Math.ceil((r-L.x)/L.xStep),N=Math.ceil((l-L.y)/L.yStep);if(R<=0||N<=0)continue;const z=R*g,F=new Uint8Array(z);for(let D=0;D<N;D++){const E=a[j++],q=a.subarray(j,j+z);j+=z;const J=new Uint8Array(z);yx(E,q,J,F,z,g),F.set(J);for(let $=0;$<R;$++){const oe=L.x+$*L.xStep,ce=L.y+D*L.yStep;if(!(oe>=r||ce>=l))for(let Ee=0;Ee<g;Ee++)y[(ce*r+oe)*g+Ee]=J[$*g+Ee]}}}if(u===16){const k=new Uint16Array(y.buffer);if(wx)for(let L=0;L<k.length;L++)k[L]=Sx(k[L]);return k}else return y}function Sx(s){return(s&255)<<8|s>>8&255}const Nx=new Uint16Array([255]),kx=new Uint8Array(Nx.buffer),Ax=kx[0]===255,Cx=new Uint8Array(0);function Qp(s){const{data:a,width:r,height:l,channels:f,depth:u}=s,x=Math.ceil(u/8)*f,g=Math.ceil(u/8*f*r),y=new Uint8Array(l*g);let j=Cx,k=0,L,R;for(let N=0;N<l;N++){switch(L=a.subarray(k+1,k+1+g),R=y.subarray(N*g,(N+1)*g),a[k]){case 0:d0(L,R,g);break;case 1:u0(L,R,g,x);break;case 2:f0(L,R,j,g);break;case 3:h0(L,R,j,g,x);break;case 4:p0(L,R,j,g,x);break;default:throw new Error(`Unsupported filter: ${a[k]}`)}j=R,k+=g+1}if(u===16){const N=new Uint16Array(y.buffer);if(Ax)for(let z=0;z<N.length;z++)N[z]=Px(N[z]);return N}else return y}function Px(s){return(s&255)<<8|s>>8&255}const Od=Uint8Array.of(137,80,78,71,13,10,26,10);function Xp(s){if(!Lx(s.readBytes(Od.length)))throw new Error("wrong PNG signature")}function Lx(s){if(s.length<Od.length)return!1;for(let a=0;a<Od.length;a++)if(s[a]!==Od[a])return!1;return!0}const _x="tEXt",Ix=0,m0=new TextDecoder("latin1");function Ex(s){if(Dx(s),s.length===0||s.length>79)throw new Error("keyword length must be between 1 and 79")}const Mx=/^[\u0000-\u00FF]*$/;function Dx(s){if(!Mx.test(s))throw new Error("invalid latin1 text")}function Fx(s,a,r){const l=g0(a);s[l]=Rx(a,r-l.length-1)}function g0(s){for(s.mark();s.readByte()!==Ix;);const a=s.offset;s.reset();const r=m0.decode(s.readBytes(a-s.offset-1));return s.skip(1),Ex(r),r}function Rx(s,a){return m0.decode(s.readBytes(a))}const mi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Xu={UNKNOWN:-1,DEFLATE:0},Zp={UNKNOWN:-1,ADAPTIVE:0},Zu={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ed={NONE:0,BACKGROUND:1,PREVIOUS:2},ef={SOURCE:0,OVER:1};class Tx extends Ff{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(a,r={}){super(a);const{checkCrc:l=!1}=r;this._checkCrc=l,this._inflator=new Gp,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Xu.UNKNOWN,this._filterMethod=Zp.UNKNOWN,this._interlaceMethod=Zu.UNKNOWN,this._colorType=mi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Xp(this);!this._end;){const a=this.readUint32(),r=this.readChars(4);this.decodeChunk(a,r)}return this.decodeImage(),this._png}decodeApng(){for(Xp(this);!this._end;){const a=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(a,r)}return this.decodeApngImage(),this._apng}decodeChunk(a,r){const l=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(a);break;case"IDAT":this.decodeIDAT(a);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(a);break;case"iCCP":this.decodeiCCP(a);break;case _x:Fx(this._png.text,this,a);break;case"pHYs":this.decodepHYs();break;default:this.skip(a);break}if(this.offset-l!==a)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Kp(this,a+4,r):this.skip(4)}decodeApngChunk(a,r){const l=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(a);break;default:this.decodeChunk(a,r),this.offset=l+a;break}if(this.offset-l!==a)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Kp(this,a+4,r):this.skip(4)}decodeIHDR(){const a=this._png;a.width=this.readUint32(),a.height=this.readUint32(),a.depth=Ox(this.readUint8());const r=this.readUint8();this._colorType=r;let l;switch(r){case mi.GREYSCALE:l=1;break;case mi.TRUECOLOUR:l=3;break;case mi.INDEXED_COLOUR:l=1;break;case mi.GREYSCALE_ALPHA:l=2;break;case mi.TRUECOLOUR_ALPHA:l=4;break;case mi.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=l,this._compressionMethod=this.readUint8(),this._compressionMethod!==Xu.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const a={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(a)}decodePLTE(a){if(a%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${a}`);const r=a/3;this._hasPalette=!0;const l=[];this._palette=l;for(let f=0;f<r;f++)l.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(a){this._writingDataChunks=!0;const r=a,l=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,l,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(a)}decodeFDAT(a){this._writingDataChunks=!0;let r=a,l=this.offset+this.byteOffset;if(l+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,l,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(a)}decodetRNS(a){switch(this._colorType){case mi.GREYSCALE:case mi.TRUECOLOUR:{if(a%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${a}`);if(a/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${a/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(a/2);for(let r=0;r<a/2;r++)this._transparency[r]=this.readUint16();break}case mi.INDEXED_COLOUR:{if(a>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${a} vs ${this._palette.length})`);let r=0;for(;r<a;r++){const l=this.readByte();this._palette[r].push(l)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case mi.UNKNOWN:case mi.GREYSCALE_ALPHA:case mi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(a){const r=g0(this),l=this.readUint8();if(l!==Xu.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${l}`);const f=this.readBytes(a-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:px(f)}}decodepHYs(){const a=this.readUint32(),r=this.readUint32(),l=this.readByte();this._png.resolution={x:a,y:r,unit:l}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let a=0;a<this._numberOfFrames;a++){const r={sequenceNumber:this._frames[a].sequenceNumber,delayNumber:this._frames[a].delayNumber,delayDenominator:this._frames[a].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},l=this._frames.at(a);if(l){if(l.data=Qp({data:l.data,width:l.width,height:l.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),a===0||l.xOffset===0&&l.yOffset===0&&l.width===this._png.width&&l.height===this._png.height)r.data=l.data;else{const f=this._apng.frames.at(a-1);this.disposeFrame(l,f,r),this.addFrameDataToCanvas(r,l)}this._apng.frames.push(r)}}return this._apng}disposeFrame(a,r,l){switch(a.disposeOp){case Ed.NONE:break;case Ed.BACKGROUND:for(let f=0;f<this._png.height;f++)for(let u=0;u<this._png.width;u++){const x=(f*a.width+u)*this._png.channels;for(let g=0;g<this._png.channels;g++)l.data[x+g]=0}break;case Ed.PREVIOUS:l.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(a,r){const l=1<<this._png.depth,f=(u,x)=>{const g=((u+r.yOffset)*this._png.width+r.xOffset+x)*this._png.channels,y=(u*r.width+x)*this._png.channels;return{index:g,frameIndex:y}};switch(r.blendOp){case ef.SOURCE:for(let u=0;u<r.height;u++)for(let x=0;x<r.width;x++){const{index:g,frameIndex:y}=f(u,x);for(let j=0;j<this._png.channels;j++)a.data[g+j]=r.data[y+j]}break;case ef.OVER:for(let u=0;u<r.height;u++)for(let x=0;x<r.width;x++){const{index:g,frameIndex:y}=f(u,x);for(let j=0;j<this._png.channels;j++){const k=r.data[y+this._png.channels-1]/l,L=j%(this._png.channels-1)===0?1:r.data[y+j],R=Math.floor(k*L+(1-k)*a.data[g+j]);a.data[g+j]+=R}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const a=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Zp.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Zu.NO_INTERLACE)this._png.data=Qp({data:a,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Zu.ADAM7)this._png.data=jx({data:a,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const a=this._inflator.result,r=this._frames.at(-1);r?r.data=a:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ed.NONE,blendOp:ef.SOURCE,data:a}),this._inflator=new Gp,this._writingDataChunks=!1}}function Ox(s){if(s!==1&&s!==2&&s!==4&&s!==8&&s!==16)throw new Error(`invalid bit depth: ${s}`);return s}var em;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.METRE=1]="METRE"})(em||(em={}));function Bx(s,a){return new Tx(s,a).decode()}var Yt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function tf(){Yt.console&&typeof Yt.console.log=="function"&&Yt.console.log.apply(Yt.console,arguments)}var Zn={log:tf,warn:function(s){Yt.console&&(typeof Yt.console.warn=="function"?Yt.console.warn.apply(Yt.console,arguments):tf.call(null,arguments))},error:function(s){Yt.console&&(typeof Yt.console.error=="function"?Yt.console.error.apply(Yt.console,arguments):tf(s))}};function nf(s,a,r){var l=new XMLHttpRequest;l.open("GET",s),l.responseType="blob",l.onload=function(){Bl(l.response,a,r)},l.onerror=function(){Zn.error("could not download file")},l.send()}function tm(s){var a=new XMLHttpRequest;a.open("HEAD",s,!1);try{a.send()}catch{}return a.status>=200&&a.status<=299}function Md(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(a)}}var Bl=Yt.saveAs||((typeof window>"u"?"undefined":qn(window))!=="object"||window!==Yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(s,a,r){var l=Yt.URL||Yt.webkitURL,f=document.createElement("a");a=a||s.name||"download",f.download=a,f.rel="noopener",typeof s=="string"?(f.href=s,f.origin!==location.origin?tm(f.href)?nf(s,a,r):Md(f,f.target="_blank"):Md(f)):(f.href=l.createObjectURL(s),setTimeout(function(){l.revokeObjectURL(f.href)},4e4),setTimeout(function(){Md(f)},0))}:"msSaveOrOpenBlob"in navigator?function(s,a,r){if(a=a||s.name||"download",typeof s=="string")if(tm(s))nf(s,a,r);else{var l=document.createElement("a");l.href=s,l.target="_blank",setTimeout(function(){Md(l)})}else navigator.msSaveOrOpenBlob((function(f,u){return u===void 0?u={autoBom:!1}:qn(u)!=="object"&&(Zn.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f})(s,r),a)}:function(s,a,r,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),typeof s=="string")return nf(s,a,r);var f=s.type==="application/octet-stream",u=/constructor/i.test(Yt.HTMLElement)||Yt.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||f&&u)&&(typeof FileReader>"u"?"undefined":qn(FileReader))==="object"){var g=new FileReader;g.onloadend=function(){var k=g.result;k=x?k:k.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=k:location=k,l=null},g.readAsDataURL(s)}else{var y=Yt.URL||Yt.webkitURL,j=y.createObjectURL(s);l?l.location=j:location.href=j,l=null,setTimeout(function(){y.revokeObjectURL(j)},4e4)}});function x0(s){var a;s=s||"",this.ok=!1,s.charAt(0)=="#"&&(s=s.substr(1,6)),s={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[s=(s=s.replace(/ /g,"")).toLowerCase()]||s;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(g){return[parseInt(g[1]),parseInt(g[2]),parseInt(g[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(g){return[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(g){return[parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16)]}}],l=0;l<r.length;l++){var f=r[l].re,u=r[l].process,x=f.exec(s);x&&(a=u(x),this.r=a[0],this.g=a[1],this.b=a[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var g=this.r.toString(16),y=this.g.toString(16),j=this.b.toString(16);return g.length==1&&(g="0"+g),y.length==1&&(y="0"+y),j.length==1&&(j="0"+j),"#"+g+y+j}}var Bd=Yt.atob.bind(Yt),nm=Yt.btoa.bind(Yt);function rf(s,a){var r=s[0],l=s[1],f=s[2],u=s[3];r=ws(r,l,f,u,a[0],7,-680876936),u=ws(u,r,l,f,a[1],12,-389564586),f=ws(f,u,r,l,a[2],17,606105819),l=ws(l,f,u,r,a[3],22,-1044525330),r=ws(r,l,f,u,a[4],7,-176418897),u=ws(u,r,l,f,a[5],12,1200080426),f=ws(f,u,r,l,a[6],17,-1473231341),l=ws(l,f,u,r,a[7],22,-45705983),r=ws(r,l,f,u,a[8],7,1770035416),u=ws(u,r,l,f,a[9],12,-1958414417),f=ws(f,u,r,l,a[10],17,-42063),l=ws(l,f,u,r,a[11],22,-1990404162),r=ws(r,l,f,u,a[12],7,1804603682),u=ws(u,r,l,f,a[13],12,-40341101),f=ws(f,u,r,l,a[14],17,-1502002290),r=js(r,l=ws(l,f,u,r,a[15],22,1236535329),f,u,a[1],5,-165796510),u=js(u,r,l,f,a[6],9,-1069501632),f=js(f,u,r,l,a[11],14,643717713),l=js(l,f,u,r,a[0],20,-373897302),r=js(r,l,f,u,a[5],5,-701558691),u=js(u,r,l,f,a[10],9,38016083),f=js(f,u,r,l,a[15],14,-660478335),l=js(l,f,u,r,a[4],20,-405537848),r=js(r,l,f,u,a[9],5,568446438),u=js(u,r,l,f,a[14],9,-1019803690),f=js(f,u,r,l,a[3],14,-187363961),l=js(l,f,u,r,a[8],20,1163531501),r=js(r,l,f,u,a[13],5,-1444681467),u=js(u,r,l,f,a[2],9,-51403784),f=js(f,u,r,l,a[7],14,1735328473),r=Ss(r,l=js(l,f,u,r,a[12],20,-1926607734),f,u,a[5],4,-378558),u=Ss(u,r,l,f,a[8],11,-2022574463),f=Ss(f,u,r,l,a[11],16,1839030562),l=Ss(l,f,u,r,a[14],23,-35309556),r=Ss(r,l,f,u,a[1],4,-1530992060),u=Ss(u,r,l,f,a[4],11,1272893353),f=Ss(f,u,r,l,a[7],16,-155497632),l=Ss(l,f,u,r,a[10],23,-1094730640),r=Ss(r,l,f,u,a[13],4,681279174),u=Ss(u,r,l,f,a[0],11,-358537222),f=Ss(f,u,r,l,a[3],16,-722521979),l=Ss(l,f,u,r,a[6],23,76029189),r=Ss(r,l,f,u,a[9],4,-640364487),u=Ss(u,r,l,f,a[12],11,-421815835),f=Ss(f,u,r,l,a[15],16,530742520),r=Ns(r,l=Ss(l,f,u,r,a[2],23,-995338651),f,u,a[0],6,-198630844),u=Ns(u,r,l,f,a[7],10,1126891415),f=Ns(f,u,r,l,a[14],15,-1416354905),l=Ns(l,f,u,r,a[5],21,-57434055),r=Ns(r,l,f,u,a[12],6,1700485571),u=Ns(u,r,l,f,a[3],10,-1894986606),f=Ns(f,u,r,l,a[10],15,-1051523),l=Ns(l,f,u,r,a[1],21,-2054922799),r=Ns(r,l,f,u,a[8],6,1873313359),u=Ns(u,r,l,f,a[15],10,-30611744),f=Ns(f,u,r,l,a[6],15,-1560198380),l=Ns(l,f,u,r,a[13],21,1309151649),r=Ns(r,l,f,u,a[4],6,-145523070),u=Ns(u,r,l,f,a[11],10,-1120210379),f=Ns(f,u,r,l,a[2],15,718787259),l=Ns(l,f,u,r,a[9],21,-343485551),s[0]=xl(r,s[0]),s[1]=xl(l,s[1]),s[2]=xl(f,s[2]),s[3]=xl(u,s[3])}function Zd(s,a,r,l,f,u){return a=xl(xl(a,s),xl(l,u)),xl(a<<f|a>>>32-f,r)}function ws(s,a,r,l,f,u,x){return Zd(a&r|~a&l,s,a,f,u,x)}function js(s,a,r,l,f,u,x){return Zd(a&l|r&~l,s,a,f,u,x)}function Ss(s,a,r,l,f,u,x){return Zd(a^r^l,s,a,f,u,x)}function Ns(s,a,r,l,f,u,x){return Zd(r^(a|~l),s,a,f,u,x)}function y0(s){var a,r=s.length,l=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=s.length;a+=64)rf(l,zx(s.substring(a-64,a)));s=s.substring(a-64);var f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(a=0;a<s.length;a++)f[a>>2]|=s.charCodeAt(a)<<(a%4<<3);if(f[a>>2]|=128<<(a%4<<3),a>55)for(rf(l,f),a=0;a<16;a++)f[a]=0;return f[14]=8*r,rf(l,f),l}function zx(s){var a,r=[];for(a=0;a<64;a+=4)r[a>>2]=s.charCodeAt(a)+(s.charCodeAt(a+1)<<8)+(s.charCodeAt(a+2)<<16)+(s.charCodeAt(a+3)<<24);return r}var rm="0123456789abcdef".split("");function Ux(s){for(var a="",r=0;r<4;r++)a+=rm[s>>8*r+4&15]+rm[s>>8*r&15];return a}function qx(s){return String.fromCharCode(255&s,(65280&s)>>8,(16711680&s)>>16,(4278190080&s)>>24)}function wf(s){return y0(s).map(qx).join("")}var $x=(function(s){for(var a=0;a<s.length;a++)s[a]=Ux(s[a]);return s.join("")})(y0("hello"))!="5d41402abc4b2a76b9719d911017c592";function xl(s,a){if($x){var r=(65535&s)+(65535&a);return(s>>16)+(a>>16)+(r>>16)<<16|65535&r}return s+a&4294967295}function jf(s,a){var r,l,f,u;if(s!==r){for(var x=(f=s,u=1+(256/s.length|0),new Array(u+1).join(f)),g=[],y=0;y<256;y++)g[y]=y;var j=0;for(y=0;y<256;y++){var k=g[y];j=(j+k+x.charCodeAt(y))%256,g[y]=g[j],g[j]=k}r=s,l=g}else g=l;var L=a.length,R=0,N=0,z="";for(y=0;y<L;y++)N=(N+(k=g[R=(R+1)%256]))%256,g[R]=g[N],g[N]=k,x=g[(g[R]+g[N])%256],z+=String.fromCharCode(a.charCodeAt(y)^x);return z}var am={print:4,modify:8,copy:16,"annot-forms":32};function mc(s,a,r,l){this.v=1,this.r=2;var f=192;s.forEach(function(g){if(am.perm!==void 0)throw new Error("Invalid permission: "+g);f+=am[g]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var u=(a+this.padding).substr(0,32),x=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(u,x),this.P=-(1+(255^f)),this.encryptionKey=wf(u+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(l)).substr(0,5),this.U=jf(this.encryptionKey,this.padding)}function gc(s){if(/[^\u0000-\u00ff]/.test(s))throw new Error("Invalid PDF Name Object: "+s+", Only accept ASCII characters.");for(var a="",r=s.length,l=0;l<r;l++){var f=s.charCodeAt(l);a+=f<33||f===35||f===37||f===40||f===41||f===47||f===60||f===62||f===91||f===93||f===123||f===125||f>126?"#"+("0"+f.toString(16)).slice(-2):s[l]}return a}function sm(s){if(qn(s)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var a={};this.subscribe=function(r,l,f){if(f=f||!1,typeof r!="string"||typeof l!="function"||typeof f!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");a.hasOwnProperty(r)||(a[r]={});var u=Math.random().toString(35);return a[r][u]=[l,!!f],u},this.unsubscribe=function(r){for(var l in a)if(a[l][r])return delete a[l][r],Object.keys(a[l]).length===0&&delete a[l],!0;return!1},this.publish=function(r){if(a.hasOwnProperty(r)){var l=Array.prototype.slice.call(arguments,1),f=[];for(var u in a[r]){var x=a[r][u];try{x[0].apply(s,l)}catch(g){Yt.console&&Zn.error("jsPDF PubSub Error",g.message,g)}x[1]&&f.push(u)}f.length&&f.forEach(this.unsubscribe)}},this.getTopics=function(){return a}}function Gd(s){if(!(this instanceof Gd))return new Gd(s);var a="opacity,stroke-opacity".split(",");for(var r in s)s.hasOwnProperty(r)&&a.indexOf(r)>=0&&(this[r]=s[r]);this.id="",this.objectNumber=-1}function v0(s,a){this.gState=s,this.matrix=a,this.id="",this.objectNumber=-1}function zl(s,a,r,l,f){if(!(this instanceof zl))return new zl(s,a,r,l,f);this.type=s==="axial"?2:3,this.coords=a,this.colors=r,v0.call(this,l,f)}function xc(s,a,r,l,f){if(!(this instanceof xc))return new xc(s,a,r,l,f);this.boundingBox=s,this.xStep=a,this.yStep=r,this.stream="",this.cloneIndex=0,v0.call(this,l,f)}function Tt(s){var a,r=typeof arguments[0]=="string"?arguments[0]:"p",l=arguments[1],f=arguments[2],u=arguments[3],x=[],g=1,y=16,j="S",k=null;qn(s=s||{})==="object"&&(r=s.orientation,l=s.unit||l,f=s.format||f,u=s.compress||s.compressPdf||u,(k=s.encryption||null)!==null&&(k.userPassword=k.userPassword||"",k.ownerPassword=k.ownerPassword||"",k.userPermissions=k.userPermissions||[]),g=typeof s.userUnit=="number"?Math.abs(s.userUnit):1,s.precision!==void 0&&(a=s.precision),s.floatPrecision!==void 0&&(y=s.floatPrecision),j=s.defaultPathOperation||"S"),x=s.filters||(u===!0?["FlateEncode"]:x),l=l||"mm",r=(""+(r||"P")).toLowerCase();var L=s.putOnlyUsedFonts||!1,R={},N={internal:{},__private__:{}};N.__private__.PubSub=sm;var z="1.3",F=N.__private__.getPdfVersion=function(){return z};N.__private__.setPdfVersion=function(v){z=v};var D={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};N.__private__.getPageFormats=function(){return D};var E=N.__private__.getPageFormat=function(v){return D[v]};f=f||"a4";var q="compat",J="advanced",$=q;function oe(){this.saveGraphicsState(),G(new Et(He,0,0,-He,0,xa()*He).toString()+" cm"),this.setFontSize(this.getFontSize()/He),j="n",$=J}function ce(){this.restoreGraphicsState(),j="S",$=q}var Ee=N.__private__.combineFontStyleAndFontWeight=function(v,M){if(v=="bold"&&M=="normal"||v=="bold"&&M==400||v=="normal"&&M=="italic"||v=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(v=M==400||M==="normal"?v==="italic"?"italic":"normal":M!=700&&M!=="bold"||v!=="normal"?(M==700?"bold":M)+""+v:"bold"),v};N.advancedAPI=function(v){var M=$===q;return M&&oe.call(this),typeof v!="function"||(v(this),M&&ce.call(this)),this},N.compatAPI=function(v){var M=$===J;return M&&ce.call(this),typeof v!="function"||(v(this),M&&oe.call(this)),this},N.isAdvancedAPI=function(){return $===J};var fe,K=function(v){if($!==J)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},pe=N.roundToPrecision=N.__private__.roundToPrecision=function(v,M){var X=a||M;if(isNaN(v)||isNaN(X))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(X).replace(/0+$/,"")};fe=N.hpf=N.__private__.hpf=typeof y=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(v,y)}:y==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(v,16)};var B=N.f2=N.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return pe(v,2)},U=N.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return pe(v,3)},ae=N.scale=N.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return $===q?v*He:$===J?v:void 0},Z=function(v){return ae((function(M){return $===q?xa()-M:$===J?M:void 0})(v))};N.__private__.setPrecision=N.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(a=parseInt(v,10))};var xe,Ae="00000000000000000000000000000000",ke=N.__private__.getFileId=function(){return Ae},le=N.__private__.setFileId=function(v){return Ae=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():Ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),k!==null&&(Sn=new mc(k.userPermissions,k.userPassword,k.ownerPassword,Ae)),Ae};N.setFileId=function(v){return le(v),this},N.getFileId=function(){return ke()};var Se=N.__private__.convertDateToPDFDate=function(v){var M=v.getTimezoneOffset(),X=M<0?"+":"-",he=Math.floor(Math.abs(M/60)),je=Math.abs(M%60),ze=[X,Y(he),"'",Y(je),"'"].join("");return["D:",v.getFullYear(),Y(v.getMonth()+1),Y(v.getDate()),Y(v.getHours()),Y(v.getMinutes()),Y(v.getSeconds()),ze].join("")},Fe=N.__private__.convertPDFDateToDate=function(v){var M=parseInt(v.substr(2,4),10),X=parseInt(v.substr(6,2),10)-1,he=parseInt(v.substr(8,2),10),je=parseInt(v.substr(10,2),10),ze=parseInt(v.substr(12,2),10),Je=parseInt(v.substr(14,2),10);return new Date(M,X,he,je,ze,Je,0)},Q=N.__private__.setCreationDate=function(v){var M;if(v===void 0&&(v=new Date),v instanceof Date)M=Se(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=v}return xe=M},_=N.__private__.getCreationDate=function(v){var M=xe;return v==="jsDate"&&(M=Fe(xe)),M};N.setCreationDate=function(v){return Q(v),this},N.getCreationDate=function(v){return _(v)};var W,Y=N.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},re=N.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},ee=0,me=[],Ce=[],_e=0,Be=[],Le=[],Ge=!1,tt=Ce;N.__private__.setCustomOutputDestination=function(v){Ge=!0,tt=v};var it=function(v){Ge||(tt=v)};N.__private__.resetCustomOutputDestination=function(){Ge=!1,tt=Ce};var G=N.__private__.out=function(v){return v=v.toString(),_e+=v.length+1,tt.push(v),tt},Ve=N.__private__.write=function(v){return G(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},vt=N.__private__.getArrayBuffer=function(v){for(var M=v.length,X=new ArrayBuffer(M),he=new Uint8Array(X);M--;)he[M]=v.charCodeAt(M);return X},ht=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];N.__private__.getStandardFonts=function(){return ht};var Ye=s.fontSize||16;N.__private__.setFontSize=N.setFontSize=function(v){return Ye=$===J?v/He:v,this};var gt,ot=N.__private__.getFontSize=N.getFontSize=function(){return $===q?Ye:Ye*He},pt=s.R2L||!1;N.__private__.setR2L=N.setR2L=function(v){return pt=v,this},N.__private__.getR2L=N.getR2L=function(){return pt};var wt,rn=N.__private__.setZoomMode=function(v){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))gt=v;else if(isNaN(v)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');gt=v}else gt=parseInt(v,10)};N.__private__.getZoomMode=function(){return gt};var $t,Ct=N.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');wt=v};N.__private__.getPageMode=function(){return wt};var Ft=N.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');$t=v};N.__private__.getLayoutMode=function(){return $t},N.__private__.setDisplayMode=N.setDisplayMode=function(v,M,X){return rn(v),Ft(M),Ct(X),this};var we={title:"",subject:"",author:"",keywords:"",creator:""};N.__private__.getDocumentProperty=function(v){if(Object.keys(we).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return we[v]},N.__private__.getDocumentProperties=function(){return we},N.__private__.setDocumentProperties=N.setProperties=N.setDocumentProperties=function(v){for(var M in we)we.hasOwnProperty(M)&&v[M]&&(we[M]=v[M]);return this},N.__private__.setDocumentProperty=function(v,M){if(Object.keys(we).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return we[v]=M};var De,He,Qe,Gt,ye,ue={},Re={},at=[],Xe={},ct={},Nt={},It={},Jt=null,Ot=0,ne=[],dt=new sm(N),dr=s.hotfixes||[],ar={},Or={},_n=[],Et=function v(M,X,he,je,ze,Je){if(!(this instanceof v))return new v(M,X,he,je,ze,Je);isNaN(M)&&(M=1),isNaN(X)&&(X=0),isNaN(he)&&(he=0),isNaN(je)&&(je=1),isNaN(ze)&&(ze=0),isNaN(Je)&&(Je=0),this._matrix=[M,X,he,je,ze,Je]};Object.defineProperty(Et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Et.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Et.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Et.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Et.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Et.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Et.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Et.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(fe).join(v)},Et.prototype.multiply=function(v){var M=v.sx*this.sx+v.shy*this.shx,X=v.sx*this.shy+v.shy*this.sy,he=v.shx*this.sx+v.sy*this.shx,je=v.shx*this.shy+v.sy*this.sy,ze=v.tx*this.sx+v.ty*this.shx+this.tx,Je=v.tx*this.shy+v.ty*this.sy+this.ty;return new Et(M,X,he,je,ze,Je)},Et.prototype.decompose=function(){var v=this.sx,M=this.shy,X=this.shx,he=this.sy,je=this.tx,ze=this.ty,Je=Math.sqrt(v*v+M*M),xt=(v/=Je)*X+(M/=Je)*he;X-=v*xt,he-=M*xt;var kt=Math.sqrt(X*X+he*he);return xt/=kt,v*(he/=kt)<M*(X/=kt)&&(v=-v,M=-M,xt=-xt,Je=-Je),{scale:new Et(Je,0,0,kt,0,0),translate:new Et(1,0,0,1,je,ze),rotate:new Et(v,M,-M,v,0,0),skew:new Et(1,0,xt,1,0,0)}},Et.prototype.toString=function(v){return this.join(" ")},Et.prototype.inversed=function(){var v=this.sx,M=this.shy,X=this.shx,he=this.sy,je=this.tx,ze=this.ty,Je=1/(v*he-M*X),xt=he*Je,kt=-M*Je,jt=-X*Je,Ut=v*Je;return new Et(xt,kt,jt,Ut,-xt*je-jt*ze,-kt*je-Ut*ze)},Et.prototype.applyToPoint=function(v){var M=v.x*this.sx+v.y*this.shx+this.tx,X=v.x*this.shy+v.y*this.sy+this.ty;return new ga(M,X)},Et.prototype.applyToRectangle=function(v){var M=this.applyToPoint(v),X=this.applyToPoint(new ga(v.x+v.w,v.y+v.h));return new tn(M.x,M.y,X.x-M.x,X.y-M.y)},Et.prototype.clone=function(){var v=this.sx,M=this.shy,X=this.shx,he=this.sy,je=this.tx,ze=this.ty;return new Et(v,M,X,he,je,ze)},N.Matrix=Et;var Ha=N.matrixMult=function(v,M){return M.multiply(v)},Va=new Et(1,0,0,1,0,0);N.unitMatrix=N.identityMatrix=Va;var Xr=function(v,M){if(!ct[v]){var X=(M instanceof zl?"Sh":"P")+(Object.keys(Xe).length+1).toString(10);M.id=X,ct[v]=X,Xe[X]=M,dt.publish("addPattern",M)}};N.ShadingPattern=zl,N.TilingPattern=xc,N.addShadingPattern=function(v,M){return K("addShadingPattern()"),Xr(v,M),this},N.beginTilingPattern=function(v){K("beginTilingPattern()"),us(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},N.endTilingPattern=function(v,M){K("endTilingPattern()"),M.stream=Le[W].join(`
`),Xr(v,M),dt.publish("endTilingPattern",M),_n.pop().restore()};var ls,cn=N.__private__.newObject=function(){var v=Tn();return ur(v,!0),v},Tn=N.__private__.newObjectDeferred=function(){return ee++,me[ee]=function(){return _e},ee},ur=function(v,M){return M=typeof M=="boolean"&&M,me[v]=_e,M&&G(v+" 0 obj"),v},Na=N.__private__.newAdditionalObject=function(){var v={objId:Tn(),content:""};return Be.push(v),v},cs=Tn(),ka=Tn(),gn=N.__private__.decodeColorString=function(v){var M=v.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length!==5||M[4]!=="k"&&M[4]!=="K"||(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var X=parseFloat(M[0]);M=[X,X,X,"r"]}for(var he="#",je=0;je<3;je++)he+=("0"+Math.floor(255*parseFloat(M[je])).toString(16)).slice(-2);return he},Gn=N.__private__.encodeColorString=function(v){var M;typeof v=="string"&&(v={ch1:v});var X=v.ch1,he=v.ch2,je=v.ch3,ze=v.ch4,Je=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof X=="string"&&X.charAt(0)!=="#"){var xt=new x0(X);if(xt.ok)X=xt.toHex();else if(!/^\d*\.?\d*$/.test(X))throw new Error('Invalid color "'+X+'" passed to jsPDF.encodeColorString.')}if(typeof X=="string"&&/^#[0-9A-Fa-f]{3}$/.test(X)&&(X="#"+X[1]+X[1]+X[2]+X[2]+X[3]+X[3]),typeof X=="string"&&/^#[0-9A-Fa-f]{6}$/.test(X)){var kt=parseInt(X.substr(1),16);X=kt>>16&255,he=kt>>8&255,je=255&kt}if(he===void 0||ze===void 0&&X===he&&he===je)M=typeof X=="string"?X+" "+Je[0]:v.precision===2?B(X/255)+" "+Je[0]:U(X/255)+" "+Je[0];else if(ze===void 0||qn(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return["1.","1.","1.",Je[1]].join(" ");M=typeof X=="string"?[X,he,je,Je[1]].join(" "):v.precision===2?[B(X/255),B(he/255),B(je/255),Je[1]].join(" "):[U(X/255),U(he/255),U(je/255),Je[1]].join(" ")}else M=typeof X=="string"?[X,he,je,ze,Je[2]].join(" "):v.precision===2?[B(X),B(he),B(je),B(ze),Je[2]].join(" "):[U(X),U(he),U(je),U(ze),Je[2]].join(" ");return M},Wt=N.__private__.getFilters=function(){return x},Pn=N.__private__.putStream=function(v){var M=(v=v||{}).data||"",X=v.filters||Wt(),he=v.alreadyAppliedFilters||[],je=v.addLength1||!1,ze=M.length,Je=v.objectId,xt=function(hn){return hn};if(k!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");k!==null&&(xt=Sn.encryptor(Je,0));var kt={};X===!0&&(X=["FlateEncode"]);var jt=v.additionalKeyValues||[],Ut=(kt=Tt.API.processDataByFilters!==void 0?Tt.API.processDataByFilters(M,X):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if(kt.data.length!==0&&(jt.push({key:"Length",value:kt.data.length}),je===!0&&jt.push({key:"Length1",value:ze})),Ut.length!=0)if(Ut.split("/").length-1==1)jt.push({key:"Filter",value:Ut});else{jt.push({key:"Filter",value:"["+Ut+"]"});for(var fn=0;fn<jt.length;fn+=1)if(jt[fn].key==="DecodeParms"){for(var En=[],hr=0;hr<kt.reverseChain.split("/").length-1;hr+=1)En.push("null");En.push(jt[fn].value),jt[fn].value="["+En.join(" ")+"]"}}G("<<");for(var xn=0;xn<jt.length;xn++)G("/"+jt[xn].key+" "+jt[xn].value);G(">>"),kt.data.length!==0&&(G("stream"),G(xt(kt.data)),G("endstream"))},Kt=N.__private__.putPage=function(v){var M=v.number,X=v.data,he=v.objId,je=v.contentsObjId;ur(he,!0),G("<</Type /Page"),G("/Parent "+v.rootDictionaryObjId+" 0 R"),G("/Resources "+v.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(fe(v.mediaBox.bottomLeftX))+" "+parseFloat(fe(v.mediaBox.bottomLeftY))+" "+fe(v.mediaBox.topRightX)+" "+fe(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&G("/CropBox ["+fe(v.cropBox.bottomLeftX)+" "+fe(v.cropBox.bottomLeftY)+" "+fe(v.cropBox.topRightX)+" "+fe(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&G("/BleedBox ["+fe(v.bleedBox.bottomLeftX)+" "+fe(v.bleedBox.bottomLeftY)+" "+fe(v.bleedBox.topRightX)+" "+fe(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&G("/TrimBox ["+fe(v.trimBox.bottomLeftX)+" "+fe(v.trimBox.bottomLeftY)+" "+fe(v.trimBox.topRightX)+" "+fe(v.trimBox.topRightY)+"]"),v.artBox!==null&&G("/ArtBox ["+fe(v.artBox.bottomLeftX)+" "+fe(v.artBox.bottomLeftY)+" "+fe(v.artBox.topRightX)+" "+fe(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&G("/UserUnit "+v.userUnit),dt.publish("putPage",{objId:he,pageContext:ne[M],pageNumber:M,page:X}),G("/Contents "+je+" 0 R"),G(">>"),G("endobj");var ze=X.join(`
`);return $===J&&(ze+=`
Q`),ur(je,!0),Pn({data:ze,filters:Wt(),objectId:je}),G("endobj"),he},$n=N.__private__.putPages=function(){var v,M,X=[];for(v=1;v<=Ot;v++)ne[v].objId=Tn(),ne[v].contentsObjId=Tn();for(v=1;v<=Ot;v++)X.push(Kt({number:v,data:Le[v],objId:ne[v].objId,contentsObjId:ne[v].contentsObjId,mediaBox:ne[v].mediaBox,cropBox:ne[v].cropBox,bleedBox:ne[v].bleedBox,trimBox:ne[v].trimBox,artBox:ne[v].artBox,userUnit:ne[v].userUnit,rootDictionaryObjId:cs,resourceDictionaryObjId:ka}));ur(cs,!0),G("<</Type /Pages");var he="/Kids [";for(M=0;M<Ot;M++)he+=X[M]+" 0 R ";G(he+"]"),G("/Count "+Ot),G(">>"),G("endobj"),dt.publish("postPutPages")},Xs=function(v){dt.publish("putFont",{font:v,out:G,newObject:cn,putStream:Pn}),v.isAlreadyPutted!==!0&&(v.objectNumber=cn(),G("<<"),G("/Type /Font"),G("/BaseFont /"+gc(v.postScriptName)),G("/Subtype /Type1"),typeof v.encoding=="string"&&G("/Encoding /"+v.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},xi=function(v){v.objectNumber=cn();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[fe(v.x),fe(v.y),fe(v.x+v.width),fe(v.y+v.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var X=v.pages[1].join(`
`);Pn({data:X,additionalKeyValues:M,objectId:v.objectNumber}),G("endobj")},yi=function(v,M){M||(M=21);var X=cn(),he=(function(Je,xt){var kt,jt=[],Ut=1/(xt-1);for(kt=0;kt<1;kt+=Ut)jt.push(kt);if(jt.push(1),Je[0].offset!=0){var fn={offset:0,color:Je[0].color};Je.unshift(fn)}if(Je[Je.length-1].offset!=1){var En={offset:1,color:Je[Je.length-1].color};Je.push(En)}for(var hr="",xn=0,hn=0;hn<jt.length;hn++){for(kt=jt[hn];kt>Je[xn+1].offset;)xn++;var On=Je[xn].offset,Mn=(kt-On)/(Je[xn+1].offset-On),Xa=Je[xn].color,nn=Je[xn+1].color;hr+=re(Math.round((1-Mn)*Xa[0]+Mn*nn[0]).toString(16))+re(Math.round((1-Mn)*Xa[1]+Mn*nn[1]).toString(16))+re(Math.round((1-Mn)*Xa[2]+Mn*nn[2]).toString(16))}return hr.trim()})(v.colors,M),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+M+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pn({data:he,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:X}),G("endobj"),v.objectNumber=cn(),G("<< /ShadingType "+v.type),G("/ColorSpace /DeviceRGB");var ze="/Coords ["+fe(parseFloat(v.coords[0]))+" "+fe(parseFloat(v.coords[1]))+" ";v.type===2?ze+=fe(parseFloat(v.coords[2]))+" "+fe(parseFloat(v.coords[3])):ze+=fe(parseFloat(v.coords[2]))+" "+fe(parseFloat(v.coords[3]))+" "+fe(parseFloat(v.coords[4]))+" "+fe(parseFloat(v.coords[5])),G(ze+="]"),v.matrix&&G("/Matrix ["+v.matrix.toString()+"]"),G("/Function "+X+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},Fi=function(v,M){var X=Tn(),he=cn();M.push({resourcesOid:X,objectOid:he}),v.objectNumber=he;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+v.boundingBox.map(fe).join(" ")+"]"}),je.push({key:"XStep",value:fe(v.xStep)}),je.push({key:"YStep",value:fe(v.yStep)}),je.push({key:"Resources",value:X+" 0 R"}),v.matrix&&je.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Pn({data:v.stream,additionalKeyValues:je,objectId:v.objectNumber}),G("endobj")},Zs=function(v){for(var M in v.objectNumber=cn(),G("<<"),v)switch(M){case"opacity":G("/ca "+B(v[M]));break;case"stroke-opacity":G("/CA "+B(v[M]))}G(">>"),G("endobj")},Wn=function(v){ur(v.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var M in G("/Font <<"),ue)ue.hasOwnProperty(M)&&(L===!1||L===!0&&R.hasOwnProperty(M))&&G("/"+M+" "+ue[M].objectNumber+" 0 R");G(">>")})(),(function(){if(Object.keys(Xe).length>0){for(var M in G("/Shading <<"),Xe)Xe.hasOwnProperty(M)&&Xe[M]instanceof zl&&Xe[M].objectNumber>=0&&G("/"+M+" "+Xe[M].objectNumber+" 0 R");dt.publish("putShadingPatternDict"),G(">>")}})(),(function(M){if(Object.keys(Xe).length>0){for(var X in G("/Pattern <<"),Xe)Xe.hasOwnProperty(X)&&Xe[X]instanceof N.TilingPattern&&Xe[X].objectNumber>=0&&Xe[X].objectNumber<M&&G("/"+X+" "+Xe[X].objectNumber+" 0 R");dt.publish("putTilingPatternDict"),G(">>")}})(v.objectOid),(function(){if(Object.keys(Nt).length>0){var M;for(M in G("/ExtGState <<"),Nt)Nt.hasOwnProperty(M)&&Nt[M].objectNumber>=0&&G("/"+M+" "+Nt[M].objectNumber+" 0 R");dt.publish("putGStateDict"),G(">>")}})(),(function(){for(var M in G("/XObject <<"),ar)ar.hasOwnProperty(M)&&ar[M].objectNumber>=0&&G("/"+M+" "+ar[M].objectNumber+" 0 R");dt.publish("putXobjectDict"),G(">>")})(),G(">>"),G("endobj")},jl=function(v){Re[v.fontName]=Re[v.fontName]||{},Re[v.fontName][v.fontStyle]=v.id},vi=function(v,M,X,he,je){var ze={id:"F"+(Object.keys(ue).length+1).toString(10),postScriptName:v,fontName:M,fontStyle:X,encoding:he,isStandardFont:je||!1,metadata:{}};return dt.publish("addFont",{font:ze,instance:this}),ue[ze.id]=ze,jl(ze),ze.id},mt=N.__private__.pdfEscape=N.pdfEscape=function(v,M){return(function(X,he){var je,ze,Je,xt,kt,jt,Ut,fn,En;if(Je=(he=he||{}).sourceEncoding||"Unicode",kt=he.outputEncoding,(he.autoencode||kt)&&ue[De].metadata&&ue[De].metadata[Je]&&ue[De].metadata[Je].encoding&&(xt=ue[De].metadata[Je].encoding,!kt&&ue[De].encoding&&(kt=ue[De].encoding),!kt&&xt.codePages&&(kt=xt.codePages[0]),typeof kt=="string"&&(kt=xt[kt]),kt)){for(Ut=!1,jt=[],je=0,ze=X.length;je<ze;je++)(fn=kt[X.charCodeAt(je)])?jt.push(String.fromCharCode(fn)):jt.push(X[je]),jt[je].charCodeAt(0)>>8&&(Ut=!0);X=jt.join("")}for(je=X.length;Ut===void 0&&je!==0;)X.charCodeAt(je-1)>>8&&(Ut=!0),je--;if(!Ut)return X;for(jt=he.noBOM?[]:[254,255],je=0,ze=X.length;je<ze;je++){if((En=(fn=X.charCodeAt(je))>>8)>>8)throw new Error("Character at position "+je+" of string '"+X+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");jt.push(En),jt.push(fn-(En<<8))}return String.fromCharCode.apply(void 0,jt)})(v,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fr=N.__private__.beginPage=function(v){Le[++Ot]=[],ne[Ot]={objId:0,contentsObjId:0,userUnit:Number(g),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},Ln(Ot),it(Le[W])},io=function(v,M){var X,he,je;switch(r=M||r,typeof v=="string"&&(X=E(v.toLowerCase()),Array.isArray(X)&&(he=X[0],je=X[1])),Array.isArray(v)&&(he=v[0]*He,je=v[1]*He),isNaN(he)&&(he=f[0],je=f[1]),(he>14400||je>14400)&&(Zn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),je=Math.min(14400,je)),f=[he,je],r.substr(0,1)){case"l":je>he&&(f=[je,he]);break;case"p":he>je&&(f=[je,he])}fr(f),Pt(un),G(en),Lr!==0&&G(Lr+" J"),Ka!==0&&G(Ka+" j"),dt.publish("addPage",{pageNumber:Ot})},Ri=function(v){v>0&&v<=Ot&&(Le.splice(v,1),ne.splice(v,1),Ot--,W>Ot&&(W=Ot),this.setPage(W))},Ln=function(v){v>0&&v<=Ot&&(W=v)},jn=N.__private__.getNumberOfPages=N.getNumberOfPages=function(){return Le.length-1},sr=function(v,M,X){var he,je=void 0;return X=X||{},v=v!==void 0?v:ue[De].fontName,M=M!==void 0?M:ue[De].fontStyle,he=v.toLowerCase(),Re[he]!==void 0&&Re[he][M]!==void 0?je=Re[he][M]:Re[v]!==void 0&&Re[v][M]!==void 0?je=Re[v][M]:X.disableWarning===!1&&Zn.warn("Unable to look up font label for font '"+v+"', '"+M+"'. Refer to getFontList() for available fonts."),je||X.noFallback||(je=Re.times[M])==null&&(je=Re.times.normal),je},dn=N.__private__.putInfo=function(){var v=cn(),M=function(he){return he};for(var X in k!==null&&(M=Sn.encryptor(v,0)),G("<<"),G("/Producer ("+mt(M("jsPDF "+Tt.version))+")"),we)we.hasOwnProperty(X)&&we[X]&&G("/"+X.substr(0,1).toUpperCase()+X.substr(1)+" ("+mt(M(we[X]))+")");G("/CreationDate ("+mt(M(xe))+")"),G(">>"),G("endobj")},oo=N.__private__.putCatalog=function(v){var M=(v=v||{}).rootDictionaryObjId||cs;switch(cn(),G("<<"),G("/Type /Catalog"),G("/Pages "+M+" 0 R"),gt||(gt="fullwidth"),gt){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var X=""+gt;X.substr(X.length-1)==="%"&&(gt=parseInt(gt)/100),typeof gt=="number"&&G("/OpenAction [3 0 R /XYZ null null "+B(gt)+"]")}switch($t||($t="continuous"),$t){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}wt&&G("/PageMode /"+wt),dt.publish("putCatalog"),G(">>"),G("endobj")},bi=N.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(ee+1)),G("/Root "+ee+" 0 R"),G("/Info "+(ee-1)+" 0 R"),k!==null&&G("/Encrypt "+Sn.oid+" 0 R"),G("/ID [ <"+Ae+"> <"+Ae+"> ]"),G(">>")},Ke=N.__private__.putHeader=function(){G("%PDF-"+z),G("%")},er=N.__private__.putXRef=function(){var v="0000000000";G("xref"),G("0 "+(ee+1)),G("0000000000 65535 f ");for(var M=1;M<=ee;M++)typeof me[M]=="function"?G((v+me[M]()).slice(-10)+" 00000 n "):me[M]!==void 0?G((v+me[M]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},Ar=N.__private__.buildDocument=function(){var v;ee=0,_e=0,Ce=[],me=[],Be=[],cs=Tn(),ka=Tn(),it(Ce),dt.publish("buildDocument"),Ke(),$n(),(function(){dt.publish("putAdditionalObjects");for(var X=0;X<Be.length;X++){var he=Be[X];ur(he.objId,!0),G(he.content),G("endobj")}dt.publish("postPutAdditionalObjects")})(),v=[],(function(){for(var X in ue)ue.hasOwnProperty(X)&&(L===!1||L===!0&&R.hasOwnProperty(X))&&Xs(ue[X])})(),(function(){var X;for(X in Nt)Nt.hasOwnProperty(X)&&Zs(Nt[X])})(),(function(){for(var X in ar)ar.hasOwnProperty(X)&&xi(ar[X])})(),(function(X){var he;for(he in Xe)Xe.hasOwnProperty(he)&&(Xe[he]instanceof zl?yi(Xe[he]):Xe[he]instanceof xc&&Fi(Xe[he],X))})(v),dt.publish("putResources"),v.forEach(Wn),Wn({resourcesOid:ka,objectOid:Number.MAX_SAFE_INTEGER}),dt.publish("postPutResources"),k!==null&&(Sn.oid=cn(),G("<<"),G("/Filter /Standard"),G("/V "+Sn.v),G("/R "+Sn.r),G("/U <"+Sn.toHexString(Sn.U)+">"),G("/O <"+Sn.toHexString(Sn.O)+">"),G("/P "+Sn.P),G(">>"),G("endobj")),dn(),oo();var M=_e;return er(),bi(),G("startxref"),G(""+M),G("%%EOF"),it(Le[W]),Ce.join(`
`)},Br=N.__private__.getBlob=function(v){return new Blob([vt(v)],{type:"application/pdf"})},Aa=N.output=N.__private__.output=(ls=function(v,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",v){case void 0:return Ar();case"save":N.save(M.filename);break;case"arraybuffer":return vt(Ar());case"blob":return Br(Ar());case"bloburi":case"bloburl":if(Yt.URL!==void 0&&typeof Yt.URL.createObjectURL=="function")return Yt.URL&&Yt.URL.createObjectURL(Br(Ar()))||void 0;Zn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var X="",he=Ar();try{X=nm(he)}catch{X=nm(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+M.filename+";base64,"+X;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(je=M.pdfObjectUrl,ze="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",xt=Yt.open();return xt!==null&&xt.document.write(Je),xt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',jt=Yt.open();if(jt!==null){jt.document.write(kt);var Ut=this;jt.document.documentElement.querySelector("#pdfViewer").onload=function(){jt.document.title=M.filename,jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ut.output("bloburl"))}}return jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',En=Yt.open();if(En!==null&&(En.document.write(fn),En.document.title=M.filename),En||typeof safari>"u")return En;break;case"datauri":case"dataurl":return Yt.document.location.href=this.output("datauristring",M);default:return null}},ls.foo=function(){try{return ls.apply(this,arguments)}catch(X){var v=X.stack||"";~v.indexOf(" at ")&&(v=v.split(" at ")[1]);var M="Error in function "+v.split(`
`)[0].split("<")[0]+": "+X.message;if(!Yt.console)throw new Error(M);Yt.console.error(M,X),Yt.alert&&alert(M)}},ls.foo.bar=ls,ls.foo),yr=function(v){return Array.isArray(dr)===!0&&dr.indexOf(v)>-1};switch(l){case"pt":He=1;break;case"mm":He=72/25.4;break;case"cm":He=72/2.54;break;case"in":He=72;break;case"px":He=yr("px_scaling")==1?.75:96/72;break;case"pc":case"em":He=12;break;case"ex":He=6;break;default:if(typeof l!="number")throw new Error("Invalid unit: "+l);He=l}var Sn=null;Q(),le();var Ca=N.__private__.getPageInfo=N.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ne[v].objId,pageNumber:v,pageContext:ne[v]}},Mo=N.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in ne)if(ne[M].objId===v)break;return Ca(M)},ei=N.__private__.getCurrentPageInfo=N.getCurrentPageInfo=function(){return{objId:ne[W].objId,pageNumber:W,pageContext:ne[W]}};N.addPage=function(){return io.apply(this,arguments),this},N.setPage=function(){return Ln.apply(this,arguments),it.call(this,Le[W]),this},N.insertPage=function(v){return this.addPage(),this.movePage(W,v),this},N.movePage=function(v,M){var X,he;if(v>M){X=Le[v],he=ne[v];for(var je=v;je>M;je--)Le[je]=Le[je-1],ne[je]=ne[je-1];Le[M]=X,ne[M]=he,this.setPage(M)}else if(v<M){X=Le[v],he=ne[v];for(var ze=v;ze<M;ze++)Le[ze]=Le[ze+1],ne[ze]=ne[ze+1];Le[M]=X,ne[M]=he,this.setPage(M)}return this},N.deletePage=function(){return Ri.apply(this,arguments),this},N.__private__.text=N.text=function(v,M,X,he,je){var ze,Je,xt,kt,jt,Ut,fn,En,hr,xn=(he=he||{}).scope||this;if(typeof v=="number"&&typeof M=="number"&&(typeof X=="string"||Array.isArray(X))){var hn=X;X=M,M=v,v=hn}if(arguments[3]instanceof Et==0?(xt=arguments[4],kt=arguments[5],qn(fn=arguments[3])==="object"&&fn!==null||(typeof xt=="string"&&(kt=xt,xt=null),typeof fn=="string"&&(kt=fn,fn=null),typeof fn=="number"&&(xt=fn,fn=null),he={flags:fn,angle:xt,align:kt})):(K("The transform parameter of text() with a Matrix value"),hr=je),isNaN(M)||isNaN(X)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return xn;var On,Mn="",Xa=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:La,nn=xn.internal.scaleFactor;function $r(nt){return nt=nt.split("	").join(Array(he.TabLen||9).join(" ")),mt(nt,fn)}function Dn(nt){for(var Rt,Vn=nt.concat(),Qn=[],sa=Vn.length;sa--;)typeof(Rt=Vn.shift())=="string"?Qn.push(Rt):Array.isArray(nt)&&(Rt.length===1||Rt[1]===void 0&&Rt[2]===void 0)?Qn.push(Rt[0]):Qn.push([Rt[0],Rt[1],Rt[2]]);return Qn}function Bi(nt,Rt){var Vn;if(typeof nt=="string")Vn=Rt(nt)[0];else if(Array.isArray(nt)){for(var Qn,sa,To=nt.concat(),ii=[],ts=To.length;ts--;)typeof(Qn=To.shift())=="string"?ii.push(Rt(Qn)[0]):Array.isArray(Qn)&&typeof Qn[0]=="string"&&(sa=Rt(Qn[0],Qn[1],Qn[2]),ii.push([sa[0],sa[1],sa[2]]));Vn=ii}return Vn}var _r=!1,zi=!0;if(typeof v=="string")_r=!0;else if(Array.isArray(v)){var Ir=v.concat();Je=[];for(var Si,Fn=Ir.length;Fn--;)(typeof(Si=Ir.shift())!="string"||Array.isArray(Si)&&typeof Si[0]!="string")&&(zi=!1);_r=zi}if(_r===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var Ui=Ye/xn.internal.scaleFactor,hs=Ui*(Xa-1);switch(he.baseline){case"bottom":X-=hs;break;case"top":X+=Ui-hs;break;case"hanging":X+=Ui-2*hs;break;case"middle":X+=Ui/2-hs}if((Ut=he.maxWidth||0)>0&&(typeof v=="string"?v=xn.splitTextToSize(v,Ut):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(nt,Rt){return nt.concat(xn.splitTextToSize(Rt,Ut))},[]))),ze={text:v,x:M,y:X,options:he,mutex:{pdfEscape:mt,activeFontKey:De,fonts:ue,activeFontSize:Ye}},dt.publish("preProcessText",ze),v=ze.text,xt=(he=ze.options).angle,hr instanceof Et==0&&xt&&typeof xt=="number"){xt*=Math.PI/180,he.rotationDirection===0&&(xt=-xt),$===J&&(xt=-xt);var Ro=Math.cos(xt),fo=Math.sin(xt);hr=new Et(Ro,fo,-fo,Ro,0,0)}else xt&&xt instanceof Et&&(hr=xt);$!==J||hr||(hr=Va),(jt=he.charSpace||In)!==void 0&&(Mn+=fe(ae(jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(En=he.horizontalScale)!==void 0&&(Mn+=fe(100*En)+` Tz
`),he.lang;var br=-1,_a=he.renderingMode!==void 0?he.renderingMode:he.stroke,zs=xn.internal.getCurrentPageInfo().pageContext;switch(_a){case 0:case!1:case"fill":br=0;break;case 1:case!0:case"stroke":br=1;break;case 2:case"fillThenStroke":br=2;break;case 3:case"invisible":br=3;break;case 4:case"fillAndAddForClipping":br=4;break;case 5:case"strokeAndAddPathForClipping":br=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":br=6;break;case 7:case"addToPathForClipping":br=7}var Za=zs.usedRenderingMode!==void 0?zs.usedRenderingMode:-1;br!==-1?Mn+=br+` Tr
`:Za!==-1&&(Mn+=`0 Tr
`),br!==-1&&(zs.usedRenderingMode=br),kt=he.align||"left";var Ia,ea=Ye*Xa,ho=xn.internal.pageSize.getWidth(),ni=ue[De];jt=he.charSpace||In,Ut=he.maxWidth||0,fn=Object.assign({autoencode:!0,noBOM:!0},he.flags);var ri=[],Ea=function(nt){return xn.getStringUnitWidth(nt,{font:ni,charSpace:jt,fontSize:Ye,doKerning:!1})*Ye/nn};if(Object.prototype.toString.call(v)==="[object Array]"){var es;Je=Dn(v),kt!=="left"&&(Ia=Je.map(Ea));var Ma,ai=0;if(kt==="right"){M-=Ia[0],v=[],Fn=Je.length;for(var Hn=0;Hn<Fn;Hn++)Hn===0?(Ma=Ga(M),es=Ja(X)):(Ma=ae(ai-Ia[Hn]),es=-ea),v.push([Je[Hn],Ma,es]),ai=Ia[Hn]}else if(kt==="center"){M-=Ia[0]/2,v=[],Fn=Je.length;for(var Cs=0;Cs<Fn;Cs++)Cs===0?(Ma=Ga(M),es=Ja(X)):(Ma=ae((ai-Ia[Cs])/2),es=-ea),v.push([Je[Cs],Ma,es]),ai=Ia[Cs]}else if(kt==="left"){v=[],Fn=Je.length;for(var Jn=0;Jn<Fn;Jn++)v.push(Je[Jn])}else if(kt==="justify"&&ni.encoding==="Identity-H"){v=[],Fn=Je.length,Ut=Ut!==0?Ut:ho;for(var ta=0,Kn=0;Kn<Fn;Kn++)if(es=Kn===0?Ja(X):-ea,Ma=Kn===0?Ga(M):ta,Kn<Fn-1){var Ni=ae((Ut-Ia[Kn])/(Je[Kn].split(" ").length-1)),ps=Je[Kn].split(" ");v.push([ps[0]+" ",Ma,es]),ta=0;for(var na=1;na<ps.length;na++){var si=(Ea(ps[na-1]+" "+ps[na])-Ea(ps[na]))*nn+Ni;na==ps.length-1?v.push([ps[na],si,0]):v.push([ps[na]+" ",si,0]),ta-=si}}else v.push([Je[Kn],Ma,es]);v.push(["",ta,0])}else{if(kt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Fn=Je.length,Ut=Ut!==0?Ut:ho,Kn=0;Kn<Fn;Kn++){es=Kn===0?Ja(X):-ea,Ma=Kn===0?Ga(M):0;var Ps=Je[Kn].split(" ").length-1,Ls=Ps>0?(Ut-Ia[Kn])/Ps:0;Kn<Fn-1?ri.push(fe(ae(Ls))):ri.push(0),v.push([Je[Kn],Ma,es])}}}(typeof he.R2L=="boolean"?he.R2L:pt)===!0&&(v=Bi(v,function(nt,Rt,Vn){return[nt.split("").reverse().join(""),Rt,Vn]})),ze={text:v,x:M,y:X,options:he,mutex:{pdfEscape:mt,activeFontKey:De,fonts:ue,activeFontSize:Ye}},dt.publish("postProcessText",ze),v=ze.text,On=ze.mutex.isHex||!1;var Us=ue[De].encoding;Us!=="WinAnsiEncoding"&&Us!=="StandardEncoding"||(v=Bi(v,function(nt,Rt,Vn){return[$r(nt),Rt,Vn]})),Je=Dn(v),v=[];for(var qs,ra,aa,Da=Array.isArray(Je[0])?1:0,qi="",ms=function(nt,Rt,Vn){var Qn="";return Vn instanceof Et?(Vn=typeof he.angle=="number"?Ha(Vn,new Et(1,0,0,1,nt,Rt)):Ha(new Et(1,0,0,1,nt,Rt),Vn),$===J&&(Vn=Ha(new Et(1,0,0,-1,0,0),Vn)),Qn=Vn.join(" ")+` Tm
`):Qn=fe(nt)+" "+fe(Rt)+` Td
`,Qn},Nn=0;Nn<Je.length;Nn++){switch(qi="",Da){case 1:aa=(On?"<":"(")+Je[Nn][0]+(On?">":")"),qs=parseFloat(Je[Nn][1]),ra=parseFloat(Je[Nn][2]);break;case 0:aa=(On?"<":"(")+Je[Nn]+(On?">":")"),qs=Ga(M),ra=Ja(X)}ri!==void 0&&ri[Nn]!==void 0&&(qi=ri[Nn]+` Tw
`),Nn===0?v.push(qi+ms(qs,ra,hr)+aa):Da===0?v.push(qi+aa):Da===1&&v.push(qi+ms(qs,ra,hr)+aa)}v=Da===0?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Wr=`BT
/`;return Wr+=De+" "+Ye+` Tf
`,Wr+=fe(Ye*Xa)+` TL
`,Wr+=ma+`
`,Wr+=Mn,Wr+=v,G(Wr+="ET"),R[De]=!0,xn};var Cr=N.__private__.clip=N.clip=function(v){return G(v==="evenodd"?"W*":"W"),this};N.clipEvenOdd=function(){return Cr("evenodd")},N.__private__.discardPath=N.discardPath=function(){return G("n"),this};var ha=N.__private__.isValidStyle=function(v){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(M=!0),M};N.__private__.setDefaultPathOperation=N.setDefaultPathOperation=function(v){return ha(v)&&(j=v),this};var ds=N.__private__.getStyle=N.getStyle=function(v){var M=j;switch(v){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=v}return M},sn=N.close=function(){return G("h"),this};N.stroke=function(){return G("S"),this},N.fill=function(v){return Qt("f",v),this},N.fillEvenOdd=function(v){return Qt("f*",v),this},N.fillStroke=function(v){return Qt("B",v),this},N.fillStrokeEvenOdd=function(v){return Qt("B*",v),this};var Qt=function(v,M){qn(M)==="object"?lo(M,v):G(v)},Pa=function(v){v===null||$===J&&v===void 0||(v=ds(v),G(v))};function Do(v,M,X,he,je){var ze=new xc(M||this.boundingBox,X||this.xStep,he||this.yStep,this.gState,je||this.matrix);ze.stream=this.stream;var Je=v+"$$"+this.cloneIndex+++"$$";return Xr(Je,ze),ze}var lo=function(v,M){var X=ct[v.key],he=Xe[X];if(he instanceof zl)G("q"),G(Ti(M)),he.gState&&N.setGState(he.gState),G(v.matrix.toString()+" cm"),G("/"+X+" sh"),G("Q");else if(he instanceof xc){var je=new Et(1,0,0,-1,0,xa());v.matrix&&(je=je.multiply(v.matrix||Va),X=Do.call(he,v.key,v.boundingBox,v.xStep,v.yStep,je).id),G("q"),G("/Pattern cs"),G("/"+X+" scn"),he.gState&&N.setGState(he.gState),G(M),G("Q")}},Ti=function(v){switch(v){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Oi=N.moveTo=function(v,M){return G(fe(ae(v))+" "+fe(Z(M))+" m"),this},Fo=N.lineTo=function(v,M){return G(fe(ae(v))+" "+fe(Z(M))+" l"),this},Zr=N.curveTo=function(v,M,X,he,je,ze){return G([fe(ae(v)),fe(Z(M)),fe(ae(X)),fe(Z(he)),fe(ae(je)),fe(Z(ze)),"c"].join(" ")),this};N.__private__.line=N.line=function(v,M,X,he,je){if(isNaN(v)||isNaN(M)||isNaN(X)||isNaN(he)||!ha(je))throw new Error("Invalid arguments passed to jsPDF.line");return $===q?this.lines([[X-v,he-M]],v,M,[1,1],je||"S"):this.lines([[X-v,he-M]],v,M,[1,1]).stroke()},N.__private__.lines=N.lines=function(v,M,X,he,je,ze){var Je,xt,kt,jt,Ut,fn,En,hr,xn,hn,On,Mn;if(typeof v=="number"&&(Mn=X,X=M,M=v,v=Mn),he=he||[1,1],ze=ze||!1,isNaN(M)||isNaN(X)||!Array.isArray(v)||!Array.isArray(he)||!ha(je)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Oi(M,X),Je=he[0],xt=he[1],jt=v.length,hn=M,On=X,kt=0;kt<jt;kt++)(Ut=v[kt]).length===2?(hn=Ut[0]*Je+hn,On=Ut[1]*xt+On,Fo(hn,On)):(fn=Ut[0]*Je+hn,En=Ut[1]*xt+On,hr=Ut[2]*Je+hn,xn=Ut[3]*xt+On,hn=Ut[4]*Je+hn,On=Ut[5]*xt+On,Zr(fn,En,hr,xn,hn,On));return ze&&sn(),Pa(je),this},N.path=function(v){for(var M=0;M<v.length;M++){var X=v[M],he=X.c;switch(X.op){case"m":Oi(he[0],he[1]);break;case"l":Fo(he[0],he[1]);break;case"c":Zr.apply(this,he);break;case"h":sn()}}return this},N.__private__.rect=N.rect=function(v,M,X,he,je){if(isNaN(v)||isNaN(M)||isNaN(X)||isNaN(he)||!ha(je))throw new Error("Invalid arguments passed to jsPDF.rect");return $===q&&(he=-he),G([fe(ae(v)),fe(Z(M)),fe(ae(X)),fe(ae(he)),"re"].join(" ")),Pa(je),this},N.__private__.triangle=N.triangle=function(v,M,X,he,je,ze,Je){if(isNaN(v)||isNaN(M)||isNaN(X)||isNaN(he)||isNaN(je)||isNaN(ze)||!ha(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[X-v,he-M],[je-X,ze-he],[v-je,M-ze]],v,M,[1,1],Je,!0),this},N.__private__.roundedRect=N.roundedRect=function(v,M,X,he,je,ze,Je){if(isNaN(v)||isNaN(M)||isNaN(X)||isNaN(he)||isNaN(je)||isNaN(ze)||!ha(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var xt=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*X),ze=Math.min(ze,.5*he),this.lines([[X-2*je,0],[je*xt,0,je,ze-ze*xt,je,ze],[0,he-2*ze],[0,ze*xt,-je*xt,ze,-je,ze],[2*je-X,0],[-je*xt,0,-je,-ze*xt,-je,-ze],[0,2*ze-he],[0,-ze*xt,je*xt,-ze,je,-ze]],v+je,M,[1,1],Je,!0),this},N.__private__.ellipse=N.ellipse=function(v,M,X,he,je){if(isNaN(v)||isNaN(M)||isNaN(X)||isNaN(he)||!ha(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*X,Je=4/3*(Math.SQRT2-1)*he;return Oi(v+X,M),Zr(v+X,M-Je,v+ze,M-he,v,M-he),Zr(v-ze,M-he,v-X,M-Je,v-X,M),Zr(v-X,M+Je,v-ze,M+he,v,M+he),Zr(v+ze,M+he,v+X,M+Je,v+X,M),Pa(je),this},N.__private__.circle=N.circle=function(v,M,X,he){if(isNaN(v)||isNaN(M)||isNaN(X)||!ha(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,M,X,X,he)},N.setFont=function(v,M,X){return X&&(M=Ee(M,X)),De=sr(v,M,{disableWarning:!1}),this};var Ya=N.__private__.getFont=N.getFont=function(){return ue[sr.apply(N,arguments)]};N.__private__.getFontList=N.getFontList=function(){var v,M,X={};for(v in Re)if(Re.hasOwnProperty(v))for(M in X[v]=[],Re[v])Re[v].hasOwnProperty(M)&&X[v].push(M);return X},N.addFont=function(v,M,X,he,je){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(X=Ee(X,he)),vi.call(this,v,M,X,je=je||"Identity-H")};var La,un=s.lineWidth||.200025,ks=N.__private__.getLineWidth=N.getLineWidth=function(){return un},Pt=N.__private__.setLineWidth=N.setLineWidth=function(v){return un=v,G(fe(ae(v))+" w"),this};N.__private__.setLineDash=Tt.API.setLineDash=Tt.API.setLineDashPattern=function(v,M){if(v=v||[],M=M||0,isNaN(M)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(X){return fe(ae(X))}).join(" "),M=fe(ae(M)),G("["+v+"] "+M+" d"),this};var As=N.__private__.getLineHeight=N.getLineHeight=function(){return Ye*La};N.__private__.getLineHeight=N.getLineHeight=function(){return Ye*La};var wi=N.__private__.setLineHeightFactor=N.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(La=v),this},Qo=N.__private__.getLineHeightFactor=N.getLineHeightFactor=function(){return La};wi(s.lineHeight);var Ga=N.__private__.getHorizontalCoordinate=function(v){return ae(v)},Ja=N.__private__.getVerticalCoordinate=function(v){return $===J?v:ne[W].mediaBox.topRightY-ne[W].mediaBox.bottomLeftY-ae(v)},Pr=N.__private__.getHorizontalCoordinateString=N.getHorizontalCoordinateString=function(v){return fe(Ga(v))},Ts=N.__private__.getVerticalCoordinateString=N.getVerticalCoordinateString=function(v){return fe(Ja(v))},en=s.strokeColor||"0 G";N.__private__.getStrokeColor=N.getDrawColor=function(){return gn(en)},N.__private__.setStrokeColor=N.setDrawColor=function(v,M,X,he){return en=Gn({ch1:v,ch2:M,ch3:X,ch4:he,pdfColorType:"draw",precision:2}),G(en),this};var pa=s.fillColor||"0 g";N.__private__.getFillColor=N.getFillColor=function(){return gn(pa)},N.__private__.setFillColor=N.setFillColor=function(v,M,X,he){return pa=Gn({ch1:v,ch2:M,ch3:X,ch4:he,pdfColorType:"fill",precision:2}),G(pa),this};var ma=s.textColor||"0 g",ji=N.__private__.getTextColor=N.getTextColor=function(){return gn(ma)};N.__private__.setTextColor=N.setTextColor=function(v,M,X,he){return ma=Gn({ch1:v,ch2:M,ch3:X,ch4:he,pdfColorType:"text",precision:3}),this};var In=s.charSpace,vr=N.__private__.getCharSpace=N.getCharSpace=function(){return parseFloat(In||0)};N.__private__.setCharSpace=N.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return In=v,this};var Lr=0;N.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},N.__private__.setLineCap=N.setLineCap=function(v){var M=N.CapJoinStyles[v];if(M===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lr=M,G(M+" J"),this};var Ka=0;N.__private__.setLineJoin=N.setLineJoin=function(v){var M=N.CapJoinStyles[v];if(M===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ka=M,G(M+" j"),this},N.__private__.setLineMiterLimit=N.__private__.setMiterLimit=N.setLineMiterLimit=N.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(fe(ae(v))+" M"),this},N.GState=Gd,N.setGState=function(v){(v=typeof v=="string"?Nt[It[v]]:co(null,v)).equals(Jt)||(G("/"+v.id+" gs"),Jt=v)};var co=function(v,M){if(!v||!It[v]){var X=!1;for(var he in Nt)if(Nt.hasOwnProperty(he)&&Nt[he].equals(M)){X=!0;break}if(X)M=Nt[he];else{var je="GS"+(Object.keys(Nt).length+1).toString(10);Nt[je]=M,M.id=je}return v&&(It[v]=M.id),dt.publish("addGState",M),M}};N.addGState=function(v,M){return co(v,M),this},N.saveGraphicsState=function(){return G("q"),at.push({key:De,size:Ye,color:ma}),this},N.restoreGraphicsState=function(){G("Q");var v=at.pop();return De=v.key,Ye=v.size,ma=v.color,Jt=null,this},N.setCurrentTransformationMatrix=function(v){return G(v.toString()+" cm"),this},N.comment=function(v){return G("#"+v),this};var ga=function(v,M){var X=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return X},set:function(ze){isNaN(ze)||(X=parseFloat(ze))}});var he=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(ze){isNaN(ze)||(he=parseFloat(ze))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(ze){je=ze.toString()}}),this},tn=function(v,M,X,he){ga.call(this,v,M),this.type="rect";var je=X||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function(Je){isNaN(Je)||(je=parseFloat(Je))}});var ze=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function(Je){isNaN(Je)||(ze=parseFloat(Je))}}),this},Os=function(){this.page=Ot,this.currentPage=W,this.pages=Le.slice(0),this.pagesContext=ne.slice(0),this.x=Qe,this.y=Gt,this.matrix=ye,this.width=fs(W),this.height=Bs(W),this.outputDestination=tt,this.id="",this.objectNumber=-1};Os.prototype.restore=function(){Ot=this.page,W=this.currentPage,ne=this.pagesContext,Le=this.pages,Qe=this.x,Gt=this.y,ye=this.matrix,ti(W,this.width),zr(W,this.height),tt=this.outputDestination};var us=function(v,M,X,he,je){_n.push(new Os),Ot=W=0,Le=[],Qe=v,Gt=M,ye=je,fr([X,he])};for(var Qa in N.beginFormObject=function(v,M,X,he,je){return us(v,M,X,he,je),this},N.endFormObject=function(v){return(function(M){if(Or[M])_n.pop().restore();else{var X=new Os,he="Xo"+(Object.keys(ar).length+1).toString(10);X.id=he,Or[M]=he,ar[he]=X,dt.publish("addFormObject",X),_n.pop().restore()}})(v),this},N.doFormObject=function(v,M){var X=ar[Or[v]];return G("q"),G(M.toString()+" cm"),G("/"+X.id+" Do"),G("Q"),this},N.getFormObject=function(v){var M=ar[Or[v]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},N.save=function(v,M){return v=v||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(Bl(Br(Ar()),v),typeof Bl.unload=="function"&&Yt.setTimeout&&setTimeout(Bl.unload,911),this):new Promise(function(X,he){try{var je=Bl(Br(Ar()),v);typeof Bl.unload=="function"&&Yt.setTimeout&&setTimeout(Bl.unload,911),X(je)}catch(ze){he(ze.message)}})},Tt.API)Tt.API.hasOwnProperty(Qa)&&(Qa==="events"&&Tt.API.events.length?(function(v,M){var X,he,je;for(je=M.length-1;je!==-1;je--)X=M[je][0],he=M[je][1],v.subscribe.apply(v,[X].concat(typeof he=="function"?[he]:he))})(dt,Tt.API.events):N[Qa]=Tt.API[Qa]);function fs(v){return ne[v].mediaBox.topRightX-ne[v].mediaBox.bottomLeftX}function ti(v,M){ne[v].mediaBox.topRightX=M+ne[v].mediaBox.bottomLeftX}function Bs(v){return ne[v].mediaBox.topRightY-ne[v].mediaBox.bottomLeftY}function zr(v,M){ne[v].mediaBox.topRightY=M+ne[v].mediaBox.bottomLeftY}var Ur=N.getPageWidth=function(v){return fs(v=v||W)/He},qr=N.setPageWidth=function(v,M){ti(v,M*He)},xa=N.getPageHeight=function(v){return Bs(v=v||W)/He},uo=N.setPageHeight=function(v,M){zr(v,M*He)};return N.internal={pdfEscape:mt,getStyle:ds,getFont:Ya,getFontSize:ot,getCharSpace:vr,getTextColor:ji,getLineHeight:As,getLineHeightFactor:Qo,getLineWidth:ks,write:Ve,getHorizontalCoordinate:Ga,getVerticalCoordinate:Ja,getCoordinateString:Pr,getVerticalCoordinateString:Ts,collections:{},newObject:cn,newAdditionalObject:Na,newObjectDeferred:Tn,newObjectDeferredBegin:ur,getFilters:Wt,putStream:Pn,events:dt,scaleFactor:He,pageSize:{getWidth:function(){return Ur(W)},setWidth:function(v){qr(W,v)},getHeight:function(){return xa(W)},setHeight:function(v){uo(W,v)}},encryptionOptions:k,encryption:Sn,getEncryptor:function(v){return k!==null?Sn.encryptor(v,0):function(M){return M}},output:Aa,getNumberOfPages:jn,get pages(){return Le},out:G,f2:B,f3:U,getPageInfo:Ca,getPageInfoByObjId:Mo,getCurrentPageInfo:ei,getPDFVersion:F,Point:ga,Rectangle:tn,Matrix:Et,hasHotfix:yr},Object.defineProperty(N.internal.pageSize,"width",{get:function(){return Ur(W)},set:function(v){qr(W,v)},enumerable:!0,configurable:!0}),Object.defineProperty(N.internal.pageSize,"height",{get:function(){return xa(W)},set:function(v){uo(W,v)},enumerable:!0,configurable:!0}),(function(v){for(var M=0,X=ht.length;M<X;M++){var he=vi.call(this,v[M][0],v[M][1],v[M][2],ht[M][3],!0);L===!1&&(R[he]=!0);var je=v[M][0].split("-");jl({id:he,fontName:je[0],fontStyle:je[1]||""})}dt.publish("addFonts",{fonts:ue,dictionary:Re})}).call(N,ht),De="F1",io(f,r),dt.publish("initialized"),N}mc.prototype.lsbFirstWord=function(s){return String.fromCharCode(255&s,s>>8&255,s>>16&255,s>>24&255)},mc.prototype.toHexString=function(s){return s.split("").map(function(a){return("0"+(255&a.charCodeAt(0)).toString(16)).slice(-2)}).join("")},mc.prototype.hexToBytes=function(s){for(var a=[],r=0;r<s.length;r+=2)a.push(String.fromCharCode(parseInt(s.substr(r,2),16)));return a.join("")},mc.prototype.processOwnerPassword=function(s,a){return jf(wf(a).substr(0,5),s)},mc.prototype.encryptor=function(s,a){var r=wf(this.encryptionKey+String.fromCharCode(255&s,s>>8&255,s>>16&255,255&a,a>>8&255)).substr(0,10);return function(l){return jf(r,l)}},Gd.prototype.equals=function(s){var a,r="id,objectNumber,equals";if(!s||qn(s)!==qn(this))return!1;var l=0;for(a in this)if(!(r.indexOf(a)>=0)){if(this.hasOwnProperty(a)&&!s.hasOwnProperty(a)||this[a]!==s[a])return!1;l++}for(a in s)s.hasOwnProperty(a)&&r.indexOf(a)<0&&l--;return l===0},Tt.API={events:[]},Tt.version="3.0.4";var Tr=Tt.API,Rf=1,Vl=function(s){return s.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hc=function(s){return s.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Zt=function(s){return s.toFixed(2)},ml=function(s){return s.toFixed(5)};Tr.__acroform__={};var Qs=function(s,a){s.prototype=Object.create(a.prototype),s.prototype.constructor=s},im=function(s){return s*Rf},_o=function(s){var a=new w0,r=_t.internal.getHeight(s)||0,l=_t.internal.getWidth(s)||0;return a.BBox=[0,0,Number(Zt(l)),Number(Zt(r))],a},Wx=Tr.__acroform__.setBit=function(s,a){if(s=s||0,a=a||0,isNaN(s)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return s|1<<a},Hx=Tr.__acroform__.clearBit=function(s,a){if(s=s||0,a=a||0,isNaN(s)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return s&~(1<<a)},Vx=Tr.__acroform__.getBit=function(s,a){if(isNaN(s)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return s&1<<a?1:0},Gr=Tr.__acroform__.getBitForPdf=function(s,a){if(isNaN(s)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Vx(s,a-1)},Jr=Tr.__acroform__.setBitForPdf=function(s,a){if(isNaN(s)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Wx(s,a-1)},Kr=Tr.__acroform__.clearBitForPdf=function(s,a){if(isNaN(s)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Hx(s,a-1)},Yx=Tr.__acroform__.calculateCoordinates=function(s,a){var r=a.internal.getHorizontalCoordinate,l=a.internal.getVerticalCoordinate,f=s[0],u=s[1],x=s[2],g=s[3],y={};return y.lowerLeft_X=r(f)||0,y.lowerLeft_Y=l(u+g)||0,y.upperRight_X=r(f+x)||0,y.upperRight_Y=l(u)||0,[Number(Zt(y.lowerLeft_X)),Number(Zt(y.lowerLeft_Y)),Number(Zt(y.upperRight_X)),Number(Zt(y.upperRight_Y))]},Gx=function(s){if(s.appearanceStreamContent)return s.appearanceStreamContent;if(s.V||s.DV){var a=[],r=s._V||s.DV,l=Sf(s,r),f=s.scope.internal.getFont(s.fontName,s.fontStyle).id;a.push("/Tx BMC"),a.push("q"),a.push("BT"),a.push(s.scope.__private__.encodeColorString(s.color)),a.push("/"+f+" "+Zt(l.fontSize)+" Tf"),a.push("1 0 0 1 0 0 Tm"),a.push(l.text),a.push("ET"),a.push("Q"),a.push("EMC");var u=_o(s);return u.scope=s.scope,u.stream=a.join(`
`),u}},Sf=function(s,a){var r=s.fontSize===0?s.maxFontSize:s.fontSize,l={text:"",fontSize:""},f=(a=(a=a.substr(0,1)=="("?a.substr(1):a).substr(a.length-1)==")"?a.substr(0,a.length-1):a).split(" ");f=s.multiline?f.map(function(B){return B.split(`
`)}):f.map(function(B){return[B]});var u=r,x=_t.internal.getHeight(s)||0;x=x<0?-x:x;var g=_t.internal.getWidth(s)||0;g=g<0?-g:g;var y=function(B,U,ae){if(B+1<f.length){var Z=U+" "+f[B+1][0];return Dd(Z,s,ae).width<=g-4}return!1};u++;e:for(;u>0;){a="",u--;var j,k,L=Dd("3",s,u).height,R=s.multiline?x-u:(x-L)/2,N=R+=2,z=0,F=0,D=0;if(u<=0){a=`(...) Tj
`,a+="% Width of Text: "+Dd(a,s,u=12).width+", FieldWidth:"+g+`
`;break}for(var E="",q=0,J=0;J<f.length;J++)if(f.hasOwnProperty(J)){var $=!1;if(f[J].length!==1&&D!==f[J].length-1){if((L+2)*(q+2)+2>x)continue e;E+=f[J][D],$=!0,F=J,J--}else{E=(E+=f[J][D]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var oe=parseInt(J),ce=y(oe,E,u),Ee=J>=f.length-1;if(ce&&!Ee){E+=" ",D=0;continue}if(ce||Ee){if(Ee)F=oe;else if(s.multiline&&(L+2)*(q+2)+2>x)continue e}else{if(!s.multiline||(L+2)*(q+2)+2>x)continue e;F=oe}}for(var fe="",K=z;K<=F;K++){var pe=f[K];if(s.multiline){if(K===F){fe+=pe[D]+" ",D=(D+1)%pe.length;continue}if(K===z){fe+=pe[pe.length-1]+" ";continue}}fe+=pe[0]+" "}switch(fe=fe.substr(fe.length-1)==" "?fe.substr(0,fe.length-1):fe,k=Dd(fe,s,u).width,s.textAlign){case"right":j=g-k-2;break;case"center":j=(g-k)/2;break;default:j=2}a+=Zt(j)+" "+Zt(N)+` Td
`,a+="("+Vl(fe)+`) Tj
`,a+=-Zt(j)+` 0 Td
`,N=-(u+2),k=0,z=$?F:F+1,q++,E=""}break}return l.text=a,l.fontSize=u,l},Dd=function(s,a,r){var l=a.scope.internal.getFont(a.fontName,a.fontStyle),f=a.scope.getStringUnitWidth(s,{font:l,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:a.scope.getStringUnitWidth("3",{font:l,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:f}},Jx={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Kx=function(s,a){var r={type:"reference",object:s};a.internal.getPageInfo(s.page).pageContext.annotations.find(function(l){return l.type===r.type&&l.object===r.object})===void 0&&a.internal.getPageInfo(s.page).pageContext.annotations.push(r)},Qx=function(s,a){if(a.scope=s,s.internal!==void 0&&(s.internal.acroformPlugin===void 0||s.internal.acroformPlugin.isInitialized===!1)){if(ao.FieldNum=0,s.internal.acroformPlugin=JSON.parse(JSON.stringify(Jx)),s.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Rf=s.internal.scaleFactor,s.internal.acroformPlugin.acroFormDictionaryRoot=new j0,s.internal.acroformPlugin.acroFormDictionaryRoot.scope=s,s.internal.acroformPlugin.acroFormDictionaryRoot._eventID=s.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(s)}),s.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var l=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var f in l)if(l.hasOwnProperty(f)){var u=l[f];u.objId=void 0,u.hasAnnotation&&Kx(u,r)}})(s)}),s.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(s)}),s.internal.events.subscribe("postPutPages",function(r){(function(l,f){var u=!l;for(var x in l||(f.internal.newObjectDeferredBegin(f.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),f.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),l=l||f.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(l.hasOwnProperty(x)){var g=l[x],y=[],j=g.Rect;if(g.Rect&&(g.Rect=Yx(g.Rect,f)),f.internal.newObjectDeferredBegin(g.objId,!0),g.DA=_t.createDefaultAppearanceStream(g),qn(g)==="object"&&typeof g.getKeyValueListForStream=="function"&&(y=g.getKeyValueListForStream()),g.Rect=j,g.hasAppearanceStream&&!g.appearanceStreamContent){var k=Gx(g);y.push({key:"AP",value:"<</N "+k+">>"}),f.internal.acroformPlugin.xForms.push(k)}if(g.appearanceStreamContent){var L="";for(var R in g.appearanceStreamContent)if(g.appearanceStreamContent.hasOwnProperty(R)){var N=g.appearanceStreamContent[R];if(L+="/"+R+" ",L+="<<",Object.keys(N).length>=1||Array.isArray(N)){for(var x in N)if(N.hasOwnProperty(x)){var z=N[x];typeof z=="function"&&(z=z.call(f,g)),L+="/"+x+" "+z+" ",f.internal.acroformPlugin.xForms.indexOf(z)>=0||f.internal.acroformPlugin.xForms.push(z)}}else typeof(z=N)=="function"&&(z=z.call(f,g)),L+="/"+x+" "+z,f.internal.acroformPlugin.xForms.indexOf(z)>=0||f.internal.acroformPlugin.xForms.push(z);L+=">>"}y.push({key:"AP",value:`<<
`+L+">>"})}f.internal.putStream({additionalKeyValues:y,objectId:g.objId}),f.internal.out("endobj")}u&&(function(F,D){for(var E in F)if(F.hasOwnProperty(E)){var q=E,J=F[E];D.internal.newObjectDeferredBegin(J.objId,!0),qn(J)==="object"&&typeof J.putStream=="function"&&J.putStream(),delete F[q]}})(f.internal.acroformPlugin.xForms,f)})(r,s)}),s.internal.acroformPlugin.isInitialized=!0}},b0=Tr.__acroform__.arrayToPdfArray=function(s,a,r){var l=function(x){return x};if(Array.isArray(s)){for(var f="[",u=0;u<s.length;u++)switch(u!==0&&(f+=" "),qn(s[u])){case"boolean":case"number":case"object":f+=s[u].toString();break;case"string":s[u].substr(0,1)!=="/"?(a!==void 0&&r&&(l=r.internal.getEncryptor(a)),f+="("+Vl(l(s[u].toString()))+")"):f+=s[u].toString()}return f+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},af=function(s,a,r){var l=function(f){return f};return a!==void 0&&r&&(l=r.internal.getEncryptor(a)),(s=s||"").toString(),"("+Vl(l(s))+")"},Io=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(s){this._objId=s}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Io.prototype.toString=function(){return this.objId+" 0 R"},Io.prototype.putStream=function(){var s=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:s,objectId:this.objId}),this.scope.internal.out("endobj")},Io.prototype.getKeyValueListForStream=function(){var s=[],a=Object.getOwnPropertyNames(this).filter(function(u){return u!="content"&&u!="appearanceStreamContent"&&u!="scope"&&u!="objId"&&u.substring(0,1)!="_"});for(var r in a)if(Object.getOwnPropertyDescriptor(this,a[r]).configurable===!1){var l=a[r],f=this[l];f&&(Array.isArray(f)?s.push({key:l,value:b0(f,this.objId,this.scope)}):f instanceof Io?(f.scope=this.scope,s.push({key:l,value:f.objId+" 0 R"})):typeof f!="function"&&s.push({key:l,value:f}))}return s};var w0=function(){Io.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var s,a=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return a},set:function(r){a=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){s=r.trim()},get:function(){return s||null}})};Qs(w0,Io);var j0=function(){Io.call(this);var s,a=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return a.length>0?a:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return a}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(s){var r=function(l){return l};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Vl(r(s))+")"}},set:function(r){s=r}})};Qs(j0,Io);var ao=function s(){Io.call(this);var a=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return a},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');a=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Gr(a,3)},set:function(E){E?this.F=Jr(a,3):this.F=Kr(a,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');r=E}});var l=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(l.length!==0)return l},set:function(E){l=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[0])?0:l[0]},set:function(E){l[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[1])?0:l[1]},set:function(E){l[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[2])?0:l[2]},set:function(E){l[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[3])?0:l[3]},set:function(E){l[3]=E}});var f="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return f},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":f=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var u=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!u||u.length<1){if(this instanceof Jd)return;u="FieldObject"+s.FieldNum++}var E=function(q){return q};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Vl(E(u))+")"},set:function(E){u=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return u},set:function(E){u=E}});var x="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return x},set:function(E){x=E}});var g="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return g},set:function(E){g=E}});var y=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return y},set:function(E){y=E}});var j=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return j===void 0?50/Rf:j},set:function(E){j=E}});var k="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return k},set:function(E){k=E}});var L="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!L||this instanceof Jd||this instanceof Ul))return af(L,this.objId,this.scope)},set:function(E){E=E.toString(),L=E}});var R=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(R)return this instanceof $a==0?af(R,this.objId,this.scope):R},set:function(E){E=E.toString(),R=this instanceof $a==0?E.substr(0,1)==="("?hc(E.substr(1,E.length-2)):hc(E):E}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $a==1?hc(R.substr(1,R.length-1)):R},set:function(E){E=E.toString(),R=this instanceof $a==1?"/"+E:E}});var N=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(N)return N},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof $a==0?af(N,this.objId,this.scope):N},set:function(E){E=E.toString(),N=this instanceof $a==0?E.substr(0,1)==="("?hc(E.substr(1,E.length-2)):hc(E):E}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $a==1?hc(N.substr(1,N.length-1)):N},set:function(E){E=E.toString(),N=this instanceof $a==1?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var z,F=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return F},set:function(E){E=!!E,F=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(z)return z},set:function(E){z=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,1)},set:function(E){E?this.Ff=Jr(this.Ff,1):this.Ff=Kr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,2)},set:function(E){E?this.Ff=Jr(this.Ff,2):this.Ff=Kr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,3)},set:function(E){E?this.Ff=Jr(this.Ff,3):this.Ff=Kr(this.Ff,3)}});var D=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(D!==null)return D},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');D=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(D){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:D=2;break;case"center":case 1:D=1;break;default:D=0}}})};Qs(ao,Io);var yc=function(){ao.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var s=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return s},set:function(r){s=r}});var a=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return b0(a,this.objId,this.scope)},set:function(r){var l,f;f=[],typeof(l=r)=="string"&&(f=(function(u,x,g){g||(g=1);for(var y,j=[];y=x.exec(u);)j.push(y[g]);return j})(l,/\((.*?)\)/g)),a=f}}),this.getOptions=function(){return a},this.setOptions=function(r){a=r,this.sort&&a.sort()},this.addOption=function(r){r=(r=r||"").toString(),a.push(r),this.sort&&a.sort()},this.removeOption=function(r,l){for(l=l||!1,r=(r=r||"").toString();a.indexOf(r)!==-1&&(a.splice(a.indexOf(r),1),l!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,18)},set:function(r){r?this.Ff=Jr(this.Ff,18):this.Ff=Kr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Jr(this.Ff,19):this.Ff=Kr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,20)},set:function(r){r?(this.Ff=Jr(this.Ff,20),a.sort()):this.Ff=Kr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,22)},set:function(r){r?this.Ff=Jr(this.Ff,22):this.Ff=Kr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,23)},set:function(r){r?this.Ff=Jr(this.Ff,23):this.Ff=Kr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,27)},set:function(r){r?this.Ff=Jr(this.Ff,27):this.Ff=Kr(this.Ff,27)}}),this.hasAppearanceStream=!1};Qs(yc,ao);var vc=function(){yc.call(this),this.fontName="helvetica",this.combo=!1};Qs(vc,yc);var bc=function(){vc.call(this),this.combo=!0};Qs(bc,vc);var zd=function(){bc.call(this),this.edit=!0};Qs(zd,bc);var $a=function(){ao.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,15)},set:function(r){r?this.Ff=Jr(this.Ff,15):this.Ff=Kr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,16)},set:function(r){r?this.Ff=Jr(this.Ff,16):this.Ff=Kr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,17)},set:function(r){r?this.Ff=Jr(this.Ff,17):this.Ff=Kr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,26)},set:function(r){r?this.Ff=Jr(this.Ff,26):this.Ff=Kr(this.Ff,26)}});var s,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(u){return u};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(a).length!==0){var l,f=[];for(l in f.push("<<"),a)f.push("/"+l+" ("+Vl(r(a[l]))+")");return f.push(">>"),f.join(`
`)}},set:function(r){qn(r)==="object"&&(a=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(r){typeof r=="string"&&(a.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(r){s="/"+r}})};Qs($a,ao);var Ud=function(){$a.call(this),this.pushButton=!0};Qs(Ud,$a);var wc=function(){$a.call(this),this.radio=!0,this.pushButton=!1;var s=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return s},set:function(a){s=a!==void 0?a:[]}})};Qs(wc,$a);var Jd=function(){var s,a;ao.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return s},set:function(f){s=f}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return a},set:function(f){a=f}});var r,l={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var f=function(g){return g};this.scope&&(f=this.scope.internal.getEncryptor(this.objId));var u,x=[];for(u in x.push("<<"),l)x.push("/"+u+" ("+Vl(f(l[u]))+")");return x.push(">>"),x.join(`
`)},set:function(f){qn(f)==="object"&&(l=f)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return l.CA||""},set:function(f){typeof f=="string"&&(l.CA=f)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(f){r=f}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(f){r="/"+f}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qs(Jd,ao),wc.prototype.setAppearance=function(s){if(!("createAppearanceStream"in s)||!("getCA"in s))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var a in this.Kids)if(this.Kids.hasOwnProperty(a)){var r=this.Kids[a];r.appearanceStreamContent=s.createAppearanceStream(r.optionName),r.caption=s.getCA()}},wc.prototype.createOption=function(s){var a=new Jd;return a.Parent=this,a.optionName=s,this.Kids.push(a),Xx.call(this.scope,a),a};var qd=function(){$a.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_t.CheckBox.createAppearanceStream()};Qs(qd,$a);var Ul=function(){ao.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,13)},set:function(a){a?this.Ff=Jr(this.Ff,13):this.Ff=Kr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,21)},set:function(a){a?this.Ff=Jr(this.Ff,21):this.Ff=Kr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,23)},set:function(a){a?this.Ff=Jr(this.Ff,23):this.Ff=Kr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,24)},set:function(a){a?this.Ff=Jr(this.Ff,24):this.Ff=Kr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,25)},set:function(a){a?this.Ff=Jr(this.Ff,25):this.Ff=Kr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,26)},set:function(a){a?this.Ff=Jr(this.Ff,26):this.Ff=Kr(this.Ff,26)}});var s=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return s},set:function(a){Number.isInteger(a)&&(s=a)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qs(Ul,ao);var $d=function(){Ul.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,14)},set:function(s){s?this.Ff=Jr(this.Ff,14):this.Ff=Kr(this.Ff,14)}}),this.password=!0};Qs($d,Ul);var _t={CheckBox:{createAppearanceStream:function(){return{N:{On:_t.CheckBox.YesNormal},D:{On:_t.CheckBox.YesPushDown,Off:_t.CheckBox.OffPushDown}}},YesPushDown:function(s){var a=_o(s);a.scope=s.scope;var r=[],l=s.scope.internal.getFont(s.fontName,s.fontStyle).id,f=s.scope.__private__.encodeColorString(s.color),u=Sf(s,s.caption);return r.push("0.749023 g"),r.push("0 0 "+Zt(_t.internal.getWidth(s))+" "+Zt(_t.internal.getHeight(s))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+l+" "+Zt(u.fontSize)+" Tf "+f),r.push("BT"),r.push(u.text),r.push("ET"),r.push("Q"),r.push("EMC"),a.stream=r.join(`
`),a},YesNormal:function(s){var a=_o(s);a.scope=s.scope;var r=s.scope.internal.getFont(s.fontName,s.fontStyle).id,l=s.scope.__private__.encodeColorString(s.color),f=[],u=_t.internal.getHeight(s),x=_t.internal.getWidth(s),g=Sf(s,s.caption);return f.push("1 g"),f.push("0 0 "+Zt(x)+" "+Zt(u)+" re"),f.push("f"),f.push("q"),f.push("0 0 1 rg"),f.push("0 0 "+Zt(x-1)+" "+Zt(u-1)+" re"),f.push("W"),f.push("n"),f.push("0 g"),f.push("BT"),f.push("/"+r+" "+Zt(g.fontSize)+" Tf "+l),f.push(g.text),f.push("ET"),f.push("Q"),a.stream=f.join(`
`),a},OffPushDown:function(s){var a=_o(s);a.scope=s.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Zt(_t.internal.getWidth(s))+" "+Zt(_t.internal.getHeight(s))+" re"),r.push("f"),a.stream=r.join(`
`),a}},RadioButton:{Circle:{createAppearanceStream:function(s){var a={D:{Off:_t.RadioButton.Circle.OffPushDown},N:{}};return a.N[s]=_t.RadioButton.Circle.YesNormal,a.D[s]=_t.RadioButton.Circle.YesPushDown,a},getCA:function(){return"l"},YesNormal:function(s){var a=_o(s);a.scope=s.scope;var r=[],l=_t.internal.getWidth(s)<=_t.internal.getHeight(s)?_t.internal.getWidth(s)/4:_t.internal.getHeight(s)/4;l=Number((.9*l).toFixed(5));var f=_t.internal.Bezier_C,u=Number((l*f).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ml(_t.internal.getWidth(s)/2)+" "+ml(_t.internal.getHeight(s)/2)+" cm"),r.push(l+" 0 m"),r.push(l+" "+u+" "+u+" "+l+" 0 "+l+" c"),r.push("-"+u+" "+l+" -"+l+" "+u+" -"+l+" 0 c"),r.push("-"+l+" -"+u+" -"+u+" -"+l+" 0 -"+l+" c"),r.push(u+" -"+l+" "+l+" -"+u+" "+l+" 0 c"),r.push("f"),r.push("Q"),a.stream=r.join(`
`),a},YesPushDown:function(s){var a=_o(s);a.scope=s.scope;var r=[],l=_t.internal.getWidth(s)<=_t.internal.getHeight(s)?_t.internal.getWidth(s)/4:_t.internal.getHeight(s)/4;l=Number((.9*l).toFixed(5));var f=Number((2*l).toFixed(5)),u=Number((f*_t.internal.Bezier_C).toFixed(5)),x=Number((l*_t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ml(_t.internal.getWidth(s)/2)+" "+ml(_t.internal.getHeight(s)/2)+" cm"),r.push(f+" 0 m"),r.push(f+" "+u+" "+u+" "+f+" 0 "+f+" c"),r.push("-"+u+" "+f+" -"+f+" "+u+" -"+f+" 0 c"),r.push("-"+f+" -"+u+" -"+u+" -"+f+" 0 -"+f+" c"),r.push(u+" -"+f+" "+f+" -"+u+" "+f+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ml(_t.internal.getWidth(s)/2)+" "+ml(_t.internal.getHeight(s)/2)+" cm"),r.push(l+" 0 m"),r.push(l+" "+x+" "+x+" "+l+" 0 "+l+" c"),r.push("-"+x+" "+l+" -"+l+" "+x+" -"+l+" 0 c"),r.push("-"+l+" -"+x+" -"+x+" -"+l+" 0 -"+l+" c"),r.push(x+" -"+l+" "+l+" -"+x+" "+l+" 0 c"),r.push("f"),r.push("Q"),a.stream=r.join(`
`),a},OffPushDown:function(s){var a=_o(s);a.scope=s.scope;var r=[],l=_t.internal.getWidth(s)<=_t.internal.getHeight(s)?_t.internal.getWidth(s)/4:_t.internal.getHeight(s)/4;l=Number((.9*l).toFixed(5));var f=Number((2*l).toFixed(5)),u=Number((f*_t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ml(_t.internal.getWidth(s)/2)+" "+ml(_t.internal.getHeight(s)/2)+" cm"),r.push(f+" 0 m"),r.push(f+" "+u+" "+u+" "+f+" 0 "+f+" c"),r.push("-"+u+" "+f+" -"+f+" "+u+" -"+f+" 0 c"),r.push("-"+f+" -"+u+" -"+u+" -"+f+" 0 -"+f+" c"),r.push(u+" -"+f+" "+f+" -"+u+" "+f+" 0 c"),r.push("f"),r.push("Q"),a.stream=r.join(`
`),a}},Cross:{createAppearanceStream:function(s){var a={D:{Off:_t.RadioButton.Cross.OffPushDown},N:{}};return a.N[s]=_t.RadioButton.Cross.YesNormal,a.D[s]=_t.RadioButton.Cross.YesPushDown,a},getCA:function(){return"8"},YesNormal:function(s){var a=_o(s);a.scope=s.scope;var r=[],l=_t.internal.calculateCross(s);return r.push("q"),r.push("1 1 "+Zt(_t.internal.getWidth(s)-2)+" "+Zt(_t.internal.getHeight(s)-2)+" re"),r.push("W"),r.push("n"),r.push(Zt(l.x1.x)+" "+Zt(l.x1.y)+" m"),r.push(Zt(l.x2.x)+" "+Zt(l.x2.y)+" l"),r.push(Zt(l.x4.x)+" "+Zt(l.x4.y)+" m"),r.push(Zt(l.x3.x)+" "+Zt(l.x3.y)+" l"),r.push("s"),r.push("Q"),a.stream=r.join(`
`),a},YesPushDown:function(s){var a=_o(s);a.scope=s.scope;var r=_t.internal.calculateCross(s),l=[];return l.push("0.749023 g"),l.push("0 0 "+Zt(_t.internal.getWidth(s))+" "+Zt(_t.internal.getHeight(s))+" re"),l.push("f"),l.push("q"),l.push("1 1 "+Zt(_t.internal.getWidth(s)-2)+" "+Zt(_t.internal.getHeight(s)-2)+" re"),l.push("W"),l.push("n"),l.push(Zt(r.x1.x)+" "+Zt(r.x1.y)+" m"),l.push(Zt(r.x2.x)+" "+Zt(r.x2.y)+" l"),l.push(Zt(r.x4.x)+" "+Zt(r.x4.y)+" m"),l.push(Zt(r.x3.x)+" "+Zt(r.x3.y)+" l"),l.push("s"),l.push("Q"),a.stream=l.join(`
`),a},OffPushDown:function(s){var a=_o(s);a.scope=s.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Zt(_t.internal.getWidth(s))+" "+Zt(_t.internal.getHeight(s))+" re"),r.push("f"),a.stream=r.join(`
`),a}}},createDefaultAppearanceStream:function(s){var a=s.scope.internal.getFont(s.fontName,s.fontStyle).id,r=s.scope.__private__.encodeColorString(s.color);return"/"+a+" "+s.fontSize+" Tf "+r}};_t.internal={Bezier_C:.551915024494,calculateCross:function(s){var a=_t.internal.getWidth(s),r=_t.internal.getHeight(s),l=Math.min(a,r);return{x1:{x:(a-l)/2,y:(r-l)/2+l},x2:{x:(a-l)/2+l,y:(r-l)/2},x3:{x:(a-l)/2,y:(r-l)/2},x4:{x:(a-l)/2+l,y:(r-l)/2+l}}}},_t.internal.getWidth=function(s){var a=0;return qn(s)==="object"&&(a=im(s.Rect[2])),a},_t.internal.getHeight=function(s){var a=0;return qn(s)==="object"&&(a=im(s.Rect[3])),a};var Xx=Tr.addField=function(s){if(Qx(this,s),!(s instanceof ao))throw new Error("Invalid argument passed to jsPDF.addField.");var a;return(a=s).scope.internal.acroformPlugin.printedOut&&(a.scope.internal.acroformPlugin.printedOut=!1,a.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),a.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(a),s.page=s.scope.internal.getCurrentPageInfo().pageNumber,this};Tr.AcroFormChoiceField=yc,Tr.AcroFormListBox=vc,Tr.AcroFormComboBox=bc,Tr.AcroFormEditBox=zd,Tr.AcroFormButton=$a,Tr.AcroFormPushButton=Ud,Tr.AcroFormRadioButton=wc,Tr.AcroFormCheckBox=qd,Tr.AcroFormTextField=Ul,Tr.AcroFormPasswordField=$d,Tr.AcroFormAppearance=_t,Tr.AcroForm={ChoiceField:yc,ListBox:vc,ComboBox:bc,EditBox:zd,Button:$a,PushButton:Ud,RadioButton:wc,CheckBox:qd,TextField:Ul,PasswordField:$d,Appearance:_t},Tt.AcroForm={ChoiceField:yc,ListBox:vc,ComboBox:bc,EditBox:zd,Button:$a,PushButton:Ud,RadioButton:wc,CheckBox:qd,TextField:Ul,PasswordField:$d,Appearance:_t};Tt.AcroForm;function S0(s){return s.reduce(function(a,r,l){return a[r]=l,a},{})}(function(s){var a="addImage_";s.__addimage__={};var r="UNKNOWN",l={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},f=s.__addimage__.getImageFileTypeByImageData=function(B,U){var ae,Z,xe,Ae,ke,le=r;if((U=U||r)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(ce(B))for(ke in l)for(xe=l[ke],ae=0;ae<xe.length;ae+=1){for(Ae=!0,Z=0;Z<xe[ae].length;Z+=1)if(xe[ae][Z]!==void 0&&xe[ae][Z]!==B[Z]){Ae=!1;break}if(Ae===!0){le=ke;break}}else for(ke in l)for(xe=l[ke],ae=0;ae<xe.length;ae+=1){for(Ae=!0,Z=0;Z<xe[ae].length;Z+=1)if(xe[ae][Z]!==void 0&&xe[ae][Z]!==B.charCodeAt(Z)){Ae=!1;break}if(Ae===!0){le=ke;break}}return le===r&&U!==r&&(le=U),le},u=function B(U){for(var ae=this.internal.write,Z=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var Ae=[];if(Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Image"}),Ae.push({key:"Width",value:U.width}),Ae.push({key:"Height",value:U.height}),U.colorSpace===E.INDEXED?Ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(Ae.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===E.DEVICE_CMYK&&Ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ae.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&Ae.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var ke="",le=0,Se=U.transparency.length;le<Se;le++)ke+=U.transparency[le]+" "+U.transparency[le]+" ";Ae.push({key:"Mask",value:"["+ke+"]"})}U.sMask!==void 0&&Ae.push({key:"SMask",value:U.objectId+1+" 0 R"});var Fe=U.filter!==void 0?["/"+U.filter]:void 0;if(Z({data:U.data,additionalKeyValues:Ae,alreadyAppliedFilters:Fe,objectId:U.objectId}),ae("endobj"),"sMask"in U&&U.sMask!==void 0){var Q,_=(Q=U.sMaskBitsPerComponent)!==null&&Q!==void 0?Q:U.bitsPerComponent,W={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:_,data:U.sMask};"filter"in U&&(W.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(_," /Columns ").concat(U.width),W.filter=U.filter),B.call(this,W)}if(U.colorSpace===E.INDEXED){var Y=this.internal.newObject();Z({data:fe(new Uint8Array(U.palette)),objectId:Y}),ae("endobj")}},x=function(){var B=this.internal.collections[a+"images"];for(var U in B)u.call(this,B[U])},g=function(){var B,U=this.internal.collections[a+"images"],ae=this.internal.write;for(var Z in U)ae("/I"+(B=U[Z]).index,B.objectId,"0","R")},y=function(){this.internal.collections[a+"images"]||(this.internal.collections[a+"images"]={},this.internal.events.subscribe("putResources",x),this.internal.events.subscribe("putXobjectDict",g))},j=function(){var B=this.internal.collections[a+"images"];return y.call(this),B},k=function(){return Object.keys(this.internal.collections[a+"images"]).length},L=function(B){return typeof s["process"+B.toUpperCase()]=="function"},R=function(B){return qn(B)==="object"&&B.nodeType===1},N=function(B,U){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var ae=""+B.getAttribute("src");if(ae.indexOf("data:image/")===0)return Bd(unescape(ae).split("base64,").pop());var Z=s.loadFile(ae,!0);if(Z!==void 0)return Z}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var xe;switch(U){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;default:xe="image/jpeg"}return Bd(B.toDataURL(xe,1).split("base64,").pop())}},z=function(B){var U=this.internal.collections[a+"images"];if(U){for(var ae in U)if(B===U[ae].alias)return U[ae]}},F=function(B,U,ae){return B||U||(B=-96,U=-96),B<0&&(B=-1*ae.width*72/B/this.internal.scaleFactor),U<0&&(U=-1*ae.height*72/U/this.internal.scaleFactor),B===0&&(B=U*ae.width/ae.height),U===0&&(U=B*ae.height/ae.width),[B,U]},D=function(B,U,ae,Z,xe,Ae){var ke=F.call(this,ae,Z,xe),le=this.internal.getCoordinateString,Se=this.internal.getVerticalCoordinateString,Fe=j.call(this);if(ae=ke[0],Z=ke[1],Fe[xe.index]=xe,Ae){Ae*=Math.PI/180;var Q=Math.cos(Ae),_=Math.sin(Ae),W=function(re){return re.toFixed(4)},Y=[W(Q),W(_),W(-1*_),W(Q),0,0,"cm"]}this.internal.write("q"),Ae?(this.internal.write([1,"0","0",1,le(B),Se(U+Z),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([le(ae),"0","0",le(Z),"0","0","cm"].join(" "))):this.internal.write([le(ae),"0","0",le(Z),le(B),Se(U+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},E=s.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};s.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var q=s.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},J=s.__addimage__.sHashCode=function(B){var U,ae,Z=0;if(typeof B=="string")for(ae=B.length,U=0;U<ae;U++)Z=(Z<<5)-Z+B.charCodeAt(U),Z|=0;else if(ce(B))for(ae=B.byteLength/2,U=0;U<ae;U++)Z=(Z<<5)-Z+B[U],Z|=0;return Z},$=s.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var U=!0;return B.length===0&&(U=!1),B.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(U=!1),U},oe=s.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var U=B.indexOf(",");return U<0?null:B.substring(0,U).trim().endsWith("base64")?B.substring(U+1):null};s.__addimage__.isArrayBuffer=function(B){return B instanceof ArrayBuffer};var ce=s.__addimage__.isArrayBufferView=function(B){return B instanceof Int8Array||B instanceof Uint8Array||B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array},Ee=s.__addimage__.binaryStringToUint8Array=function(B){for(var U=B.length,ae=new Uint8Array(U),Z=0;Z<U;Z++)ae[Z]=B.charCodeAt(Z);return ae},fe=s.__addimage__.arrayBufferToBinaryString=function(B){for(var U="",ae=ce(B)?B:new Uint8Array(B),Z=0;Z<ae.length;Z+=8192)U+=String.fromCharCode.apply(null,ae.subarray(Z,Z+8192));return U};s.addImage=function(){var B,U,ae,Z,xe,Ae,ke,le,Se;if(typeof arguments[1]=="number"?(U=r,ae=arguments[1],Z=arguments[2],xe=arguments[3],Ae=arguments[4],ke=arguments[5],le=arguments[6],Se=arguments[7]):(U=arguments[1],ae=arguments[2],Z=arguments[3],xe=arguments[4],Ae=arguments[5],ke=arguments[6],le=arguments[7],Se=arguments[8]),qn(B=arguments[0])==="object"&&!R(B)&&"imageData"in B){var Fe=B;B=Fe.imageData,U=Fe.format||U||r,ae=Fe.x||ae||0,Z=Fe.y||Z||0,xe=Fe.w||Fe.width||xe,Ae=Fe.h||Fe.height||Ae,ke=Fe.alias||ke,le=Fe.compression||le,Se=Fe.rotation||Fe.angle||Se}var Q=this.internal.getFilters();if(le===void 0&&Q.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(ae)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");y.call(this);var _=K.call(this,B,U,ke,le);return D.call(this,ae,Z,xe,Ae,_,Se),this};var K=function(B,U,ae,Z){var xe,Ae,ke;if(typeof B=="string"&&f(B)===r){B=unescape(B);var le=pe(B,!1);(le!==""||(le=s.loadFile(B,!0))!==void 0)&&(B=le)}if(R(B)&&(B=N(B,U)),U=f(B,U),!L(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((ke=ae)==null||ke.length===0)&&(ae=(function(Se){return typeof Se=="string"||ce(Se)?J(Se):ce(Se.data)?J(Se.data):null})(B)),(xe=z.call(this,ae))||(B instanceof Uint8Array||U==="RGBA"||(Ae=B,B=Ee(B)),xe=this["process"+U.toUpperCase()](B,k.call(this),ae,(function(Se){return Se&&typeof Se=="string"&&(Se=Se.toUpperCase()),Se in s.image_compression?Se:q.NONE})(Z),Ae)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},pe=s.__addimage__.convertBase64ToBinaryString=function(B,U){U=typeof U!="boolean"||U;var ae,Z="";if(typeof B=="string"){var xe;ae=(xe=oe(B))!==null&&xe!==void 0?xe:B;try{Z=Bd(ae)}catch(Ae){if(U)throw $(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};s.getImageProperties=function(B){var U,ae,Z="";if(R(B)&&(B=N(B)),typeof B=="string"&&f(B)===r&&((Z=pe(B,!1))===""&&(Z=s.loadFile(B)||""),B=Z),ae=f(B),!L(ae))throw new Error("addImage does not support files of type '"+ae+"', please ensure that a plugin for '"+ae+"' support is added.");if(B instanceof Uint8Array||(B=Ee(B)),!(U=this["process"+ae.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=ae,U}})(Tt.API),(function(s){var a=function(r){if(r!==void 0&&r!="")return!0};Tt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),s.events.push(["putPage",function(r){for(var l,f,u,x=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString,y=this.internal.getPageInfoByObjId(r.objId),j=r.pageContext.annotations,k=!1,L=0;L<j.length&&!k;L++)switch((l=j[L]).type){case"link":(a(l.options.url)||a(l.options.pageNumber))&&(k=!0);break;case"reference":case"text":case"freetext":k=!0}if(k!=0){this.internal.write("/Annots [");for(var R=0;R<j.length;R++){l=j[R];var N=this.internal.pdfEscape,z=this.internal.getEncryptor(r.objId);switch(l.type){case"reference":this.internal.write(" "+l.object.objId+" 0 R ");break;case"text":var F=this.internal.newAdditionalObject(),D=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(F.objId),q=l.title||"Note";u="<</Type /Annot /Subtype /Text "+(f="/Rect ["+x(l.bounds.x)+" "+g(l.bounds.y+l.bounds.h)+" "+x(l.bounds.x+l.bounds.w)+" "+g(l.bounds.y)+"] ")+"/Contents ("+N(E(l.contents))+")",u+=" /Popup "+D.objId+" 0 R",u+=" /P "+y.objId+" 0 R",u+=" /T ("+N(E(q))+") >>",F.content=u;var J=F.objId+" 0 R";u="<</Type /Annot /Subtype /Popup "+(f="/Rect ["+x(l.bounds.x+30)+" "+g(l.bounds.y+l.bounds.h)+" "+x(l.bounds.x+l.bounds.w+30)+" "+g(l.bounds.y)+"] ")+" /Parent "+J,l.open&&(u+=" /Open true"),u+=" >>",D.content=u,this.internal.write(F.objId,"0 R",D.objId,"0 R");break;case"freetext":f="/Rect ["+x(l.bounds.x)+" "+g(l.bounds.y)+" "+x(l.bounds.x+l.bounds.w)+" "+g(l.bounds.y+l.bounds.h)+"] ";var $=l.color||"#000000";u="<</Type /Annot /Subtype /FreeText "+f+"/Contents ("+N(z(l.contents))+")",u+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+$+")",u+=" /Border [0 0 0]",u+=" >>",this.internal.write(u);break;case"link":if(l.options.name){var oe=this.annotations._nameMap[l.options.name];l.options.pageNumber=oe.page,l.options.top=oe.y}else l.options.top||(l.options.top=0);if(f="/Rect ["+l.finalBounds.x+" "+l.finalBounds.y+" "+l.finalBounds.w+" "+l.finalBounds.h+"] ",u="",l.options.url)u="<</Type /Annot /Subtype /Link "+f+"/Border [0 0 0] /A <</S /URI /URI ("+N(z(l.options.url))+") >>";else if(l.options.pageNumber)switch(u="<</Type /Annot /Subtype /Link "+f+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(l.options.pageNumber).objId+" 0 R",l.options.magFactor=l.options.magFactor||"XYZ",l.options.magFactor){case"Fit":u+=" /Fit]";break;case"FitH":u+=" /FitH "+l.options.top+"]";break;case"FitV":l.options.left=l.options.left||0,u+=" /FitV "+l.options.left+"]";break;default:var ce=g(l.options.top);l.options.left=l.options.left||0,l.options.zoom===void 0&&(l.options.zoom=0),u+=" /XYZ "+l.options.left+" "+ce+" "+l.options.zoom+"]"}u!=""&&(u+=" >>",this.internal.write(u))}}this.internal.write("]")}}]),s.createAnnotation=function(r){var l=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":l.pageContext.annotations.push(r)}},s.link=function(r,l,f,u,x){var g=this.internal.getCurrentPageInfo(),y=this.internal.getCoordinateString,j=this.internal.getVerticalCoordinateString;g.pageContext.annotations.push({finalBounds:{x:y(r),y:j(l),w:y(r+f),h:j(l+u)},options:x,type:"link"})},s.textWithLink=function(r,l,f,u){var x,g,y=this.getTextWidth(r),j=this.internal.getLineHeight()/this.internal.scaleFactor;if(u.maxWidth!==void 0){g=u.maxWidth;var k=this.splitTextToSize(r,g).length;x=Math.ceil(j*k)}else g=y,x=j;return this.text(r,l,f,u),f+=.2*j,u.align==="center"&&(l-=y/2),u.align==="right"&&(l-=y),this.link(l,f-j,g,x,u),y},s.getTextWidth=function(r){var l=this.internal.getFontSize();return this.getStringUnitWidth(r)*l/this.internal.scaleFactor}})(Tt.API),(function(s){var a={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},l={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},f=[1570,1571,1573,1575];s.__arabicParser__={};var u=s.__arabicParser__.isInArabicSubstitutionA=function(F){return a[F.charCodeAt(0)]!==void 0},x=s.__arabicParser__.isArabicLetter=function(F){return typeof F=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(F)},g=s.__arabicParser__.isArabicEndLetter=function(F){return x(F)&&u(F)&&a[F.charCodeAt(0)].length<=2},y=s.__arabicParser__.isArabicAlfLetter=function(F){return x(F)&&f.indexOf(F.charCodeAt(0))>=0};s.__arabicParser__.arabicLetterHasIsolatedForm=function(F){return x(F)&&u(F)&&a[F.charCodeAt(0)].length>=1};var j=s.__arabicParser__.arabicLetterHasFinalForm=function(F){return x(F)&&u(F)&&a[F.charCodeAt(0)].length>=2};s.__arabicParser__.arabicLetterHasInitialForm=function(F){return x(F)&&u(F)&&a[F.charCodeAt(0)].length>=3};var k=s.__arabicParser__.arabicLetterHasMedialForm=function(F){return x(F)&&u(F)&&a[F.charCodeAt(0)].length==4},L=s.__arabicParser__.resolveLigatures=function(F){var D=0,E=r,q="",J=0;for(D=0;D<F.length;D+=1)E[F.charCodeAt(D)]!==void 0?(J++,typeof(E=E[F.charCodeAt(D)])=="number"&&(q+=String.fromCharCode(E),E=r,J=0),D===F.length-1&&(E=r,q+=F.charAt(D-(J-1)),D-=J-1,J=0)):(E=r,q+=F.charAt(D-J),D-=J,J=0);return q};s.__arabicParser__.isArabicDiacritic=function(F){return F!==void 0&&l[F.charCodeAt(0)]!==void 0};var R=s.__arabicParser__.getCorrectForm=function(F,D,E){return x(F)?u(F)===!1?-1:!j(F)||!x(D)&&!x(E)||!x(E)&&g(D)||g(F)&&!x(D)||g(F)&&y(D)||g(F)&&g(D)?0:k(F)&&x(D)&&!g(D)&&x(E)&&j(E)?3:g(F)||!x(E)?1:2:-1},N=function(F){var D=0,E=0,q=0,J="",$="",oe="",ce=(F=F||"").split("\\s+"),Ee=[];for(D=0;D<ce.length;D+=1){for(Ee.push(""),E=0;E<ce[D].length;E+=1)J=ce[D][E],$=ce[D][E-1],oe=ce[D][E+1],x(J)?(q=R(J,$,oe),Ee[D]+=q!==-1?String.fromCharCode(a[J.charCodeAt(0)][q]):J):Ee[D]+=J;Ee[D]=L(Ee[D])}return Ee.join(" ")},z=s.__arabicParser__.processArabic=s.processArabic=function(){var F,D=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(D)){var q=0;for(E=[],q=0;q<D.length;q+=1)Array.isArray(D[q])?E.push([N(D[q][0]),D[q][1],D[q][2]]):E.push([N(D[q])]);F=E}else F=N(D);return typeof arguments[0]=="string"?F:(arguments[0].text=F,arguments[0])};s.events.push(["preProcessText",z])})(Tt.API),Tt.API.autoPrint=function(s){var a;return(s=s||{}).variant=s.variant||"non-conform",s.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){a=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+a+" 0 R")})),this},(function(s){var a=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(g){r=g}});var l=150;Object.defineProperty(this,"width",{get:function(){return l},set:function(g){l=isNaN(g)||Number.isInteger(g)===!1||g<0?150:g,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=l+1)}});var f=300;Object.defineProperty(this,"height",{get:function(){return f},set:function(g){f=isNaN(g)||Number.isInteger(g)===!1||g<0?300:g,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=f+1)}});var u=[];Object.defineProperty(this,"childNodes",{get:function(){return u},set:function(g){u=g}});var x={};Object.defineProperty(this,"style",{get:function(){return x},set:function(g){x=g}}),Object.defineProperty(this,"parentNode",{})};a.prototype.getContext=function(r,l){var f;if((r=r||"2d")!=="2d")return null;for(f in l)this.pdf.context2d.hasOwnProperty(f)&&(this.pdf.context2d[f]=l[f]);return this.pdf.context2d._canvas=this,this.pdf.context2d},a.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},s.events.push(["initialized",function(){this.canvas=new a,this.canvas.pdf=this}])})(Tt.API),(function(s){var a={left:0,top:0,bottom:0,right:0},r=!1,l=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},a),this.internal.__cell__.margins.width=this.getPageWidth(),f.call(this))},f=function(){this.internal.__cell__.lastCell=new u,this.internal.__cell__.pages=1},u=function(){var y=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return y},set:function(F){y=F}});var j=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return j},set:function(F){j=F}});var k=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return k},set:function(F){k=F}});var L=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return L},set:function(F){L=F}});var R=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return R},set:function(F){R=F}});var N=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return N},set:function(F){N=F}});var z=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return z},set:function(F){z=F}}),this};u.prototype.clone=function(){return new u(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},u.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},s.setHeaderFunction=function(y){return l.call(this),this.internal.__cell__.headerFunction=typeof y=="function"?y:void 0,this},s.getTextDimensions=function(y,j){l.call(this);var k=(j=j||{}).fontSize||this.getFontSize(),L=j.font||this.getFont(),R=j.scaleFactor||this.internal.scaleFactor,N=0,z=0,F=0,D=this;if(!Array.isArray(y)&&typeof y!="string"){if(typeof y!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");y=String(y)}var E=j.maxWidth;E>0?typeof y=="string"?y=this.splitTextToSize(y,E):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(J,$){return J.concat(D.splitTextToSize($,E))},[])):y=Array.isArray(y)?y:[y];for(var q=0;q<y.length;q++)N<(F=this.getStringUnitWidth(y[q],{font:L})*k)&&(N=F);return N!==0&&(z=y.length),{w:N/=R,h:Math.max((z*k*this.getLineHeightFactor()-k*(this.getLineHeightFactor()-1))/R,0)}},s.cellAddPage=function(){l.call(this),this.addPage();var y=this.internal.__cell__.margins||a;return this.internal.__cell__.lastCell=new u(y.left,y.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var x=s.cell=function(){var y;y=arguments[0]instanceof u?arguments[0]:new u(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),l.call(this);var j=this.internal.__cell__.lastCell,k=this.internal.__cell__.padding,L=this.internal.__cell__.margins||a,R=this.internal.__cell__.tableHeaderRow,N=this.internal.__cell__.printHeaders;return j.lineNumber!==void 0&&(j.lineNumber===y.lineNumber?(y.x=(j.x||0)+(j.width||0),y.y=j.y||0):j.y+j.height+y.height+L.bottom>this.getPageHeight()?(this.cellAddPage(),y.y=L.top,N&&R&&(this.printHeaderRow(y.lineNumber,!0),y.y+=R[0].height)):y.y=j.y+j.height||y.y),y.text[0]!==void 0&&(this.rect(y.x,y.y,y.width,y.height,r===!0?"FD":void 0),y.align==="right"?this.text(y.text,y.x+y.width-k,y.y+k,{align:"right",baseline:"top"}):y.align==="center"?this.text(y.text,y.x+y.width/2,y.y+k,{align:"center",baseline:"top",maxWidth:y.width-k-k}):this.text(y.text,y.x+k,y.y+k,{align:"left",baseline:"top",maxWidth:y.width-k-k})),this.internal.__cell__.lastCell=y,this};s.table=function(y,j,k,L,R){if(l.call(this),!k)throw new Error("No data for PDF table.");var N,z,F,D,E=[],q=[],J=[],$={},oe={},ce=[],Ee=[],fe=(R=R||{}).autoSize||!1,K=R.printHeaders!==!1,pe=R.css&&R.css["font-size"]!==void 0?16*R.css["font-size"]:R.fontSize||12,B=R.margins||Object.assign({width:this.getPageWidth()},a),U=typeof R.padding=="number"?R.padding:3,ae=R.headerBackgroundColor||"#c8c8c8",Z=R.headerTextColor||"#000";if(f.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=pe,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=ae,this.internal.__cell__.headerTextColor=Z,this.setFontSize(pe),L==null)q=E=Object.keys(k[0]),J=E.map(function(){return"left"});else if(Array.isArray(L)&&qn(L[0])==="object")for(E=L.map(function(Fe){return Fe.name}),q=L.map(function(Fe){return Fe.prompt||Fe.name||""}),J=L.map(function(Fe){return Fe.align||"left"}),N=0;N<L.length;N+=1)oe[L[N].name]=.7499990551181103*L[N].width;else Array.isArray(L)&&typeof L[0]=="string"&&(q=E=L,J=E.map(function(){return"left"}));if(fe||Array.isArray(L)&&typeof L[0]=="string")for(N=0;N<E.length;N+=1){for($[D=E[N]]=k.map(function(Fe){return Fe[D]}),this.setFont(void 0,"bold"),ce.push(this.getTextDimensions(q[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),z=$[D],this.setFont(void 0,"normal"),F=0;F<z.length;F+=1)ce.push(this.getTextDimensions(z[F],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);oe[D]=Math.max.apply(null,ce)+U+U,ce=[]}if(K){var xe={};for(N=0;N<E.length;N+=1)xe[E[N]]={},xe[E[N]].text=q[N],xe[E[N]].align=J[N];var Ae=g.call(this,xe,oe);Ee=E.map(function(Fe){return new u(y,j,oe[Fe],Ae,xe[Fe].text,void 0,xe[Fe].align)}),this.setTableHeaderRow(Ee),this.printHeaderRow(1,!1)}var ke=L.reduce(function(Fe,Q){return Fe[Q.name]=Q.align,Fe},{});for(N=0;N<k.length;N+=1){"rowStart"in R&&R.rowStart instanceof Function&&R.rowStart({row:N,data:k[N]},this);var le=g.call(this,k[N],oe);for(F=0;F<E.length;F+=1){var Se=k[N][E[F]];"cellStart"in R&&R.cellStart instanceof Function&&R.cellStart({row:N,col:F,data:Se},this),x.call(this,new u(y,j,oe[E[F]],le,Se,N+2,ke[E[F]]))}}return this.internal.__cell__.table_x=y,this.internal.__cell__.table_y=j,this};var g=function(y,j){var k=this.internal.__cell__.padding,L=this.internal.__cell__.table_font_size,R=this.internal.scaleFactor;return Object.keys(y).map(function(N){var z=y[N];return this.splitTextToSize(z.hasOwnProperty("text")?z.text:z,j[N]-k-k)},this).map(function(N){return this.getLineHeightFactor()*N.length*L/R+k+k},this).reduce(function(N,z){return Math.max(N,z)},0)};s.setTableHeaderRow=function(y){l.call(this),this.internal.__cell__.tableHeaderRow=y},s.printHeaderRow=function(y,j){if(l.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var k;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var L=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new u(L[0],L[1],L[2],L[3],void 0,-1)}this.setFont(void 0,"bold");for(var R=[],N=0;N<this.internal.__cell__.tableHeaderRow.length;N+=1){k=this.internal.__cell__.tableHeaderRow[N].clone(),j&&(k.y=this.internal.__cell__.margins.top||0,R.push(k)),k.lineNumber=y;var z=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),x.call(this,k),this.setTextColor(z)}R.length>0&&this.setTableHeaderRow(R),this.setFont(void 0,"normal"),r=!1}})(Tt.API);var N0={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},k0=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Nf=S0(k0),A0=[100,200,300,400,500,600,700,800,900],Zx=S0(A0);function sf(s){var a=s.family.replace(/"|'/g,"").toLowerCase(),r=(function(u){return N0[u=u||"normal"]?u:"normal"})(s.style),l=(function(u){return u?typeof u=="number"?u>=100&&u<=900&&u%100==0?u:400:/^\d00$/.test(u)?parseInt(u):u==="bold"?700:400:400})(s.weight),f=(function(u){return typeof Nf[u=u||"normal"]=="number"?u:"normal"})(s.stretch);return{family:a,style:r,weight:l,stretch:f,src:s.src||[],ref:s.ref||{name:a,style:[f,r,l].join(" ")}}}function om(s,a,r,l){var f;for(f=r;f>=0&&f<a.length;f+=l)if(s[a[f]])return s[a[f]];for(f=r;f>=0&&f<a.length;f-=l)if(s[a[f]])return s[a[f]]}var ey={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},lm={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cm(s){return[s.stretch,s.style,s.weight,s.family].join(" ")}function dm(s){return s.trimLeft()}function ty(s,a){for(var r=0;r<s.length;){if(s.charAt(r)===a)return[s.substring(0,r),s.substring(r+1)];r+=1}return null}function ny(s){var a=s.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return a===null?null:[a[0],s.substring(a[0].length)]}var Fd,um,fm,pc,Rd,hm,pm,mm,of=["times"];function gm(s,a,r,l,f){var u=4,x=ym;switch(f){case Tt.API.image_compression.FAST:u=1,x=xm;break;case Tt.API.image_compression.MEDIUM:u=6,x=vm;break;case Tt.API.image_compression.SLOW:u=9,x=bm}s=(function(y,j,k,L){for(var R,N=y.length/j,z=new Uint8Array(y.length+N),F=[ry,xm,ym,vm,bm],D=0;D<N;D+=1){var E=D*j,q=y.subarray(E,E+j);if(L)z.set(L(q,k,R),E+D);else{for(var J=F.length,$=[],oe=0;oe<J;oe+=1)$[oe]=F[oe](q,k,R);var ce=sy($.concat());z.set($[ce],E+D)}R=q}return z})(s,a,Math.ceil(r*l/8),x);var g=xf(s,{level:u});return Tt.API.__addimage__.arrayBufferToBinaryString(g)}function ry(s){var a=Array.apply([],s);return a.unshift(0),a}function xm(s,a){var r=s.length,l=[];l[0]=1;for(var f=0;f<r;f+=1){var u=s[f-a]||0;l[f+1]=s[f]-u+256&255}return l}function ym(s,a,r){var l=s.length,f=[];f[0]=2;for(var u=0;u<l;u+=1){var x=r&&r[u]||0;f[u+1]=s[u]-x+256&255}return f}function vm(s,a,r){var l=s.length,f=[];f[0]=3;for(var u=0;u<l;u+=1){var x=s[u-a]||0,g=r&&r[u]||0;f[u+1]=s[u]+256-(x+g>>>1)&255}return f}function bm(s,a,r){var l=s.length,f=[];f[0]=4;for(var u=0;u<l;u+=1){var x=ay(s[u-a]||0,r&&r[u]||0,r&&r[u-a]||0);f[u+1]=s[u]-x+256&255}return f}function ay(s,a,r){if(s===a&&a===r)return s;var l=Math.abs(a-r),f=Math.abs(s-r),u=Math.abs(s+a-r-r);return l<=f&&l<=u?s:f<=u?a:r}function sy(s){var a=s.map(function(r){return r.reduce(function(l,f){return l+Math.abs(f)},0)});return a.indexOf(Math.min.apply(null,a))}function lf(s,a,r){var l=a*r,f=Math.floor(l/8),u=16-(l-8*f+r),x=(1<<r)-1;return C0(s,f)>>u&x}function wm(s,a,r,l){var f=r*l,u=Math.floor(f/8),x=16-(f-8*u+l),g=(1<<l)-1,y=(a&g)<<x;(function(j,k,L){if(k+1<j.byteLength)j.setUint16(k,L,!1);else{var R=L>>8&255;j.setUint8(k,R)}})(s,u,C0(s,u)&~(g<<x)&65535|y)}function C0(s,a){return a+1<s.byteLength?s.getUint16(a,!1):s.getUint8(a)<<8}function iy(s){var a=0;if(s[a++]!==71||s[a++]!==73||s[a++]!==70||s[a++]!==56||(s[a++]+1&253)!=56||s[a++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=s[a++]|s[a++]<<8,l=s[a++]|s[a++]<<8,f=s[a++],u=f>>7,x=1<<1+(7&f);s[a++],s[a++];var g=null,y=null;u&&(g=a,y=x,a+=3*x);var j=!0,k=[],L=0,R=null,N=0,z=null;for(this.width=r,this.height=l;j&&a<s.length;)switch(s[a++]){case 33:switch(s[a++]){case 255:if(s[a]!==11||s[a+1]==78&&s[a+2]==69&&s[a+3]==84&&s[a+4]==83&&s[a+5]==67&&s[a+6]==65&&s[a+7]==80&&s[a+8]==69&&s[a+9]==50&&s[a+10]==46&&s[a+11]==48&&s[a+12]==3&&s[a+13]==1&&s[a+16]==0)a+=14,z=s[a++]|s[a++]<<8,a++;else for(a+=12;;){if(!((B=s[a++])>=0))throw Error("Invalid block size");if(B===0)break;a+=B}break;case 249:if(s[a++]!==4||s[a+4]!==0)throw new Error("Invalid graphics extension block.");var F=s[a++];L=s[a++]|s[a++]<<8,R=s[a++],1&F||(R=null),N=F>>2&7,a++;break;case 254:for(;;){if(!((B=s[a++])>=0))throw Error("Invalid block size");if(B===0)break;a+=B}break;default:throw new Error("Unknown graphic control label: 0x"+s[a-1].toString(16))}break;case 44:var D=s[a++]|s[a++]<<8,E=s[a++]|s[a++]<<8,q=s[a++]|s[a++]<<8,J=s[a++]|s[a++]<<8,$=s[a++],oe=$>>6&1,ce=1<<1+(7&$),Ee=g,fe=y,K=!1;$>>7&&(K=!0,Ee=a,fe=ce,a+=3*ce);var pe=a;for(a++;;){var B;if(!((B=s[a++])>=0))throw Error("Invalid block size");if(B===0)break;a+=B}k.push({x:D,y:E,width:q,height:J,has_local_palette:K,palette_offset:Ee,palette_size:fe,data_offset:pe,data_length:a-pe,transparent_index:R,interlaced:!!oe,delay:L,disposal:N});break;case 59:j=!1;break;default:throw new Error("Unknown gif block: 0x"+s[a-1].toString(16))}this.numFrames=function(){return k.length},this.loopCount=function(){return z},this.frameInfo=function(U){if(U<0||U>=k.length)throw new Error("Frame index out of range.");return k[U]},this.decodeAndBlitFrameBGRA=function(U,ae){var Z=this.frameInfo(U),xe=Z.width*Z.height,Ae=new Uint8Array(xe);jm(s,Z.data_offset,Ae,xe);var ke=Z.palette_offset,le=Z.transparent_index;le===null&&(le=256);var Se=Z.width,Fe=r-Se,Q=Se,_=4*(Z.y*r+Z.x),W=4*((Z.y+Z.height)*r+Z.x),Y=_,re=4*Fe;Z.interlaced===!0&&(re+=4*r*7);for(var ee=8,me=0,Ce=Ae.length;me<Ce;++me){var _e=Ae[me];if(Q===0&&(Q=Se,(Y+=re)>=W&&(re=4*Fe+4*r*(ee-1),Y=_+(Se+Fe)*(ee<<1),ee>>=1)),_e===le)Y+=4;else{var Be=s[ke+3*_e],Le=s[ke+3*_e+1],Ge=s[ke+3*_e+2];ae[Y++]=Ge,ae[Y++]=Le,ae[Y++]=Be,ae[Y++]=255}--Q}},this.decodeAndBlitFrameRGBA=function(U,ae){var Z=this.frameInfo(U),xe=Z.width*Z.height,Ae=new Uint8Array(xe);jm(s,Z.data_offset,Ae,xe);var ke=Z.palette_offset,le=Z.transparent_index;le===null&&(le=256);var Se=Z.width,Fe=r-Se,Q=Se,_=4*(Z.y*r+Z.x),W=4*((Z.y+Z.height)*r+Z.x),Y=_,re=4*Fe;Z.interlaced===!0&&(re+=4*r*7);for(var ee=8,me=0,Ce=Ae.length;me<Ce;++me){var _e=Ae[me];if(Q===0&&(Q=Se,(Y+=re)>=W&&(re=4*Fe+4*r*(ee-1),Y=_+(Se+Fe)*(ee<<1),ee>>=1)),_e===le)Y+=4;else{var Be=s[ke+3*_e],Le=s[ke+3*_e+1],Ge=s[ke+3*_e+2];ae[Y++]=Be,ae[Y++]=Le,ae[Y++]=Ge,ae[Y++]=255}--Q}}}function jm(s,a,r,l){for(var f=s[a++],u=1<<f,x=u+1,g=x+1,y=f+1,j=(1<<y)-1,k=0,L=0,R=0,N=s[a++],z=new Int32Array(4096),F=null;;){for(;k<16&&N!==0;)L|=s[a++]<<k,k+=8,N===1?N=s[a++]:--N;if(k<y)break;var D=L&j;if(L>>=y,k-=y,D!==u){if(D===x)break;for(var E=D<g?D:F,q=0,J=E;J>u;)J=z[J]>>8,++q;var $=J;if(R+q+(E!==D?1:0)>l)return void Zn.log("Warning, gif stream longer than expected.");r[R++]=$;var oe=R+=q;for(E!==D&&(r[R++]=$),J=E;q--;)J=z[J],r[--oe]=255&J,J>>=8;F!==null&&g<4096&&(z[g++]=F<<8|$,g>=j+1&&y<12&&(++y,j=j<<1|1)),F=D}else g=x+1,j=(1<<(y=f+1))-1,F=null}return R!==l&&Zn.log("Warning, gif stream shorter than expected."),r}function cf(s){var a,r,l,f,u,x=Math.floor,g=new Array(64),y=new Array(64),j=new Array(64),k=new Array(64),L=new Array(65535),R=new Array(65535),N=new Array(64),z=new Array(64),F=[],D=0,E=7,q=new Array(64),J=new Array(64),$=new Array(64),oe=new Array(256),ce=new Array(2048),Ee=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],fe=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],pe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ae(_,W){for(var Y=0,re=0,ee=new Array,me=1;me<=16;me++){for(var Ce=1;Ce<=_[me];Ce++)ee[W[re]]=[],ee[W[re]][0]=Y,ee[W[re]][1]=me,re++,Y++;Y*=2}return ee}function ke(_){for(var W=_[0],Y=_[1]-1;Y>=0;)W&1<<Y&&(D|=1<<E),Y--,--E<0&&(D==255?(le(255),le(0)):le(D),E=7,D=0)}function le(_){F.push(_)}function Se(_){le(_>>8&255),le(255&_)}function Fe(_,W,Y,re,ee){for(var me,Ce=ee[0],_e=ee[240],Be=(function(Ye,gt){var ot,pt,wt,rn,$t,Ct,Ft,we,De,He,Qe=0;for(De=0;De<8;++De){ot=Ye[Qe],pt=Ye[Qe+1],wt=Ye[Qe+2],rn=Ye[Qe+3],$t=Ye[Qe+4],Ct=Ye[Qe+5],Ft=Ye[Qe+6];var Gt=ot+(we=Ye[Qe+7]),ye=ot-we,ue=pt+Ft,Re=pt-Ft,at=wt+Ct,Xe=wt-Ct,ct=rn+$t,Nt=rn-$t,It=Gt+ct,Jt=Gt-ct,Ot=ue+at,ne=ue-at;Ye[Qe]=It+Ot,Ye[Qe+4]=It-Ot;var dt=.707106781*(ne+Jt);Ye[Qe+2]=Jt+dt,Ye[Qe+6]=Jt-dt;var dr=.382683433*((It=Nt+Xe)-(ne=Re+ye)),ar=.5411961*It+dr,Or=1.306562965*ne+dr,_n=.707106781*(Ot=Xe+Re),Et=ye+_n,Ha=ye-_n;Ye[Qe+5]=Ha+ar,Ye[Qe+3]=Ha-ar,Ye[Qe+1]=Et+Or,Ye[Qe+7]=Et-Or,Qe+=8}for(Qe=0,De=0;De<8;++De){ot=Ye[Qe],pt=Ye[Qe+8],wt=Ye[Qe+16],rn=Ye[Qe+24],$t=Ye[Qe+32],Ct=Ye[Qe+40],Ft=Ye[Qe+48];var Va=ot+(we=Ye[Qe+56]),Xr=ot-we,ls=pt+Ft,cn=pt-Ft,Tn=wt+Ct,ur=wt-Ct,Na=rn+$t,cs=rn-$t,ka=Va+Na,gn=Va-Na,Gn=ls+Tn,Wt=ls-Tn;Ye[Qe]=ka+Gn,Ye[Qe+32]=ka-Gn;var Pn=.707106781*(Wt+gn);Ye[Qe+16]=gn+Pn,Ye[Qe+48]=gn-Pn;var Kt=.382683433*((ka=cs+ur)-(Wt=cn+Xr)),$n=.5411961*ka+Kt,Xs=1.306562965*Wt+Kt,xi=.707106781*(Gn=ur+cn),yi=Xr+xi,Fi=Xr-xi;Ye[Qe+40]=Fi+$n,Ye[Qe+24]=Fi-$n,Ye[Qe+8]=yi+Xs,Ye[Qe+56]=yi-Xs,Qe++}for(De=0;De<64;++De)He=Ye[De]*gt[De],N[De]=He>0?He+.5|0:He-.5|0;return N})(_,W),Le=0;Le<64;++Le)z[Ee[Le]]=Be[Le];var Ge=z[0]-Y;Y=z[0],Ge==0?ke(re[0]):(ke(re[R[me=32767+Ge]]),ke(L[me]));for(var tt=63;tt>0&&z[tt]==0;)tt--;if(tt==0)return ke(Ce),Y;for(var it,G=1;G<=tt;){for(var Ve=G;z[G]==0&&G<=tt;)++G;var vt=G-Ve;if(vt>=16){it=vt>>4;for(var ht=1;ht<=it;++ht)ke(_e);vt&=15}me=32767+z[G],ke(ee[(vt<<4)+R[me]]),ke(L[me]),G++}return tt!=63&&ke(Ce),Y}function Q(_){_=Math.min(Math.max(_,1),100),u!=_&&((function(W){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ee=x((Y[re]*W+50)/100);ee=Math.min(Math.max(ee,1),255),g[Ee[re]]=ee}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ce=0;Ce<64;Ce++){var _e=x((me[Ce]*W+50)/100);_e=Math.min(Math.max(_e,1),255),y[Ee[Ce]]=_e}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,Ge=0;Ge<8;Ge++)for(var tt=0;tt<8;tt++)j[Le]=1/(g[Ee[Le]]*Be[Ge]*Be[tt]*8),k[Le]=1/(y[Ee[Le]]*Be[Ge]*Be[tt]*8),Le++})(_<50?Math.floor(5e3/_):Math.floor(200-2*_)),u=_)}this.encode=function(_,W){W&&Q(W),F=new Array,D=0,E=7,Se(65496),Se(65504),Se(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),Se(1),Se(1),le(0),le(0),(function(){Se(65499),Se(132),le(0);for(var pt=0;pt<64;pt++)le(g[pt]);le(1);for(var wt=0;wt<64;wt++)le(y[wt])})(),(function(pt,wt){Se(65472),Se(17),le(8),Se(wt),Se(pt),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)})(_.width,_.height),(function(){Se(65476),Se(418),le(0);for(var pt=0;pt<16;pt++)le(fe[pt+1]);for(var wt=0;wt<=11;wt++)le(K[wt]);le(16);for(var rn=0;rn<16;rn++)le(pe[rn+1]);for(var $t=0;$t<=161;$t++)le(B[$t]);le(1);for(var Ct=0;Ct<16;Ct++)le(U[Ct+1]);for(var Ft=0;Ft<=11;Ft++)le(ae[Ft]);le(17);for(var we=0;we<16;we++)le(Z[we+1]);for(var De=0;De<=161;De++)le(xe[De])})(),Se(65498),Se(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var Y=0,re=0,ee=0;D=0,E=7,this.encode.displayName="_encode_";for(var me,Ce,_e,Be,Le,Ge,tt,it,G,Ve=_.data,vt=_.width,ht=_.height,Ye=4*vt,gt=0;gt<ht;){for(me=0;me<Ye;){for(Le=Ye*gt+me,tt=-1,it=0,G=0;G<64;G++)Ge=Le+(it=G>>3)*Ye+(tt=4*(7&G)),gt+it>=ht&&(Ge-=Ye*(gt+1+it-ht)),me+tt>=Ye&&(Ge-=me+tt-Ye+4),Ce=Ve[Ge++],_e=Ve[Ge++],Be=Ve[Ge++],q[G]=(ce[Ce]+ce[_e+256|0]+ce[Be+512|0]>>16)-128,J[G]=(ce[Ce+768|0]+ce[_e+1024|0]+ce[Be+1280|0]>>16)-128,$[G]=(ce[Ce+1280|0]+ce[_e+1536|0]+ce[Be+1792|0]>>16)-128;Y=Fe(q,j,Y,a,l),re=Fe(J,k,re,r,f),ee=Fe($,k,ee,r,f),me+=32}gt+=8}if(E>=0){var ot=[];ot[1]=E+1,ot[0]=(1<<E+1)-1,ke(ot)}return Se(65497),new Uint8Array(F)},s=s||50,(function(){for(var _=String.fromCharCode,W=0;W<256;W++)oe[W]=_(W)})(),a=Ae(fe,K),r=Ae(U,ae),l=Ae(pe,B),f=Ae(Z,xe),(function(){for(var _=1,W=2,Y=1;Y<=15;Y++){for(var re=_;re<W;re++)R[32767+re]=Y,L[32767+re]=[],L[32767+re][1]=Y,L[32767+re][0]=re;for(var ee=-(W-1);ee<=-_;ee++)R[32767+ee]=Y,L[32767+ee]=[],L[32767+ee][1]=Y,L[32767+ee][0]=W-1+ee;_<<=1,W<<=1}})(),(function(){for(var _=0;_<256;_++)ce[_]=19595*_,ce[_+256|0]=38470*_,ce[_+512|0]=7471*_+32768,ce[_+768|0]=-11059*_,ce[_+1024|0]=-21709*_,ce[_+1280|0]=32768*_+8421375,ce[_+1536|0]=-27439*_,ce[_+1792|0]=-5329*_})(),Q(s)}function to(s,a){if(this.pos=0,this.buffer=s,this.datav=new DataView(s.buffer),this.is_with_alpha=!!a,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Sm(s){function a(K){if(!K)throw Error("assert :P")}function r(K,pe,B){for(var U=0;4>U;U++)if(K[pe+U]!=B.charCodeAt(U))return!0;return!1}function l(K,pe,B,U,ae){for(var Z=0;Z<ae;Z++)K[pe+Z]=B[U+Z]}function f(K,pe,B,U){for(var ae=0;ae<U;ae++)K[pe+ae]=B}function u(K){return new Int32Array(K)}function x(K,pe){for(var B=[],U=0;U<K;U++)B.push(new pe);return B}function g(K,pe){var B=[];return(function U(ae,Z,xe){for(var Ae=xe[Z],ke=0;ke<Ae&&(ae.push(xe.length>Z+1?[]:new pe),!(xe.length<Z+1));ke++)U(ae[ke],Z+1,xe)})(B,0,K),B}var y=function(){var K=this;function pe(i,c){for(var h=1<<c-1>>>0;i&h;)h>>>=1;return h?(i&h-1)+h:i}function B(i,c,h,m,w){a(!(m%h));do i[c+(m-=h)]=w;while(0<m)}function U(i,c,h,m,w){if(a(2328>=w),512>=w)var S=u(512);else if((S=u(w))==null)return 0;return(function(C,P,I,T,te,ie){var V,de,be=P,Ue=1<<I,Pe=u(16),$e=u(16);for(a(te!=0),a(T!=null),a(C!=null),a(0<I),de=0;de<te;++de){if(15<T[de])return 0;++Pe[T[de]]}if(Pe[0]==te)return 0;for($e[1]=0,V=1;15>V;++V){if(Pe[V]>1<<V)return 0;$e[V+1]=$e[V]+Pe[V]}for(de=0;de<te;++de)V=T[de],0<T[de]&&(ie[$e[V]++]=de);if($e[15]==1)return(T=new ae).g=0,T.value=ie[0],B(C,be,1,Ue,T),Ue;var We,Ne=-1,qe=Ue-1,ut=0,ft=1,Ht=1,At=1<<I;for(de=0,V=1,te=2;V<=I;++V,te<<=1){if(ft+=Ht<<=1,0>(Ht-=Pe[V]))return 0;for(;0<Pe[V];--Pe[V])(T=new ae).g=V,T.value=ie[de++],B(C,be+ut,te,At,T),ut=pe(ut,V)}for(V=I+1,te=2;15>=V;++V,te<<=1){if(ft+=Ht<<=1,0>(Ht-=Pe[V]))return 0;for(;0<Pe[V];--Pe[V]){if(T=new ae,(ut&qe)!=Ne){for(be+=At,We=1<<(Ne=V)-I;15>Ne&&!(0>=(We-=Pe[Ne]));)++Ne,We<<=1;Ue+=At=1<<(We=Ne-I),C[P+(Ne=ut&qe)].g=We+I,C[P+Ne].value=be-P-Ne}T.g=V-I,T.value=ie[de++],B(C,be+(ut>>I),te,At,T),ut=pe(ut,V)}}return ft!=2*$e[15]-1?0:Ue})(i,c,h,m,w,S)}function ae(){this.value=this.g=0}function Z(){this.value=this.g=0}function xe(){this.G=x(5,ae),this.H=u(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=x(Ea,Z)}function Ae(i,c,h,m){a(i!=null),a(c!=null),a(2147483648>m),i.Ca=254,i.I=0,i.b=-8,i.Ka=0,i.oa=c,i.pa=h,i.Jd=c,i.Yc=h+m,i.Zc=4<=m?h+m-4+1:h,Ce(i)}function ke(i,c){for(var h=0;0<c--;)h|=Be(i,128)<<c;return h}function le(i,c){var h=ke(i,c);return _e(i)?-h:h}function Se(i,c,h,m){var w,S=0;for(a(i!=null),a(c!=null),a(4294967288>m),i.Sb=m,i.Ra=0,i.u=0,i.h=0,4<m&&(m=4),w=0;w<m;++w)S+=c[h+w]<<8*w;i.Ra=S,i.bb=m,i.oa=c,i.pa=h}function Fe(i){for(;8<=i.u&&i.bb<i.Sb;)i.Ra>>>=8,i.Ra+=i.oa[i.pa+i.bb]<<ai-8>>>0,++i.bb,i.u-=8;re(i)&&(i.h=1,i.u=0)}function Q(i,c){if(a(0<=c),!i.h&&c<=Ma){var h=Y(i)&es[c];return i.u+=c,Fe(i),h}return i.h=1,i.u=0}function _(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(i){return i.Ra>>>(i.u&ai-1)>>>0}function re(i){return a(i.bb<=i.Sb),i.h||i.bb==i.Sb&&i.u>ai}function ee(i,c){i.u=c,i.h=re(i)}function me(i){i.u>=Hn&&(a(i.u>=Hn),Fe(i))}function Ce(i){a(i!=null&&i.oa!=null),i.pa<i.Zc?(i.I=(i.oa[i.pa++]|i.I<<8)>>>0,i.b+=8):(a(i!=null&&i.oa!=null),i.pa<i.Yc?(i.b+=8,i.I=i.oa[i.pa++]|i.I<<8):i.Ka?i.b=0:(i.I<<=8,i.b+=8,i.Ka=1))}function _e(i){return ke(i,1)}function Be(i,c){var h=i.Ca;0>i.b&&Ce(i);var m=i.b,w=h*c>>>8,S=(i.I>>>m>w)+0;for(S?(h-=w,i.I-=w+1<<m>>>0):h=w+1,m=h,w=0;256<=m;)w+=8,m>>=8;return m=7^w+Cs[m],i.b-=m,i.Ca=(h<<m)-1,S}function Le(i,c,h){i[c+0]=h>>24&255,i[c+1]=h>>16&255,i[c+2]=h>>8&255,i[c+3]=255&h}function Ge(i,c){return i[c+0]|i[c+1]<<8}function tt(i,c){return Ge(i,c)|i[c+2]<<16}function it(i,c){return Ge(i,c)|Ge(i,c+2)<<16}function G(i,c){var h=1<<c;return a(i!=null),a(0<c),i.X=u(h),i.X==null?0:(i.Mb=32-c,i.Xa=c,1)}function Ve(i,c){a(i!=null),a(c!=null),a(i.Xa==c.Xa),l(c.X,0,i.X,0,1<<c.Xa)}function vt(){this.X=[],this.Xa=this.Mb=0}function ht(i,c,h,m){a(h!=null),a(m!=null);var w=h[0],S=m[0];return w==0&&(w=(i*S+c/2)/c),S==0&&(S=(c*w+i/2)/i),0>=w||0>=S?0:(h[0]=w,m[0]=S,1)}function Ye(i,c){return i+(1<<c)-1>>>c}function gt(i,c){return((4278255360&i)+(4278255360&c)>>>0&4278255360)+((16711935&i)+(16711935&c)>>>0&16711935)>>>0}function ot(i,c){K[c]=function(h,m,w,S,C,P,I){var T;for(T=0;T<C;++T){var te=K[i](P[I+T-1],w,S+T);P[I+T]=gt(h[m+T],te)}}}function pt(){this.ud=this.hd=this.jd=0}function wt(i,c){return((4278124286&(i^c))>>>1)+(i&c)>>>0}function rn(i){return 0<=i&&256>i?i:0>i?0:255<i?255:void 0}function $t(i,c){return rn(i+(i-c+.5>>1))}function Ct(i,c,h){return Math.abs(c-h)-Math.abs(i-h)}function Ft(i,c,h,m,w,S,C){for(m=S[C-1],h=0;h<w;++h)S[C+h]=m=gt(i[c+h],m)}function we(i,c,h,m,w){var S;for(S=0;S<h;++S){var C=i[c+S],P=C>>8&255,I=16711935&(I=(I=16711935&C)+((P<<16)+P));m[w+S]=(4278255360&C)+I>>>0}}function De(i,c){c.jd=255&i,c.hd=i>>8&255,c.ud=i>>16&255}function He(i,c,h,m,w,S){var C;for(C=0;C<m;++C){var P=c[h+C],I=P>>>8,T=P,te=255&(te=(te=P>>>16)+((i.jd<<24>>24)*(I<<24>>24)>>>5));T=255&(T=(T+=(i.hd<<24>>24)*(I<<24>>24)>>>5)+((i.ud<<24>>24)*(te<<24>>24)>>>5)),w[S+C]=(4278255360&P)+(te<<16)+T}}function Qe(i,c,h,m,w){K[c]=function(S,C,P,I,T,te,ie,V,de){for(I=ie;I<V;++I)for(ie=0;ie<de;++ie)T[te++]=w(P[m(S[C++])])},K[i]=function(S,C,P,I,T,te,ie){var V=8>>S.b,de=S.Ea,be=S.K[0],Ue=S.w;if(8>V)for(S=(1<<S.b)-1,Ue=(1<<V)-1;C<P;++C){var Pe,$e=0;for(Pe=0;Pe<de;++Pe)Pe&S||($e=m(I[T++])),te[ie++]=w(be[$e&Ue]),$e>>=V}else K["VP8LMapColor"+h](I,T,be,Ue,te,ie,C,P,de)}}function Gt(i,c,h,m,w){for(h=c+h;c<h;){var S=i[c++];m[w++]=S>>16&255,m[w++]=S>>8&255,m[w++]=255&S}}function ye(i,c,h,m,w){for(h=c+h;c<h;){var S=i[c++];m[w++]=S>>16&255,m[w++]=S>>8&255,m[w++]=255&S,m[w++]=S>>24&255}}function ue(i,c,h,m,w){for(h=c+h;c<h;){var S=(C=i[c++])>>16&240|C>>12&15,C=240&C|C>>28&15;m[w++]=S,m[w++]=C}}function Re(i,c,h,m,w){for(h=c+h;c<h;){var S=(C=i[c++])>>16&248|C>>13&7,C=C>>5&224|C>>3&31;m[w++]=S,m[w++]=C}}function at(i,c,h,m,w){for(h=c+h;c<h;){var S=i[c++];m[w++]=255&S,m[w++]=S>>8&255,m[w++]=S>>16&255}}function Xe(i,c,h,m,w,S){if(S==0)for(h=c+h;c<h;)Le(m,((S=i[c++])[0]>>24|S[1]>>8&65280|S[2]<<8&16711680|S[3]<<24)>>>0),w+=32;else l(m,w,i,c,h)}function ct(i,c){K[c][0]=K[i+"0"],K[c][1]=K[i+"1"],K[c][2]=K[i+"2"],K[c][3]=K[i+"3"],K[c][4]=K[i+"4"],K[c][5]=K[i+"5"],K[c][6]=K[i+"6"],K[c][7]=K[i+"7"],K[c][8]=K[i+"8"],K[c][9]=K[i+"9"],K[c][10]=K[i+"10"],K[c][11]=K[i+"11"],K[c][12]=K[i+"12"],K[c][13]=K[i+"13"],K[c][14]=K[i+"0"],K[c][15]=K[i+"0"]}function Nt(i){return i==xo||i==yo||i==pn||i==qo}function It(){this.eb=[],this.size=this.A=this.fb=0}function Jt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ot(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new It,this.f.kb=new Jt,this.sd=null}function ne(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function dr(i){return alert("todo:WebPSamplerProcessPlane"),i.T}function ar(i,c){var h=i.T,m=c.ba.f.RGBA,w=m.eb,S=m.fb+i.ka*m.A,C=Fa[c.ba.S],P=i.y,I=i.O,T=i.f,te=i.N,ie=i.ea,V=i.W,de=c.cc,be=c.dc,Ue=c.Mc,Pe=c.Nc,$e=i.ka,We=i.ka+i.T,Ne=i.U,qe=Ne+1>>1;for($e==0?C(P,I,null,null,T,te,ie,V,T,te,ie,V,w,S,null,null,Ne):(C(c.ec,c.fc,P,I,de,be,Ue,Pe,T,te,ie,V,w,S-m.A,w,S,Ne),++h);$e+2<We;$e+=2)de=T,be=te,Ue=ie,Pe=V,te+=i.Rc,V+=i.Rc,S+=2*m.A,C(P,(I+=2*i.fa)-i.fa,P,I,de,be,Ue,Pe,T,te,ie,V,w,S-m.A,w,S,Ne);return I+=i.fa,i.j+We<i.o?(l(c.ec,c.fc,P,I,Ne),l(c.cc,c.dc,T,te,qe),l(c.Mc,c.Nc,ie,V,qe),h--):1&We||C(P,I,null,null,T,te,ie,V,T,te,ie,V,w,S+m.A,null,null,Ne),h}function Or(i,c,h){var m=i.F,w=[i.J];if(m!=null){var S=i.U,C=c.ba.S,P=C==Uo||C==pn;c=c.ba.f.RGBA;var I=[0],T=i.ka;I[0]=i.T,i.Kb&&(T==0?--I[0]:(--T,w[0]-=i.width),i.j+i.ka+i.T==i.o&&(I[0]=i.o-i.j-T));var te=c.eb;T=c.fb+T*c.A,i=Bo(m,w[0],i.width,S,I,te,T+(P?0:3),c.A),a(h==I),i&&Nt(C)&&Hi(te,T,P,S,I,c.A)}return 0}function _n(i){var c=i.ma,h=c.ba.S,m=11>h,w=h==ki||h==zo||h==Uo||h==kn||h==12||Nt(h);if(c.memory=null,c.Ib=null,c.Jb=null,c.Nd=null,!ho(c.Oa,i,w?11:12))return 0;if(w&&Nt(h)&&Dn(),i.da)alert("todo:use_scaling");else{if(m){if(c.Ib=dr,i.Kb){if(h=i.U+1>>1,c.memory=u(i.U+2*h),c.memory==null)return 0;c.ec=c.memory,c.fc=0,c.cc=c.ec,c.dc=c.fc+i.U,c.Mc=c.cc,c.Nc=c.dc+h,c.Ib=ar,Dn()}}else alert("todo:EmitYUV");w&&(c.Jb=Or,m&&nn())}if(m&&!Er){for(i=0;256>i;++i)ba[i]=89858*(i-128)+Es>>oi,wa[i]=-22014*(i-128)+Es,li[i]=-45773*(i-128),Pi[i]=113618*(i-128)+Es>>oi;for(i=yn;i<An;++i)c=76283*(i-16)+Es>>oi,nl[i-yn]=dn(c,255),_l[i-yn]=dn(c+8>>4,15);Er=1}return 1}function Et(i){var c=i.ma,h=i.U,m=i.T;return a(!(1&i.ka)),0>=h||0>=m?0:(h=c.Ib(i,c),c.Jb!=null&&c.Jb(i,c,h),c.Dc+=h,1)}function Ha(i){i.ma.memory=null}function Va(i,c,h,m){return Q(i,8)!=47?0:(c[0]=Q(i,14)+1,h[0]=Q(i,14)+1,m[0]=Q(i,1),Q(i,3)!=0?0:!i.h)}function Xr(i,c){if(4>i)return i+1;var h=i-2>>1;return(2+(1&i)<<h)+Q(c,h)+1}function ls(i,c){return 120<c?c-120:1<=(h=((h=el[c-1])>>4)*i+(8-(15&h)))?h:1;var h}function cn(i,c,h){var m=Y(h),w=i[c+=255&m].g-8;return 0<w&&(ee(h,h.u+8),m=Y(h),c+=i[c].value,c+=m&(1<<w)-1),ee(h,h.u+i[c].g),i[c].value}function Tn(i,c,h){return h.g+=i.g,h.value+=i.value<<c>>>0,a(8>=h.g),i.g}function ur(i,c,h){var m=i.xc;return a((c=m==0?0:i.vc[i.md*(h>>m)+(c>>m)])<i.Wb),i.Ya[c]}function Na(i,c,h,m){var w=i.ab,S=i.c*c,C=i.C;c=C+c;var P=h,I=m;for(m=i.Ta,h=i.Ua;0<w--;){var T=i.gc[w],te=C,ie=c,V=P,de=I,be=(I=m,P=h,T.Ea);switch(a(te<ie),a(ie<=T.nc),T.hc){case 2:Kn(V,de,(ie-te)*be,I,P);break;case 0:var Ue=te,Pe=ie,$e=I,We=P,Ne=(At=T).Ea;Ue==0&&(Jn(V,de,null,null,1,$e,We),Ft(V,de+1,0,0,Ne-1,$e,We+1),de+=Ne,We+=Ne,++Ue);for(var qe=1<<At.b,ut=qe-1,ft=Ye(Ne,At.b),Ht=At.K,At=At.w+(Ue>>At.b)*ft;Ue<Pe;){var on=Ht,pr=At,Xt=1;for(ta(V,de,$e,We-Ne,1,$e,We);Xt<Ne;){var bt=(Xt&~ut)+qe;bt>Ne&&(bt=Ne),(0,Ps[on[pr++]>>8&15])(V,de+ +Xt,$e,We+Xt-Ne,bt-Xt,$e,We+Xt),Xt=bt}de+=Ne,We+=Ne,++Ue&ut||(At+=ft)}ie!=T.nc&&l(I,P-be,I,P+(ie-te-1)*be,be);break;case 1:for(be=V,Pe=de,Ne=(V=T.Ea)-(We=V&~($e=(de=1<<T.b)-1)),Ue=Ye(V,T.b),qe=T.K,T=T.w+(te>>T.b)*Ue;te<ie;){for(ut=qe,ft=T,Ht=new pt,At=Pe+We,on=Pe+V;Pe<At;)De(ut[ft++],Ht),Ls(Ht,be,Pe,de,I,P),Pe+=de,P+=de;Pe<on&&(De(ut[ft++],Ht),Ls(Ht,be,Pe,Ne,I,P),Pe+=Ne,P+=Ne),++te&$e||(T+=Ue)}break;case 3:if(V==I&&de==P&&0<T.b){for(Pe=I,V=be=P+(ie-te)*be-(We=(ie-te)*Ye(T.Ea,T.b)),de=I,$e=P,Ue=[],We=(Ne=We)-1;0<=We;--We)Ue[We]=de[$e+We];for(We=Ne-1;0<=We;--We)Pe[V+We]=Ue[We];Ni(T,te,ie,I,be,I,P)}else Ni(T,te,ie,V,de,I,P)}P=m,I=h}I!=h&&l(m,h,P,I,S)}function cs(i,c){var h=i.V,m=i.Ba+i.c*i.C,w=c-i.C;if(a(c<=i.l.o),a(16>=w),0<w){var S=i.l,C=i.Ta,P=i.Ua,I=S.width;if(Na(i,w,h,m),w=P=[P],a((h=i.C)<(m=c)),a(S.v<S.va),m>S.o&&(m=S.o),h<S.j){var T=S.j-h;h=S.j,w[0]+=T*I}if(h>=m?h=0:(w[0]+=4*S.v,S.ka=h-S.j,S.U=S.va-S.v,S.T=m-h,h=1),h){if(P=P[0],11>(h=i.ca).S){var te=h.f.RGBA,ie=(m=h.S,w=S.U,S=S.T,T=te.eb,te.A),V=S;for(te=te.fb+i.Ma*te.A;0<V--;){var de=C,be=P,Ue=w,Pe=T,$e=te;switch(m){case Zo:Us(de,be,Ue,Pe,$e);break;case ki:qs(de,be,Ue,Pe,$e);break;case xo:qs(de,be,Ue,Pe,$e),Hi(Pe,$e,0,Ue,1,0);break;case Hs:Da(de,be,Ue,Pe,$e);break;case zo:Xe(de,be,Ue,Pe,$e,1);break;case yo:Xe(de,be,Ue,Pe,$e,1),Hi(Pe,$e,0,Ue,1,0);break;case Uo:Xe(de,be,Ue,Pe,$e,0);break;case pn:Xe(de,be,Ue,Pe,$e,0),Hi(Pe,$e,1,Ue,1,0);break;case kn:ra(de,be,Ue,Pe,$e);break;case qo:ra(de,be,Ue,Pe,$e),mo(Pe,$e,Ue,1,0);break;case ir:aa(de,be,Ue,Pe,$e);break;default:a(0)}P+=I,te+=ie}i.Ma+=S}else alert("todo:EmitRescaledRowsYUVA");a(i.Ma<=h.height)}}i.C=c,a(i.C<=i.i)}function ka(i){var c;if(0<i.ua)return 0;for(c=0;c<i.Wb;++c){var h=i.Ya[c].G,m=i.Ya[c].H;if(0<h[1][m[1]+0].g||0<h[2][m[2]+0].g||0<h[3][m[3]+0].g)return 0}return 1}function gn(i,c,h,m,w,S){if(i.Z!=0){var C=i.qd,P=i.rd;for(a(la[i.Z]!=null);c<h;++c)la[i.Z](C,P,m,w,m,w,S),C=m,P=w,w+=S;i.qd=C,i.rd=P}}function Gn(i,c){var h=i.l.ma,m=h.Z==0||h.Z==1?i.l.j:i.C;if(m=i.C<m?m:i.C,a(c<=i.l.o),c>m){var w=i.l.width,S=h.ca,C=h.tb+w*m,P=i.V,I=i.Ba+i.c*m,T=i.gc;a(i.ab==1),a(T[0].hc==3),na(T[0],m,c,P,I,S,C),gn(h,m,c,S,C,w)}i.C=i.Ma=c}function Wt(i,c,h,m,w,S,C){var P=i.$/m,I=i.$%m,T=i.m,te=i.s,ie=h+i.$,V=ie;w=h+m*w;var de=h+m*S,be=280+te.ua,Ue=i.Pb?P:16777216,Pe=0<te.ua?te.Wa:null,$e=te.wc,We=ie<de?ur(te,I,P):null;a(i.C<S),a(de<=w);var Ne=!1;e:for(;;){for(;Ne||ie<de;){var qe=0;if(P>=Ue){var ut=ie-h;a((Ue=i).Pb),Ue.wd=Ue.m,Ue.xd=ut,0<Ue.s.ua&&Ve(Ue.s.Wa,Ue.s.vb),Ue=P+tl}if(I&$e||(We=ur(te,I,P)),a(We!=null),We.Qb&&(c[ie]=We.qb,Ne=!0),!Ne)if(me(T),We.jc){qe=T,ut=c;var ft=ie,Ht=We.pd[Y(qe)&Ea-1];a(We.jc),256>Ht.g?(ee(qe,qe.u+Ht.g),ut[ft]=Ht.value,qe=0):(ee(qe,qe.u+Ht.g-256),a(256<=Ht.value),qe=Ht.value),qe==0&&(Ne=!0)}else qe=cn(We.G[0],We.H[0],T);if(T.h)break;if(Ne||256>qe){if(!Ne)if(We.nd)c[ie]=(We.qb|qe<<8)>>>0;else{if(me(T),Ne=cn(We.G[1],We.H[1],T),me(T),ut=cn(We.G[2],We.H[2],T),ft=cn(We.G[3],We.H[3],T),T.h)break;c[ie]=(ft<<24|Ne<<16|qe<<8|ut)>>>0}if(Ne=!1,++ie,++I>=m&&(I=0,++P,C!=null&&P<=S&&!(P%16)&&C(i,P),Pe!=null))for(;V<ie;)qe=c[V++],Pe.X[(506832829*qe&4294967295)>>>Pe.Mb]=qe}else if(280>qe){if(qe=Xr(qe-256,T),ut=cn(We.G[4],We.H[4],T),me(T),ut=ls(m,ut=Xr(ut,T)),T.h)break;if(ie-h<ut||w-ie<qe)break e;for(ft=0;ft<qe;++ft)c[ie+ft]=c[ie+ft-ut];for(ie+=qe,I+=qe;I>=m;)I-=m,++P,C!=null&&P<=S&&!(P%16)&&C(i,P);if(a(ie<=w),I&$e&&(We=ur(te,I,P)),Pe!=null)for(;V<ie;)qe=c[V++],Pe.X[(506832829*qe&4294967295)>>>Pe.Mb]=qe}else{if(!(qe<be))break e;for(Ne=qe-280,a(Pe!=null);V<ie;)qe=c[V++],Pe.X[(506832829*qe&4294967295)>>>Pe.Mb]=qe;qe=ie,a(!(Ne>>>(ut=Pe).Xa)),c[qe]=ut.X[Ne],Ne=!0}Ne||a(T.h==re(T))}if(i.Pb&&T.h&&ie<w)a(i.m.h),i.a=5,i.m=i.wd,i.$=i.xd,0<i.s.ua&&Ve(i.s.vb,i.s.Wa);else{if(T.h)break e;C?.(i,P>S?S:P),i.a=0,i.$=ie-h}return 1}return i.a=3,0}function Pn(i){a(i!=null),i.vc=null,i.yc=null,i.Ya=null;var c=i.Wa;c!=null&&(c.X=null),i.vb=null,a(i!=null)}function Kt(){var i=new jt;return i==null?null:(i.a=0,i.xb=wo,ct("Predictor","VP8LPredictors"),ct("Predictor","VP8LPredictors_C"),ct("PredictorAdd","VP8LPredictorsAdd"),ct("PredictorAdd","VP8LPredictorsAdd_C"),Kn=we,Ls=He,Us=Gt,qs=ye,ra=ue,aa=Re,Da=at,K.VP8LMapColor32b=ps,K.VP8LMapColor8b=si,i)}function $n(i,c,h,m,w){var S=1,C=[i],P=[c],I=m.m,T=m.s,te=null,ie=0;e:for(;;){if(h)for(;S&&Q(I,1);){var V=C,de=P,be=m,Ue=1,Pe=be.m,$e=be.gc[be.ab],We=Q(Pe,2);if(be.Oc&1<<We)S=0;else{switch(be.Oc|=1<<We,$e.hc=We,$e.Ea=V[0],$e.nc=de[0],$e.K=[null],++be.ab,a(4>=be.ab),We){case 0:case 1:$e.b=Q(Pe,3)+2,Ue=$n(Ye($e.Ea,$e.b),Ye($e.nc,$e.b),0,be,$e.K),$e.K=$e.K[0];break;case 3:var Ne,qe=Q(Pe,8)+1,ut=16<qe?0:4<qe?1:2<qe?2:3;if(V[0]=Ye($e.Ea,ut),$e.b=ut,Ne=Ue=$n(qe,1,0,be,$e.K)){var ft,Ht=qe,At=$e,on=1<<(8>>At.b),pr=u(on);if(pr==null)Ne=0;else{var Xt=At.K[0],bt=At.w;for(pr[0]=At.K[0][0],ft=1;ft<1*Ht;++ft)pr[ft]=gt(Xt[bt+ft],pr[ft-1]);for(;ft<4*on;++ft)pr[ft]=0;At.K[0]=null,At.K[0]=pr,Ne=1}}Ue=Ne;break;case 2:break;default:a(0)}S=Ue}}if(C=C[0],P=P[0],S&&Q(I,1)&&!(S=1<=(ie=Q(I,4))&&11>=ie)){m.a=3;break e}var lt;if(lt=S)t:{var wr,qt,an,Yn=m,ca=C,Mr=P,or=ie,Hr=h,da=Yn.m,tr=Yn.s,mn=[null],vn=1,nr=0,bn=kl[or];n:for(;;){if(Hr&&Q(da,1)){var mr=Q(da,3)+2,gr=Ye(ca,mr),Bn=Ye(Mr,mr),Oa=gr*Bn;if(!$n(gr,Bn,0,Yn,mn))break n;for(mn=mn[0],tr.xc=mr,wr=0;wr<Oa;++wr){var Rn=mn[wr]>>8&65535;mn[wr]=Rn,Rn>=vn&&(vn=Rn+1)}}if(da.h)break n;for(qt=0;5>qt;++qt){var zn=Vi[qt];!qt&&0<or&&(zn+=1<<or),nr<zn&&(nr=zn)}var Dr=x(vn*bn,ae),ja=vn,ys=x(ja,xe);if(ys==null)var jr=null;else a(65536>=ja),jr=ys;var Sr=u(nr);if(jr==null||Sr==null||Dr==null){Yn.a=1;break n}var Ba=Dr;for(wr=an=0;wr<vn;++wr){var Un=jr[wr],za=Un.G,Vs=Un.H,di=0,ua=1,Nr=0;for(qt=0;5>qt;++qt){zn=Vi[qt],za[qt]=Ba,Vs[qt]=an,!qt&&0<or&&(zn+=1<<or);a:{var ko,Gi=zn,rl=Yn,Li=Sr,ed=Ba,Lc=an,Xn=0,ui=rl.m,_c=Q(ui,1);if(f(Li,0,0,Gi),_c){var Ic=Q(ui,1)+1,Ql=Q(ui,1),Xl=Q(ui,Ql==0?1:8);Li[Xl]=1,Ic==2&&(Li[Xl=Q(ui,8)]=1);var _i=1}else{var rr=u(19),Fr=Q(ui,4)+4;if(19<Fr){rl.a=3;var kr=0;break a}for(ko=0;ko<Fr;++ko)rr[Ac[ko]]=Q(ui,3);var al=void 0,Ji=void 0,sl=rl,eu=rr,Vr=Gi,Zl=Li,Il=0,Ii=sl.m,fi=8,Ms=x(128,ae);r:for(;U(Ms,0,7,eu,19);){if(Q(Ii,1)){var El=2+2*Q(Ii,3);if((al=2+Q(Ii,El))>Vr)break r}else al=Vr;for(Ji=0;Ji<Vr&&al--;){me(Ii);var ec=Ms[0+(127&Y(Ii))];ee(Ii,Ii.u+ec.g);var Ao=ec.value;if(16>Ao)Zl[Ji++]=Ao,Ao!=0&&(fi=Ao);else{var td=Ao==16,Ec=Ao-16,nd=$o[Ec],Mc=Q(Ii,vo[Ec])+nd;if(Ji+Mc>Vr)break r;for(var rd=td?fi:0;0<Mc--;)Zl[Ji++]=rd}}Il=1;break r}Il||(sl.a=3),_i=Il}(_i=_i&&!ui.h)&&(Xn=U(ed,Lc,8,Li,Gi)),_i&&Xn!=0?kr=Xn:(rl.a=3,kr=0)}if(kr==0)break n;if(ua&&Gl[qt]==1&&(ua=Ba[an].g==0),di+=Ba[an].g,an+=kr,3>=qt){var il,tc=Sr[0];for(il=1;il<zn;++il)Sr[il]>tc&&(tc=Sr[il]);Nr+=tc}}if(Un.nd=ua,Un.Qb=0,ua&&(Un.qb=(za[3][Vs[3]+0].value<<24|za[1][Vs[1]+0].value<<16|za[2][Vs[2]+0].value)>>>0,di==0&&256>za[0][Vs[0]+0].value&&(Un.Qb=1,Un.qb+=za[0][Vs[0]+0].value<<8)),Un.jc=!Un.Qb&&6>Nr,Un.jc){var Ml,Ds=Un;for(Ml=0;Ml<Ea;++Ml){var Ki=Ml,hi=Ds.pd[Ki],Ho=Ds.G[0][Ds.H[0]+Ki];256<=Ho.value?(hi.g=Ho.g+256,hi.value=Ho.value):(hi.g=0,hi.value=0,Ki>>=Tn(Ho,8,hi),Ki>>=Tn(Ds.G[1][Ds.H[1]+Ki],16,hi),Ki>>=Tn(Ds.G[2][Ds.H[2]+Ki],0,hi),Tn(Ds.G[3][Ds.H[3]+Ki],24,hi))}}}tr.vc=mn,tr.Wb=vn,tr.Ya=jr,tr.yc=Dr,lt=1;break t}lt=0}if(!(S=lt)){m.a=3;break e}if(0<ie){if(T.ua=1<<ie,!G(T.Wa,ie)){m.a=1,S=0;break e}}else T.ua=0;var nc=m,rc=C,ad=P,ac=nc.s,sc=ac.xc;if(nc.c=rc,nc.i=ad,ac.md=Ye(rc,sc),ac.wc=sc==0?-1:(1<<sc)-1,h){m.xb=_s;break e}if((te=u(C*P))==null){m.a=1,S=0;break e}S=(S=Wt(m,te,0,C,P,P,null))&&!I.h;break e}return S?(w!=null?w[0]=te:(a(te==null),a(h)),m.$=0,h||Pn(T)):Pn(T),S}function Xs(i,c){var h=i.c*i.i,m=h+c+16*c;return a(i.c<=c),i.V=u(m),i.V==null?(i.Ta=null,i.Ua=0,i.a=1,0):(i.Ta=i.V,i.Ua=i.Ba+h+c,1)}function xi(i,c){var h=i.C,m=c-h,w=i.V,S=i.Ba+i.c*h;for(a(c<=i.l.o);0<m;){var C=16<m?16:m,P=i.l.ma,I=i.l.width,T=I*C,te=P.ca,ie=P.tb+I*h,V=i.Ta,de=i.Ua;Na(i,C,w,S),Yl(V,de,te,ie,T),gn(P,h,h+C,te,ie,I),m-=C,w+=C*i.c,h+=C}a(h==c),i.C=i.Ma=c}function yi(){this.ub=this.yd=this.td=this.Rb=0}function Fi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zs(){this.Fb=this.Bb=this.Cb=0,this.Zb=u(4),this.Lb=u(4)}function Wn(){this.Yb=(function(){var i=[];return(function c(h,m,w){for(var S=w[m],C=0;C<S&&(h.push(w.length>m+1?[]:0),!(w.length<m+1));C++)c(h[C],m+1,w)})(i,0,[3,11]),i})()}function jl(){this.jb=u(3),this.Wc=g([4,8],Wn),this.Xc=g([4,17],Wn)}function vi(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new u(4),this.od=new u(4)}function mt(){this.ld=this.La=this.dd=this.tc=0}function fr(){this.Na=this.la=0}function io(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ri(){this.ad=u(384),this.Za=0,this.Ob=u(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ln(){this.uc=this.M=this.Nb=0,this.wa=Array(new mt),this.Y=0,this.ya=Array(new Ri),this.aa=0,this.l=new oo}function jn(){this.y=u(16),this.f=u(8),this.ea=u(8)}function sr(){this.cb=this.a=0,this.sc="",this.m=new _,this.Od=new yi,this.Kc=new Fi,this.ed=new vi,this.Qa=new Zs,this.Ic=this.$c=this.Aa=0,this.D=new Ln,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=x(8,_),this.ia=0,this.pb=x(4,io),this.Pa=new jl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new jn),this.Hd=0,this.rb=Array(new fr),this.sb=0,this.wa=Array(new mt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ri),this.L=this.aa=0,this.gd=g([4,2],mt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function dn(i,c){return 0>i?0:i>c?c:i}function oo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function bi(){var i=new sr;return i!=null&&(i.a=0,i.sc="OK",i.cb=0,i.Xb=0,Yi||(Yi=Br)),i}function Ke(i,c,h){return i.a==0&&(i.a=c,i.sc=h,i.cb=0),0}function er(i,c,h){return 3<=h&&i[c+0]==157&&i[c+1]==1&&i[c+2]==42}function Ar(i,c){if(i==null)return 0;if(i.a=0,i.sc="OK",c==null)return Ke(i,2,"null VP8Io passed to VP8GetHeaders()");var h=c.data,m=c.w,w=c.ha;if(4>w)return Ke(i,7,"Truncated header.");var S=h[m+0]|h[m+1]<<8|h[m+2]<<16,C=i.Od;if(C.Rb=!(1&S),C.td=S>>1&7,C.yd=S>>4&1,C.ub=S>>5,3<C.td)return Ke(i,3,"Incorrect keyframe parameters.");if(!C.yd)return Ke(i,4,"Frame not displayable.");m+=3,w-=3;var P=i.Kc;if(C.Rb){if(7>w)return Ke(i,7,"cannot parse picture header");if(!er(h,m,w))return Ke(i,3,"Bad code word");P.c=16383&(h[m+4]<<8|h[m+3]),P.Td=h[m+4]>>6,P.i=16383&(h[m+6]<<8|h[m+5]),P.Ud=h[m+6]>>6,m+=7,w-=7,i.za=P.c+15>>4,i.Ub=P.i+15>>4,c.width=P.c,c.height=P.i,c.Da=0,c.j=0,c.v=0,c.va=c.width,c.o=c.height,c.da=0,c.ib=c.width,c.hb=c.height,c.U=c.width,c.T=c.height,f((S=i.Pa).jb,0,255,S.jb.length),a((S=i.Qa)!=null),S.Cb=0,S.Bb=0,S.Fb=1,f(S.Zb,0,0,S.Zb.length),f(S.Lb,0,0,S.Lb)}if(C.ub>w)return Ke(i,7,"bad partition length");Ae(S=i.m,h,m,C.ub),m+=C.ub,w-=C.ub,C.Rb&&(P.Ld=_e(S),P.Kd=_e(S)),P=i.Qa;var I,T=i.Pa;if(a(S!=null),a(P!=null),P.Cb=_e(S),P.Cb){if(P.Bb=_e(S),_e(S)){for(P.Fb=_e(S),I=0;4>I;++I)P.Zb[I]=_e(S)?le(S,7):0;for(I=0;4>I;++I)P.Lb[I]=_e(S)?le(S,6):0}if(P.Bb)for(I=0;3>I;++I)T.jb[I]=_e(S)?ke(S,8):255}else P.Bb=0;if(S.Ka)return Ke(i,3,"cannot parse segment header");if((P=i.ed).zd=_e(S),P.Tb=ke(S,6),P.wb=ke(S,3),P.Pc=_e(S),P.Pc&&_e(S)){for(T=0;4>T;++T)_e(S)&&(P.vd[T]=le(S,6));for(T=0;4>T;++T)_e(S)&&(P.od[T]=le(S,6))}if(i.L=P.Tb==0?0:P.zd?1:2,S.Ka)return Ke(i,3,"cannot parse filter header");var te=w;if(w=I=m,m=I+te,P=te,i.Xb=(1<<ke(i.m,2))-1,te<3*(T=i.Xb))h=7;else{for(I+=3*T,P-=3*T,te=0;te<T;++te){var ie=h[w+0]|h[w+1]<<8|h[w+2]<<16;ie>P&&(ie=P),Ae(i.Jc[+te],h,I,ie),I+=ie,P-=ie,w+=3}Ae(i.Jc[+T],h,I,P),h=I<m?0:5}if(h!=0)return Ke(i,h,"cannot parse partitions");for(h=ke(I=i.m,7),w=_e(I)?le(I,4):0,m=_e(I)?le(I,4):0,P=_e(I)?le(I,4):0,T=_e(I)?le(I,4):0,I=_e(I)?le(I,4):0,te=i.Qa,ie=0;4>ie;++ie){if(te.Cb){var V=te.Zb[ie];te.Fb||(V+=h)}else{if(0<ie){i.pb[ie]=i.pb[0];continue}V=h}var de=i.pb[ie];de.Sc[0]=bo[dn(V+w,127)],de.Sc[1]=Wo[dn(V+0,127)],de.Eb[0]=2*bo[dn(V+m,127)],de.Eb[1]=101581*Wo[dn(V+P,127)]>>16,8>de.Eb[1]&&(de.Eb[1]=8),de.Qc[0]=bo[dn(V+T,117)],de.Qc[1]=Wo[dn(V+I,127)],de.lc=V+I}if(!C.Rb)return Ke(i,4,"Not a key frame.");for(_e(S),C=i.Pa,h=0;4>h;++h){for(w=0;8>w;++w)for(m=0;3>m;++m)for(P=0;11>P;++P)T=Be(S,Pc[h][w][m][P])?ke(S,8):Kl[h][w][m][P],C.Wc[h][w].Yb[m][P]=T;for(w=0;17>w;++w)C.Xc[h][w]=C.Wc[h][Pl[w]]}return i.kc=_e(S),i.kc&&(i.Bd=ke(S,8)),i.cb=1}function Br(i,c,h,m,w,S,C){var P=c[w].Yb[h];for(h=0;16>w;++w){if(!Be(i,P[h+0]))return w;for(;!Be(i,P[h+1]);)if(P=c[++w].Yb[0],h=0,w==16)return 16;var I=c[w+1].Yb;if(Be(i,P[h+2])){var T=i,te=0;if(Be(T,(V=P)[(ie=h)+3]))if(Be(T,V[ie+6])){for(P=0,ie=2*(te=Be(T,V[ie+8]))+(V=Be(T,V[ie+9+te])),te=0,V=Al[ie];V[P];++P)te+=te+Be(T,V[P]);te+=3+(8<<ie)}else Be(T,V[ie+7])?(te=7+2*Be(T,165),te+=Be(T,145)):te=5+Be(T,159);else te=Be(T,V[ie+4])?3+Be(T,V[ie+5]):2;P=I[2]}else te=1,P=I[1];I=C+Cl[w],0>(T=i).b&&Ce(T);var ie,V=T.b,de=(ie=T.Ca>>1)-(T.I>>V)>>31;--T.b,T.Ca+=de,T.Ca|=1,T.I-=(ie+1&de)<<V,S[I]=((te^de)-de)*m[(0<w)+0]}return 16}function Aa(i){var c=i.rb[i.sb-1];c.la=0,c.Na=0,f(i.zc,0,0,i.zc.length),i.ja=0}function yr(i,c,h,m,w){w=i[c+h+32*m]+(w>>3),i[c+h+32*m]=-256&w?0>w?0:255:w}function Sn(i,c,h,m,w,S){yr(i,c,0,h,m+w),yr(i,c,1,h,m+S),yr(i,c,2,h,m-S),yr(i,c,3,h,m-w)}function Ca(i){return(20091*i>>16)+i}function Mo(i,c,h,m){var w,S=0,C=u(16);for(w=0;4>w;++w){var P=i[c+0]+i[c+8],I=i[c+0]-i[c+8],T=(35468*i[c+4]>>16)-Ca(i[c+12]),te=Ca(i[c+4])+(35468*i[c+12]>>16);C[S+0]=P+te,C[S+1]=I+T,C[S+2]=I-T,C[S+3]=P-te,S+=4,c++}for(w=S=0;4>w;++w)P=(i=C[S+0]+4)+C[S+8],I=i-C[S+8],T=(35468*C[S+4]>>16)-Ca(C[S+12]),yr(h,m,0,0,P+(te=Ca(C[S+4])+(35468*C[S+12]>>16))),yr(h,m,1,0,I+T),yr(h,m,2,0,I-T),yr(h,m,3,0,P-te),S++,m+=32}function ei(i,c,h,m){var w=i[c+0]+4,S=35468*i[c+4]>>16,C=Ca(i[c+4]),P=35468*i[c+1]>>16;Sn(h,m,0,w+C,i=Ca(i[c+1]),P),Sn(h,m,1,w+S,i,P),Sn(h,m,2,w-S,i,P),Sn(h,m,3,w-C,i,P)}function Cr(i,c,h,m,w){Mo(i,c,h,m),w&&Mo(i,c+16,h,m+4)}function ha(i,c,h,m){ms(i,c+0,h,m,1),ms(i,c+32,h,m+128,1)}function ds(i,c,h,m){var w;for(i=i[c+0]+4,w=0;4>w;++w)for(c=0;4>c;++c)yr(h,m,c,w,i)}function sn(i,c,h,m){i[c+0]&&nt(i,c+0,h,m),i[c+16]&&nt(i,c+16,h,m+4),i[c+32]&&nt(i,c+32,h,m+128),i[c+48]&&nt(i,c+48,h,m+128+4)}function Qt(i,c,h,m){var w,S=u(16);for(w=0;4>w;++w){var C=i[c+0+w]+i[c+12+w],P=i[c+4+w]+i[c+8+w],I=i[c+4+w]-i[c+8+w],T=i[c+0+w]-i[c+12+w];S[0+w]=C+P,S[8+w]=C-P,S[4+w]=T+I,S[12+w]=T-I}for(w=0;4>w;++w)C=(i=S[0+4*w]+3)+S[3+4*w],P=S[1+4*w]+S[2+4*w],I=S[1+4*w]-S[2+4*w],T=i-S[3+4*w],h[m+0]=C+P>>3,h[m+16]=T+I>>3,h[m+32]=C-P>>3,h[m+48]=T-I>>3,m+=64}function Pa(i,c,h){var m,w=c-32,S=ya,C=255-i[w-1];for(m=0;m<h;++m){var P,I=S,T=C+i[c-1];for(P=0;P<h;++P)i[c+P]=I[T+i[w+P]];c+=32}}function Do(i,c){Pa(i,c,4)}function lo(i,c){Pa(i,c,8)}function Ti(i,c){Pa(i,c,16)}function Oi(i,c){var h;for(h=0;16>h;++h)l(i,c+32*h,i,c-32,16)}function Fo(i,c){var h;for(h=16;0<h;--h)f(i,c,i[c-1],16),c+=32}function Zr(i,c,h){var m;for(m=0;16>m;++m)f(c,h+32*m,i,16)}function Ya(i,c){var h,m=16;for(h=0;16>h;++h)m+=i[c-1+32*h]+i[c+h-32];Zr(m>>5,i,c)}function La(i,c){var h,m=8;for(h=0;16>h;++h)m+=i[c-1+32*h];Zr(m>>4,i,c)}function un(i,c){var h,m=8;for(h=0;16>h;++h)m+=i[c+h-32];Zr(m>>4,i,c)}function ks(i,c){Zr(128,i,c)}function Pt(i,c,h){return i+2*c+h+2>>2}function As(i,c){var h,m=c-32;for(m=new Uint8Array([Pt(i[m-1],i[m+0],i[m+1]),Pt(i[m+0],i[m+1],i[m+2]),Pt(i[m+1],i[m+2],i[m+3]),Pt(i[m+2],i[m+3],i[m+4])]),h=0;4>h;++h)l(i,c+32*h,m,0,m.length)}function wi(i,c){var h=i[c-1],m=i[c-1+32],w=i[c-1+64],S=i[c-1+96];Le(i,c+0,16843009*Pt(i[c-1-32],h,m)),Le(i,c+32,16843009*Pt(h,m,w)),Le(i,c+64,16843009*Pt(m,w,S)),Le(i,c+96,16843009*Pt(w,S,S))}function Qo(i,c){var h,m=4;for(h=0;4>h;++h)m+=i[c+h-32]+i[c-1+32*h];for(m>>=3,h=0;4>h;++h)f(i,c+32*h,m,4)}function Ga(i,c){var h=i[c-1+0],m=i[c-1+32],w=i[c-1+64],S=i[c-1-32],C=i[c+0-32],P=i[c+1-32],I=i[c+2-32],T=i[c+3-32];i[c+0+96]=Pt(m,w,i[c-1+96]),i[c+1+96]=i[c+0+64]=Pt(h,m,w),i[c+2+96]=i[c+1+64]=i[c+0+32]=Pt(S,h,m),i[c+3+96]=i[c+2+64]=i[c+1+32]=i[c+0+0]=Pt(C,S,h),i[c+3+64]=i[c+2+32]=i[c+1+0]=Pt(P,C,S),i[c+3+32]=i[c+2+0]=Pt(I,P,C),i[c+3+0]=Pt(T,I,P)}function Ja(i,c){var h=i[c+1-32],m=i[c+2-32],w=i[c+3-32],S=i[c+4-32],C=i[c+5-32],P=i[c+6-32],I=i[c+7-32];i[c+0+0]=Pt(i[c+0-32],h,m),i[c+1+0]=i[c+0+32]=Pt(h,m,w),i[c+2+0]=i[c+1+32]=i[c+0+64]=Pt(m,w,S),i[c+3+0]=i[c+2+32]=i[c+1+64]=i[c+0+96]=Pt(w,S,C),i[c+3+32]=i[c+2+64]=i[c+1+96]=Pt(S,C,P),i[c+3+64]=i[c+2+96]=Pt(C,P,I),i[c+3+96]=Pt(P,I,I)}function Pr(i,c){var h=i[c-1+0],m=i[c-1+32],w=i[c-1+64],S=i[c-1-32],C=i[c+0-32],P=i[c+1-32],I=i[c+2-32],T=i[c+3-32];i[c+0+0]=i[c+1+64]=S+C+1>>1,i[c+1+0]=i[c+2+64]=C+P+1>>1,i[c+2+0]=i[c+3+64]=P+I+1>>1,i[c+3+0]=I+T+1>>1,i[c+0+96]=Pt(w,m,h),i[c+0+64]=Pt(m,h,S),i[c+0+32]=i[c+1+96]=Pt(h,S,C),i[c+1+32]=i[c+2+96]=Pt(S,C,P),i[c+2+32]=i[c+3+96]=Pt(C,P,I),i[c+3+32]=Pt(P,I,T)}function Ts(i,c){var h=i[c+0-32],m=i[c+1-32],w=i[c+2-32],S=i[c+3-32],C=i[c+4-32],P=i[c+5-32],I=i[c+6-32],T=i[c+7-32];i[c+0+0]=h+m+1>>1,i[c+1+0]=i[c+0+64]=m+w+1>>1,i[c+2+0]=i[c+1+64]=w+S+1>>1,i[c+3+0]=i[c+2+64]=S+C+1>>1,i[c+0+32]=Pt(h,m,w),i[c+1+32]=i[c+0+96]=Pt(m,w,S),i[c+2+32]=i[c+1+96]=Pt(w,S,C),i[c+3+32]=i[c+2+96]=Pt(S,C,P),i[c+3+64]=Pt(C,P,I),i[c+3+96]=Pt(P,I,T)}function en(i,c){var h=i[c-1+0],m=i[c-1+32],w=i[c-1+64],S=i[c-1+96];i[c+0+0]=h+m+1>>1,i[c+2+0]=i[c+0+32]=m+w+1>>1,i[c+2+32]=i[c+0+64]=w+S+1>>1,i[c+1+0]=Pt(h,m,w),i[c+3+0]=i[c+1+32]=Pt(m,w,S),i[c+3+32]=i[c+1+64]=Pt(w,S,S),i[c+3+64]=i[c+2+64]=i[c+0+96]=i[c+1+96]=i[c+2+96]=i[c+3+96]=S}function pa(i,c){var h=i[c-1+0],m=i[c-1+32],w=i[c-1+64],S=i[c-1+96],C=i[c-1-32],P=i[c+0-32],I=i[c+1-32],T=i[c+2-32];i[c+0+0]=i[c+2+32]=h+C+1>>1,i[c+0+32]=i[c+2+64]=m+h+1>>1,i[c+0+64]=i[c+2+96]=w+m+1>>1,i[c+0+96]=S+w+1>>1,i[c+3+0]=Pt(P,I,T),i[c+2+0]=Pt(C,P,I),i[c+1+0]=i[c+3+32]=Pt(h,C,P),i[c+1+32]=i[c+3+64]=Pt(m,h,C),i[c+1+64]=i[c+3+96]=Pt(w,m,h),i[c+1+96]=Pt(S,w,m)}function ma(i,c){var h;for(h=0;8>h;++h)l(i,c+32*h,i,c-32,8)}function ji(i,c){var h;for(h=0;8>h;++h)f(i,c,i[c-1],8),c+=32}function In(i,c,h){var m;for(m=0;8>m;++m)f(c,h+32*m,i,8)}function vr(i,c){var h,m=8;for(h=0;8>h;++h)m+=i[c+h-32]+i[c-1+32*h];In(m>>4,i,c)}function Lr(i,c){var h,m=4;for(h=0;8>h;++h)m+=i[c+h-32];In(m>>3,i,c)}function Ka(i,c){var h,m=4;for(h=0;8>h;++h)m+=i[c-1+32*h];In(m>>3,i,c)}function co(i,c){In(128,i,c)}function ga(i,c,h){var m=i[c-h],w=i[c+0],S=3*(w-m)+Ws[1020+i[c-2*h]-i[c+h]],C=ia[112+(S+4>>3)];i[c-h]=ya[255+m+ia[112+(S+3>>3)]],i[c+0]=ya[255+w-C]}function tn(i,c,h,m){var w=i[c+0],S=i[c+h];return gs[255+i[c-2*h]-i[c-h]]>m||gs[255+S-w]>m}function Os(i,c,h,m){return 4*gs[255+i[c-h]-i[c+0]]+gs[255+i[c-2*h]-i[c+h]]<=m}function us(i,c,h,m,w){var S=i[c-3*h],C=i[c-2*h],P=i[c-h],I=i[c+0],T=i[c+h],te=i[c+2*h],ie=i[c+3*h];return 4*gs[255+P-I]+gs[255+C-T]>m?0:gs[255+i[c-4*h]-S]<=w&&gs[255+S-C]<=w&&gs[255+C-P]<=w&&gs[255+ie-te]<=w&&gs[255+te-T]<=w&&gs[255+T-I]<=w}function Qa(i,c,h,m){var w=2*m+1;for(m=0;16>m;++m)Os(i,c+m,h,w)&&ga(i,c+m,h)}function fs(i,c,h,m){var w=2*m+1;for(m=0;16>m;++m)Os(i,c+m*h,1,w)&&ga(i,c+m*h,1)}function ti(i,c,h,m){var w;for(w=3;0<w;--w)Qa(i,c+=4*h,h,m)}function Bs(i,c,h,m){var w;for(w=3;0<w;--w)fs(i,c+=4,h,m)}function zr(i,c,h,m,w,S,C,P){for(S=2*S+1;0<w--;){if(us(i,c,h,S,C))if(tn(i,c,h,P))ga(i,c,h);else{var I=i,T=c,te=h,ie=I[T-2*te],V=I[T-te],de=I[T+0],be=I[T+te],Ue=I[T+2*te],Pe=27*(We=Ws[1020+3*(de-V)+Ws[1020+ie-be]])+63>>7,$e=18*We+63>>7,We=9*We+63>>7;I[T-3*te]=ya[255+I[T-3*te]+We],I[T-2*te]=ya[255+ie+$e],I[T-te]=ya[255+V+Pe],I[T+0]=ya[255+de-Pe],I[T+te]=ya[255+be-$e],I[T+2*te]=ya[255+Ue-We]}c+=m}}function Ur(i,c,h,m,w,S,C,P){for(S=2*S+1;0<w--;){if(us(i,c,h,S,C))if(tn(i,c,h,P))ga(i,c,h);else{var I=i,T=c,te=h,ie=I[T-te],V=I[T+0],de=I[T+te],be=ia[112+(4+(Ue=3*(V-ie))>>3)],Ue=ia[112+(Ue+3>>3)],Pe=be+1>>1;I[T-2*te]=ya[255+I[T-2*te]+Pe],I[T-te]=ya[255+ie+Ue],I[T+0]=ya[255+V-be],I[T+te]=ya[255+de-Pe]}c+=m}}function qr(i,c,h,m,w,S){zr(i,c,h,1,16,m,w,S)}function xa(i,c,h,m,w,S){zr(i,c,1,h,16,m,w,S)}function uo(i,c,h,m,w,S){var C;for(C=3;0<C;--C)Ur(i,c+=4*h,h,1,16,m,w,S)}function v(i,c,h,m,w,S){var C;for(C=3;0<C;--C)Ur(i,c+=4,1,h,16,m,w,S)}function M(i,c,h,m,w,S,C,P){zr(i,c,w,1,8,S,C,P),zr(h,m,w,1,8,S,C,P)}function X(i,c,h,m,w,S,C,P){zr(i,c,1,w,8,S,C,P),zr(h,m,1,w,8,S,C,P)}function he(i,c,h,m,w,S,C,P){Ur(i,c+4*w,w,1,8,S,C,P),Ur(h,m+4*w,w,1,8,S,C,P)}function je(i,c,h,m,w,S,C,P){Ur(i,c+4,1,w,8,S,C,P),Ur(h,m+4,1,w,8,S,C,P)}function ze(){this.ba=new Ot,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Je(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function xt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function kt(){this.ua=0,this.Wa=new vt,this.vb=new vt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xe,this.yc=new ae}function jt(){this.xb=this.a=0,this.l=new oo,this.ca=new Ot,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new kt,this.ab=0,this.gc=x(4,xt),this.Oc=0}function Ut(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new oo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fn(i,c,h,m,w,S,C){for(i=i==null?0:i[c+0],c=0;c<C;++c)w[S+c]=i+h[m+c]&255,i=w[S+c]}function En(i,c,h,m,w,S,C){var P;if(i==null)fn(null,null,h,m,w,S,C);else for(P=0;P<C;++P)w[S+P]=i[c+P]+h[m+P]&255}function hr(i,c,h,m,w,S,C){if(i==null)fn(null,null,h,m,w,S,C);else{var P,I=i[c+0],T=I,te=I;for(P=0;P<C;++P)T=te+(I=i[c+P])-T,te=h[m+P]+(-256&T?0>T?0:255:T)&255,T=I,w[S+P]=te}}function xn(i,c,h,m){var w=c.width,S=c.o;if(a(i!=null&&c!=null),0>h||0>=m||h+m>S)return null;if(!i.Cc){if(i.ga==null){var C;if(i.ga=new Ut,(C=i.ga==null)||(C=c.width*c.o,a(i.Gb.length==0),i.Gb=u(C),i.Uc=0,i.Gb==null?C=0:(i.mb=i.Gb,i.nb=i.Uc,i.rc=null,C=1),C=!C),!C){C=i.ga;var P=i.Fa,I=i.P,T=i.qc,te=i.mb,ie=i.nb,V=I+1,de=T-1,be=C.l;if(a(P!=null&&te!=null&&c!=null),la[0]=null,la[1]=fn,la[2]=En,la[3]=hr,C.ca=te,C.tb=ie,C.c=c.width,C.i=c.height,a(0<C.c&&0<C.i),1>=T)c=0;else if(C.$a=3&P[I+0],C.Z=P[I+0]>>2&3,C.Lc=P[I+0]>>4&3,I=P[I+0]>>6&3,0>C.$a||1<C.$a||4<=C.Z||1<C.Lc||I)c=0;else if(be.put=Et,be.ac=_n,be.bc=Ha,be.ma=C,be.width=c.width,be.height=c.height,be.Da=c.Da,be.v=c.v,be.va=c.va,be.j=c.j,be.o=c.o,C.$a)e:{a(C.$a==1),c=Kt();t:for(;;){if(c==null){c=0;break e}if(a(C!=null),C.mc=c,c.c=C.c,c.i=C.i,c.l=C.l,c.l.ma=C,c.l.width=C.c,c.l.height=C.i,c.a=0,Se(c.m,P,V,de),!$n(C.c,C.i,1,c,null)||(c.ab==1&&c.gc[0].hc==3&&ka(c.s)?(C.ic=1,P=c.c*c.i,c.Ta=null,c.Ua=0,c.V=u(P),c.Ba=0,c.V==null?(c.a=1,c=0):c=1):(C.ic=0,c=Xs(c,C.c)),!c))break t;c=1;break e}C.mc=null,c=0}else c=de>=C.c*C.i;C=!c}if(C)return null;i.ga.Lc!=1?i.Ga=0:m=S-h}a(i.ga!=null),a(h+m<=S);e:{if(c=(P=i.ga).c,S=P.l.o,P.$a==0){if(V=i.rc,de=i.Vc,be=i.Fa,I=i.P+1+h*c,T=i.mb,te=i.nb+h*c,a(I<=i.P+i.qc),P.Z!=0)for(a(la[P.Z]!=null),C=0;C<m;++C)la[P.Z](V,de,be,I,T,te,c),V=T,de=te,te+=c,I+=c;else for(C=0;C<m;++C)l(T,te,be,I,c),V=T,de=te,te+=c,I+=c;i.rc=V,i.Vc=de}else{if(a(P.mc!=null),c=h+m,a((C=P.mc)!=null),a(c<=C.i),C.C>=c)c=1;else if(P.ic||nn(),P.ic){P=C.V,V=C.Ba,de=C.c;var Ue=C.i,Pe=(be=1,I=C.$/de,T=C.$%de,te=C.m,ie=C.s,C.$),$e=de*Ue,We=de*c,Ne=ie.wc,qe=Pe<We?ur(ie,T,I):null;a(Pe<=$e),a(c<=Ue),a(ka(ie));t:for(;;){for(;!te.h&&Pe<We;){if(T&Ne||(qe=ur(ie,T,I)),a(qe!=null),me(te),256>(Ue=cn(qe.G[0],qe.H[0],te)))P[V+Pe]=Ue,++Pe,++T>=de&&(T=0,++I<=c&&!(I%16)&&Gn(C,I));else{if(!(280>Ue)){be=0;break t}Ue=Xr(Ue-256,te);var ut,ft=cn(qe.G[4],qe.H[4],te);if(me(te),!(Pe>=(ft=ls(de,ft=Xr(ft,te)))&&$e-Pe>=Ue)){be=0;break t}for(ut=0;ut<Ue;++ut)P[V+Pe+ut]=P[V+Pe+ut-ft];for(Pe+=Ue,T+=Ue;T>=de;)T-=de,++I<=c&&!(I%16)&&Gn(C,I);Pe<We&&T&Ne&&(qe=ur(ie,T,I))}a(te.h==re(te))}Gn(C,I>c?c:I);break t}!be||te.h&&Pe<$e?(be=0,C.a=te.h?5:3):C.$=Pe,c=be}else c=Wt(C,C.V,C.Ba,C.c,C.i,c,xi);if(!c){m=0;break e}}h+m>=S&&(i.Cc=1),m=1}if(!m)return null;if(i.Cc&&((m=i.ga)!=null&&(m.mc=null),i.ga=null,0<i.Ga))return alert("todo:WebPDequantizeLevels"),null}return i.nb+h*w}function hn(i,c,h,m,w,S){for(;0<w--;){var C,P=i,I=c+(h?1:0),T=i,te=c+(h?0:3);for(C=0;C<m;++C){var ie=T[te+4*C];ie!=255&&(ie*=32897,P[I+4*C+0]=P[I+4*C+0]*ie>>23,P[I+4*C+1]=P[I+4*C+1]*ie>>23,P[I+4*C+2]=P[I+4*C+2]*ie>>23)}c+=S}}function On(i,c,h,m,w){for(;0<m--;){var S;for(S=0;S<h;++S){var C=i[c+2*S+0],P=15&(T=i[c+2*S+1]),I=4369*P,T=(240&T|T>>4)*I>>16;i[c+2*S+0]=(240&C|C>>4)*I>>16&240|(15&C|C<<4)*I>>16>>4&15,i[c+2*S+1]=240&T|P}c+=w}}function Mn(i,c,h,m,w,S,C,P){var I,T,te=255;for(T=0;T<w;++T){for(I=0;I<m;++I){var ie=i[c+I];S[C+4*I]=ie,te&=ie}c+=h,C+=P}return te!=255}function Xa(i,c,h,m,w){var S;for(S=0;S<w;++S)h[m+S]=i[c+S]>>8}function nn(){Hi=hn,mo=On,Bo=Mn,Yl=Xa}function $r(i,c,h){K[i]=function(m,w,S,C,P,I,T,te,ie,V,de,be,Ue,Pe,$e,We,Ne){var qe,ut=Ne-1>>1,ft=P[I+0]|T[te+0]<<16,Ht=ie[V+0]|de[be+0]<<16;a(m!=null);var At=3*ft+Ht+131074>>2;for(c(m[w+0],255&At,At>>16,Ue,Pe),S!=null&&(At=3*Ht+ft+131074>>2,c(S[C+0],255&At,At>>16,$e,We)),qe=1;qe<=ut;++qe){var on=P[I+qe]|T[te+qe]<<16,pr=ie[V+qe]|de[be+qe]<<16,Xt=ft+on+Ht+pr+524296,bt=Xt+2*(on+Ht)>>3;At=bt+ft>>1,ft=(Xt=Xt+2*(ft+pr)>>3)+on>>1,c(m[w+2*qe-1],255&At,At>>16,Ue,Pe+(2*qe-1)*h),c(m[w+2*qe-0],255&ft,ft>>16,Ue,Pe+(2*qe-0)*h),S!=null&&(At=Xt+Ht>>1,ft=bt+pr>>1,c(S[C+2*qe-1],255&At,At>>16,$e,We+(2*qe-1)*h),c(S[C+2*qe+0],255&ft,ft>>16,$e,We+(2*qe+0)*h)),ft=on,Ht=pr}1&Ne||(At=3*ft+Ht+131074>>2,c(m[w+Ne-1],255&At,At>>16,Ue,Pe+(Ne-1)*h),S!=null&&(At=3*Ht+ft+131074>>2,c(S[C+Ne-1],255&At,At>>16,$e,We+(Ne-1)*h)))}}function Dn(){Fa[Zo]=Ra,Fa[ki]=Ai,Fa[Hs]=Is,Fa[zo]=jo,Fa[Uo]=Ie,Fa[kn]=Ta,Fa[ir]=Ll,Fa[xo]=Ai,Fa[yo]=jo,Fa[pn]=Ie,Fa[qo]=Ta}function Bi(i){return i&-16384?0>i?0:255:i>>Ci}function _r(i,c){return Bi((19077*i>>8)+(26149*c>>8)-14234)}function zi(i,c,h){return Bi((19077*i>>8)-(6419*c>>8)-(13320*h>>8)+8708)}function Ir(i,c){return Bi((19077*i>>8)+(33050*c>>8)-17685)}function Si(i,c,h,m,w){m[w+0]=_r(i,h),m[w+1]=zi(i,c,h),m[w+2]=Ir(i,c)}function Fn(i,c,h,m,w){m[w+0]=Ir(i,c),m[w+1]=zi(i,c,h),m[w+2]=_r(i,h)}function Ui(i,c,h,m,w){var S=zi(i,c,h);c=S<<3&224|Ir(i,c)>>3,m[w+0]=248&_r(i,h)|S>>5,m[w+1]=c}function hs(i,c,h,m,w){var S=240&Ir(i,c)|15;m[w+0]=240&_r(i,h)|zi(i,c,h)>>4,m[w+1]=S}function Ro(i,c,h,m,w){m[w+0]=255,Si(i,c,h,m,w+1)}function fo(i,c,h,m,w){Fn(i,c,h,m,w),m[w+3]=255}function br(i,c,h,m,w){Si(i,c,h,m,w),m[w+3]=255}function _a(i,c,h){K[i]=function(m,w,S,C,P,I,T,te,ie){for(var V=te+(-2&ie)*h;te!=V;)c(m[w+0],S[C+0],P[I+0],T,te),c(m[w+1],S[C+0],P[I+0],T,te+h),w+=2,++C,++I,te+=2*h;1&ie&&c(m[w+0],S[C+0],P[I+0],T,te)}}function zs(i,c,h){return h==0?i==0?c==0?6:5:c==0?4:0:h}function Za(i,c,h,m,w){switch(i>>>30){case 3:ms(c,h,m,w,0);break;case 2:Nn(c,h,m,w);break;case 1:nt(c,h,m,w)}}function Ia(i,c){var h,m,w=c.M,S=c.Nb,C=i.oc,P=i.pc+40,I=i.oc,T=i.pc+584,te=i.oc,ie=i.pc+600;for(h=0;16>h;++h)C[P+32*h-1]=129;for(h=0;8>h;++h)I[T+32*h-1]=129,te[ie+32*h-1]=129;for(0<w?C[P-1-32]=I[T-1-32]=te[ie-1-32]=129:(f(C,P-32-1,127,21),f(I,T-32-1,127,9),f(te,ie-32-1,127,9)),m=0;m<i.za;++m){var V=c.ya[c.aa+m];if(0<m){for(h=-1;16>h;++h)l(C,P+32*h-4,C,P+32*h+12,4);for(h=-1;8>h;++h)l(I,T+32*h-4,I,T+32*h+4,4),l(te,ie+32*h-4,te,ie+32*h+4,4)}var de=i.Gd,be=i.Hd+m,Ue=V.ad,Pe=V.Hc;if(0<w&&(l(C,P-32,de[be].y,0,16),l(I,T-32,de[be].f,0,8),l(te,ie-32,de[be].ea,0,8)),V.Za){var $e=C,We=P-32+16;for(0<w&&(m>=i.za-1?f($e,We,de[be].y[15],4):l($e,We,de[be+1].y,0,4)),h=0;4>h;h++)$e[We+128+h]=$e[We+256+h]=$e[We+384+h]=$e[We+0+h];for(h=0;16>h;++h,Pe<<=2)$e=C,We=P+So[h],as[V.Ob[h]]($e,We),Za(Pe,Ue,16*+h,$e,We)}else if($e=zs(m,w,V.Ob[0]),oa[$e](C,P),Pe!=0)for(h=0;16>h;++h,Pe<<=2)Za(Pe,Ue,16*+h,C,P+So[h]);for(h=V.Gc,$e=zs(m,w,V.Dd),va[$e](I,T),va[$e](te,ie),Pe=Ue,$e=I,We=T,255&(V=0|h)&&(170&V?Wr(Pe,256,$e,We):Rt(Pe,256,$e,We)),V=te,Pe=ie,255&(h>>=8)&&(170&h?Wr(Ue,320,V,Pe):Rt(Ue,320,V,Pe)),w<i.Ub-1&&(l(de[be].y,0,C,P+480,16),l(de[be].f,0,I,T+224,8),l(de[be].ea,0,te,ie+224,8)),h=8*S*i.B,de=i.sa,be=i.ta+16*m+16*S*i.R,Ue=i.qa,V=i.ra+8*m+h,Pe=i.Ha,$e=i.Ia+8*m+h,h=0;16>h;++h)l(de,be+h*i.R,C,P+32*h,16);for(h=0;8>h;++h)l(Ue,V+h*i.B,I,T+32*h,8),l(Pe,$e+h*i.B,te,ie+32*h,8)}}function ea(i,c,h,m,w,S,C,P,I){var T=[0],te=[0],ie=0,V=I!=null?I.kd:0,de=I??new Je;if(i==null||12>h)return 7;de.data=i,de.w=c,de.ha=h,c=[c],h=[h],de.gb=[de.gb];e:{var be=c,Ue=h,Pe=de.gb;if(a(i!=null),a(Ue!=null),a(Pe!=null),Pe[0]=0,12<=Ue[0]&&!r(i,be[0],"RIFF")){if(r(i,be[0]+8,"WEBP")){Pe=3;break e}var $e=it(i,be[0]+4);if(12>$e||4294967286<$e){Pe=3;break e}if(V&&$e>Ue[0]-8){Pe=7;break e}Pe[0]=$e,be[0]+=12,Ue[0]-=12}Pe=0}if(Pe!=0)return Pe;for($e=0<de.gb[0],h=h[0];;){e:{var We=i;Ue=c,Pe=h;var Ne=T,qe=te,ut=be=[0];if((At=ie=[ie])[0]=0,8>Pe[0])Pe=7;else{if(!r(We,Ue[0],"VP8X")){if(it(We,Ue[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var ft=it(We,Ue[0]+8),Ht=1+tt(We,Ue[0]+12);if(2147483648<=Ht*(We=1+tt(We,Ue[0]+15))){Pe=3;break e}ut!=null&&(ut[0]=ft),Ne!=null&&(Ne[0]=Ht),qe!=null&&(qe[0]=We),Ue[0]+=18,Pe[0]-=18,At[0]=1}Pe=0}}if(ie=ie[0],be=be[0],Pe!=0)return Pe;if(Ue=!!(2&be),!$e&&ie)return 3;if(S!=null&&(S[0]=!!(16&be)),C!=null&&(C[0]=Ue),P!=null&&(P[0]=0),C=T[0],be=te[0],ie&&Ue&&I==null){Pe=0;break}if(4>h){Pe=7;break}if($e&&ie||!$e&&!ie&&!r(i,c[0],"ALPH")){h=[h],de.na=[de.na],de.P=[de.P],de.Sa=[de.Sa];e:{ft=i,Pe=c,$e=h;var At=de.gb;Ne=de.na,qe=de.P,ut=de.Sa,Ht=22,a(ft!=null),a($e!=null),We=Pe[0];var on=$e[0];for(a(Ne!=null),a(ut!=null),Ne[0]=null,qe[0]=null,ut[0]=0;;){if(Pe[0]=We,$e[0]=on,8>on){Pe=7;break e}var pr=it(ft,We+4);if(4294967286<pr){Pe=3;break e}var Xt=8+pr+1&-2;if(Ht+=Xt,0<At&&Ht>At){Pe=3;break e}if(!r(ft,We,"VP8 ")||!r(ft,We,"VP8L")){Pe=0;break e}if(on[0]<Xt){Pe=7;break e}r(ft,We,"ALPH")||(Ne[0]=ft,qe[0]=We+8,ut[0]=pr),We+=Xt,on-=Xt}}if(h=h[0],de.na=de.na[0],de.P=de.P[0],de.Sa=de.Sa[0],Pe!=0)break}h=[h],de.Ja=[de.Ja],de.xa=[de.xa];e:if(At=i,Pe=c,$e=h,Ne=de.gb[0],qe=de.Ja,ut=de.xa,ft=Pe[0],We=!r(At,ft,"VP8 "),Ht=!r(At,ft,"VP8L"),a(At!=null),a($e!=null),a(qe!=null),a(ut!=null),8>$e[0])Pe=7;else{if(We||Ht){if(At=it(At,ft+4),12<=Ne&&At>Ne-12){Pe=3;break e}if(V&&At>$e[0]-8){Pe=7;break e}qe[0]=At,Pe[0]+=8,$e[0]-=8,ut[0]=Ht}else ut[0]=5<=$e[0]&&At[ft+0]==47&&!(At[ft+4]>>5),qe[0]=$e[0];Pe=0}if(h=h[0],de.Ja=de.Ja[0],de.xa=de.xa[0],c=c[0],Pe!=0)break;if(4294967286<de.Ja)return 3;if(P==null||Ue||(P[0]=de.xa?2:1),C=[C],be=[be],de.xa){if(5>h){Pe=7;break}P=C,V=be,Ue=S,i==null||5>h?i=0:5<=h&&i[c+0]==47&&!(i[c+4]>>5)?($e=[0],At=[0],Ne=[0],Se(qe=new W,i,c,h),Va(qe,$e,At,Ne)?(P!=null&&(P[0]=$e[0]),V!=null&&(V[0]=At[0]),Ue!=null&&(Ue[0]=Ne[0]),i=1):i=0):i=0}else{if(10>h){Pe=7;break}P=be,i==null||10>h||!er(i,c+3,h-3)?i=0:(V=i[c+0]|i[c+1]<<8|i[c+2]<<16,Ue=16383&(i[c+7]<<8|i[c+6]),i=16383&(i[c+9]<<8|i[c+8]),1&V||3<(V>>1&7)||!(V>>4&1)||V>>5>=de.Ja||!Ue||!i?i=0:(C&&(C[0]=Ue),P&&(P[0]=i),i=1))}if(!i||(C=C[0],be=be[0],ie&&(T[0]!=C||te[0]!=be)))return 3;I!=null&&(I[0]=de,I.offset=c-I.w,a(4294967286>c-I.w),a(I.offset==I.ha-h));break}return Pe==0||Pe==7&&ie&&I==null?(S!=null&&(S[0]|=de.na!=null&&0<de.na.length),m!=null&&(m[0]=C),w!=null&&(w[0]=be),0):Pe}function ho(i,c,h){var m=c.width,w=c.height,S=0,C=0,P=m,I=w;if(c.Da=i!=null&&0<i.Da,c.Da&&(P=i.cd,I=i.bd,S=i.v,C=i.j,11>h||(S&=-2,C&=-2),0>S||0>C||0>=P||0>=I||S+P>m||C+I>w))return 0;if(c.v=S,c.j=C,c.va=S+P,c.o=C+I,c.U=P,c.T=I,c.da=i!=null&&0<i.da,c.da){if(!ht(P,I,h=[i.ib],S=[i.hb]))return 0;c.ib=h[0],c.hb=S[0]}return c.ob=i!=null&&i.ob,c.Kb=i==null||!i.Sd,c.da&&(c.ob=c.ib<3*m/4&&c.hb<3*w/4,c.Kb=0),1}function ni(i){if(i==null)return 2;if(11>i.S){var c=i.f.RGBA;c.fb+=(i.height-1)*c.A,c.A=-c.A}else c=i.f.kb,i=i.height,c.O+=(i-1)*c.fa,c.fa=-c.fa,c.N+=(i-1>>1)*c.Ab,c.Ab=-c.Ab,c.W+=(i-1>>1)*c.Db,c.Db=-c.Db,c.F!=null&&(c.J+=(i-1)*c.lb,c.lb=-c.lb);return 0}function ri(i,c,h,m){if(m==null||0>=i||0>=c)return 2;if(h!=null){if(h.Da){var w=h.cd,S=h.bd,C=-2&h.v,P=-2&h.j;if(0>C||0>P||0>=w||0>=S||C+w>i||P+S>c)return 2;i=w,c=S}if(h.da){if(!ht(i,c,w=[h.ib],S=[h.hb]))return 2;i=w[0],c=S[0]}}m.width=i,m.height=c;e:{var I=m.width,T=m.height;if(i=m.S,0>=I||0>=T||!(i>=Zo&&13>i))i=2;else{if(0>=m.Rd&&m.sd==null){C=S=w=c=0;var te=(P=I*d[i])*T;if(11>i||(S=(T+1)/2*(c=(I+1)/2),i==12&&(C=(w=I)*T)),(T=u(te+2*S+C))==null){i=1;break e}m.sd=T,11>i?((I=m.f.RGBA).eb=T,I.fb=0,I.A=P,I.size=te):((I=m.f.kb).y=T,I.O=0,I.fa=P,I.Fd=te,I.f=T,I.N=0+te,I.Ab=c,I.Cd=S,I.ea=T,I.W=0+te+S,I.Db=c,I.Ed=S,i==12&&(I.F=T,I.J=0+te+2*S),I.Tc=C,I.lb=w)}if(c=1,w=m.S,S=m.width,C=m.height,w>=Zo&&13>w)if(11>w)i=m.f.RGBA,c&=(P=Math.abs(i.A))*(C-1)+S<=i.size,c&=P>=S*d[w],c&=i.eb!=null;else{i=m.f.kb,P=(S+1)/2,te=(C+1)/2,I=Math.abs(i.fa),T=Math.abs(i.Ab);var ie=Math.abs(i.Db),V=Math.abs(i.lb),de=V*(C-1)+S;c&=I*(C-1)+S<=i.Fd,c&=T*(te-1)+P<=i.Cd,c=(c&=ie*(te-1)+P<=i.Ed)&I>=S&T>=P&ie>=P,c&=i.y!=null,c&=i.f!=null,c&=i.ea!=null,w==12&&(c&=V>=S,c&=de<=i.Tc,c&=i.F!=null)}else c=0;i=c?0:2}}return i!=0||h!=null&&h.fd&&(i=ni(m)),i}var Ea=64,es=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ma=24,ai=32,Hn=8,Cs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ot("Predictor0","PredictorAdd0"),K.Predictor0=function(){return 4278190080},K.Predictor1=function(i){return i},K.Predictor2=function(i,c,h){return c[h+0]},K.Predictor3=function(i,c,h){return c[h+1]},K.Predictor4=function(i,c,h){return c[h-1]},K.Predictor5=function(i,c,h){return wt(wt(i,c[h+1]),c[h+0])},K.Predictor6=function(i,c,h){return wt(i,c[h-1])},K.Predictor7=function(i,c,h){return wt(i,c[h+0])},K.Predictor8=function(i,c,h){return wt(c[h-1],c[h+0])},K.Predictor9=function(i,c,h){return wt(c[h+0],c[h+1])},K.Predictor10=function(i,c,h){return wt(wt(i,c[h-1]),wt(c[h+0],c[h+1]))},K.Predictor11=function(i,c,h){var m=c[h+0];return 0>=Ct(m>>24&255,i>>24&255,(c=c[h-1])>>24&255)+Ct(m>>16&255,i>>16&255,c>>16&255)+Ct(m>>8&255,i>>8&255,c>>8&255)+Ct(255&m,255&i,255&c)?m:i},K.Predictor12=function(i,c,h){var m=c[h+0];return(rn((i>>24&255)+(m>>24&255)-((c=c[h-1])>>24&255))<<24|rn((i>>16&255)+(m>>16&255)-(c>>16&255))<<16|rn((i>>8&255)+(m>>8&255)-(c>>8&255))<<8|rn((255&i)+(255&m)-(255&c)))>>>0},K.Predictor13=function(i,c,h){var m=c[h-1];return($t((i=wt(i,c[h+0]))>>24&255,m>>24&255)<<24|$t(i>>16&255,m>>16&255)<<16|$t(i>>8&255,m>>8&255)<<8|$t(255&i,255&m))>>>0};var Jn=K.PredictorAdd0;K.PredictorAdd1=Ft,ot("Predictor2","PredictorAdd2"),ot("Predictor3","PredictorAdd3"),ot("Predictor4","PredictorAdd4"),ot("Predictor5","PredictorAdd5"),ot("Predictor6","PredictorAdd6"),ot("Predictor7","PredictorAdd7"),ot("Predictor8","PredictorAdd8"),ot("Predictor9","PredictorAdd9"),ot("Predictor10","PredictorAdd10"),ot("Predictor11","PredictorAdd11"),ot("Predictor12","PredictorAdd12"),ot("Predictor13","PredictorAdd13");var ta=K.PredictorAdd2;Qe("ColorIndexInverseTransform","MapARGB","32b",function(i){return i>>8&255},function(i){return i}),Qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(i){return i},function(i){return i>>8&255});var Kn,Ni=K.ColorIndexInverseTransform,ps=K.MapARGB,na=K.VP8LColorIndexInverseTransformAlpha,si=K.MapAlpha,Ps=K.VP8LPredictorsAdd=[];Ps.length=16,(K.VP8LPredictors=[]).length=16,(K.VP8LPredictorsAdd_C=[]).length=16,(K.VP8LPredictors_C=[]).length=16;var Ls,Us,qs,ra,aa,Da,qi,ms,Nn,Wr,nt,Rt,Vn,Qn,sa,To,ii,ts,ns,$i,po,Oo,$s,Wi,Hi,mo,Bo,Yl,Xo=u(511),Sl=u(2041),go=u(225),Nl=u(767),rs=0,Ws=Sl,ia=go,ya=Nl,gs=Xo,Zo=0,ki=1,Hs=2,zo=3,Uo=4,kn=5,ir=6,xo=7,yo=8,pn=9,qo=10,vo=[2,3,7],$o=[3,3,11],Vi=[280,256,256,256,40],Gl=[0,1,1,1,0],Ac=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],el=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],kl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tl=8,bo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Wo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Yi=null,Al=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Cl=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Jl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Kl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Cc=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Pc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Pl=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],oa=[],as=[],va=[],_s=1,wo=2,la=[],Fa=[];$r("UpsampleRgbLinePair",Si,3),$r("UpsampleBgrLinePair",Fn,3),$r("UpsampleRgbaLinePair",br,4),$r("UpsampleBgraLinePair",fo,4),$r("UpsampleArgbLinePair",Ro,4),$r("UpsampleRgba4444LinePair",hs,2),$r("UpsampleRgb565LinePair",Ui,2);var Ra=K.UpsampleRgbLinePair,Is=K.UpsampleBgrLinePair,Ai=K.UpsampleRgbaLinePair,jo=K.UpsampleBgraLinePair,Ie=K.UpsampleArgbLinePair,Ta=K.UpsampleRgba4444LinePair,Ll=K.UpsampleRgb565LinePair,oi=16,Es=1<<oi-1,yn=-227,An=482,Ci=6,Er=0,ba=u(256),Pi=u(256),li=u(256),wa=u(256),nl=u(An-yn),_l=u(An-yn);_a("YuvToRgbRow",Si,3),_a("YuvToBgrRow",Fn,3),_a("YuvToRgbaRow",br,4),_a("YuvToBgraRow",fo,4),_a("YuvToArgbRow",Ro,4),_a("YuvToRgba4444Row",hs,2),_a("YuvToRgb565Row",Ui,2);var So=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],xs=[0,2,8],No=[8,7,6,4,4,2,2,2,1,1,1,1],ci=1;this.WebPDecodeRGBA=function(i,c,h,m,w){var S=ki,C=new ze,P=new Ot;C.ba=P,P.S=S,P.width=[P.width],P.height=[P.height];var I=P.width,T=P.height,te=new ne;if(te==null||i==null)var ie=2;else a(te!=null),ie=ea(i,c,h,te.width,te.height,te.Pd,te.Qd,te.format,null);if(ie!=0?I=0:(I!=null&&(I[0]=te.width[0]),T!=null&&(T[0]=te.height[0]),I=1),I){P.width=P.width[0],P.height=P.height[0],m!=null&&(m[0]=P.width),w!=null&&(w[0]=P.height);e:{if(m=new oo,(w=new Je).data=i,w.w=c,w.ha=h,w.kd=1,c=[0],a(w!=null),((i=ea(w.data,w.w,w.ha,null,null,null,c,null,w))==0||i==7)&&c[0]&&(i=4),(c=i)==0){if(a(C!=null),m.data=w.data,m.w=w.w+w.offset,m.ha=w.ha-w.offset,m.put=Et,m.ac=_n,m.bc=Ha,m.ma=C,w.xa){if((i=Kt())==null){C=1;break e}if((function(V,de){var be=[0],Ue=[0],Pe=[0];t:for(;;){if(V==null)return 0;if(de==null)return V.a=2,0;if(V.l=de,V.a=0,Se(V.m,de.data,de.w,de.ha),!Va(V.m,be,Ue,Pe)){V.a=3;break t}if(V.xb=wo,de.width=be[0],de.height=Ue[0],!$n(be[0],Ue[0],1,V,null))break t;return 1}return a(V.a!=0),0})(i,m)){if(m=(c=ri(m.width,m.height,C.Oa,C.ba))==0){t:{m=i;n:for(;;){if(m==null){m=0;break t}if(a(m.s.yc!=null),a(m.s.Ya!=null),a(0<m.s.Wb),a((h=m.l)!=null),a((w=h.ma)!=null),m.xb!=0){if(m.ca=w.ba,m.tb=w.tb,a(m.ca!=null),!ho(w.Oa,h,zo)){m.a=2;break n}if(!Xs(m,h.width)||h.da)break n;if((h.da||Nt(m.ca.S))&&nn(),11>m.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),m.ca.f.kb.F!=null&&nn()),m.Pb&&0<m.s.ua&&m.s.vb.X==null&&!G(m.s.vb,m.s.Wa.Xa)){m.a=1;break n}m.xb=0}if(!Wt(m,m.V,m.Ba,m.c,m.i,h.o,cs))break n;w.Dc=m.Ma,m=1;break t}a(m.a!=0),m=0}m=!m}m&&(c=i.a)}else c=i.a}else{if((i=new bi)==null){C=1;break e}if(i.Fa=w.na,i.P=w.P,i.qc=w.Sa,Ar(i,m)){if((c=ri(m.width,m.height,C.Oa,C.ba))==0){if(i.Aa=0,h=C.Oa,a((w=i)!=null),h!=null){if(0<(I=0>(I=h.Md)?0:100<I?255:255*I/100)){for(T=te=0;4>T;++T)12>(ie=w.pb[T]).lc&&(ie.ia=I*No[0>ie.lc?0:ie.lc]>>3),te|=ie.ia;te&&(alert("todo:VP8InitRandom"),w.ia=1)}w.Ga=h.Id,100<w.Ga?w.Ga=100:0>w.Ga&&(w.Ga=0)}(function(V,de){if(V==null)return 0;if(de==null)return Ke(V,2,"NULL VP8Io parameter in VP8Decode().");if(!V.cb&&!Ar(V,de))return 0;if(a(V.cb),de.ac==null||de.ac(de)){de.ob&&(V.L=0);var be=xs[V.L];if(V.L==2?(V.yb=0,V.zb=0):(V.yb=de.v-be>>4,V.zb=de.j-be>>4,0>V.yb&&(V.yb=0),0>V.zb&&(V.zb=0)),V.Va=de.o+15+be>>4,V.Hb=de.va+15+be>>4,V.Hb>V.za&&(V.Hb=V.za),V.Va>V.Ub&&(V.Va=V.Ub),0<V.L){var Ue=V.ed;for(be=0;4>be;++be){var Pe;if(V.Qa.Cb){var $e=V.Qa.Lb[be];V.Qa.Fb||($e+=Ue.Tb)}else $e=Ue.Tb;for(Pe=0;1>=Pe;++Pe){var We=V.gd[be][Pe],Ne=$e;if(Ue.Pc&&(Ne+=Ue.vd[0],Pe&&(Ne+=Ue.od[0])),0<(Ne=0>Ne?0:63<Ne?63:Ne)){var qe=Ne;0<Ue.wb&&(qe=4<Ue.wb?qe>>2:qe>>1)>9-Ue.wb&&(qe=9-Ue.wb),1>qe&&(qe=1),We.dd=qe,We.tc=2*Ne+qe,We.ld=40<=Ne?2:15<=Ne?1:0}else We.tc=0;We.La=Pe}}}be=0}else Ke(V,6,"Frame setup failed"),be=V.a;if(be=be==0){if(be){V.$c=0,0<V.Aa||(V.Ic=ci);t:{be=V.Ic,Ue=4*(qe=V.za);var ut=32*qe,ft=qe+1,Ht=0<V.L?qe*(0<V.Aa?2:1):0,At=(V.Aa==2?2:1)*qe;if((We=Ue+832+(Pe=3*(16*be+xs[V.L])/2*ut)+($e=V.Fa!=null&&0<V.Fa.length?V.Kc.c*V.Kc.i:0))!=We)be=0;else{if(We>V.Vb){if(V.Vb=0,V.Ec=u(We),V.Fc=0,V.Ec==null){be=Ke(V,1,"no memory during frame initialization.");break t}V.Vb=We}We=V.Ec,Ne=V.Fc,V.Ac=We,V.Bc=Ne,Ne+=Ue,V.Gd=x(ut,jn),V.Hd=0,V.rb=x(ft+1,fr),V.sb=1,V.wa=Ht?x(Ht,mt):null,V.Y=0,V.D.Nb=0,V.D.wa=V.wa,V.D.Y=V.Y,0<V.Aa&&(V.D.Y+=qe),a(!0),V.oc=We,V.pc=Ne,Ne+=832,V.ya=x(At,Ri),V.aa=0,V.D.ya=V.ya,V.D.aa=V.aa,V.Aa==2&&(V.D.aa+=qe),V.R=16*qe,V.B=8*qe,qe=(ut=xs[V.L])*V.R,ut=ut/2*V.B,V.sa=We,V.ta=Ne+qe,V.qa=V.sa,V.ra=V.ta+16*be*V.R+ut,V.Ha=V.qa,V.Ia=V.ra+8*be*V.B+ut,V.$c=0,Ne+=Pe,V.mb=$e?We:null,V.nb=$e?Ne:null,a(Ne+$e<=V.Fc+V.Vb),Aa(V),f(V.Ac,V.Bc,0,Ue),be=1}}if(be){if(de.ka=0,de.y=V.sa,de.O=V.ta,de.f=V.qa,de.N=V.ra,de.ea=V.Ha,de.Vd=V.Ia,de.fa=V.R,de.Rc=V.B,de.F=null,de.J=0,!rs){for(be=-255;255>=be;++be)Xo[255+be]=0>be?-be:be;for(be=-1020;1020>=be;++be)Sl[1020+be]=-128>be?-128:127<be?127:be;for(be=-112;112>=be;++be)go[112+be]=-16>be?-16:15<be?15:be;for(be=-255;510>=be;++be)Nl[255+be]=0>be?0:255<be?255:be;rs=1}qi=Qt,ms=Cr,Wr=ha,nt=ds,Rt=sn,Nn=ei,Vn=qr,Qn=xa,sa=M,To=X,ii=uo,ts=v,ns=he,$i=je,po=Qa,Oo=fs,$s=ti,Wi=Bs,as[0]=Qo,as[1]=Do,as[2]=As,as[3]=wi,as[4]=Ga,as[5]=Pr,as[6]=Ja,as[7]=Ts,as[8]=pa,as[9]=en,oa[0]=Ya,oa[1]=Ti,oa[2]=Oi,oa[3]=Fo,oa[4]=La,oa[5]=un,oa[6]=ks,va[0]=vr,va[1]=lo,va[2]=ma,va[3]=ji,va[4]=Ka,va[5]=Lr,va[6]=co,be=1}else be=0}be&&(be=(function(on,pr){for(on.M=0;on.M<on.Va;++on.M){var Xt,bt=on.Jc[on.M&on.Xb],lt=on.m,wr=on;for(Xt=0;Xt<wr.za;++Xt){var qt=lt,an=wr,Yn=an.Ac,ca=an.Bc+4*Xt,Mr=an.zc,or=an.ya[an.aa+Xt];if(an.Qa.Bb?or.$b=Be(qt,an.Pa.jb[0])?2+Be(qt,an.Pa.jb[2]):Be(qt,an.Pa.jb[1]):or.$b=0,an.kc&&(or.Ad=Be(qt,an.Bd)),or.Za=!Be(qt,145)+0,or.Za){var Hr=or.Ob,da=0;for(an=0;4>an;++an){var tr,mn=Mr[0+an];for(tr=0;4>tr;++tr){mn=Cc[Yn[ca+tr]][mn];for(var vn=Jl[Be(qt,mn[0])];0<vn;)vn=Jl[2*vn+Be(qt,mn[vn])];mn=-vn,Yn[ca+tr]=mn}l(Hr,da,Yn,ca,4),da+=4,Mr[0+an]=mn}}else mn=Be(qt,156)?Be(qt,128)?1:3:Be(qt,163)?2:0,or.Ob[0]=mn,f(Yn,ca,mn,4),f(Mr,0,mn,4);or.Dd=Be(qt,142)?Be(qt,114)?Be(qt,183)?1:3:2:0}if(wr.m.Ka)return Ke(on,7,"Premature end-of-partition0 encountered.");for(;on.ja<on.za;++on.ja){if(wr=bt,qt=(lt=on).rb[lt.sb-1],Yn=lt.rb[lt.sb+lt.ja],Xt=lt.ya[lt.aa+lt.ja],ca=lt.kc?Xt.Ad:0)qt.la=Yn.la=0,Xt.Za||(qt.Na=Yn.Na=0),Xt.Hc=0,Xt.Gc=0,Xt.ia=0;else{var nr,bn;if(qt=Yn,Yn=wr,ca=lt.Pa.Xc,Mr=lt.ya[lt.aa+lt.ja],or=lt.pb[Mr.$b],an=Mr.ad,Hr=0,da=lt.rb[lt.sb-1],mn=tr=0,f(an,Hr,0,384),Mr.Za)var mr=0,gr=ca[3];else{vn=u(16);var Bn=qt.Na+da.Na;if(Bn=Yi(Yn,ca[1],Bn,or.Eb,0,vn,0),qt.Na=da.Na=(0<Bn)+0,1<Bn)qi(vn,0,an,Hr);else{var Oa=vn[0]+3>>3;for(vn=0;256>vn;vn+=16)an[Hr+vn]=Oa}mr=1,gr=ca[0]}var Rn=15&qt.la,zn=15&da.la;for(vn=0;4>vn;++vn){var Dr=1&zn;for(Oa=bn=0;4>Oa;++Oa)Rn=Rn>>1|(Dr=(Bn=Yi(Yn,gr,Bn=Dr+(1&Rn),or.Sc,mr,an,Hr))>mr)<<7,bn=bn<<2|(3<Bn?3:1<Bn?2:an[Hr+0]!=0),Hr+=16;Rn>>=4,zn=zn>>1|Dr<<7,tr=(tr<<8|bn)>>>0}for(gr=Rn,mr=zn>>4,nr=0;4>nr;nr+=2){for(bn=0,Rn=qt.la>>4+nr,zn=da.la>>4+nr,vn=0;2>vn;++vn){for(Dr=1&zn,Oa=0;2>Oa;++Oa)Bn=Dr+(1&Rn),Rn=Rn>>1|(Dr=0<(Bn=Yi(Yn,ca[2],Bn,or.Qc,0,an,Hr)))<<3,bn=bn<<2|(3<Bn?3:1<Bn?2:an[Hr+0]!=0),Hr+=16;Rn>>=2,zn=zn>>1|Dr<<5}mn|=bn<<4*nr,gr|=Rn<<4<<nr,mr|=(240&zn)<<nr}qt.la=gr,da.la=mr,Mr.Hc=tr,Mr.Gc=mn,Mr.ia=43690&mn?0:or.ia,ca=!(tr|mn)}if(0<lt.L&&(lt.wa[lt.Y+lt.ja]=lt.gd[Xt.$b][Xt.Za],lt.wa[lt.Y+lt.ja].La|=!ca),wr.Ka)return Ke(on,7,"Premature end-of-file encountered.")}if(Aa(on),lt=pr,wr=1,Xt=(bt=on).D,qt=0<bt.L&&bt.M>=bt.zb&&bt.M<=bt.Va,bt.Aa==0)t:{if(Xt.M=bt.M,Xt.uc=qt,Ia(bt,Xt),wr=1,Xt=(bn=bt.D).Nb,qt=(mn=xs[bt.L])*bt.R,Yn=mn/2*bt.B,vn=16*Xt*bt.R,Oa=8*Xt*bt.B,ca=bt.sa,Mr=bt.ta-qt+vn,or=bt.qa,an=bt.ra-Yn+Oa,Hr=bt.Ha,da=bt.Ia-Yn+Oa,zn=(Rn=bn.M)==0,tr=Rn>=bt.Va-1,bt.Aa==2&&Ia(bt,bn),bn.uc)for(Dr=(Bn=bt).D.M,a(Bn.D.uc),bn=Bn.yb;bn<Bn.Hb;++bn){mr=bn,gr=Dr;var ja=(ys=(Nr=Bn).D).Nb;nr=Nr.R;var ys=ys.wa[ys.Y+mr],jr=Nr.sa,Sr=Nr.ta+16*ja*nr+16*mr,Ba=ys.dd,Un=ys.tc;if(Un!=0)if(a(3<=Un),Nr.L==1)0<mr&&Oo(jr,Sr,nr,Un+4),ys.La&&Wi(jr,Sr,nr,Un),0<gr&&po(jr,Sr,nr,Un+4),ys.La&&$s(jr,Sr,nr,Un);else{var za=Nr.B,Vs=Nr.qa,di=Nr.ra+8*ja*za+8*mr,ua=Nr.Ha,Nr=Nr.Ia+8*ja*za+8*mr;ja=ys.ld,0<mr&&(Qn(jr,Sr,nr,Un+4,Ba,ja),To(Vs,di,ua,Nr,za,Un+4,Ba,ja)),ys.La&&(ts(jr,Sr,nr,Un,Ba,ja),$i(Vs,di,ua,Nr,za,Un,Ba,ja)),0<gr&&(Vn(jr,Sr,nr,Un+4,Ba,ja),sa(Vs,di,ua,Nr,za,Un+4,Ba,ja)),ys.La&&(ii(jr,Sr,nr,Un,Ba,ja),ns(Vs,di,ua,Nr,za,Un,Ba,ja))}}if(bt.ia&&alert("todo:DitherRow"),lt.put!=null){if(bn=16*Rn,Rn=16*(Rn+1),zn?(lt.y=bt.sa,lt.O=bt.ta+vn,lt.f=bt.qa,lt.N=bt.ra+Oa,lt.ea=bt.Ha,lt.W=bt.Ia+Oa):(bn-=mn,lt.y=ca,lt.O=Mr,lt.f=or,lt.N=an,lt.ea=Hr,lt.W=da),tr||(Rn-=mn),Rn>lt.o&&(Rn=lt.o),lt.F=null,lt.J=null,bt.Fa!=null&&0<bt.Fa.length&&bn<Rn&&(lt.J=xn(bt,lt,bn,Rn-bn),lt.F=bt.mb,lt.F==null&&lt.F.length==0)){wr=Ke(bt,3,"Could not decode alpha data.");break t}bn<lt.j&&(mn=lt.j-bn,bn=lt.j,a(!(1&mn)),lt.O+=bt.R*mn,lt.N+=bt.B*(mn>>1),lt.W+=bt.B*(mn>>1),lt.F!=null&&(lt.J+=lt.width*mn)),bn<Rn&&(lt.O+=lt.v,lt.N+=lt.v>>1,lt.W+=lt.v>>1,lt.F!=null&&(lt.J+=lt.v),lt.ka=bn-lt.j,lt.U=lt.va-lt.v,lt.T=Rn-bn,wr=lt.put(lt))}Xt+1!=bt.Ic||tr||(l(bt.sa,bt.ta-qt,ca,Mr+16*bt.R,qt),l(bt.qa,bt.ra-Yn,or,an+8*bt.B,Yn),l(bt.Ha,bt.Ia-Yn,Hr,da+8*bt.B,Yn))}if(!wr)return Ke(on,6,"Output aborted.")}return 1})(V,de)),de.bc!=null&&de.bc(de),be&=1}return be?(V.cb=0,be):0})(i,m)||(c=i.a)}}else c=i.a}c==0&&C.Oa!=null&&C.Oa.fd&&(c=ni(C.ba))}C=c}S=C!=0?null:11>S?P.f.RGBA.eb:P.f.kb.y}else S=null;return S};var d=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function j(K,pe){for(var B="",U=0;U<4;U++)B+=String.fromCharCode(K[pe++]);return B}function k(K,pe){return K[pe+0]|K[pe+1]<<8}function L(K,pe){return(K[pe+0]|K[pe+1]<<8|K[pe+2]<<16)>>>0}function R(K,pe){return(K[pe+0]|K[pe+1]<<8|K[pe+2]<<16|K[pe+3]<<24)>>>0}new y;var N=[0],z=[0],F=[],D=new y,E=s,q=(function(K,pe){var B={},U=0,ae=!1,Z=0,xe=0;if(B.frames=[],!(function(_,W){for(var Y=0;Y<4;Y++)if(_[W+Y]!="RIFF".charCodeAt(Y))return!0;return!1})(K,pe)){for(R(K,pe+=4),pe+=8;pe<K.length;){var Ae=j(K,pe),ke=R(K,pe+=4);pe+=4;var le=ke+(1&ke);switch(Ae){case"VP8 ":case"VP8L":B.frames[U]===void 0&&(B.frames[U]={}),(Q=B.frames[U]).src_off=ae?xe:pe-8,Q.src_size=Z+ke+8,U++,ae&&(ae=!1,Z=0,xe=0);break;case"VP8X":(Q=B.header={}).feature_flags=K[pe];var Se=pe+4;Q.canvas_width=1+L(K,Se),Se+=3,Q.canvas_height=1+L(K,Se),Se+=3;break;case"ALPH":ae=!0,Z=le+8,xe=pe-8;break;case"ANIM":(Q=B.header).bgcolor=R(K,pe),Se=pe+4,Q.loop_count=k(K,Se),Se+=2;break;case"ANMF":var Fe,Q;(Q=B.frames[U]={}).offset_x=2*L(K,pe),pe+=3,Q.offset_y=2*L(K,pe),pe+=3,Q.width=1+L(K,pe),pe+=3,Q.height=1+L(K,pe),pe+=3,Q.duration=L(K,pe),pe+=3,Fe=K[pe++],Q.dispose=1&Fe,Q.blend=Fe>>1&1}Ae!="ANMF"&&(pe+=le)}return B}})(E,0);q.response=E,q.rgbaoutput=!0,q.dataurl=!1;var J=q.header?q.header:null,$=q.frames?q.frames:null;if(J){J.loop_counter=J.loop_count,N=[J.canvas_height],z=[J.canvas_width];for(var oe=0;oe<$.length&&$[oe].blend!=0;oe++);}var ce=$[0],Ee=D.WebPDecodeRGBA(E,ce.src_off,ce.src_size,z,N);ce.rgba=Ee,ce.imgwidth=z[0],ce.imgheight=N[0];for(var fe=0;fe<z[0]*N[0]*4;fe++)F[fe]=Ee[fe];return this.width=z,this.height=N,this.data=F,this}(function(s){var a,r,l,f,u,x,g,y,j,k=function(_){return _=_||{},this.isStrokeTransparent=_.isStrokeTransparent||!1,this.strokeOpacity=_.strokeOpacity||1,this.strokeStyle=_.strokeStyle||"#000000",this.fillStyle=_.fillStyle||"#000000",this.isFillTransparent=_.isFillTransparent||!1,this.fillOpacity=_.fillOpacity||1,this.font=_.font||"10px sans-serif",this.textBaseline=_.textBaseline||"alphabetic",this.textAlign=_.textAlign||"left",this.lineWidth=_.lineWidth||1,this.lineJoin=_.lineJoin||"miter",this.lineCap=_.lineCap||"butt",this.path=_.path||[],this.transform=_.transform!==void 0?_.transform.clone():new y,this.globalCompositeOperation=_.globalCompositeOperation||"normal",this.globalAlpha=_.globalAlpha||1,this.clip_path=_.clip_path||[],this.currentPoint=_.currentPoint||new x,this.miterLimit=_.miterLimit||10,this.lastPoint=_.lastPoint||new x,this.lineDashOffset=_.lineDashOffset||0,this.lineDash=_.lineDash||[],this.margin=_.margin||[0,0,0,0],this.prevPageLastElemOffset=_.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _.ignoreClearRect!="boolean"||_.ignoreClearRect,this};s.events.push(["initialized",function(){this.context2d=new L(this),a=this.internal.f2,r=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,f=this.internal.getHorizontalCoordinate,u=this.internal.getVerticalCoordinate,x=this.internal.Point,g=this.internal.Rectangle,y=this.internal.Matrix,j=new k}]);var L=function(_){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=_;Object.defineProperty(this,"pdf",{get:function(){return W}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(G){Y=!!G}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(G){re=!!G}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(G){isNaN(G)||(ee=G)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(G){isNaN(G)||(me=G)}}),Object.defineProperty(this,"margin",{get:function(){return j.margin},set:function(G){var Ve;typeof G=="number"?Ve=[G,G,G,G]:((Ve=new Array(4))[0]=G[0],Ve[1]=G.length>=2?G[1]:Ve[0],Ve[2]=G.length>=3?G[2]:Ve[0],Ve[3]=G.length>=4?G[3]:Ve[1]),j.margin=Ve}});var Ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ce},set:function(G){Ce=G}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(G){_e=G}});var Be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Be},set:function(G){Be=G}}),Object.defineProperty(this,"ctx",{get:function(){return j},set:function(G){G instanceof k&&(j=G)}}),Object.defineProperty(this,"path",{get:function(){return j.path},set:function(G){j.path=G}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(G){Le=G}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(G){var Ve;Ve=R(G),this.ctx.fillStyle=Ve.style,this.ctx.isFillTransparent=Ve.a===0,this.ctx.fillOpacity=Ve.a,this.pdf.setFillColor(Ve.r,Ve.g,Ve.b,{a:Ve.a}),this.pdf.setTextColor(Ve.r,Ve.g,Ve.b,{a:Ve.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(G){var Ve=R(G);this.ctx.strokeStyle=Ve.style,this.ctx.isStrokeTransparent=Ve.a===0,this.ctx.strokeOpacity=Ve.a,Ve.a===0?this.pdf.setDrawColor(255,255,255):(Ve.a,this.pdf.setDrawColor(Ve.r,Ve.g,Ve.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(G){["butt","round","square"].indexOf(G)!==-1&&(this.ctx.lineCap=G,this.pdf.setLineCap(G))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(G){isNaN(G)||(this.ctx.lineWidth=G,this.pdf.setLineWidth(G))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(G){["bevel","round","miter"].indexOf(G)!==-1&&(this.ctx.lineJoin=G,this.pdf.setLineJoin(G))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(G){isNaN(G)||(this.ctx.miterLimit=G,this.pdf.setMiterLimit(G))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(G){this.ctx.textBaseline=G}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(G){["right","end","center","left","start"].indexOf(G)!==-1&&(this.ctx.textAlign=G)}});var Ge=null,tt=null,it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it},set:function(G){Ge=null,tt=null,it=G}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(G){var Ve;if(this.ctx.font=G,(Ve=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(G))!==null){var vt=Ve[1];Ve[2];var ht=Ve[3],Ye=Ve[4];Ve[5];var gt=Ve[6],ot=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ye)[2];Ye=Math.floor(ot==="px"?parseFloat(Ye)*this.pdf.internal.scaleFactor:ot==="em"?parseFloat(Ye)*this.pdf.getFontSize():parseFloat(Ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ye);var pt=(function(Qe){var Gt,ye,ue=[],Re=Qe.trim();if(Re==="")return of;if(Re in lm)return[lm[Re]];for(;Re!=="";){switch(ye=null,Gt=(Re=dm(Re)).charAt(0)){case'"':case"'":ye=ty(Re.substring(1),Gt);break;default:ye=ny(Re)}if(ye===null||(ue.push(ye[0]),(Re=dm(ye[1]))!==""&&Re.charAt(0)!==","))return of;Re=Re.replace(/^,/,"")}return ue})(gt);if(this.fontFaces){var wt=(function(Qe,Gt){var ye=Qe.getFontList(),ue=JSON.stringify(ye);if(Ge===null||tt!==ue){var Re=(function(at){var Xe=[];return Object.keys(at).forEach(function(ct){at[ct].forEach(function(Nt){var It=null;switch(Nt){case"bold":It={family:ct,weight:"bold"};break;case"italic":It={family:ct,style:"italic"};break;case"bolditalic":It={family:ct,weight:"bold",style:"italic"};break;case"":case"normal":It={family:ct}}It!==null&&(It.ref={name:ct,style:Nt},Xe.push(It))})}),Xe})(ye);Ge=(function(at){for(var Xe={},ct=0;ct<at.length;++ct){var Nt=sf(at[ct]),It=Nt.family,Jt=Nt.stretch,Ot=Nt.style,ne=Nt.weight;Xe[It]=Xe[It]||{},Xe[It][Jt]=Xe[It][Jt]||{},Xe[It][Jt][Ot]=Xe[It][Jt][Ot]||{},Xe[It][Jt][Ot][ne]=Nt}return Xe})(Re.concat(Gt)),tt=ue}return Ge})(this.pdf,this.fontFaces),rn=pt.map(function(Qe){return{family:Qe,stretch:"normal",weight:ht,style:vt}}),$t=(function(Qe,Gt,ye){for(var ue=(ye=ye||{}).defaultFontFamily||"times",Re=Object.assign({},ey,ye.genericFontFamilies||{}),at=null,Xe=null,ct=0;ct<Gt.length;++ct)if(Re[(at=sf(Gt[ct])).family]&&(at.family=Re[at.family]),Qe.hasOwnProperty(at.family)){Xe=Qe[at.family];break}if(!(Xe=Xe||Qe[ue]))throw new Error("Could not find a font-family for the rule '"+cm(at)+"' and default family '"+ue+"'.");if(Xe=(function(Nt,It){if(It[Nt])return It[Nt];var Jt=Nf[Nt],Ot=Jt<=Nf.normal?-1:1,ne=om(It,k0,Jt,Ot);if(!ne)throw new Error("Could not find a matching font-stretch value for "+Nt);return ne})(at.stretch,Xe),Xe=(function(Nt,It){if(It[Nt])return It[Nt];for(var Jt=N0[Nt],Ot=0;Ot<Jt.length;++Ot)if(It[Jt[Ot]])return It[Jt[Ot]];throw new Error("Could not find a matching font-style for "+Nt)})(at.style,Xe),!(Xe=(function(Nt,It){if(It[Nt])return It[Nt];if(Nt===400&&It[500])return It[500];if(Nt===500&&It[400])return It[400];var Jt=Zx[Nt],Ot=om(It,A0,Jt,Nt<400?-1:1);if(!Ot)throw new Error("Could not find a matching font-weight for value "+Nt);return Ot})(at.weight,Xe)))throw new Error("Failed to resolve a font for the rule '"+cm(at)+"'.");return Xe})(wt,rn);this.pdf.setFont($t.ref.name,$t.ref.style)}else{var Ct="";(ht==="bold"||parseInt(ht,10)>=700||vt==="bold")&&(Ct="bold"),vt==="italic"&&(Ct+="italic"),Ct.length===0&&(Ct="normal");for(var Ft="",we={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},De=0;De<pt.length;De++){if(this.pdf.internal.getFont(pt[De],Ct,{noFallback:!0,disableWarning:!0})!==void 0){Ft=pt[De];break}if(Ct==="bolditalic"&&this.pdf.internal.getFont(pt[De],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ft=pt[De],Ct="bold";else if(this.pdf.internal.getFont(pt[De],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ft=pt[De],Ct="normal";break}}if(Ft===""){for(var He=0;He<pt.length;He++)if(we[pt[He]]){Ft=we[pt[He]];break}}Ft=Ft===""?"Times":Ft,this.pdf.setFont(Ft,Ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(G){this.ctx.globalCompositeOperation=G}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(G){this.ctx.globalAlpha=G}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(G){this.ctx.lineDashOffset=G,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(G){this.ctx.lineDash=G,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(G){this.ctx.ignoreClearRect=!!G}})};L.prototype.setLineDash=function(_){this.lineDash=_},L.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},L.prototype.fill=function(){$.call(this,"fill",!1)},L.prototype.stroke=function(){$.call(this,"stroke",!1)},L.prototype.beginPath=function(){this.path=[{type:"begin"}]},L.prototype.moveTo=function(_,W){if(isNaN(_)||isNaN(W))throw Zn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new x(_,W));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new x(_,W)},L.prototype.closePath=function(){var _=new x(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&qn(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){_=new x(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new x(_.x,_.y)},L.prototype.lineTo=function(_,W){if(isNaN(_)||isNaN(W))throw Zn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new x(_,W));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new x(Y.x,Y.y)},L.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),$.call(this,null,!0)},L.prototype.quadraticCurveTo=function(_,W,Y,re){if(isNaN(Y)||isNaN(re)||isNaN(_)||isNaN(W))throw Zn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new x(Y,re)),me=this.ctx.transform.applyToPoint(new x(_,W));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new x(ee.x,ee.y)},L.prototype.bezierCurveTo=function(_,W,Y,re,ee,me){if(isNaN(ee)||isNaN(me)||isNaN(_)||isNaN(W)||isNaN(Y)||isNaN(re))throw Zn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ce=this.ctx.transform.applyToPoint(new x(ee,me)),_e=this.ctx.transform.applyToPoint(new x(_,W)),Be=this.ctx.transform.applyToPoint(new x(Y,re));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:Be.x,y2:Be.y,x:Ce.x,y:Ce.y}),this.ctx.lastPoint=new x(Ce.x,Ce.y)},L.prototype.arc=function(_,W,Y,re,ee,me){if(isNaN(_)||isNaN(W)||isNaN(Y)||isNaN(re)||isNaN(ee))throw Zn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var Ce=this.ctx.transform.applyToPoint(new x(_,W));_=Ce.x,W=Ce.y;var _e=this.ctx.transform.applyToPoint(new x(0,Y)),Be=this.ctx.transform.applyToPoint(new x(0,0));Y=Math.sqrt(Math.pow(_e.x-Be.x,2)+Math.pow(_e.y-Be.y,2))}Math.abs(ee-re)>=2*Math.PI&&(re=0,ee=2*Math.PI),this.path.push({type:"arc",x:_,y:W,radius:Y,startAngle:re,endAngle:ee,counterclockwise:me})},L.prototype.arcTo=function(_,W,Y,re,ee){throw new Error("arcTo not implemented.")},L.prototype.rect=function(_,W,Y,re){if(isNaN(_)||isNaN(W)||isNaN(Y)||isNaN(re))throw Zn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_,W),this.lineTo(_+Y,W),this.lineTo(_+Y,W+re),this.lineTo(_,W+re),this.lineTo(_,W),this.lineTo(_+Y,W),this.lineTo(_,W)},L.prototype.fillRect=function(_,W,Y,re){if(isNaN(_)||isNaN(W)||isNaN(Y)||isNaN(re))throw Zn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!N.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_,W,Y,re),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},L.prototype.strokeRect=function(_,W,Y,re){if(isNaN(_)||isNaN(W)||isNaN(Y)||isNaN(re))throw Zn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");z.call(this)||(this.beginPath(),this.rect(_,W,Y,re),this.stroke())},L.prototype.clearRect=function(_,W,Y,re){if(isNaN(_)||isNaN(W)||isNaN(Y)||isNaN(re))throw Zn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_,W,Y,re))},L.prototype.save=function(_){_=typeof _!="boolean"||_;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),_){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new k(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},L.prototype.restore=function(_){_=typeof _!="boolean"||_;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(W),_&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},L.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var R=function(_){var W,Y,re,ee;if(_.isCanvasGradient===!0&&(_=_.getColor()),!_)return{r:0,g:0,b:0,a:0,style:_};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_))W=0,Y=0,re=0,ee=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_);if(me!==null)W=parseInt(me[1]),Y=parseInt(me[2]),re=parseInt(me[3]),ee=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_))!==null)W=parseInt(me[1]),Y=parseInt(me[2]),re=parseInt(me[3]),ee=parseFloat(me[4]);else{if(ee=1,typeof _=="string"&&_.charAt(0)!=="#"){var Ce=new x0(_);_=Ce.ok?Ce.toHex():"#000000"}_.length===4?(W=_.substring(1,2),W+=W,Y=_.substring(2,3),Y+=Y,re=_.substring(3,4),re+=re):(W=_.substring(1,3),Y=_.substring(3,5),re=_.substring(5,7)),W=parseInt(W,16),Y=parseInt(Y,16),re=parseInt(re,16)}}return{r:W,g:Y,b:re,a:ee,style:_}},N=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},z=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};L.prototype.fillText=function(_,W,Y,re){if(isNaN(W)||isNaN(Y)||typeof _!="string")throw Zn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!N.call(this)){var ee=le(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;U.call(this,{text:_,x:W,y:Y,scale:me,angle:ee,align:this.textAlign,maxWidth:re})}},L.prototype.strokeText=function(_,W,Y,re){if(isNaN(W)||isNaN(Y)||typeof _!="string")throw Zn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!z.call(this)){re=isNaN(re)?void 0:re;var ee=le(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;U.call(this,{text:_,x:W,y:Y,scale:me,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:re})}},L.prototype.measureText=function(_){if(typeof _!="string")throw Zn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Y=this.pdf.internal.scaleFactor,re=W.internal.getFontSize(),ee=W.getStringUnitWidth(_)*re/W.internal.scaleFactor;return new function(me){var Ce=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this}({width:ee*=Math.round(96*Y/72*1e4)/1e4})},L.prototype.scale=function(_,W){if(isNaN(_)||isNaN(W))throw Zn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new y(_,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},L.prototype.rotate=function(_){if(isNaN(_))throw Zn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new y(Math.cos(_),Math.sin(_),-Math.sin(_),Math.cos(_),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},L.prototype.translate=function(_,W){if(isNaN(_)||isNaN(W))throw Zn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new y(1,0,0,1,_,W);this.ctx.transform=this.ctx.transform.multiply(Y)},L.prototype.transform=function(_,W,Y,re,ee,me){if(isNaN(_)||isNaN(W)||isNaN(Y)||isNaN(re)||isNaN(ee)||isNaN(me))throw Zn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ce=new y(_,W,Y,re,ee,me);this.ctx.transform=this.ctx.transform.multiply(Ce)},L.prototype.setTransform=function(_,W,Y,re,ee,me){_=isNaN(_)?1:_,W=isNaN(W)?0:W,Y=isNaN(Y)?0:Y,re=isNaN(re)?1:re,ee=isNaN(ee)?0:ee,me=isNaN(me)?0:me,this.ctx.transform=new y(_,W,Y,re,ee,me)};var F=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};L.prototype.drawImage=function(_,W,Y,re,ee,me,Ce,_e,Be){var Le=this.pdf.getImageProperties(_),Ge=1,tt=1,it=1,G=1;re!==void 0&&_e!==void 0&&(it=_e/re,G=Be/ee,Ge=Le.width/re*_e/re,tt=Le.height/ee*Be/ee),me===void 0&&(me=W,Ce=Y,W=0,Y=0),re!==void 0&&_e===void 0&&(_e=re,Be=ee),re===void 0&&_e===void 0&&(_e=Le.width,Be=Le.height);var Ve=this.ctx.transform.decompose(),vt=le(Ve.rotate.shx),ht=new y,Ye=(ht=(ht=(ht=ht.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale)).applyToRectangle(new g(me-W*it,Ce-Y*G,re*Ge,ee*tt));if(this.autoPaging){for(var gt,ot=D.call(this,Ye),pt=[],wt=0;wt<ot.length;wt+=1)pt.indexOf(ot[wt])===-1&&pt.push(ot[wt]);J(pt);for(var rn=pt[0],$t=pt[pt.length-1],Ct=rn;Ct<$t+1;Ct++){this.pdf.setPage(Ct);var Ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],we=Ct===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=Ct===1?0:De+(Ct-2)*He;if(this.ctx.clip_path.length!==0){var Gt=this.path;gt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(gt,this.posX+this.margin[3],-Qe+we+this.ctx.prevPageLastElemOffset),oe.call(this,"fill",!0),this.path=Gt}var ye=JSON.parse(JSON.stringify(Ye));ye=q([ye],this.posX+this.margin[3],-Qe+we+this.ctx.prevPageLastElemOffset)[0];var ue=(Ct>rn||Ct<$t)&&F.call(this);ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ft,He,null).clip().discardPath()),this.pdf.addImage(_,"JPEG",ye.x,ye.y,ye.w,ye.h,null,null,vt),ue&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(_,"JPEG",Ye.x,Ye.y,Ye.w,Ye.h,null,null,vt)};var D=function(_,W,Y){var re=[];W=W||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(_.type){default:case"mt":case"lt":re.push(Math.floor((_.y+ee)/Y)+1);break;case"arc":re.push(Math.floor((_.y+ee-_.radius)/Y)+1),re.push(Math.floor((_.y+ee+_.radius)/Y)+1);break;case"qct":var me=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x,_.y);re.push(Math.floor((me.y+ee)/Y)+1),re.push(Math.floor((me.y+me.h+ee)/Y)+1);break;case"bct":var Ce=Fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x2,_.y2,_.x,_.y);re.push(Math.floor((Ce.y+ee)/Y)+1),re.push(Math.floor((Ce.y+Ce.h+ee)/Y)+1);break;case"rect":re.push(Math.floor((_.y+ee)/Y)+1),re.push(Math.floor((_.y+_.h+ee)/Y)+1)}for(var _e=0;_e<re.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<re[_e];)E.call(this);return re},E=function(){var _=this.fillStyle,W=this.strokeStyle,Y=this.font,re=this.lineCap,ee=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=_,this.strokeStyle=W,this.font=Y,this.lineCap=re,this.lineWidth=ee,this.lineJoin=me},q=function(_,W,Y){for(var re=0;re<_.length;re++)switch(_[re].type){case"bct":_[re].x2+=W,_[re].y2+=Y;case"qct":_[re].x1+=W,_[re].y1+=Y;default:_[re].x+=W,_[re].y+=Y}return _},J=function(_){return _.sort(function(W,Y){return W-Y})},$=function(_,W){var Y=this.fillStyle,re=this.strokeStyle,ee=this.lineCap,me=this.lineWidth,Ce=Math.abs(me*this.ctx.transform.scaleX),_e=this.lineJoin;if(this.autoPaging){for(var Be,Le,Ge=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),it=[],G=0;G<tt.length;G++)if(tt[G].x!==void 0)for(var Ve=D.call(this,tt[G]),vt=0;vt<Ve.length;vt+=1)it.indexOf(Ve[vt])===-1&&it.push(Ve[vt]);for(var ht=0;ht<it.length;ht++)for(;this.pdf.internal.getNumberOfPages()<it[ht];)E.call(this);J(it);for(var Ye=it[0],gt=it[it.length-1],ot=Ye;ot<gt+1;ot++){this.pdf.setPage(ot),this.fillStyle=Y,this.strokeStyle=re,this.lineCap=ee,this.lineWidth=Ce,this.lineJoin=_e;var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=ot===1?this.posY+this.margin[0]:this.margin[0],rn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ct=ot===1?0:rn+(ot-2)*$t;if(this.ctx.clip_path.length!==0){var Ft=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(Be,this.posX+this.margin[3],-Ct+wt+this.ctx.prevPageLastElemOffset),oe.call(this,_,!0),this.path=Ft}if(Le=JSON.parse(JSON.stringify(Ge)),this.path=q(Le,this.posX+this.margin[3],-Ct+wt+this.ctx.prevPageLastElemOffset),W===!1||ot===0){var we=(ot>Ye||ot<gt)&&F.call(this);we&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,$t,null).clip().discardPath()),oe.call(this,_,W),we&&this.pdf.restoreGraphicsState()}this.lineWidth=me}this.path=Ge}else this.lineWidth=Ce,oe.call(this,_,W),this.lineWidth=me},oe=function(_,W){if((_!=="stroke"||W||!z.call(this))&&(_==="stroke"||W||!N.call(this))){for(var Y,re,ee=[],me=this.path,Ce=0;Ce<me.length;Ce++){var _e=me[Ce];switch(_e.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:_e,deltas:[],abs:[]});break;case"lt":var Be=ee.length;if(me[Ce-1]&&!isNaN(me[Ce-1].x)&&(Y=[_e.x-me[Ce-1].x,_e.y-me[Ce-1].y],Be>0)){for(;Be>=0;Be--)if(ee[Be-1].close!==!0&&ee[Be-1].begin!==!0){ee[Be-1].deltas.push(Y),ee[Be-1].abs.push(_e);break}}break;case"bct":Y=[_e.x1-me[Ce-1].x,_e.y1-me[Ce-1].y,_e.x2-me[Ce-1].x,_e.y2-me[Ce-1].y,_e.x-me[Ce-1].x,_e.y-me[Ce-1].y],ee[ee.length-1].deltas.push(Y);break;case"qct":var Le=me[Ce-1].x+2/3*(_e.x1-me[Ce-1].x),Ge=me[Ce-1].y+2/3*(_e.y1-me[Ce-1].y),tt=_e.x+2/3*(_e.x1-_e.x),it=_e.y+2/3*(_e.y1-_e.y),G=_e.x,Ve=_e.y;Y=[Le-me[Ce-1].x,Ge-me[Ce-1].y,tt-me[Ce-1].x,it-me[Ce-1].y,G-me[Ce-1].x,Ve-me[Ce-1].y],ee[ee.length-1].deltas.push(Y);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(_e)}}re=W?null:_==="stroke"?"stroke":"fill";for(var vt=!1,ht=0;ht<ee.length;ht++)if(ee[ht].arc)for(var Ye=ee[ht].abs,gt=0;gt<Ye.length;gt++){var ot=Ye[gt];ot.type==="arc"?fe.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,W,!vt):ae.call(this,ot.x,ot.y),vt=!0}else if(ee[ht].close===!0)this.pdf.internal.out("h"),vt=!1;else if(ee[ht].begin!==!0){var pt=ee[ht].start.x,wt=ee[ht].start.y;Z.call(this,ee[ht].deltas,pt,wt),vt=!0}re&&K.call(this,re),W&&pe.call(this)}},ce=function(_){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _-Y;case"top":return _+W-Y;case"hanging":return _+W-2*Y;case"middle":return _+W/2-Y;default:return _}},Ee=function(_){return _+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};L.prototype.createLinearGradient=function(){var _=function(){};return _.colorStops=[],_.addColorStop=function(W,Y){this.colorStops.push([W,Y])},_.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_.isCanvasGradient=!0,_},L.prototype.createPattern=function(){return this.createLinearGradient()},L.prototype.createRadialGradient=function(){return this.createLinearGradient()};var fe=function(_,W,Y,re,ee,me,Ce,_e,Be){for(var Le=Ae.call(this,Y,re,ee,me),Ge=0;Ge<Le.length;Ge++){var tt=Le[Ge];Ge===0&&(Be?B.call(this,tt.x1+_,tt.y1+W):ae.call(this,tt.x1+_,tt.y1+W)),xe.call(this,_,W,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}_e?pe.call(this):K.call(this,Ce)},K=function(_){switch(_){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},pe=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(_,W){this.pdf.internal.out(r(_)+" "+l(W)+" m")},U=function(_){var W;switch(_.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var Y,re,ee,me=this.pdf.getTextDimensions(_.text),Ce=ce.call(this,_.y),_e=Ee.call(this,Ce)-me.h,Be=this.ctx.transform.applyToPoint(new x(_.x,Ce));if(this.autoPaging){var Le=this.ctx.transform.decompose(),Ge=new y;Ge=(Ge=(Ge=Ge.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale);for(var tt=this.ctx.transform.applyToRectangle(new g(_.x,Ce,me.w,me.h)),it=Ge.applyToRectangle(new g(_.x,_e,me.w,me.h)),G=D.call(this,it),Ve=[],vt=0;vt<G.length;vt+=1)Ve.indexOf(G[vt])===-1&&Ve.push(G[vt]);J(Ve);for(var ht=Ve[0],Ye=Ve[Ve.length-1],gt=ht;gt<Ye+1;gt++){this.pdf.setPage(gt);var ot=gt===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[2],rn=wt-this.margin[0],$t=this.pdf.internal.pageSize.width-this.margin[1],Ct=$t-this.margin[3],Ft=gt===1?0:pt+(gt-2)*rn;if(this.ctx.clip_path.length!==0){var we=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(Y,this.posX+this.margin[3],-1*Ft+ot),oe.call(this,"fill",!0),this.path=we}var De=q([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-Ft+ot+this.ctx.prevPageLastElemOffset)[0];_.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*_.scale),ee=this.lineWidth,this.lineWidth=ee*_.scale);var He=this.autoPaging!=="text";if(He||De.y+De.h<=wt){if(He||De.y>=ot&&De.x<=$t){var Qe=He?_.text:this.pdf.splitTextToSize(_.text,_.maxWidth||$t-De.x)[0],Gt=q([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-Ft+ot+this.ctx.prevPageLastElemOffset)[0],ye=He&&(gt>ht||gt<Ye)&&F.call(this);ye&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,rn,null).clip().discardPath()),this.pdf.text(Qe,Gt.x,Gt.y,{angle:_.angle,align:W,renderingMode:_.renderingMode}),ye&&this.pdf.restoreGraphicsState()}}else De.y<wt&&(this.ctx.prevPageLastElemOffset+=wt-De.y);_.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ee)}}else _.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*_.scale),ee=this.lineWidth,this.lineWidth=ee*_.scale),this.pdf.text(_.text,Be.x+this.posX,Be.y+this.posY,{angle:_.angle,align:W,renderingMode:_.renderingMode,maxWidth:_.maxWidth}),_.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ee)},ae=function(_,W,Y,re){Y=Y||0,re=re||0,this.pdf.internal.out(r(_+Y)+" "+l(W+re)+" l")},Z=function(_,W,Y){return this.pdf.lines(_,W,Y,null,null)},xe=function(_,W,Y,re,ee,me,Ce,_e){this.pdf.internal.out([a(f(Y+_)),a(u(re+W)),a(f(ee+_)),a(u(me+W)),a(f(Ce+_)),a(u(_e+W)),"c"].join(" "))},Ae=function(_,W,Y,re){for(var ee=2*Math.PI,me=Math.PI/2;W>Y;)W-=ee;var Ce=Math.abs(Y-W);Ce<ee&&re&&(Ce=ee-Ce);for(var _e=[],Be=re?-1:1,Le=W;Ce>1e-5;){var Ge=Le+Be*Math.min(Ce,me);_e.push(ke.call(this,_,Le,Ge)),Ce-=Math.abs(Ge-Le),Le=Ge}return _e},ke=function(_,W,Y){var re=(Y-W)/2,ee=_*Math.cos(re),me=_*Math.sin(re),Ce=ee,_e=-me,Be=Ce*Ce+_e*_e,Le=Be+Ce*ee+_e*me,Ge=4/3*(Math.sqrt(2*Be*Le)-Le)/(Ce*me-_e*ee),tt=Ce-Ge*_e,it=_e+Ge*Ce,G=tt,Ve=-it,vt=re+W,ht=Math.cos(vt),Ye=Math.sin(vt);return{x1:_*Math.cos(W),y1:_*Math.sin(W),x2:tt*ht-it*Ye,y2:tt*Ye+it*ht,x3:G*ht-Ve*Ye,y3:G*Ye+Ve*ht,x4:_*Math.cos(Y),y4:_*Math.sin(Y)}},le=function(_){return 180*_/Math.PI},Se=function(_,W,Y,re,ee,me){var Ce=_+.5*(Y-_),_e=W+.5*(re-W),Be=ee+.5*(Y-ee),Le=me+.5*(re-me),Ge=Math.min(_,ee,Ce,Be),tt=Math.max(_,ee,Ce,Be),it=Math.min(W,me,_e,Le),G=Math.max(W,me,_e,Le);return new g(Ge,it,tt-Ge,G-it)},Fe=function(_,W,Y,re,ee,me,Ce,_e){var Be,Le,Ge,tt,it,G,Ve,vt,ht,Ye,gt,ot,pt,wt,rn=Y-_,$t=re-W,Ct=ee-Y,Ft=me-re,we=Ce-ee,De=_e-me;for(Le=0;Le<41;Le++)ht=(Ve=(Ge=_+(Be=Le/40)*rn)+Be*((it=Y+Be*Ct)-Ge))+Be*(it+Be*(ee+Be*we-it)-Ve),Ye=(vt=(tt=W+Be*$t)+Be*((G=re+Be*Ft)-tt))+Be*(G+Be*(me+Be*De-G)-vt),Le==0?(gt=ht,ot=Ye,pt=ht,wt=Ye):(gt=Math.min(gt,ht),ot=Math.min(ot,Ye),pt=Math.max(pt,ht),wt=Math.max(wt,Ye));return new g(Math.round(gt),Math.round(ot),Math.round(pt-gt),Math.round(wt-ot))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _,W,Y=(_=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:_,lineDashOffset:W}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(Tt.API),(function(s){var a=function(x){var g,y,j,k,L,R,N,z,F,D;for(y=[],j=0,k=(x+=g="\0\0\0\0".slice(x.length%4||4)).length;k>j;j+=4)(L=(x.charCodeAt(j)<<24)+(x.charCodeAt(j+1)<<16)+(x.charCodeAt(j+2)<<8)+x.charCodeAt(j+3))!==0?(R=(L=((L=((L=((L=(L-(D=L%85))/85)-(F=L%85))/85)-(z=L%85))/85)-(N=L%85))/85)%85,y.push(R+33,N+33,z+33,F+33,D+33)):y.push(122);return(function(E,q){for(var J=q;J>0;J--)E.pop()})(y,g.length),String.fromCharCode.apply(String,y)+"~>"},r=function(x){var g,y,j,k,L,R=String,N="length",z=255,F="charCodeAt",D="slice",E="replace";for(x[D](-2),x=x[D](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),j=[],k=0,L=(x+=g="uuuuu"[D](x[N]%5||5))[N];L>k;k+=5)y=52200625*(x[F](k)-33)+614125*(x[F](k+1)-33)+7225*(x[F](k+2)-33)+85*(x[F](k+3)-33)+(x[F](k+4)-33),j.push(z&y>>24,z&y>>16,z&y>>8,z&y);return(function(q,J){for(var $=J;$>0;$--)q.pop()})(j,g[N]),R.fromCharCode.apply(R,j)},l=function(x){return x.split("").map(function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)}).join("")+">"},f=function(x){var g=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((x=x.replace(/\s/g,"")).indexOf(">")!==-1&&(x=x.substr(0,x.indexOf(">"))),x.length%2&&(x+="0"),g.test(x)===!1)return"";for(var y="",j=0;j<x.length;j+=2)y+=String.fromCharCode("0x"+(x[j]+x[j+1]));return y},u=function(x){for(var g=new Uint8Array(x.length),y=x.length;y--;)g[y]=x.charCodeAt(y);return(g=xf(g)).reduce(function(j,k){return j+String.fromCharCode(k)},"")};s.processDataByFilters=function(x,g){var y=0,j=x||"",k=[];for(typeof(g=g||[])=="string"&&(g=[g]),y=0;y<g.length;y+=1)switch(g[y]){case"ASCII85Decode":case"/ASCII85Decode":j=r(j),k.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":j=a(j),k.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":j=f(j),k.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":j=l(j),k.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":j=u(j),k.push("/FlateDecode");break;default:throw new Error('The filter: "'+g[y]+'" is not implemented')}return{data:j,reverseChain:k.reverse().join(" ")}}})(Tt.API),(function(s){s.loadFile=function(a,r,l){return(function(f,u,x){u=u!==!1,x=typeof x=="function"?x:function(){};var g=void 0;try{g=(function(y,j,k){var L=new XMLHttpRequest,R=0,N=function(z){var F=z.length,D=[],E=String.fromCharCode;for(R=0;R<F;R+=1)D.push(E(255&z.charCodeAt(R)));return D.join("")};if(L.open("GET",y,!j),L.overrideMimeType("text/plain; charset=x-user-defined"),j===!1&&(L.onload=function(){L.status===200?k(N(this.responseText)):k(void 0)}),L.send(null),j&&L.status===200)return N(L.responseText)})(f,u,x)}catch{}return g})(a,r,l)},s.loadImageFile=s.loadFile})(Tt.API),(function(s){function a(){return(Yt.html2canvas?Promise.resolve(Yt.html2canvas):Uu(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load html2canvas: "+g))}).then(function(g){return g.default?g.default:g})}function r(){return(Yt.DOMPurify?Promise.resolve(Yt.DOMPurify):Uu(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load dompurify: "+g))}).then(function(g){return g.default?g.default:g})}var l=function(g){var y=qn(g);return y==="undefined"?"undefined":y==="string"||g instanceof String?"string":y==="number"||g instanceof Number?"number":y==="function"||g instanceof Function?"function":g&&g.constructor===Array?"array":g&&g.nodeType===1?"element":y==="object"?"object":"unknown"},f=function(g,y){var j=document.createElement(g);for(var k in y.className&&(j.className=y.className),y.innerHTML&&y.dompurify&&(j.innerHTML=y.dompurify.sanitize(y.innerHTML)),y.style)j.style[k]=y.style[k];return j},u=function g(y,j){for(var k=y.nodeType===3?document.createTextNode(y.nodeValue):y.cloneNode(!1),L=y.firstChild;L;L=L.nextSibling)j!==!0&&L.nodeType===1&&L.nodeName==="SCRIPT"||k.appendChild(g(L,j));return y.nodeType===1&&(y.nodeName==="CANVAS"?(k.width=y.width,k.height=y.height,k.getContext("2d").drawImage(y,0,0)):y.nodeName!=="TEXTAREA"&&y.nodeName!=="SELECT"||(k.value=y.value),k.addEventListener("load",function(){k.scrollTop=y.scrollTop,k.scrollLeft=y.scrollLeft},!0)),k},x=function g(y){var j=Object.assign(g.convert(Promise.resolve()),JSON.parse(JSON.stringify(g.template))),k=g.convert(Promise.resolve(),j);return(k=k.setProgress(1,g,1,[g])).set(y)};(x.prototype=Object.create(Promise.prototype)).constructor=x,x.convert=function(g,y){return g.__proto__=y||x.prototype,g},x.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},x.prototype.from=function(g,y){return this.then(function(){switch(y=y||(function(j){switch(l(j)){case"string":return"string";case"element":return j.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(g),y){case"string":return this.then(r).then(function(j){return this.set({src:f("div",{innerHTML:g,dompurify:j})})});case"element":return this.set({src:g});case"canvas":return this.set({canvas:g});case"img":return this.set({img:g});default:return this.error("Unknown source type.")}})},x.prototype.to=function(g){switch(g){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},x.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var g={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},y=u(this.prop.src,this.opt.html2canvas.javascriptEnabled);y.tagName==="BODY"&&(g.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=f("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=f("div",{className:"html2pdf__container",style:g}),this.prop.container.appendChild(y),this.prop.container.firstChild.appendChild(f("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},x.prototype.toCanvas=function(){var g=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(g).then(a).then(function(y){var j=Object.assign({},this.opt.html2canvas);return delete j.onrendered,y(this.prop.container,j)}).then(function(y){(this.opt.html2canvas.onrendered||function(){})(y),this.prop.canvas=y,document.body.removeChild(this.prop.overlay)})},x.prototype.toContext2d=function(){var g=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(g).then(a).then(function(y){var j=this.opt.jsPDF,k=this.opt.fontFaces,L=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,R=Object.assign({async:!0,allowTaint:!0,scale:L,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete R.onrendered,j.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,j.context2d.posX=this.opt.x,j.context2d.posY=this.opt.y,j.context2d.margin=this.opt.margin,j.context2d.fontFaces=k,k)for(var N=0;N<k.length;++N){var z=k[N],F=z.src.find(function(D){return D.format==="truetype"});F&&j.addFont(F.url,z.ref.name,z.ref.style)}return R.windowHeight=R.windowHeight||0,R.windowHeight=R.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):R.windowHeight,j.context2d.save(!0),y(this.prop.container,R)}).then(function(y){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(y),this.prop.canvas=y,document.body.removeChild(this.prop.overlay)})},x.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var g=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=g})},x.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},x.prototype.output=function(g,y,j){return(j=j||"pdf").toLowerCase()==="img"||j.toLowerCase()==="image"?this.outputImg(g,y):this.outputPdf(g,y)},x.prototype.outputPdf=function(g,y){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(g,y)})},x.prototype.outputImg=function(g){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(g){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+g+'" is not supported.'}})},x.prototype.save=function(g){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(g?{filename:g}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},x.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},x.prototype.set=function(g){if(l(g)!=="object")return this;var y=Object.keys(g||{}).map(function(j){if(j in x.template.prop)return function(){this.prop[j]=g[j]};switch(j){case"margin":return this.setMargin.bind(this,g.margin);case"jsPDF":return function(){return this.opt.jsPDF=g.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,g.pageSize);default:return function(){this.opt[j]=g[j]}}},this);return this.then(function(){return this.thenList(y)})},x.prototype.get=function(g,y){return this.then(function(){var j=g in x.template.prop?this.prop[g]:this.opt[g];return y?y(j):j})},x.prototype.setMargin=function(g){return this.then(function(){switch(l(g)){case"number":g=[g,g,g,g];case"array":if(g.length===2&&(g=[g[0],g[1],g[0],g[1]]),g.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=g}).then(this.setPageSize)},x.prototype.setPageSize=function(g){function y(j,k){return Math.floor(j*k/72*96)}return this.then(function(){(g=g||Tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(g.inner={width:g.width-this.opt.margin[1]-this.opt.margin[3],height:g.height-this.opt.margin[0]-this.opt.margin[2]},g.inner.px={width:y(g.inner.width,g.k),height:y(g.inner.height,g.k)},g.inner.ratio=g.inner.height/g.inner.width),this.prop.pageSize=g})},x.prototype.setProgress=function(g,y,j,k){return g!=null&&(this.progress.val=g),y!=null&&(this.progress.state=y),j!=null&&(this.progress.n=j),k!=null&&(this.progress.stack=k),this.progress.ratio=this.progress.val/this.progress.state,this},x.prototype.updateProgress=function(g,y,j,k){return this.setProgress(g?this.progress.val+g:null,y||null,j?this.progress.n+j:null,k?this.progress.stack.concat(k):null)},x.prototype.then=function(g,y){var j=this;return this.thenCore(g,y,function(k,L){return j.updateProgress(null,null,1,[k]),Promise.prototype.then.call(this,function(R){return j.updateProgress(null,k),R}).then(k,L).then(function(R){return j.updateProgress(1),R})})},x.prototype.thenCore=function(g,y,j){j=j||Promise.prototype.then;var k=this;g&&(g=g.bind(k)),y&&(y=y.bind(k));var L=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?k:x.convert(Object.assign({},k),Promise.prototype),R=j.call(L,g,y);return x.convert(R,k.__proto__)},x.prototype.thenExternal=function(g,y){return Promise.prototype.then.call(this,g,y)},x.prototype.thenList=function(g){var y=this;return g.forEach(function(j){y=y.thenCore(j)}),y},x.prototype.catch=function(g){g&&(g=g.bind(this));var y=Promise.prototype.catch.call(this,g);return x.convert(y,this)},x.prototype.catchExternal=function(g){return Promise.prototype.catch.call(this,g)},x.prototype.error=function(g){return this.then(function(){throw new Error(g)})},x.prototype.using=x.prototype.set,x.prototype.saveAs=x.prototype.save,x.prototype.export=x.prototype.output,x.prototype.run=x.prototype.then,Tt.getPageSize=function(g,y,j){if(qn(g)==="object"){var k=g;g=k.orientation,y=k.unit||y,j=k.format||j}y=y||"mm",j=j||"a4",g=(""+(g||"P")).toLowerCase();var L,R=(""+j).toLowerCase(),N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(y){case"pt":L=1;break;case"mm":L=72/25.4;break;case"cm":L=72/2.54;break;case"in":L=72;break;case"px":L=.75;break;case"pc":case"em":L=12;break;case"ex":L=6;break;default:throw"Invalid unit: "+y}var z,F=0,D=0;if(N.hasOwnProperty(R))F=N[R][1]/L,D=N[R][0]/L;else try{F=j[1],D=j[0]}catch{throw new Error("Invalid format: "+j)}if(g==="p"||g==="portrait")g="p",D>F&&(z=D,D=F,F=z);else{if(g!=="l"&&g!=="landscape")throw"Invalid orientation: "+g;g="l",F>D&&(z=D,D=F,F=z)}return{width:D,height:F,unit:y,k:L,orientation:g}},s.html=function(g,y){(y=y||{}).callback=y.callback||function(){},y.html2canvas=y.html2canvas||{},y.html2canvas.canvas=y.html2canvas.canvas||this.canvas,y.jsPDF=y.jsPDF||this,y.fontFaces=y.fontFaces?y.fontFaces.map(sf):null;var j=new x(y);return y.worker?j:j.from(g).doCallback()}})(Tt.API),Tt.API.addJS=function(s){return fm=s,this.internal.events.subscribe("postPutResources",function(){Fd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Fd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),um=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+fm+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Fd!==void 0&&um!==void 0&&this.internal.out("/Names <</JavaScript "+Fd+" 0 R>>")}),this},(function(s){var a;s.events.push(["postPutResources",function(){var r=this,l=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var f=r.outline.render().split(/\r\n/),u=0;u<f.length;u++){var x=f[u],g=l.exec(x);if(g!=null){var y=g[1];r.internal.newObjectDeferredBegin(y,!1)}r.internal.write(x)}if(this.outline.createNamedDestinations){var j=this.internal.pages.length,k=[];for(u=0;u<j;u++){var L=r.internal.newObject();k.push(L);var R=r.internal.getPageInfo(u+1);r.internal.write("<< /D["+R.objId+" 0 R /XYZ null null null]>> endobj")}var N=r.internal.newObject();for(r.internal.write("<< /Names [ "),u=0;u<k.length;u++)r.internal.write("(page_"+(u+1)+")"+k[u]+" 0 R");r.internal.write(" ] >>","endobj"),a=r.internal.newObject(),r.internal.write("<< /Dests "+N+" 0 R"),r.internal.write(">>","endobj")}}]),s.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+a+" 0 R"))}]),s.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(l,f,u){var x={title:f,options:u,children:[]};return l==null&&(l=this.root),l.children.push(x),x},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(l){l.id=r.internal.newObjectDeferred();for(var f=0;f<l.children.length;f++)this.genIds_r(l.children[f])},r.outline.renderRoot=function(l){this.objStart(l),this.line("/Type /Outlines"),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1]))),this.line("/Count "+this.count_r({count:0},l)),this.objEnd()},r.outline.renderItems=function(l){for(var f=this.ctx.pdf.internal.getVerticalCoordinateString,u=0;u<l.children.length;u++){var x=l.children[u];this.objStart(x),this.line("/Title "+this.makeString(x.title)),this.line("/Parent "+this.makeRef(l)),u>0&&this.line("/Prev "+this.makeRef(l.children[u-1])),u<l.children.length-1&&this.line("/Next "+this.makeRef(l.children[u+1])),x.children.length>0&&(this.line("/First "+this.makeRef(x.children[0])),this.line("/Last "+this.makeRef(x.children[x.children.length-1])));var g=this.count=this.count_r({count:0},x);if(g>0&&this.line("/Count "+g),x.options&&x.options.pageNumber){var y=r.internal.getPageInfo(x.options.pageNumber);this.line("/Dest ["+y.objId+" 0 R /XYZ 0 "+f(0)+" 0]")}this.objEnd()}for(var j=0;j<l.children.length;j++)this.renderItems(l.children[j])},r.outline.line=function(l){this.ctx.val+=l+`\r
`},r.outline.makeRef=function(l){return l.id+" 0 R"},r.outline.makeString=function(l){return"("+r.internal.pdfEscape(l)+")"},r.outline.objStart=function(l){this.ctx.val+=`\r
`+l.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(l,f){for(var u=0;u<f.children.length;u++)l.count++,this.count_r(l,f.children[u]);return l.count}}])})(Tt.API),(function(s){var a=[192,193,194,195,196,197,198,199];s.processJPEG=function(r,l,f,u,x,g){var y,j=this.decode.DCT_DECODE,k=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=x||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,y=(function(L){for(var R,N=256*L.charCodeAt(4)+L.charCodeAt(5),z=L.length,F={width:0,height:0,numcomponents:1},D=4;D<z;D+=2){if(D+=N,a.indexOf(L.charCodeAt(D+1))!==-1){R=256*L.charCodeAt(D+5)+L.charCodeAt(D+6),F={width:256*L.charCodeAt(D+7)+L.charCodeAt(D+8),height:R,numcomponents:L.charCodeAt(D+9)};break}N=256*L.charCodeAt(D+2)+L.charCodeAt(D+3)}return F})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),y.numcomponents){case 1:g=this.color_spaces.DEVICE_GRAY;break;case 4:g=this.color_spaces.DEVICE_CMYK;break;case 3:g=this.color_spaces.DEVICE_RGB}k={data:r,width:y.width,height:y.height,colorSpace:g,bitsPerComponent:8,filter:j,index:l,alias:f}}return k}})(Tt.API),Tt.API.processPNG=function(s,a,r,l){if(this.__addimage__.isArrayBuffer(s)&&(s=new Uint8Array(s)),this.__addimage__.isArrayBufferView(s)){var f,u=Bx(s,{checkCrc:!0}),x=u.width,g=u.height,y=u.channels,j=u.palette,k=u.depth;f=j&&y===1?(function(fe){for(var K=fe.width,pe=fe.height,B=fe.data,U=fe.palette,ae=fe.depth,Z=!1,xe=[],Ae=[],ke=void 0,le=!1,Se=0,Fe=0;Fe<U.length;Fe++){var Q=gp(U[Fe],4),_=Q[0],W=Q[1],Y=Q[2],re=Q[3];xe.push(_,W,Y),re!=null&&(re===0?(Se++,Ae.length<1&&Ae.push(Fe)):re<255&&(le=!0))}if(le||Se>1){Z=!0,Ae=void 0;var ee=K*pe;ke=new Uint8Array(ee);for(var me=new DataView(B.buffer),Ce=0;Ce<ee;Ce++){var _e=lf(me,Ce,ae),Be=gp(U[_e],4)[3];ke[Ce]=Be}}else Se===0&&(Ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Z?8:void 0,colorBytes:B,alphaBytes:ke,needSMask:Z,palette:xe,mask:Ae}})(u):y===2||y===4?(function(fe){for(var K=fe.data,pe=fe.width,B=fe.height,U=fe.channels,ae=fe.depth,Z=U===2?"DeviceGray":"DeviceRGB",xe=U-1,Ae=pe*B,ke=xe,le=Ae*ke,Se=1*Ae,Fe=Math.ceil(le*ae/8),Q=Math.ceil(Se*ae/8),_=new Uint8Array(Fe),W=new Uint8Array(Q),Y=new DataView(K.buffer),re=new DataView(_.buffer),ee=new DataView(W.buffer),me=!1,Ce=0;Ce<Ae;Ce++){for(var _e=Ce*U,Be=0;Be<ke;Be++)wm(re,lf(Y,_e+Be,ae),Ce*ke+Be,ae);var Le=lf(Y,_e+ke,ae);Le<(1<<ae)-1&&(me=!0),wm(ee,Le,1*Ce,ae)}return{colorSpace:Z,colorsPerPixel:xe,sMaskBitsPerComponent:me?ae:void 0,colorBytes:_,alphaBytes:W,needSMask:me}})(u):(function(fe){var K=fe.data,pe=fe.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:pe,colorsPerPixel:pe==="DeviceGray"?1:3,colorBytes:K instanceof Uint16Array?(function(B){for(var U=B.length,ae=new Uint8Array(2*U),Z=new DataView(ae.buffer,ae.byteOffset,ae.byteLength),xe=0;xe<U;xe++)Z.setUint16(2*xe,B[xe],!1);return ae})(K):K,needSMask:!1}})(u);var L,R,N,z=f,F=z.colorSpace,D=z.colorsPerPixel,E=z.sMaskBitsPerComponent,q=z.colorBytes,J=z.alphaBytes,$=z.needSMask,oe=z.palette,ce=z.mask,Ee=null;return l!==Tt.API.image_compression.NONE&&typeof xf=="function"?(Ee=(function(fe){var K;switch(fe){case Tt.API.image_compression.FAST:K=11;break;case Tt.API.image_compression.MEDIUM:K=13;break;case Tt.API.image_compression.SLOW:K=14;break;default:K=12}return K})(l),L=this.decode.FLATE_DECODE,R="/Predictor ".concat(Ee," /Colors ").concat(D," /BitsPerComponent ").concat(k," /Columns ").concat(x),s=gm(q,Math.ceil(x*D*k/8),D,k,l),$&&(N=gm(J,Math.ceil(x*E/8),1,E,l))):(L=void 0,R=void 0,s=q,$&&(N=J)),(this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s))&&(s=this.__addimage__.arrayBufferToBinaryString(s)),(N&&this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),{alias:r,data:s,index:a,filter:L,decodeParameters:R,transparency:ce,palette:oe,sMask:N,predictor:Ee,width:x,height:g,bitsPerComponent:k,sMaskBitsPerComponent:E,colorSpace:F}}},(function(s){s.processGIF89A=function(a,r,l,f){var u=new iy(a),x=u.width,g=u.height,y=[];u.decodeAndBlitFrameRGBA(0,y);var j={data:y,width:x,height:g},k=new cf(100).encode(j,100);return s.processJPEG.call(this,k,r,l,f)},s.processGIF87A=s.processGIF89A})(Tt.API),to.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var s=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(s);for(var a=0;a<s;a++){var r=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0);this.palette[a]={red:f,green:l,blue:r,quad:u}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},to.prototype.parseBGR=function(){this.pos=this.offset;try{var s="bit"+this.bitPP,a=this.width*this.height*4;this.data=new Uint8Array(a),this[s]()}catch(r){Zn.log("bit decode error:"+r)}},to.prototype.bit1=function(){var s,a=Math.ceil(this.width/8),r=a%4;for(s=this.height-1;s>=0;s--){for(var l=this.bottom_up?s:this.height-1-s,f=0;f<a;f++)for(var u=this.datav.getUint8(this.pos++,!0),x=l*this.width*4+8*f*4,g=0;g<8&&8*f+g<this.width;g++){var y=this.palette[u>>7-g&1];this.data[x+4*g]=y.blue,this.data[x+4*g+1]=y.green,this.data[x+4*g+2]=y.red,this.data[x+4*g+3]=255}r!==0&&(this.pos+=4-r)}},to.prototype.bit4=function(){for(var s=Math.ceil(this.width/2),a=s%4,r=this.height-1;r>=0;r--){for(var l=this.bottom_up?r:this.height-1-r,f=0;f<s;f++){var u=this.datav.getUint8(this.pos++,!0),x=l*this.width*4+2*f*4,g=u>>4,y=15&u,j=this.palette[g];if(this.data[x]=j.blue,this.data[x+1]=j.green,this.data[x+2]=j.red,this.data[x+3]=255,2*f+1>=this.width)break;j=this.palette[y],this.data[x+4]=j.blue,this.data[x+4+1]=j.green,this.data[x+4+2]=j.red,this.data[x+4+3]=255}a!==0&&(this.pos+=4-a)}},to.prototype.bit8=function(){for(var s=this.width%4,a=this.height-1;a>=0;a--){for(var r=this.bottom_up?a:this.height-1-a,l=0;l<this.width;l++){var f=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+4*l;if(f<this.palette.length){var x=this.palette[f];this.data[u]=x.red,this.data[u+1]=x.green,this.data[u+2]=x.blue,this.data[u+3]=255}else this.data[u]=255,this.data[u+1]=255,this.data[u+2]=255,this.data[u+3]=255}s!==0&&(this.pos+=4-s)}},to.prototype.bit15=function(){for(var s=this.width%3,a=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var l=this.bottom_up?r:this.height-1-r,f=0;f<this.width;f++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var x=(u&a)/a*255|0,g=(u>>5&a)/a*255|0,y=(u>>10&a)/a*255|0,j=u>>15?255:0,k=l*this.width*4+4*f;this.data[k]=y,this.data[k+1]=g,this.data[k+2]=x,this.data[k+3]=j}this.pos+=s}},to.prototype.bit16=function(){for(var s=this.width%3,a=parseInt("11111",2),r=parseInt("111111",2),l=this.height-1;l>=0;l--){for(var f=this.bottom_up?l:this.height-1-l,u=0;u<this.width;u++){var x=this.datav.getUint16(this.pos,!0);this.pos+=2;var g=(x&a)/a*255|0,y=(x>>5&r)/r*255|0,j=(x>>11)/a*255|0,k=f*this.width*4+4*u;this.data[k]=j,this.data[k+1]=y,this.data[k+2]=g,this.data[k+3]=255}this.pos+=s}},to.prototype.bit24=function(){for(var s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,r=0;r<this.width;r++){var l=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),x=a*this.width*4+4*r;this.data[x]=u,this.data[x+1]=f,this.data[x+2]=l,this.data[x+3]=255}this.pos+=this.width%4}},to.prototype.bit32=function(){for(var s=this.height-1;s>=0;s--)for(var a=this.bottom_up?s:this.height-1-s,r=0;r<this.width;r++){var l=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),x=this.datav.getUint8(this.pos++,!0),g=a*this.width*4+4*r;this.data[g]=u,this.data[g+1]=f,this.data[g+2]=l,this.data[g+3]=x}},to.prototype.getData=function(){return this.data},(function(s){s.processBMP=function(a,r,l,f){var u=new to(a,!1),x=u.width,g=u.height,y={data:u.getData(),width:x,height:g},j=new cf(100).encode(y,100);return s.processJPEG.call(this,j,r,l,f)}})(Tt.API),Sm.prototype.getData=function(){return this.data},(function(s){s.processWEBP=function(a,r,l,f){var u=new Sm(a),x=u.width,g=u.height,y={data:u.getData(),width:x,height:g},j=new cf(100).encode(y,100);return s.processJPEG.call(this,j,r,l,f)}})(Tt.API),Tt.API.processRGBA=function(s,a,r){for(var l=s.data,f=l.length,u=new Uint8Array(f/4*3),x=new Uint8Array(f/4),g=0,y=0,j=0;j<f;j+=4){var k=l[j],L=l[j+1],R=l[j+2],N=l[j+3];u[g++]=k,u[g++]=L,u[g++]=R,x[y++]=N}var z=this.__addimage__.arrayBufferToBinaryString(u);return{alpha:this.__addimage__.arrayBufferToBinaryString(x),data:z,index:a,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:s.width,height:s.height}},Tt.API.setLanguage=function(s){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[s]!==void 0&&(this.internal.languageSettings.languageCode=s,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pc=Tt.API,Rd=pc.getCharWidthsArray=function(s,a){var r,l,f=(a=a||{}).font||this.internal.getFont(),u=a.fontSize||this.internal.getFontSize(),x=a.charSpace||this.internal.getCharSpace(),g=a.widths?a.widths:f.metadata.Unicode.widths,y=g.fof?g.fof:1,j=a.kerning?a.kerning:f.metadata.Unicode.kerning,k=j.fof?j.fof:1,L=a.doKerning!==!1,R=0,N=s.length,z=0,F=g[0]||y,D=[];for(r=0;r<N;r++)l=s.charCodeAt(r),typeof f.metadata.widthOfString=="function"?D.push((f.metadata.widthOfGlyph(f.metadata.characterToGlyph(l))+x*(1e3/u)||0)/1e3):(R=L&&qn(j[l])==="object"&&!isNaN(parseInt(j[l][z],10))?j[l][z]/k:0,D.push((g[l]||F)/y+R)),z=l;return D},hm=pc.getStringUnitWidth=function(s,a){var r=(a=a||{}).fontSize||this.internal.getFontSize(),l=a.font||this.internal.getFont(),f=a.charSpace||this.internal.getCharSpace();return pc.processArabic&&(s=pc.processArabic(s)),typeof l.metadata.widthOfString=="function"?l.metadata.widthOfString(s,r,f)/r:Rd.apply(this,arguments).reduce(function(u,x){return u+x},0)},pm=function(s,a,r,l){for(var f=[],u=0,x=s.length,g=0;u!==x&&g+a[u]<r;)g+=a[u],u++;f.push(s.slice(0,u));var y=u;for(g=0;u!==x;)g+a[u]>l&&(f.push(s.slice(y,u)),g=0,y=u),g+=a[u],u++;return y!==u&&f.push(s.slice(y,u)),f},mm=function(s,a,r){r||(r={});var l,f,u,x,g,y,j,k=[],L=[k],R=r.textIndent||0,N=0,z=0,F=s.split(" "),D=Rd.apply(this,[" ",r])[0];if(y=r.lineIndent===-1?F[0].length+2:r.lineIndent||0){var E=Array(y).join(" "),q=[];F.map(function($){($=$.split(/\s*\n/)).length>1?q=q.concat($.map(function(oe,ce){return(ce&&oe.length?`
`:"")+oe})):q.push($[0])}),F=q,y=hm.apply(this,[E,r])}for(u=0,x=F.length;u<x;u++){var J=0;if(l=F[u],y&&l[0]==`
`&&(l=l.substr(1),J=1),R+N+(z=(f=Rd.apply(this,[l,r])).reduce(function($,oe){return $+oe},0))>a||J){if(z>a){for(g=pm.apply(this,[l,f,a-(R+N),a]),k.push(g.shift()),k=[g.pop()];g.length;)L.push([g.shift()]);z=f.slice(l.length-(k[0]?k[0].length:0)).reduce(function($,oe){return $+oe},0)}else k=[l];L.push(k),R=z+y,N=D}else k.push(l),R+=N+z,N=D}return j=y?function($,oe){return(oe?E:"")+$.join(" ")}:function($){return $.join(" ")},L.map(j)},pc.splitTextToSize=function(s,a,r){var l,f=(r=r||{}).fontSize||this.internal.getFontSize(),u=(function(k){if(k.widths&&k.kerning)return{widths:k.widths,kerning:k.kerning};var L=this.internal.getFont(k.fontName,k.fontStyle),R="Unicode";return L.metadata[R]?{widths:L.metadata[R].widths||{0:1},kerning:L.metadata[R].kerning||{}}:{font:L.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);l=Array.isArray(s)?s:String(s).split(/\r?\n/);var x=1*this.internal.scaleFactor*a/f;u.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/f:0,u.lineIndent=r.lineIndent;var g,y,j=[];for(g=0,y=l.length;g<y;g++)j=j.concat(mm.apply(this,[l[g],x,u]));return j},(function(s){s.__fontmetrics__=s.__fontmetrics__||{};for(var a="0123456789abcdef",r="klmnopqrstuvwxyz",l={},f={},u=0;u<16;u++)l[r[u]]=a[u],f[a[u]]=r[u];var x=function(R){return"0x"+parseInt(R,10).toString(16)},g=s.__fontmetrics__.compress=function(R){var N,z,F,D,E=["{"];for(var q in R){if(N=R[q],isNaN(parseInt(q,10))?z="'"+q+"'":(q=parseInt(q,10),z=(z=x(q).slice(2)).slice(0,-1)+f[z.slice(-1)]),typeof N=="number")N<0?(F=x(N).slice(3),D="-"):(F=x(N).slice(2),D=""),F=D+F.slice(0,-1)+f[F.slice(-1)];else{if(qn(N)!=="object")throw new Error("Don't know what to do with value type "+qn(N)+".");F=g(N)}E.push(z+F)}return E.push("}"),E.join("")},y=s.__fontmetrics__.uncompress=function(R){if(typeof R!="string")throw new Error("Invalid argument passed to uncompress.");for(var N,z,F,D,E={},q=1,J=E,$=[],oe="",ce="",Ee=R.length-1,fe=1;fe<Ee;fe+=1)(D=R[fe])=="'"?N?(F=N.join(""),N=void 0):N=[]:N?N.push(D):D=="{"?($.push([J,F]),J={},F=void 0):D=="}"?((z=$.pop())[0][z[1]]=J,F=void 0,J=z[0]):D=="-"?q=-1:F===void 0?l.hasOwnProperty(D)?(oe+=l[D],F=parseInt(oe,16)*q,q=1,oe=""):oe+=D:l.hasOwnProperty(D)?(ce+=l[D],J[F]=parseInt(ce,16)*q,q=1,F=void 0,ce=""):ce+=D;return E},j={codePages:["WinAnsiEncoding"],WinAnsiEncoding:y("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},k={Unicode:{Courier:j,"Courier-Bold":j,"Courier-BoldOblique":j,"Courier-Oblique":j,Helvetica:j,"Helvetica-Bold":j,"Helvetica-BoldOblique":j,"Helvetica-Oblique":j,"Times-Roman":j,"Times-Bold":j,"Times-BoldItalic":j,"Times-Italic":j}},L={Unicode:{"Courier-Oblique":y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":y("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":y("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":y("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:y("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:y("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":y("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:y("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":y("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":y("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":y("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};s.events.push(["addFont",function(R){var N=R.font,z=L.Unicode[N.postScriptName];z&&(N.metadata.Unicode={},N.metadata.Unicode.widths=z.widths,N.metadata.Unicode.kerning=z.kerning);var F=k.Unicode[N.postScriptName];F&&(N.metadata.Unicode.encoding=F,N.encoding=F.codePages[0])}])})(Tt.API),(function(s){var a=function(r){for(var l=r.length,f=new Uint8Array(l),u=0;u<l;u++)f[u]=r.charCodeAt(u);return f};s.API.events.push(["addFont",function(r){var l=void 0,f=r.font,u=r.instance;if(!f.isStandardFont){if(u===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+f.postScriptName+"').");if(typeof(l=u.existsFileInVFS(f.postScriptName)===!1?u.loadFile(f.postScriptName):u.getFileFromVFS(f.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+f.postScriptName+"').");(function(x,g){g=/^\x00\x01\x00\x00/.test(g)?a(g):a(Bd(g)),x.metadata=s.API.TTFFont.open(g),x.metadata.Unicode=x.metadata.Unicode||{encoding:{},kerning:{},widths:[]},x.metadata.glyIdsUsed=[0]})(f,l)}}])})(Tt),Tt.API.addSvgAsImage=function(s,a,r,l,f,u,x,g){if(isNaN(a)||isNaN(r))throw Zn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(f))throw Zn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var y=document.createElement("canvas");y.width=l,y.height=f;var j=y.getContext("2d");j.fillStyle="#fff",j.fillRect(0,0,y.width,y.height);var k={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},L=this;return(Yt.canvg?Promise.resolve(Yt.canvg):Uu(()=>import("./index.es-aP4gffHO.js"),[])).catch(function(R){return Promise.reject(new Error("Could not load canvg: "+R))}).then(function(R){return R.default?R.default:R}).then(function(R){return R.fromString(j,s,k)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(R){return R.render(k)}).then(function(){L.addImage(y.toDataURL("image/jpeg",1),a,r,l,f,x,g)})},Tt.API.putTotalPages=function(s){var a,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(a=new RegExp(s,"g"),r=this.internal.getNumberOfPages()):(a=new RegExp(this.pdfEscape16(s,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var l=1;l<=this.internal.getNumberOfPages();l++)for(var f=0;f<this.internal.pages[l].length;f++)this.internal.pages[l][f]=this.internal.pages[l][f].replace(a,r);return this},Tt.API.viewerPreferences=function(s,a){var r;s=s||{},a=a||!1;var l,f,u,x={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},g=Object.keys(x),y=[],j=0,k=0,L=0;function R(z,F){var D,E=!1;for(D=0;D<z.length;D+=1)z[D]===F&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(x)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,s==="reset"||a===!0){var N=g.length;for(L=0;L<N;L+=1)r[g[L]].value=r[g[L]].defaultValue,r[g[L]].explicitSet=!1}if(qn(s)==="object"){for(f in s)if(u=s[f],R(g,f)&&u!==void 0){if(r[f].type==="boolean"&&typeof u=="boolean")r[f].value=u;else if(r[f].type==="name"&&R(r[f].valueSet,u))r[f].value=u;else if(r[f].type==="integer"&&Number.isInteger(u))r[f].value=u;else if(r[f].type==="array"){for(j=0;j<u.length;j+=1)if(l=!0,u[j].length===1&&typeof u[j][0]=="number")y.push(String(u[j]-1));else if(u[j].length>1){for(k=0;k<u[j].length;k+=1)typeof u[j][k]!="number"&&(l=!1);l===!0&&y.push([u[j][0]-1,u[j][1]-1].join(" "))}r[f].value="["+y.join(" ")+"]"}else r[f].value=r[f].defaultValue;r[f].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var z,F=[];for(z in r)r[z].explicitSet===!0&&(r[z].type==="name"?F.push("/"+z+" /"+r[z].value):F.push("/"+z+" "+r[z].value));F.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+F.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(s){var a=function(){var l='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',f=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),u=unescape(encodeURIComponent(l)),x=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),g=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),y=unescape(encodeURIComponent("</x:xmpmeta>")),j=u.length+x.length+g.length+f.length+y.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+j+" >>"),this.internal.write("stream"),this.internal.write(f+u+x+g+y),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};s.addMetadata=function(l,f){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:l,namespaceuri:f||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",a)),this}})(Tt.API),(function(s){var a=s.API,r=a.pdfEscape16=function(u,x){for(var g,y=x.metadata.Unicode.widths,j=["","0","00","000","0000"],k=[""],L=0,R=u.length;L<R;++L){if(g=x.metadata.characterToGlyph(u.charCodeAt(L)),x.metadata.glyIdsUsed.push(g),x.metadata.toUnicode[g]=u.charCodeAt(L),y.indexOf(g)==-1&&(y.push(g),y.push([parseInt(x.metadata.widthOfGlyph(g),10)])),g=="0")return k.join("");g=g.toString(16),k.push(j[4-g.length],g)}return k.join("")},l=function(u){var x,g,y,j,k,L,R;for(k=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,y=[],L=0,R=(g=Object.keys(u).sort(function(N,z){return N-z})).length;L<R;L++)x=g[L],y.length>=100&&(k+=`
`+y.length+` beginbfchar
`+y.join(`
`)+`
endbfchar`,y=[]),u[x]!==void 0&&u[x]!==null&&typeof u[x].toString=="function"&&(j=("0000"+u[x].toString(16)).slice(-4),x=("0000"+(+x).toString(16)).slice(-4),y.push("<"+x+"><"+j+">"));return y.length&&(k+=`
`+y.length+` beginbfchar
`+y.join(`
`)+`
endbfchar
`),k+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};a.events.push(["putFont",function(u){(function(x){var g=x.font,y=x.out,j=x.newObject,k=x.putStream;if(g.metadata instanceof s.API.TTFFont&&g.encoding==="Identity-H"){for(var L=g.metadata.Unicode.widths,R=g.metadata.subset.encode(g.metadata.glyIdsUsed,1),N="",z=0;z<R.length;z++)N+=String.fromCharCode(R[z]);var F=j();k({data:N,addLength1:!0,objectId:F}),y("endobj");var D=j();k({data:l(g.metadata.toUnicode),addLength1:!0,objectId:D}),y("endobj");var E=j();y("<<"),y("/Type /FontDescriptor"),y("/FontName /"+gc(g.fontName)),y("/FontFile2 "+F+" 0 R"),y("/FontBBox "+s.API.PDFObject.convert(g.metadata.bbox)),y("/Flags "+g.metadata.flags),y("/StemV "+g.metadata.stemV),y("/ItalicAngle "+g.metadata.italicAngle),y("/Ascent "+g.metadata.ascender),y("/Descent "+g.metadata.decender),y("/CapHeight "+g.metadata.capHeight),y(">>"),y("endobj");var q=j();y("<<"),y("/Type /Font"),y("/BaseFont /"+gc(g.fontName)),y("/FontDescriptor "+E+" 0 R"),y("/W "+s.API.PDFObject.convert(L)),y("/CIDToGIDMap /Identity"),y("/DW 1000"),y("/Subtype /CIDFontType2"),y("/CIDSystemInfo"),y("<<"),y("/Supplement 0"),y("/Registry (Adobe)"),y("/Ordering ("+g.encoding+")"),y(">>"),y(">>"),y("endobj"),g.objectNumber=j(),y("<<"),y("/Type /Font"),y("/Subtype /Type0"),y("/ToUnicode "+D+" 0 R"),y("/BaseFont /"+gc(g.fontName)),y("/Encoding /"+g.encoding),y("/DescendantFonts ["+q+" 0 R]"),y(">>"),y("endobj"),g.isAlreadyPutted=!0}})(u)}]),a.events.push(["putFont",function(u){(function(x){var g=x.font,y=x.out,j=x.newObject,k=x.putStream;if(g.metadata instanceof s.API.TTFFont&&g.encoding==="WinAnsiEncoding"){for(var L=g.metadata.rawData,R="",N=0;N<L.length;N++)R+=String.fromCharCode(L[N]);var z=j();k({data:R,addLength1:!0,objectId:z}),y("endobj");var F=j();k({data:l(g.metadata.toUnicode),addLength1:!0,objectId:F}),y("endobj");var D=j();y("<<"),y("/Descent "+g.metadata.decender),y("/CapHeight "+g.metadata.capHeight),y("/StemV "+g.metadata.stemV),y("/Type /FontDescriptor"),y("/FontFile2 "+z+" 0 R"),y("/Flags 96"),y("/FontBBox "+s.API.PDFObject.convert(g.metadata.bbox)),y("/FontName /"+gc(g.fontName)),y("/ItalicAngle "+g.metadata.italicAngle),y("/Ascent "+g.metadata.ascender),y(">>"),y("endobj"),g.objectNumber=j();for(var E=0;E<g.metadata.hmtx.widths.length;E++)g.metadata.hmtx.widths[E]=parseInt(g.metadata.hmtx.widths[E]*(1e3/g.metadata.head.unitsPerEm));y("<</Subtype/TrueType/Type/Font/ToUnicode "+F+" 0 R/BaseFont/"+gc(g.fontName)+"/FontDescriptor "+D+" 0 R/Encoding/"+g.encoding+" /FirstChar 29 /LastChar 255 /Widths "+s.API.PDFObject.convert(g.metadata.hmtx.widths)+">>"),y("endobj"),g.isAlreadyPutted=!0}})(u)}]);var f=function(u){var x,g=u.text||"",y=u.x,j=u.y,k=u.options||{},L=u.mutex||{},R=L.pdfEscape,N=L.activeFontKey,z=L.fonts,F=N,D="",E=0,q="",J=z[F].encoding;if(z[F].encoding!=="Identity-H")return{text:g,x:y,y:j,options:k,mutex:L};for(q=g,F=N,Array.isArray(g)&&(q=g[0]),E=0;E<q.length;E+=1)z[F].metadata.hasOwnProperty("cmap")&&(x=z[F].metadata.cmap.unicode.codeMap[q[E].charCodeAt(0)]),x||q[E].charCodeAt(0)<256&&z[F].metadata.hasOwnProperty("Unicode")?D+=q[E]:D+="";var $="";return parseInt(F.slice(1))<14||J==="WinAnsiEncoding"?$=R(D,F).split("").map(function(oe){return oe.charCodeAt(0).toString(16)}).join(""):J==="Identity-H"&&($=r(D,z[F])),L.isHex=!0,{text:$,x:y,y:j,options:k,mutex:L}};a.events.push(["postProcessText",function(u){var x=u.text||"",g=[],y={text:x,x:u.x,y:u.y,options:u.options,mutex:u.mutex};if(Array.isArray(x)){var j=0;for(j=0;j<x.length;j+=1)Array.isArray(x[j])&&x[j].length===3?g.push([f(Object.assign({},y,{text:x[j][0]})).text,x[j][1],x[j][2]]):g.push(f(Object.assign({},y,{text:x[j]})).text);u.text=g}else u.text=f(Object.assign({},y,{text:x})).text}])})(Tt),(function(s){var a=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};s.existsFileInVFS=function(r){return a.call(this),this.internal.vFS[r]!==void 0},s.addFileToVFS=function(r,l){return a.call(this),this.internal.vFS[r]=l,this},s.getFileFromVFS=function(r){return a.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Tt.API),(function(s){s.__bidiEngine__=s.prototype.__bidiEngine__=function(l){var f,u,x,g,y,j,k,L=a,R=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],N=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],z={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},F={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},D=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),q=!1,J=0;this.__bidiEngine__={};var $=function(B){var U=B.charCodeAt(),ae=U>>8,Z=F[ae];return Z!==void 0?L[256*Z+(255&U)]:ae===252||ae===253?"AL":E.test(ae)?"L":ae===8?"R":"N"},oe=function(B){for(var U,ae=0;ae<B.length;ae++){if((U=$(B.charAt(ae)))==="L")return!1;if(U==="R")return!0}return!1},ce=function(B,U,ae,Z){var xe,Ae,ke,le,Se=U[Z];switch(Se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":q=!1;break;case"N":case"AN":break;case"EN":q&&(Se="AN");break;case"AL":q=!0,Se="R";break;case"WS":case"BN":Se="N";break;case"CS":Z<1||Z+1>=U.length||(xe=ae[Z-1])!=="EN"&&xe!=="AN"||(Ae=U[Z+1])!=="EN"&&Ae!=="AN"?Se="N":q&&(Ae="AN"),Se=Ae===xe?Ae:"N";break;case"ES":Se=(xe=Z>0?ae[Z-1]:"B")==="EN"&&Z+1<U.length&&U[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&ae[Z-1]==="EN"){Se="EN";break}if(q){Se="N";break}for(ke=Z+1,le=U.length;ke<le&&U[ke]==="ET";)ke++;Se=ke<le&&U[ke]==="EN"?"EN":"N";break;case"NSM":if(x&&!g){for(le=U.length,ke=Z+1;ke<le&&U[ke]==="NSM";)ke++;if(ke<le){var Fe=B[Z],Q=Fe>=1425&&Fe<=2303||Fe===64286;if(xe=U[ke],Q&&(xe==="R"||xe==="AL")){Se="R";break}}}Se=Z<1||(xe=U[Z-1])==="B"?"N":ae[Z-1];break;case"B":q=!1,f=!0,Se=J;break;case"S":u=!0,Se="N"}return Se},Ee=function(B,U,ae){var Z=B.split("");return ae&&fe(Z,ae,{hiLevel:J}),Z.reverse(),U&&U.reverse(),Z.join("")},fe=function(B,U,ae){var Z,xe,Ae,ke,le,Se=-1,Fe=B.length,Q=0,_=[],W=J?N:R,Y=[];for(q=!1,f=!1,u=!1,xe=0;xe<Fe;xe++)Y[xe]=$(B[xe]);for(Ae=0;Ae<Fe;Ae++){if(le=Q,_[Ae]=ce(B,Y,_,Ae),Z=240&(Q=W[le][z[_[Ae]]]),Q&=15,U[Ae]=ke=W[Q][5],Z>0)if(Z===16){for(xe=Se;xe<Ae;xe++)U[xe]=1;Se=-1}else Se=-1;if(W[Q][6])Se===-1&&(Se=Ae);else if(Se>-1){for(xe=Se;xe<Ae;xe++)U[xe]=ke;Se=-1}Y[Ae]==="B"&&(U[Ae]=0),ae.hiLevel|=ke}u&&(function(re,ee,me){for(var Ce=0;Ce<me;Ce++)if(re[Ce]==="S"){ee[Ce]=J;for(var _e=Ce-1;_e>=0&&re[_e]==="WS";_e--)ee[_e]=J}})(Y,U,Fe)},K=function(B,U,ae,Z,xe){if(!(xe.hiLevel<B)){if(B===1&&J===1&&!f)return U.reverse(),void(ae&&ae.reverse());for(var Ae,ke,le,Se,Fe=U.length,Q=0;Q<Fe;){if(Z[Q]>=B){for(le=Q+1;le<Fe&&Z[le]>=B;)le++;for(Se=Q,ke=le-1;Se<ke;Se++,ke--)Ae=U[Se],U[Se]=U[ke],U[ke]=Ae,ae&&(Ae=ae[Se],ae[Se]=ae[ke],ae[ke]=Ae);Q=le}Q++}}},pe=function(B,U,ae){var Z=B.split(""),xe={hiLevel:J};return ae||(ae=[]),fe(Z,ae,xe),(function(Ae,ke,le){if(le.hiLevel!==0&&k)for(var Se,Fe=0;Fe<Ae.length;Fe++)ke[Fe]===1&&(Se=D.indexOf(Ae[Fe]))>=0&&(Ae[Fe]=D[Se+1])})(Z,ae,xe),K(2,Z,U,ae,xe),K(1,Z,U,ae,xe),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(B,U,ae){if((function(xe,Ae){if(Ae)for(var ke=0;ke<xe.length;ke++)Ae[ke]=ke;g===void 0&&(g=oe(xe)),j===void 0&&(j=oe(xe))})(B,U),x||!y||j)if(x&&y&&g^j)J=g?1:0,B=Ee(B,U,ae);else if(!x&&y&&j)J=g?1:0,B=pe(B,U,ae),B=Ee(B,U);else if(!x||g||y||j){if(x&&!y&&g^j)B=Ee(B,U),g?(J=0,B=pe(B,U,ae)):(J=1,B=pe(B,U,ae),B=Ee(B,U));else if(x&&g&&!y&&j)J=1,B=pe(B,U,ae),B=Ee(B,U);else if(!x&&!y&&g^j){var Z=k;g?(J=1,B=pe(B,U,ae),J=0,k=!1,B=pe(B,U,ae),k=Z):(J=0,B=pe(B,U,ae),B=Ee(B,U),J=1,k=!1,B=pe(B,U,ae),k=Z,B=Ee(B,U))}}else J=0,B=pe(B,U,ae);else J=g?1:0,B=pe(B,U,ae);return B},this.__bidiEngine__.setOptions=function(B){B&&(x=B.isInputVisual,y=B.isOutputVisual,g=B.isInputRtl,j=B.isOutputRtl,k=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(l),this.__bidiEngine__};var a=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new s.__bidiEngine__({isInputVisual:!0});s.API.events.push(["postProcessText",function(l){var f=l.text;l.x,l.y;var u=l.options||{};l.mutex,u.lang;var x=[];if(u.isInputVisual=typeof u.isInputVisual!="boolean"||u.isInputVisual,r.setOptions(u),Object.prototype.toString.call(f)==="[object Array]"){var g=0;for(x=[],g=0;g<f.length;g+=1)Object.prototype.toString.call(f[g])==="[object Array]"?x.push([r.doBidiReorder(f[g][0]),f[g][1],f[g][2]]):x.push([r.doBidiReorder(f[g])]);l.text=x}else l.text=r.doBidiReorder(f);r.setOptions({isInputVisual:!0})}])})(Tt),Tt.API.TTFFont=(function(){function s(a){var r;if(this.rawData=a,r=this.contents=new vl(a),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new wy(this),this.registerTTF()}return s.open=function(a){return new s(a)},s.prototype.parse=function(){return this.directory=new oy(this.contents),this.head=new cy(this),this.name=new py(this),this.cmap=new P0(this),this.toUnicode={},this.hhea=new dy(this),this.maxp=new my(this),this.hmtx=new gy(this),this.post=new fy(this),this.os2=new uy(this),this.loca=new by(this),this.glyf=new xy(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},s.prototype.registerTTF=function(){var a,r,l,f,u;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var x,g,y,j;for(j=[],x=0,g=(y=this.bbox).length;x<g;x++)a=y[x],j.push(Math.round(a*this.scaleFactor));return j}).call(this),this.stemV=0,this.post.exists?(l=255&(f=this.post.italic_angle),32768&(r=f>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+l)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(u=this.familyClass)===1||u===2||u===3||u===4||u===5||u===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},s.prototype.characterToGlyph=function(a){var r;return((r=this.cmap.unicode)!=null?r.codeMap[a]:void 0)||0},s.prototype.widthOfGlyph=function(a){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(a).advance*r},s.prototype.widthOfString=function(a,r,l){var f,u,x,g;for(x=0,u=0,g=(a=""+a).length;0<=g?u<g:u>g;u=0<=g?++u:--u)f=a.charCodeAt(u),x+=this.widthOfGlyph(this.characterToGlyph(f))+l*(1e3/r)||0;return x*(r/1e3)},s.prototype.lineHeight=function(a,r){var l;return r==null&&(r=!1),l=r?this.lineGap:0,(this.ascender+l-this.decender)/1e3*a},s})();var so,vl=(function(){function s(a){this.data=a??[],this.pos=0,this.length=this.data.length}return s.prototype.readByte=function(){return this.data[this.pos++]},s.prototype.writeByte=function(a){return this.data[this.pos++]=a},s.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},s.prototype.writeUInt32=function(a){return this.writeByte(a>>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},s.prototype.readInt32=function(){var a;return(a=this.readUInt32())>=2147483648?a-4294967296:a},s.prototype.writeInt32=function(a){return a<0&&(a+=4294967296),this.writeUInt32(a)},s.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},s.prototype.writeUInt16=function(a){return this.writeByte(a>>8&255),this.writeByte(255&a)},s.prototype.readInt16=function(){var a;return(a=this.readUInt16())>=32768?a-65536:a},s.prototype.writeInt16=function(a){return a<0&&(a+=65536),this.writeUInt16(a)},s.prototype.readString=function(a){var r,l;for(l=[],r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)l[r]=String.fromCharCode(this.readByte());return l.join("")},s.prototype.writeString=function(a){var r,l,f;for(f=[],r=0,l=a.length;0<=l?r<l:r>l;r=0<=l?++r:--r)f.push(this.writeByte(a.charCodeAt(r)));return f},s.prototype.readShort=function(){return this.readInt16()},s.prototype.writeShort=function(a){return this.writeInt16(a)},s.prototype.readLongLong=function(){var a,r,l,f,u,x,g,y;return a=this.readByte(),r=this.readByte(),l=this.readByte(),f=this.readByte(),u=this.readByte(),x=this.readByte(),g=this.readByte(),y=this.readByte(),128&a?-1*(72057594037927940*(255^a)+281474976710656*(255^r)+1099511627776*(255^l)+4294967296*(255^f)+16777216*(255^u)+65536*(255^x)+256*(255^g)+(255^y)+1):72057594037927940*a+281474976710656*r+1099511627776*l+4294967296*f+16777216*u+65536*x+256*g+y},s.prototype.writeLongLong=function(a){var r,l;return r=Math.floor(a/4294967296),l=4294967295&a,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(l>>24&255),this.writeByte(l>>16&255),this.writeByte(l>>8&255),this.writeByte(255&l)},s.prototype.readInt=function(){return this.readInt32()},s.prototype.writeInt=function(a){return this.writeInt32(a)},s.prototype.read=function(a){var r,l;for(r=[],l=0;0<=a?l<a:l>a;l=0<=a?++l:--l)r.push(this.readByte());return r},s.prototype.write=function(a){var r,l,f,u;for(u=[],l=0,f=a.length;l<f;l++)r=a[l],u.push(this.writeByte(r));return u},s})(),oy=(function(){var s;function a(r){var l,f,u;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},f=0,u=this.tableCount;0<=u?f<u:f>u;f=0<=u?++f:--f)l={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[l.tag]=l}return a.prototype.encode=function(r){var l,f,u,x,g,y,j,k,L,R,N,z,F;for(F in N=Object.keys(r).length,y=Math.log(2),L=16*Math.floor(Math.log(N)/y),x=Math.floor(L/y),k=16*N-L,(f=new vl).writeInt(this.scalarType),f.writeShort(N),f.writeShort(L),f.writeShort(x),f.writeShort(k),u=16*N,j=f.pos+u,g=null,z=[],r)for(R=r[F],f.writeString(F),f.writeInt(s(R)),f.writeInt(j),f.writeInt(R.length),z=z.concat(R),F==="head"&&(g=j),j+=R.length;j%4;)z.push(0),j++;return f.write(z),l=2981146554-s(f.data),f.pos=g+8,f.writeUInt32(l),f.data},s=function(r){var l,f,u,x;for(r=L0.call(r);r.length%4;)r.push(0);for(u=new vl(r),f=0,l=0,x=r.length;l<x;l=l+=4)f+=u.readUInt32();return 4294967295&f},a})(),ly={}.hasOwnProperty,Eo=function(s,a){for(var r in a)ly.call(a,r)&&(s[r]=a[r]);function l(){this.constructor=s}return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s};so=(function(){function s(a){var r;this.file=a,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return s.prototype.parse=function(){},s.prototype.encode=function(){},s.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},s})();var cy=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Eo(s,so),s.prototype.tag="head",s.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.revision=a.readInt(),this.checkSumAdjustment=a.readInt(),this.magicNumber=a.readInt(),this.flags=a.readShort(),this.unitsPerEm=a.readShort(),this.created=a.readLongLong(),this.modified=a.readLongLong(),this.xMin=a.readShort(),this.yMin=a.readShort(),this.xMax=a.readShort(),this.yMax=a.readShort(),this.macStyle=a.readShort(),this.lowestRecPPEM=a.readShort(),this.fontDirectionHint=a.readShort(),this.indexToLocFormat=a.readShort(),this.glyphDataFormat=a.readShort()},s.prototype.encode=function(a){var r;return(r=new vl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(a),r.writeShort(this.glyphDataFormat),r.data},s})(),Nm=(function(){function s(a,r){var l,f,u,x,g,y,j,k,L,R,N,z,F,D,E,q,J;switch(this.platformID=a.readUInt16(),this.encodingID=a.readShort(),this.offset=r+a.readInt(),L=a.pos,a.pos=this.offset,this.format=a.readUInt16(),this.length=a.readUInt16(),this.language=a.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(y=0;y<256;++y)this.codeMap[y]=a.readByte();break;case 4:for(N=a.readUInt16(),R=N/2,a.pos+=6,u=(function(){var $,oe;for(oe=[],y=$=0;0<=R?$<R:$>R;y=0<=R?++$:--$)oe.push(a.readUInt16());return oe})(),a.pos+=2,F=(function(){var $,oe;for(oe=[],y=$=0;0<=R?$<R:$>R;y=0<=R?++$:--$)oe.push(a.readUInt16());return oe})(),j=(function(){var $,oe;for(oe=[],y=$=0;0<=R?$<R:$>R;y=0<=R?++$:--$)oe.push(a.readUInt16());return oe})(),k=(function(){var $,oe;for(oe=[],y=$=0;0<=R?$<R:$>R;y=0<=R?++$:--$)oe.push(a.readUInt16());return oe})(),f=(this.length-a.pos+this.offset)/2,g=(function(){var $,oe;for(oe=[],y=$=0;0<=f?$<f:$>f;y=0<=f?++$:--$)oe.push(a.readUInt16());return oe})(),y=E=0,J=u.length;E<J;y=++E)for(D=u[y],l=q=z=F[y];z<=D?q<=D:q>=D;l=z<=D?++q:--q)k[y]===0?x=l+j[y]:(x=g[k[y]/2+(l-z)-(R-y)]||0)!==0&&(x+=j[y]),this.codeMap[l]=65535&x}a.pos=L}return s.encode=function(a,r){var l,f,u,x,g,y,j,k,L,R,N,z,F,D,E,q,J,$,oe,ce,Ee,fe,K,pe,B,U,ae,Z,xe,Ae,ke,le,Se,Fe,Q,_,W,Y,re,ee,me,Ce,_e,Be,Le,Ge;switch(Z=new vl,x=Object.keys(a).sort(function(tt,it){return tt-it}),r){case"macroman":for(F=0,D=(function(){var tt=[];for(z=0;z<256;++z)tt.push(0);return tt})(),q={0:0},u={},xe=0,Se=x.length;xe<Se;xe++)q[_e=a[f=x[xe]]]==null&&(q[_e]=++F),u[f]={old:a[f],new:q[a[f]]},D[f]=q[a[f]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(D),{charMap:u,subtable:Z.data,maxGlyphID:F+1};case"unicode":for(U=[],L=[],J=0,q={},l={},E=j=null,Ae=0,Fe=x.length;Ae<Fe;Ae++)q[oe=a[f=x[Ae]]]==null&&(q[oe]=++J),l[f]={old:oe,new:q[oe]},g=q[oe]-f,E!=null&&g===j||(E&&L.push(E),U.push(f),j=g),E=f;for(E&&L.push(E),L.push(65535),U.push(65535),pe=2*(K=U.length),fe=2*Math.pow(Math.log(K)/Math.LN2,2),R=Math.log(fe/2)/Math.LN2,Ee=2*K-fe,y=[],ce=[],N=[],z=ke=0,Q=U.length;ke<Q;z=++ke){if(B=U[z],k=L[z],B===65535){y.push(0),ce.push(0);break}if(B-(ae=l[B].new)>=32768)for(y.push(0),ce.push(2*(N.length+K-z)),f=le=B;B<=k?le<=k:le>=k;f=B<=k?++le:--le)N.push(l[f].new);else y.push(ae-B),ce.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*K+2*N.length),Z.writeUInt16(0),Z.writeUInt16(pe),Z.writeUInt16(fe),Z.writeUInt16(R),Z.writeUInt16(Ee),me=0,_=L.length;me<_;me++)f=L[me],Z.writeUInt16(f);for(Z.writeUInt16(0),Ce=0,W=U.length;Ce<W;Ce++)f=U[Ce],Z.writeUInt16(f);for(Be=0,Y=y.length;Be<Y;Be++)g=y[Be],Z.writeUInt16(g);for(Le=0,re=ce.length;Le<re;Le++)$=ce[Le],Z.writeUInt16($);for(Ge=0,ee=N.length;Ge<ee;Ge++)F=N[Ge],Z.writeUInt16(F);return{charMap:l,subtable:Z.data,maxGlyphID:J+1}}},s})(),P0=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Eo(s,so),s.prototype.tag="cmap",s.prototype.parse=function(a){var r,l,f;for(a.pos=this.offset,this.version=a.readUInt16(),f=a.readUInt16(),this.tables=[],this.unicode=null,l=0;0<=f?l<f:l>f;l=0<=f?++l:--l)r=new Nm(a,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},s.encode=function(a,r){var l,f;return r==null&&(r="macroman"),l=Nm.encode(a,r),(f=new vl).writeUInt16(0),f.writeUInt16(1),l.table=f.data.concat(l.subtable),l},s})(),dy=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Eo(s,so),s.prototype.tag="hhea",s.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.ascender=a.readShort(),this.decender=a.readShort(),this.lineGap=a.readShort(),this.advanceWidthMax=a.readShort(),this.minLeftSideBearing=a.readShort(),this.minRightSideBearing=a.readShort(),this.xMaxExtent=a.readShort(),this.caretSlopeRise=a.readShort(),this.caretSlopeRun=a.readShort(),this.caretOffset=a.readShort(),a.pos+=8,this.metricDataFormat=a.readShort(),this.numberOfMetrics=a.readUInt16()},s})(),uy=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Eo(s,so),s.prototype.tag="OS/2",s.prototype.parse=function(a){if(a.pos=this.offset,this.version=a.readUInt16(),this.averageCharWidth=a.readShort(),this.weightClass=a.readUInt16(),this.widthClass=a.readUInt16(),this.type=a.readShort(),this.ySubscriptXSize=a.readShort(),this.ySubscriptYSize=a.readShort(),this.ySubscriptXOffset=a.readShort(),this.ySubscriptYOffset=a.readShort(),this.ySuperscriptXSize=a.readShort(),this.ySuperscriptYSize=a.readShort(),this.ySuperscriptXOffset=a.readShort(),this.ySuperscriptYOffset=a.readShort(),this.yStrikeoutSize=a.readShort(),this.yStrikeoutPosition=a.readShort(),this.familyClass=a.readShort(),this.panose=(function(){var r,l;for(l=[],r=0;r<10;++r)l.push(a.readByte());return l})(),this.charRange=(function(){var r,l;for(l=[],r=0;r<4;++r)l.push(a.readInt());return l})(),this.vendorID=a.readString(4),this.selection=a.readShort(),this.firstCharIndex=a.readShort(),this.lastCharIndex=a.readShort(),this.version>0&&(this.ascent=a.readShort(),this.descent=a.readShort(),this.lineGap=a.readShort(),this.winAscent=a.readShort(),this.winDescent=a.readShort(),this.codePageRange=(function(){var r,l;for(l=[],r=0;r<2;r=++r)l.push(a.readInt());return l})(),this.version>1))return this.xHeight=a.readShort(),this.capHeight=a.readShort(),this.defaultChar=a.readShort(),this.breakChar=a.readShort(),this.maxContext=a.readShort()},s})(),fy=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Eo(s,so),s.prototype.tag="post",s.prototype.parse=function(a){var r,l,f;switch(a.pos=this.offset,this.format=a.readInt(),this.italicAngle=a.readInt(),this.underlinePosition=a.readShort(),this.underlineThickness=a.readShort(),this.isFixedPitch=a.readInt(),this.minMemType42=a.readInt(),this.maxMemType42=a.readInt(),this.minMemType1=a.readInt(),this.maxMemType1=a.readInt(),this.format){case 65536:case 196608:break;case 131072:var u;for(l=a.readUInt16(),this.glyphNameIndex=[],u=0;0<=l?u<l:u>l;u=0<=l?++u:--u)this.glyphNameIndex.push(a.readUInt16());for(this.names=[],f=[];a.pos<this.offset+this.length;)r=a.readByte(),f.push(this.names.push(a.readString(r)));return f;case 151552:return l=a.readUInt16(),this.offsets=a.read(l);case 262144:return this.map=(function(){var x,g,y;for(y=[],u=x=0,g=this.file.maxp.numGlyphs;0<=g?x<g:x>g;u=0<=g?++x:--x)y.push(a.readUInt32());return y}).call(this)}},s})(),hy=function(s,a){this.raw=s,this.length=s.length,this.platformID=a.platformID,this.encodingID=a.encodingID,this.languageID=a.languageID},py=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Eo(s,so),s.prototype.tag="name",s.prototype.parse=function(a){var r,l,f,u,x,g,y,j,k,L,R;for(a.pos=this.offset,a.readShort(),r=a.readShort(),g=a.readShort(),l=[],u=0;0<=r?u<r:u>r;u=0<=r?++u:--u)l.push({platformID:a.readShort(),encodingID:a.readShort(),languageID:a.readShort(),nameID:a.readShort(),length:a.readShort(),offset:this.offset+g+a.readShort()});for(y={},u=k=0,L=l.length;k<L;u=++k)f=l[u],a.pos=f.offset,j=a.readString(f.length),x=new hy(j,f),y[R=f.nameID]==null&&(y[R]=[]),y[f.nameID].push(x);this.strings=y,this.copyright=y[0],this.fontFamily=y[1],this.fontSubfamily=y[2],this.uniqueSubfamily=y[3],this.fontName=y[4],this.version=y[5];try{this.postscriptName=y[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=y[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=y[7],this.manufacturer=y[8],this.designer=y[9],this.description=y[10],this.vendorUrl=y[11],this.designerUrl=y[12],this.license=y[13],this.licenseUrl=y[14],this.preferredFamily=y[15],this.preferredSubfamily=y[17],this.compatibleFull=y[18],this.sampleText=y[19]},s})(),my=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Eo(s,so),s.prototype.tag="maxp",s.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.numGlyphs=a.readUInt16(),this.maxPoints=a.readUInt16(),this.maxContours=a.readUInt16(),this.maxCompositePoints=a.readUInt16(),this.maxComponentContours=a.readUInt16(),this.maxZones=a.readUInt16(),this.maxTwilightPoints=a.readUInt16(),this.maxStorage=a.readUInt16(),this.maxFunctionDefs=a.readUInt16(),this.maxInstructionDefs=a.readUInt16(),this.maxStackElements=a.readUInt16(),this.maxSizeOfInstructions=a.readUInt16(),this.maxComponentElements=a.readUInt16(),this.maxComponentDepth=a.readUInt16()},s})(),gy=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Eo(s,so),s.prototype.tag="hmtx",s.prototype.parse=function(a){var r,l,f,u,x,g,y;for(a.pos=this.offset,this.metrics=[],r=0,g=this.file.hhea.numberOfMetrics;0<=g?r<g:r>g;r=0<=g?++r:--r)this.metrics.push({advance:a.readUInt16(),lsb:a.readInt16()});for(f=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var j,k;for(k=[],r=j=0;0<=f?j<f:j>f;r=0<=f?++j:--j)k.push(a.readInt16());return k})(),this.widths=(function(){var j,k,L,R;for(R=[],j=0,k=(L=this.metrics).length;j<k;j++)u=L[j],R.push(u.advance);return R}).call(this),l=this.widths[this.widths.length-1],y=[],r=x=0;0<=f?x<f:x>f;r=0<=f?++x:--x)y.push(this.widths.push(l));return y},s.prototype.forGlyph=function(a){return a in this.metrics?this.metrics[a]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[a-this.metrics.length]}},s})(),L0=[].slice,xy=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Eo(s,so),s.prototype.tag="glyf",s.prototype.parse=function(){return this.cache={}},s.prototype.glyphFor=function(a){var r,l,f,u,x,g,y,j,k,L;return a in this.cache?this.cache[a]:(u=this.file.loca,r=this.file.contents,l=u.indexOf(a),(f=u.lengthOf(a))===0?this.cache[a]=null:(r.pos=this.offset+l,x=(g=new vl(r.read(f))).readShort(),j=g.readShort(),L=g.readShort(),y=g.readShort(),k=g.readShort(),this.cache[a]=x===-1?new vy(g,j,L,y,k):new yy(g,x,j,L,y,k),this.cache[a]))},s.prototype.encode=function(a,r,l){var f,u,x,g,y;for(x=[],u=[],g=0,y=r.length;g<y;g++)f=a[r[g]],u.push(x.length),f&&(x=x.concat(f.encode(l)));return u.push(x.length),{table:x,offsets:u}},s})(),yy=(function(){function s(a,r,l,f,u,x){this.raw=a,this.numberOfContours=r,this.xMin=l,this.yMin=f,this.xMax=u,this.yMax=x,this.compound=!1}return s.prototype.encode=function(){return this.raw.data},s})(),vy=(function(){function s(a,r,l,f,u){var x,g;for(this.raw=a,this.xMin=r,this.yMin=l,this.xMax=f,this.yMax=u,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],x=this.raw;g=x.readShort(),this.glyphOffsets.push(x.pos),this.glyphIDs.push(x.readUInt16()),32&g;)x.pos+=1&g?4:2,128&g?x.pos+=8:64&g?x.pos+=4:8&g&&(x.pos+=2)}return s.prototype.encode=function(){var a,r,l;for(r=new vl(L0.call(this.raw.data)),a=0,l=this.glyphIDs.length;a<l;++a)r.pos=this.glyphOffsets[a];return r.data},s})(),by=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Eo(s,so),s.prototype.tag="loca",s.prototype.parse=function(a){var r,l;return a.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var f,u;for(u=[],l=0,f=this.length;l<f;l+=2)u.push(2*a.readUInt16());return u}).call(this):(function(){var f,u;for(u=[],l=0,f=this.length;l<f;l+=4)u.push(a.readUInt32());return u}).call(this)},s.prototype.indexOf=function(a){return this.offsets[a]},s.prototype.lengthOf=function(a){return this.offsets[a+1]-this.offsets[a]},s.prototype.encode=function(a,r){for(var l=new Uint32Array(this.offsets.length),f=0,u=0,x=0;x<l.length;++x)if(l[x]=f,u<r.length&&r[u]==x){++u,l[x]=f;var g=this.offsets[x],y=this.offsets[x+1]-g;y>0&&(f+=y)}for(var j=new Array(4*l.length),k=0;k<l.length;++k)j[4*k+3]=255&l[k],j[4*k+2]=(65280&l[k])>>8,j[4*k+1]=(16711680&l[k])>>16,j[4*k]=(4278190080&l[k])>>24;return j},s})(),wy=(function(){function s(a){this.font=a,this.subset={},this.unicodes={},this.next=33}return s.prototype.generateCmap=function(){var a,r,l,f,u;for(r in f=this.font.cmap.tables[0].codeMap,a={},u=this.subset)l=u[r],a[r]=f[l];return a},s.prototype.glyphsFor=function(a){var r,l,f,u,x,g,y;for(f={},x=0,g=a.length;x<g;x++)f[u=a[x]]=this.font.glyf.glyphFor(u);for(u in r=[],f)(l=f[u])!=null&&l.compound&&r.push.apply(r,l.glyphIDs);if(r.length>0)for(u in y=this.glyphsFor(r))l=y[u],f[u]=l;return f},s.prototype.encode=function(a,r){var l,f,u,x,g,y,j,k,L,R,N,z,F,D,E;for(f in l=P0.encode(this.generateCmap(),"unicode"),x=this.glyphsFor(a),N={0:0},E=l.charMap)N[(y=E[f]).old]=y.new;for(z in R=l.maxGlyphID,x)z in N||(N[z]=R++);return k=(function(q){var J,$;for(J in $={},q)$[q[J]]=J;return $})(N),L=Object.keys(k).sort(function(q,J){return q-J}),F=(function(){var q,J,$;for($=[],q=0,J=L.length;q<J;q++)g=L[q],$.push(k[g]);return $})(),u=this.font.glyf.encode(x,F,N),j=this.font.loca.encode(u.offsets,F),D={cmap:this.font.cmap.raw(),glyf:u.table,loca:j,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(D["OS/2"]=this.font.os2.raw()),this.font.directory.encode(D)},s})();Tt.API.PDFObject=(function(){var s;function a(){}return s=function(r,l){return(Array(l+1).join("0")+r).slice(-l)},a.convert=function(r){var l,f,u,x;if(Array.isArray(r))return"["+(function(){var g,y,j;for(j=[],g=0,y=r.length;g<y;g++)l=r[g],j.push(a.convert(l));return j})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+s(r.getUTCFullYear(),4)+s(r.getUTCMonth(),2)+s(r.getUTCDate(),2)+s(r.getUTCHours(),2)+s(r.getUTCMinutes(),2)+s(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(f in u=["<<"],r)x=r[f],u.push("/"+f+" "+a.convert(x));return u.push(">>"),u.join(`
`)}return""+r},a})();function jy(){try{const s=localStorage.getItem("userLocale");if(s)return s;const a=navigator.language||navigator.userLanguage;if(a)return a}catch(s){console.error("Error getting user locale:",s)}return"en-US"}function lr(s,a={}){try{const r=jy(),l={minimumFractionDigits:0,maximumFractionDigits:2,...a};return new Intl.NumberFormat(r,l).format(s)}catch(r){return console.error("Error formatting number:",r),String(s||0)}}function Sy(){return[{value:"en-US",label:"English (United States)"},{value:"en-IN",label:"English (India)"},{value:"en-GB",label:"English (United Kingdom)"},{value:"en-AU",label:"English (Australia)"},{value:"en-CA",label:"English (Canada)"},{value:"fr-FR",label:"French (France)"},{value:"de-DE",label:"German (Germany)"},{value:"es-ES",label:"Spanish (Spain)"},{value:"es-MX",label:"Spanish (Mexico)"},{value:"it-IT",label:"Italian (Italy)"},{value:"pt-BR",label:"Portuguese (Brazil)"},{value:"pt-PT",label:"Portuguese (Portugal)"},{value:"nl-NL",label:"Dutch (Netherlands)"},{value:"ru-RU",label:"Russian (Russia)"},{value:"ja-JP",label:"Japanese (Japan)"},{value:"ko-KR",label:"Korean (Korea)"},{value:"zh-CN",label:"Chinese (Simplified)"},{value:"zh-TW",label:"Chinese (Traditional)"},{value:"ar-SA",label:"Arabic (Saudi Arabia)"},{value:"hi-IN",label:"Hindi (India)"}]}function Ny(){const{members:s,admins:a,invoices:r,payments:l,recentPayments:f,paymentHistory:u,communicationLog:x,paymentMethods:g,metrics:y,reminderRules:j,automationEnabled:k,setAutomationEnabled:L,reminderTemplates:R,organizationInfo:N,fetchAdmins:z,fetchInvoices:F,fetchPayments:D,fetchMembers:E,selectedMember:q,setSelectedMember:J,addMember:$,updateMember:oe,deleteMember:ce,addInvoice:Ee,updateInvoice:fe,deleteInvoice:K,addCommunication:pe,updatePaymentMethod:B,updateReminderRule:U,updateReminderTemplate:ae,updateOrganizationInfo:Z,userLocale:xe,updateUserLocale:Ae,addAdminUser:ke,updateAdminUser:le,deleteAdminUser:Se,resetAllData:Fe,addPayment:Q,reminderLogs:_,fetchReminderLogs:W,passwordResetRequests:Y,fetchPasswordResetRequests:re,donations:ee,fetchDonations:me,addDonation:Ce,deleteDonation:_e,loading:Be}=Qd(),Le={position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},Ge={position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},tt={...Ge,zIndex:10001},it={maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",background:"#f9fafb",position:"relative",padding:"24px 24px 20px"},G={...it,maxWidth:"500px"},Ve={...it,maxWidth:"800px",background:void 0,padding:void 0},vt={...it,maxWidth:"640px",background:"#ffffff",padding:void 0},ht={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},Ye={...ht,marginBottom:"20px"},gt={...ht,marginBottom:"24px"},ot={display:"flex",alignItems:"center",gap:"8px",margin:0},pt={fontSize:"1.5rem",lineHeight:1,color:"#ef4444",fontWeight:"bold",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",border:"1px solid #ef4444",background:"transparent",cursor:"pointer",transition:"all 0.2s ease"},wt={background:"transparent",border:"none",fontSize:"1.5rem",color:"#666",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},rn={background:"transparent",border:"1px solid #ef4444",fontSize:"1.5rem",color:"#ef4444",fontWeight:"bold",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",cursor:"pointer",padding:"0",transition:"all 0.2s ease"},$t=sessionStorage.getItem("adminRole")||"Viewer";let Ct=$t;$t==="Owner"?Ct="Admin":$t==="Finance Admin"&&(Ct="Finance");const Ft=Ct==="Admin"||Ct==="Super Admin",we=Ct==="Owner",De=Ct==="Viewer",He=Ct==="Admin"||Ct==="Finance"||Ct==="Super Admin",Qe=Ft||we,ye={Admin:"Admin Portal","Super Admin":"Super Admin Portal",Finance:"Finance Portal",Staff:"Staff Portal",Viewer:"Viewer Portal"}[Ct]||"Admin Portal",ue=[{id:"members-group",label:"Members",icon:"fa-users",items:[{id:"members",label:"Members List",roles:["Admin","Super Admin","Finance","Staff","Viewer"]},{id:"member-detail",label:"Member Details",roles:["Admin","Super Admin","Finance","Staff","Viewer"]},{id:"invoice-builder",label:"Subscriptions",roles:["Admin","Super Admin","Finance"]}]},{id:"finance",label:"Finance",icon:"fa-dollar-sign",items:[{id:"invoices",label:"Invoices",roles:["Admin","Super Admin","Finance"]},{id:"payments",label:"Payments",roles:["Admin","Super Admin","Finance"]},{id:"donations",label:"Donations",roles:["Admin","Super Admin","Finance"]}]},{id:"communication",label:"Communication",icon:"fa-comments",items:[{id:"automation",label:"Reminders",roles:["Admin","Super Admin","Finance"]},{id:"communications",label:"Reminder Logs",roles:["Admin","Super Admin","Finance","Staff","Viewer"]}]},{id:"reports-group",label:"Reports",icon:"fa-chart-bar",items:[{id:"reports",label:"Financial Reports",roles:["Admin","Super Admin","Finance","Staff","Viewer"]},{id:"export-reports",label:"Export Reports",roles:["Admin","Super Admin","Finance"]}]},{id:"settings",label:"Settings",icon:"fa-cog",items:[{id:"settings",label:"Users",roles:["Admin","Super Admin"]},{id:"roles",label:"Roles",roles:["Admin","Super Admin"]},{id:"org-settings",label:"Organization Settings",roles:["Admin","Super Admin","Finance"]}]}],Re=[{id:"dashboard",label:"Dashboard"},...ue.flatMap(d=>d.items)],[at,Xe]=Rm(),[ct,Nt]=H.useState(()=>{const d=at.get("section");return d&&Re.find(c=>c.id===d)?d:Re[0].id}),[It,Jt]=H.useState("Invoices"),[Ot,ne]=H.useState(()=>{const d={};return ue.forEach(i=>{d[i.id]=!1}),d}),[dt,dr]=H.useState(!1),[ar,Or]=H.useState(!1),[_n,Et]=H.useState(null),[Ha,Va]=H.useState(null),[Xr,ls]=H.useState("success"),[cn,Tn]=H.useState(null),[ur,Na]=H.useState(!1),[cs,ka]=H.useState({isOpen:!1,message:"",onConfirm:null,onCancel:null,confirmButtonText:"Confirm"}),[gn,Gn]=H.useState({name:"",email:"",phone:"",status:"Active",balance:"250",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"}),[Wt,Pn]=H.useState({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),[Kt,$n]=H.useState(null),[Xs,xi]=H.useState(!1),yi=(d,i,c={})=>{let h="";switch(d){case"name":i.trim()?i.trim().length<2&&(h="Name must be at least 2 characters."):h="Name is required.";break;case"email":i.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.trim())||(h="Please enter a valid email address."):h="Email is required.";break;case"phone":(!i||i.trim()==="")&&(h="WhatsApp number is required.");break;case"nextDue":{i?isNaN(new Date(i).getTime())&&(h="Please select a valid start date."):h="Start date is required.";break}case"lastPayment":{i&&isNaN(new Date(i).getTime())&&(h="Please select a valid end date.");break}}return h},Fi=()=>{const d=_n?["name","email","phone"]:["name","email","phone","nextDue","lastPayment"];Pn({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1});for(const i of d){const c=yi(i,gn[i]);if(c)return Pn(h=>({...h,[i]:!0})),$n(i),Ie(c,"error"),setTimeout(()=>{const h=document.querySelector("form.form-grid");if(!h)return;const m=d.indexOf(i);let w=null;m===0?w=h.querySelector('input[type="text"][required]'):m===1?w=h.querySelector('input[type="email"]'):m===2?w=h.querySelector('input[type="tel"]'):m===3?w=h.querySelectorAll('input[type="date"]')[0]:m===4&&(w=h.querySelectorAll('input[type="date"]')[1]),w&&(w.focus(),w.scrollIntoView({behavior:"smooth",block:"center"}))},100),!1}return Pn({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),$n(null),!0},Zs=(d,i)=>{let c=i;if(d==="phone")c=i;else if(d==="balance")c=i.replace(/\D/g,"");else if(d==="subscriptionType"){i==="Yearly + Janaza Fund"?(c=i,Gn(h=>({...h,subscriptionType:i,balance:"500"}))):(c=i,Gn(h=>({...h,subscriptionType:i,balance:"250"})));return}Gn(h=>({...h,[d]:c})),yi(d,c,d==="password"?{}:{})};gn.name.trim()&&gn.email.trim();const[Wn,jl]=H.useState({name:"",email:"",password:""}),vi=()=>new Date().toLocaleDateString("en-US",{month:"short",year:"numeric"}),[mt,fr]=H.useState({memberId:"",period:vi(),amount:"250",invoiceType:"Lifetime",due:"",notes:""}),io=()=>{const i=`INV-${new Date().getFullYear()}-`,h=(r||[]).map(w=>w.id).filter(Boolean).filter(w=>w.startsWith(i)).reduce((w,S)=>{const P=S.split("-")[2]||"",I=parseInt(P,10);return isNaN(I)?w:Math.max(w,I)},0),m=String(h+1).padStart(3,"0");return`${i}${m}`},Ri=H.useMemo(()=>io(),[r]),[Ln,jn]=H.useState({donorName:!1,amount:!1,method:!1,date:!1,screenshot:!1}),[sr,dn]=H.useState(null),[oo,bi]=H.useState(!1),[Ke,er]=H.useState({donorName:"",isMember:!1,memberId:"",amount:"",method:"",date:"",notes:"",reference:"",screenshot:""}),[Ar,Br]=H.useState(null),[Aa,yr]=H.useState(null),[Sn,Ca]=H.useState(N),[Mo,ei]=H.useState(!1),[Cr,ha]=H.useState({name:"",email:"",password:"",role:"Viewer",status:"Active"}),[ds,sn]=H.useState({subject:"Payment Reminder - Outstanding Balance",htmlTemplate:`<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
  <h2 style="color: #1a1a1a; border-bottom: 2px solid #5a31ea; padding-bottom: 10px;">
    Payment Reminder - Outstanding Balance
  </h2>
  <p>Dear {{member_name}},</p>
  <p>This is a friendly reminder about your outstanding subscription payments.</p>
  <div style="background: #f9fafb; padding: 15px; border-radius: 5px; margin: 20px 0;">
    <p><strong>Member ID:</strong> {{member_id}}</p>
    <p><strong>Email:</strong> {{member_email}}</p>
    <p><strong>Total Outstanding:</strong> <span style="color: #ef4444; font-size: 18px; font-weight: bold;">\${{total_due}}</span></p>
  </div>
                            <h3 style="color: #1a1a1a;">Outstanding Invoices ({{invoice_count}}):</h3>
  <ul style="list-style: none; padding: 0;">
    {{invoice_list}}
  </ul>
  <div style="background: #f8f9ff; padding: 15px; border-radius: 5px; margin: 20px 0;">
    <p><strong> Payment Methods Available:</strong></p>
    <ul>
      {{payment_methods}}
    </ul>
  </div>
  <p style="text-align: center; margin: 30px 0;">
    <a href="{{portal_link}}" style="background: #5a31ea; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block;">
      Access Member Portal
    </a>
  </p>
  <p>Please settle your outstanding balance at your earliest convenience.</p>
  <p>Best regards,<br><strong>Finance Team</strong><br>Subscription Manager HK</p>
</div>`}),[Qt,Pa]=H.useState({emailService:"gmail",emailUser:"",emailPassword:"kuil uhbe zlqq oymd",scheduleTime:"09:00",scheduleEnabled:!0,reminderInterval:7}),[Do,lo]=H.useState("AM"),[Ti,Oi]=H.useState(!1),[Fo,Zr]=H.useState("not_connected"),[Ya,La]=H.useState(!1),[un,ks]=H.useState({from:"2025-01-01",to:"2025-12-31"}),[Pt,As]=H.useState({}),[wi,Qo]=H.useState("This Year"),[Ga,Ja]=H.useState(!1),[Pr,Ts]=H.useState(null),[en,pa]=H.useState({paymentMethod:"",imageFile:null,imagePreview:null,imageUrl:"",reference:"",selectedAdminId:"",adminMobile:""}),[ma,ji]=H.useState(!1),[In,vr]=H.useState({image:!1,reference:!1,selectedAdminId:!1,adminMobile:!1}),[Lr,Ka]=H.useState(null),[co,ga]=H.useState(!1),[tn,Os]=H.useState(null),[us,Qa]=H.useState(!1),[fs,ti]=H.useState(null),[Bs,zr]=H.useState({newPassword:""}),[Ur,qr]=H.useState(null),[xa,uo]=H.useState({x:0,y:0}),v=H.useRef(null),M=d=>{if(v.current){const i=v.current.getBoundingClientRect();uo({x:d.clientX-i.left,y:d.clientY-i.top})}},X=({icon:d,iconClass:i,label:c,value:h,description:m,onClick:w,valueClass:S=""})=>t.jsxs("button",{type:"button",className:"admin-dashboard-kpi-card admin-dashboard-kpi-button",onClick:w,children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:`${d} ${i||"admin-dashboard-kpi-icon"}`}),c]}),t.jsx("h4",{className:`admin-dashboard-kpi-value ${S}`,children:h}),m&&t.jsx("small",{className:"admin-dashboard-kpi-description",children:m})]}),[he,je]=H.useState({}),[ze,Je]=H.useState(!1),[xt,kt]=H.useState({}),[jt,Ut]=H.useState(!1),[fn,En]=H.useState(!1),[hr,xn]=H.useState(!1),[hn,On]=H.useState(null),[Mn,Xa]=H.useState(null),[nn,$r]=H.useState([]),[Dn,Bi]=H.useState("All"),[_r,zi]=H.useState("All"),[Ir,Si]=H.useState("all"),[Fn,Ui]=H.useState("all"),[hs,Ro]=H.useState(""),[fo,br]=H.useState(1),[_a,zs]=H.useState(10),[Za,Ia]=H.useState(""),[ea,ho]=H.useState("All"),[ni,ri]=H.useState("none"),[Ea,es]=H.useState(()=>{try{return JSON.parse(localStorage.getItem("memberNotes")||"{}")}catch{return{}}}),[Ma,ai]=H.useState(""),[Hn,Cs]=H.useState(""),[Jn,ta]=H.useState(""),[Kn,Ni]=H.useState(!1),[ps,na]=H.useState(!1),[si,Ps]=H.useState(!1),[Ls,Us]=H.useState(!1),[qs,ra]=H.useState(!1),[aa,Da]=H.useState(null),[qi,ms]=H.useState({memberId:!1,amount:!1,method:!1,screenshot:!1}),[Nn,Wr]=H.useState(null),[nt,Rt]=H.useState({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""}),[Vn,Qn]=H.useState(1),[sa,To]=H.useState(10),[ii,ts]=H.useState(1),[ns,$i]=H.useState(10),[po,Oo]=H.useState(1),[$s,Wi]=H.useState(10),[Hi,mo]=H.useState(1),[Bo,Yl]=H.useState(10),[Xo,Sl]=H.useState(1),[go,Nl]=H.useState(10),[rs,Ws]=H.useState("All"),[ia,ya]=H.useState("All"),gs=ro();Om(15),H.useEffect(()=>{at.get("section")!==ct&&Xe({section:ct},{replace:!1})},[ct,at,Xe]),H.useEffect(()=>{const d=()=>{const c=new URLSearchParams(window.location.search).get("section");c&&Re.find(m=>m.id===c)&&c!==ct?Nt(c):!c&&ct!==Re[0].id&&Nt(Re[0].id)};return window.addEventListener("popstate",d),()=>{window.removeEventListener("popstate",d)}},[ct]),H.useEffect(()=>{ct==="communications"&&(W(),re())},[ct]);const Zo=()=>{const d=new Date,i=[],c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(let m=11;m>=0;m--){const w=new Date(d.getFullYear(),d.getMonth()-m,1),S=`${c[w.getMonth()]} ${w.getFullYear()}`,C=c[w.getMonth()],P=u.filter(T=>{if(!(T.status==="Completed"||T.status==="Paid")||!T.date)return!1;const ie=new Date(T.date);return ie.getMonth()===w.getMonth()&&ie.getFullYear()===w.getFullYear()}),I=P.reduce((T,te)=>{const ie=parseFloat(te.amount?.replace(/[^0-9.]/g,"")||0);return T+ie},0);i.push({month:C,monthKey:S,value:I,count:P.length})}const h=Math.max(...i.map(m=>m.value),1);return i.map(m=>({...m,percentage:h>0?m.value/h*100:0}))},ki=()=>{const d=new Date,i=d.getFullYear(),c=d.getMonth(),h=new Set(s.map(Ne=>Ne.id).filter(Boolean)),m=new Set(s.map(Ne=>Ne.email?.toLowerCase()).filter(Boolean)),w=new Set(s.map(Ne=>Ne.name?.toLowerCase()).filter(Boolean)),S=u||[],C=S.reduce((Ne,qe)=>{if(qe.status==="Completed"||qe.status==="Paid"){const ut=parseFloat(qe.amount?.replace(/[^0-9.]/g,"")||0);return Ne+ut}return Ne},0),I=S.filter(Ne=>{if(!(Ne.status==="Completed"||Ne.status==="Paid")||!Ne.date)return!1;const ut=new Date(Ne.date);return ut.getMonth()===c&&ut.getFullYear()===i}).reduce((Ne,qe)=>{if(qe.status==="Completed"||qe.status==="Paid"){const ut=parseFloat(qe.amount?.replace(/[^0-9.]/g,"")||0);return Ne+ut}return Ne},0),te=S.filter(Ne=>!(Ne.status==="Completed"||Ne.status==="Paid")||!Ne.date?!1:new Date(Ne.date).getFullYear()===i).reduce((Ne,qe)=>{if(qe.status==="Completed"||qe.status==="Paid"){const ut=parseFloat(qe.amount?.replace(/[^0-9.]/g,"")||0);return Ne+ut}return Ne},0),ie=s.reduce((Ne,qe)=>{if(!qe.balance)return Ne;const ut=qe.balance.toString(),ft=parseFloat(ut.replace(/[^0-9.]/g,"")||0);return Ne+(ft>0?ft:0)},0),V=r.filter(Ne=>(Ne.memberId&&h.has(Ne.memberId)||Ne.memberEmail&&m.has(Ne.memberEmail?.toLowerCase())||Ne.memberName&&w.has(Ne.memberName?.toLowerCase()))&&Ne.status==="Overdue"),de=new Set,be=new Set,Ue=new Set;V.forEach(Ne=>{Ne.memberId&&de.add(Ne.memberId),Ne.memberEmail&&be.add(Ne.memberEmail.toLowerCase()),Ne.memberName&&Ue.add(Ne.memberName.toLowerCase())});const Pe=new Set;s.forEach(Ne=>{let qe=!1;if(Ne.id&&de.has(Ne.id)||Ne.email&&be.has(Ne.email?.toLowerCase())||Ne.name&&Ue.has(Ne.name?.toLowerCase()))qe=!0;else if(Ne.status==="Overdue")qe=!0;else if(Ne.status!=="Inactive"&&Ne.status!=="Pending"&&Ne.balance){const ft=Ne.balance.toString(),Ht=parseFloat(ft.replace(/[^0-9.]/g,"")||0);(ft.toLowerCase().includes("overdue")||Ht>0)&&(qe=!0)}qe&&(Ne.id?Pe.add(Ne.id):Ne.email?Pe.add(`email:${Ne.email.toLowerCase()}`):Ne.name&&Pe.add(`name:${Ne.name.toLowerCase()}`))});const $e=Pe.size,We=s.length*800;return{totalCollected:C,collectedMonth:I,collectedYear:te,outstanding:ie,overdueMembers:$e,expectedAnnual:We}},Hs=d=>d.paidToAdmin||d.paidToAdminName||d.method==="Cash to Admin"?"Cash":["Screenshot","Bank Transfer","FPS","PayMe","Alipay","Credit Card","Online Payment"].includes(d.method)?"Online Payment":d.method||"N/A",zo=()=>u.filter(d=>d.status==="Paid"||d.status==="Completed"||d.status==="Pending Verification"||d.status==="Pending").sort((d,i)=>{const c=new Date(d.date||d.createdAt||0);return new Date(i.date||i.createdAt||0)-c}).slice(0,5).map(d=>({Member:d.member||"Unknown",Period:d.period||"N/A",Amount:d.amount||"$0",Method:Hs(d),Status:d.status||"Pending",Date:d.date||(d.createdAt?new Date(d.createdAt).toLocaleDateString():"N/A")})),Uo=Zo(),kn=zo(),ir=H.useMemo(()=>ki(),[r,u,s]),xo=H.useMemo(()=>new Date().toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),[s,r,u,l]);H.useEffect(()=>{q&&ai(Ea[q.id]||"")},[q,Ea]),H.useEffect(()=>{const d=ue.find(i=>i.items.some(c=>c.id===ct));d&&ne(i=>{if(i[d.id])return i;const c={};return ue.forEach(h=>{c[h.id]=h.id===d.id}),c})},[ct]);const pn=(()=>{const d=new Date(un.from),i=new Date(un.to);i.setHours(23,59,59,999);const c=u.filter(ie=>{if(!ie.date)return!1;const V=new Date(ie.date),de=ie.status==="Completed"||ie.status==="Paid";return V>=d&&V<=i&&de}),h=(Array.isArray(ee)?ee:[]).filter(ie=>{if(!ie||!ie.date&&!ie.createdAt)return!1;try{const V=ie.createdAt?new Date(ie.createdAt):new Date(ie.date);return V>=d&&V<=i}catch{return!1}}),m=c.reduce((ie,V)=>{const de=parseFloat(V.amount?.replace(/[^0-9.]/g,"")||0);return ie+de},0),w=h.reduce((ie,V)=>{const de=parseFloat(V.amount?.replace(/[^0-9.]/g,"")||0);return ie+de},0),S=m+w,C=s.filter(ie=>ie.status==="Active");let P=0;if(C.forEach(ie=>{const V=ie.subscriptionType||"Lifetime",de=ie.createdAt?new Date(ie.createdAt):new Date("2025-01-01");if(V==="Yearly + Janaza Fund"){const be=Math.max(d.getTime(),de.getTime()),Ue=i.getTime(),Pe=Math.max(0,(Ue-be)/(365.25*24*60*60*1e3));P+=Math.ceil(Pe)*500}else{const be=Math.max(d.getTime(),de.getTime()),Ue=i.getTime(),Pe=Math.max(0,(Ue-be)/(365.25*24*60*60*1e3));P+=Math.ceil(Pe)*250}}),P===0&&C.length>0){const ie=Math.max(0,(i-d)/315576e5);P=C.length*250*Math.ceil(ie)}const I=C.length>0?Math.round(S/C.length):0,T={};c.forEach(ie=>{const V=Hs(ie);T[V]=(T[V]||0)+1});const te=Object.entries(T).map(([ie,V])=>({label:ie,value:V}));return te.length===0&&te.push({label:"No payments",value:0}),{collected:S,paymentsTotal:m,donationsTotal:w,paymentsCount:c.length,donationsCount:h.length,expected:P||1,averagePerMember:I,methodMix:te,transactionCount:c.length+h.length,paymentsInRange:c,donationsInRange:h}})(),qo=()=>{try{const d=new Date(un.from),i=new Date(un.to);i.setHours(23,59,59,999);const c=u.filter(C=>{if(!C.date)return!1;const P=new Date(C.date);return P>=d&&P<=i});let h=`Financial Report
`;h+=`Period,${un.from} to ${un.to}

`,h+=`Summary
`,h+=`Collected,$${pn.collected.toFixed(2)}
`,h+=`Expected,$${pn.expected.toFixed(2)}
`,h+=`Outstanding,$${ir.outstanding.toFixed(2)}
`,h+=`Average per Member,$${pn.averagePerMember.toFixed(2)}
`,h+=`Total Transactions,${pn.transactionCount}

`,h+=`Payment Method Breakdown
`,pn.methodMix.forEach(C=>{h+=`${C.label},${C.value}
`}),h+=`
Detailed Transactions (Completed Payments Only)
`,h+=`Date,Member,Period,Amount,Method,Status,Reference
`,c.filter(C=>C.status==="Completed"||C.status==="Paid").forEach(C=>{const P=C.date||"N/A",I=C.member||"Unknown",T=C.period||"N/A",te=C.amount||"$0",ie=Hs(C),V=C.status||"N/A",de=C.reference||"N/A";h+=`"${P}","${I}","${T}","${te}","${ie}","${V}","${de}"
`});const m=new Blob([h],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a"),S=URL.createObjectURL(m);w.setAttribute("href",S),w.setAttribute("download",`financial-report-${un.from}-to-${un.to}.csv`),w.style.visibility="hidden",document.body.appendChild(w),w.click(),document.body.removeChild(w),Ie("CSV report downloaded successfully!")}catch(d){console.error("Error exporting CSV:",d),Ie("Failed to export CSV","error")}},vo=()=>{if(!He){Ie("You are not authorized to export reports","error");return}qo()},$o=()=>{if(!He){Ie("You are not authorized to export reports","error");return}Vi()},Vi=()=>{try{const d=new Tt,i=d.internal.pageSize.getWidth(),c=d.internal.pageSize.getHeight();let h=20;const m=20,w=7;d.setFontSize(18),d.setFont(void 0,"bold"),d.text("Financial Report",m,h),h+=10,d.setFontSize(12),d.setFont(void 0,"normal"),d.text(`Period: ${un.from} to ${un.to}`,m,h),h+=15,d.setFontSize(14),d.setFont(void 0,"bold"),d.text("Summary",m,h),h+=8,d.setFontSize(10),d.setFont(void 0,"normal"),d.text(`Collected: $${pn.collected.toFixed(2)}`,m,h),h+=w,d.text(`Expected: $${pn.expected.toFixed(2)}`,m,h),h+=w,d.text(`Outstanding: $${ir.outstanding.toFixed(2)}`,m,h),h+=w,d.text(`Average per Member: $${pn.averagePerMember.toFixed(2)}`,m,h),h+=w,d.text(`Total Transactions: ${pn.transactionCount}`,m,h),h+=10,d.setFontSize(14),d.setFont(void 0,"bold"),d.text("Payment Method Breakdown",m,h),h+=8,d.setFontSize(10),d.setFont(void 0,"normal"),pn.methodMix.forEach(T=>{d.text(`${T.label}: ${T.value}`,m,h),h+=w});const S=new Date(un.from),C=new Date(un.to);C.setHours(23,59,59,999);const P=u.filter(T=>{if(!T.date)return!1;const te=new Date(T.date);return te>=S&&te<=C});if(P.length>0){h+=10,h>c-40&&(d.addPage(),h=20),d.setFontSize(14),d.setFont(void 0,"bold"),d.text("Recent Transactions",m,h),h+=8,d.setFontSize(9),d.setFont(void 0,"normal"),d.setFont(void 0,"bold"),d.text("Date",m,h),d.text("Member",m+40,h),d.text("Amount",m+90,h),d.text("Method",m+130,h),h+=w,d.setFont(void 0,"normal");const T=P.filter(ie=>ie.status==="Completed"||ie.status==="Paid"),te=Math.min(T.length,Math.floor((c-h-20)/w));T.slice(0,te).forEach(ie=>{h>c-20&&(d.addPage(),h=20),d.text(ie.date||"N/A",m,h),d.text((ie.member||"Unknown").substring(0,15),m+40,h),d.text(ie.amount||"$0",m+90,h),d.text(Hs(ie).substring(0,15),m+130,h),h+=w}),T.length>te&&d.text(`... and ${T.length-te} more transactions`,m,h)}const I=d.internal.pages.length-1;for(let T=1;T<=I;T++)d.setPage(T),d.setFontSize(8),d.text(`Generated on ${new Date().toLocaleDateString()} - Page ${T} of ${I}`,m,c-10);d.save(`financial-report-${un.from}-to-${un.to}.pdf`),Ie("PDF report downloaded successfully!")}catch(d){console.error("Error exporting PDF:",d),Ie("Failed to export PDF","error")}};u.filter(d=>{if(!d.date)return!1;const i=new Date(d.date),c=new Date(un.from),h=new Date(un.to);return h.setHours(23,59,59,999),i>=c&&i<=h}).sort((d,i)=>{const c=new Date(d.date||0);return new Date(i.date||0)-c});const Gl=async()=>{try{const i=await fetch("http://localhost:4000/api/email-settings");if(i.ok){const c=await i.json();if(c){const h=c.scheduleTime||"09:00",[m,w]=h.split(":").map(Number),S=m>=12?"PM":"AM",P=`${m%12||12}:${w.toString().padStart(2,"0")}`;Pa({emailService:c.emailService||"gmail",emailUser:c.emailUser||"",emailPassword:c.emailPassword||"kuil uhbe zlqq oymd",scheduleTime:h,scheduleEnabled:c.scheduleEnabled!==void 0?c.scheduleEnabled:!0,reminderInterval:c.reminderInterval||7}),lo(S),Zr(c.emailUser?"connected":"not_connected"),c.automationEnabled!==void 0&&L(c.automationEnabled)}}}catch(d){console.error("Error fetching email settings:",d)}},Ac=async()=>{try{const i=await fetch("http://localhost:4000/api/email-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Qt)});if(i.ok)Ie("Email settings saved successfully!"),Zr(Qt.emailUser?"connected":"not_connected");else{const c=await i.json();Ie(c.error||"Failed to save email settings","error")}}catch(d){console.error("Error saving email settings:",d),Ie("Failed to save email settings","error")}},[el,kl]=H.useState(!1),tl=async()=>{kl(!0);try{const d="http://localhost:4000",i=[];try{const c=await fetch(`${d}/api/email-settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Qt)});if(c.ok)Zr(Qt.emailUser?"connected":"not_connected");else{const h=await c.json();i.push(h.error||"Failed to save email settings")}}catch{i.push("Failed to save email settings")}try{for(const c of j)await U(c.id,c)}catch{i.push("Failed to save reminder rules")}try{for(const c of g)await B(c.id,c)}catch{i.push("Failed to save payment methods")}try{await Z(Sn)}catch{i.push("Failed to save organization info")}i.length>0?Ie(`Some settings failed to save: ${i.join(", ")}`,"error"):Ie("All settings saved successfully!","success")}catch(d){console.error("Error saving all settings:",d),Ie("Failed to save all settings","error")}finally{kl(!1)}},bo=async()=>{try{const i=await fetch("http://localhost:4000/api/email-settings/template");if(i.ok){const c=await i.json();c&&(c.subject||c.htmlTemplate)&&sn({subject:c.subject||"Payment Reminder - Outstanding Balance",htmlTemplate:c.htmlTemplate||`<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
  <h2 style="color: #1a1a1a; border-bottom: none; padding-bottom: 10px;">
    Payment Reminder - Outstanding Balance
  </h2>
  <p>Dear {{member_name}},</p>
  <p>This is a friendly reminder about your outstanding subscription payments.</p>
  <div style="background: #f9fafb; padding: 15px; border-radius: 5px; margin: 20px 0;">
    <p><strong>Member ID:</strong> {{member_id}}</p>
    <p><strong>Email:</strong> {{member_email}}</p>
    <p><strong>Total Outstanding:</strong> <span style="color: #ef4444; font-size: 18px; font-weight: bold;">\${{total_due}}</span></p>
  </div>
                            <h3 style="color: #1a1a1a;">Outstanding Invoices ({{invoice_count}}):</h3>
  <ul style="list-style: none; padding: 0;">
    {{invoice_list}}
  </ul>
  <div style="background: #f8f9ff; padding: 15px; border-radius: 5px; margin: 20px 0;">
    <p><strong> Payment Methods Available:</strong></p>
    <ul>
      {{payment_methods}}
    </ul>
  </div>
  <p style="text-align: center; margin: 30px 0;">
    <a href="{{portal_link}}" style="background: #5a31ea; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block;">
      Access Member Portal
    </a>
  </p>
  <p>Please settle your outstanding balance at your earliest convenience.</p>
  <p>Best regards,<br><strong>Finance Team</strong><br>Subscription Manager HK</p>
</div>`})}}catch(d){console.error("Error fetching email template:",d)}},Wo=()=>{En(!0)},Yi=()=>ds.htmlTemplate?ds.htmlTemplate.replace(/\{\{member_name\}\}/g,"John Doe").replace(/\{\{member_id\}\}/g,"MEMBER001").replace(/\{\{member_email\}\}/g,"john.doe@example.com").replace(/\{\{total_due\}\}/g,"$250.00").replace(/\{\{invoice_count\}\}/g,"3").replace(/\{\{invoice_list\}\}/g,`
        <li style="margin-bottom: 10px;">
          <strong>January 2025</strong>: $100.00 
          <span style="color: #666;">(Due: 15 Jan 2025)</span> - 
          <strong style="color: #ef4444">Overdue</strong>
        </li>
        <li style="margin-bottom: 10px;">
          <strong>February 2025</strong>: $100.00 
          <span style="color: #666;">(Due: 15 Feb 2025)</span> - 
          <strong style="color: #ef4444">Unpaid</strong>
        </li>
        <li style="margin-bottom: 10px;">
          <strong>March 2025</strong>: $50.00 
          <span style="color: #666;">(Due: 15 Mar 2025)</span> - 
          <strong style="color: #ef4444">Unpaid</strong>
        </li>
      `).replace(/\{\{payment_methods\}\}/g,`
        <li>FPS: ID 1234567</li>
        <li>PayMe: Scan QR code in portal</li>
        <li>Bank Transfer: HSBC 123-456789-001</li>
      `).replace(/\{\{portal_link\}\}/g,`${window.location.origin}/member`):"",Al=async()=>{try{const i=await fetch("http://localhost:4000/api/email-settings/template",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ds)});if(i.ok)Ie("Email template saved successfully!");else{const c=await i.json();Ie(c.error||"Failed to save email template","error")}}catch(d){console.error("Error saving email template:",d),Ie("Failed to save email template","error")}},Cl=async()=>{if(!Qt.emailUser||!Qt.emailPassword){Ie("Please configure email credentials first","error");return}Oi(!0);try{const i=await fetch("http://localhost:4000/api/email-settings/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailService:Qt.emailService,emailUser:Qt.emailUser,emailPassword:Qt.emailPassword,testEmail:Qt.emailUser})});if(i.ok)Ie("Test email sent successfully! Check your inbox.");else{const c=await i.json();Ie(c.error||"Failed to send test email","error")}}catch(d){console.error("Error testing email:",d),Ie("Failed to send test email","error")}finally{Oi(!1)}},Jl=async d=>{if(!Qt.emailUser||!Qt.emailPassword){Ie("Please configure email credentials first","error");return}je(i=>({...i,[d]:!0}));try{const c=await fetch("http://localhost:4000/api/reminders/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({memberId:d,sendToAll:!1})}),h=await c.json();if(c.ok){const m=s.find(S=>S.id===d),w={channel:"Email",type:"Manual Reminder",memberId:d,memberEmail:m?.email||"",memberName:m?.name||"",message:`Reminder email sent to ${m?.name||"member"}`,status:"Delivered"};pe(w),Ie(`Reminder email sent to ${m?.name||"member"}!`)}else Ie(h.error||"Failed to send reminder email","error")}catch(i){console.error("Error sending reminder:",i),Ie("Failed to send reminder email","error")}finally{je(i=>({...i,[d]:!1}))}},Kl=d=>r.filter(m=>m.memberId===d||m.memberEmail&&s.find(w=>w.id===d)?.email?.toLowerCase()===m.memberEmail.toLowerCase()||m.memberName&&s.find(w=>w.id===d)?.name?.toLowerCase()===m.memberName.toLowerCase()).filter(m=>{const w=xs(m);return w==="Unpaid"||w==="Overdue"}).reduce((m,w)=>{const S=parseFloat(w.amount?.replace(/[^0-9.]/g,"")||0);return m+S},0),Cc=async d=>{try{const i="http://localhost:4000",c=sessionStorage.getItem("adminId")||sessionStorage.getItem("adminName")||"Admin",h=await fetch(`${i}/api/payments/${d}/approve`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:c,adminName:sessionStorage.getItem("adminName")||"Admin"})});if(!h.ok){const w=await h.json().catch(()=>({}));throw new Error(w.error||"Failed to approve payment")}await D(),await F();const m=u.find(w=>w.id===d)||l.find(w=>w.id===d);if(m&&m.memberId){const w=Kl(m.memberId),S=w>0?`$${w.toFixed(2)} Outstanding`:"$0";try{await oe(m.memberId,{balance:S})}catch(C){console.error("Error updating member balance:",C)}}Ie("Payment approved successfully!")}catch(i){console.error("Error approving payment:",i),Ie(i.message||"Failed to approve payment","error")}},Pc=async d=>{try{const i=window.prompt("Enter rejection reason (optional):")||"",c="http://localhost:4000",h=sessionStorage.getItem("adminId")||sessionStorage.getItem("adminName")||"Admin",m=await fetch(`${c}/api/payments/${d}/reject`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:h,adminName:sessionStorage.getItem("adminName")||"Admin",reason:i})});if(!m.ok){const w=await m.json().catch(()=>({}));throw new Error(w.error||"Failed to reject payment")}await D(),await F(),Ie("Payment rejected successfully!")}catch(i){console.error("Error rejecting payment:",i),Ie(i.message||"Failed to reject payment","error")}},Pl=()=>{const d=["memberId","amount","method","screenshot"];if(Nn){let i=!0,c="";if(Nn==="memberId"&&!nt.memberId?(i=!1,c="Member is required"):Nn==="amount"&&(!nt.amount||parseFloat(nt.amount)<=0)?(i=!1,c="Amount must be a positive number"):Nn==="method"&&!nt.method?(i=!1,c="Payment method is required"):Nn==="screenshot"&&nt.method==="Cash"&&!nt.screenshot&&(i=!1,c="Screenshot upload is required for Cash payments"),i)ms(h=>({...h,[Nn]:!1})),Wr(null);else return ms(h=>({...h,[Nn]:!0})),Ie(c,"error"),!1}for(const i of d){let c=!0,h="";if(i==="memberId"&&!nt.memberId?(c=!1,h="Member is required"):i==="amount"&&(!nt.amount||parseFloat(nt.amount)<=0)?(c=!1,h="Amount must be a positive number"):i==="method"&&!nt.method?(c=!1,h="Payment method is required"):i==="screenshot"&&nt.method==="Cash"&&!nt.screenshot&&(c=!1,h="Screenshot upload is required for Cash payments"),!c)return ms({memberId:!1,amount:!1,method:!1,screenshot:!1}),ms(m=>({...m,[i]:!0})),Wr(i),Ie(h,"error"),!1}return ms({memberId:!1,amount:!1,method:!1,screenshot:!1}),Wr(null),!0},oa=async d=>{if(d.preventDefault(),!!Pl())try{await Q(nt),Ie("Payment added successfully!"),ra(!1),Rt({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""}),await D()}catch(i){console.error("Error adding payment:",i),Ie(i.message||"Failed to add payment","error")}},as=d=>{Da(d),Rt({memberId:d.memberId||"",member:d.member||"",invoiceId:d.invoiceId||"",amount:d.amount||"",method:d.method||"",reference:d.reference||"",date:d.date||d.createdAt?new Date(d.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:d.status||"Pending",screenshot:d.screenshot||"",notes:d.notes||""}),ra(!0)},va=async d=>{d.preventDefault();try{if(!nt.memberId||!nt.amount){Ie("Please fill all required fields","error");return}if(nt.method==="Cash"&&!nt.screenshot){Ie("Screenshot upload is required for Cash payments","error");return}const i="http://localhost:4000",c=aa._id||aa.id,h=await fetch(`${i}/api/payments/${c}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(nt)});if(!h.ok){const m=await h.json().catch(()=>({}));throw new Error(m.error||"Failed to update payment")}Ie("Payment updated successfully!"),ra(!1),Da(null),Rt({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""}),await D(),await F()}catch(i){console.error("Error updating payment:",i),Ie(i.message||"Failed to update payment","error")}},_s=async d=>{Ta("Are you sure you want to delete this payment? This action cannot be undone.",async()=>{try{const c=await fetch(`http://localhost:4000/api/payments/${d}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!c.ok){const h=await c.json().catch(()=>({}));throw new Error(h.error||"Failed to delete payment")}Ie("Payment deleted successfully!"),await D(),await F()}catch(i){console.error("Error deleting payment:",i),Ie(i.message||"Failed to delete payment","error")}})},wo=async()=>{if(!Qe){Ie("Only Admin, Super Admin and Owner can send bulk reminders","error");return}if(!Qt.emailUser||!Qt.emailPassword){Ie("Please configure email credentials first","error");return}Je(!0);try{const i=await fetch("http://localhost:4000/api/reminders/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sendToAll:!0})}),c=await i.json();i.ok?Ie(c.message||"Reminder emails sent successfully!"):Ie(c.error||"Failed to send reminder emails","error")}catch(d){console.error("Error sending reminders:",d),Ie("Failed to send reminder emails","error")}finally{Je(!1)}},la=async()=>{if(!Qe){Ie("Only Admin, Super Admin and Owner can send bulk reminders","error");return}const d=s.filter(i=>{if(!i.balance||!i.phone)return!1;const c=i.balance.toString();return parseFloat(c.replace(/[^0-9.]/g,"")||0)>0});if(d.length===0){Ie("No outstanding members with phone numbers found","error");return}Ut(!0);try{for(let i=0;i<d.length;i++){const c=d[i],h=r.filter(I=>I.memberId===c.id&&(I.status==="Unpaid"||I.status==="Overdue")),m=h.reduce((I,T)=>I+parseFloat(T.amount.replace("$","")),0),w=h.map((I,T)=>`${T+1}. *${I.period}*: ${I.amount} (Due: ${I.due}) - _${I.status}_`).join(`
`),S=`    

Dear *${c.name}*,

This is a friendly reminder about your outstanding subscription payments.

*Member ID:* ${c.id}
*Email:* ${c.email}
*Total Outstanding:* $${m}

* Outstanding Invoices (${h.length}):*
${w}

* Payment Methods Available:*
 FPS: ID 1234567
 PayMe: Scan QR code in portal
 Bank Transfer: HSBC 123-456789-001

* Member Portal:*
${window.location.origin}/member

Please settle your outstanding balance at your earliest convenience.

  

_Best regards,_
*Finance Team*
Subscription Manager HK`,P=`https://wa.me/${c.phone.replace(/[^0-9+]/g,"")}?text=${encodeURIComponent(S)}`;setTimeout(()=>{window.open(P,"_blank");const I={channel:"WhatsApp",type:"Bulk Outstanding Reminder",memberId:c.id,memberEmail:c.email,memberName:c.name,message:`WhatsApp reminder sent to ${c.name} (${c.phone}) - $${m} due (${h.length} invoice${h.length>1?"s":""})`,status:"Delivered"};pe(I)},i*1e3)}Ie(` Opening WhatsApp for ${d.length} members. Please review and send each message.`)}catch(i){console.error("Error sending WhatsApp reminders:",i),Ie("Failed to open WhatsApp","error")}finally{Ut(!1)}};H.useEffect(()=>{ct==="donations"&&me()},[ct]),H.useEffect(()=>{Qn(1)},[Za]),H.useEffect(()=>{ts(1)},[Dn]),H.useEffect(()=>{ct==="members"?Qn(1):ct==="payment-approvals"?ts(1):ct==="donations"?Oo(1):ct==="reports"&&br(1)},[ct]),H.useEffect(()=>{br(1)},[hs,Ir,Fn]),H.useEffect(()=>{const d=s.filter(c=>!Za||c.name?.toLowerCase().includes(Za.toLowerCase())),i=Math.ceil(d.length/sa);Vn>i&&i>0&&Qn(1)},[s,Za,sa,Vn]),H.useEffect(()=>{const d=(l||[]).filter(c=>Dn==="All"?!0:c.status===Dn),i=Math.ceil(d.length/ns);ii>i&&i>0&&ts(1)},[l,Dn,ns,ii]),H.useEffect(()=>{const i=(Array.isArray(ee)?ee:[]).filter(h=>h!==null),c=Math.ceil(i.length/$s);po>c&&c>0&&Oo(1)},[ee,$s,po]),H.useEffect(()=>(Ls?document.body.classList.add("menu-open"):document.body.classList.remove("menu-open"),()=>{document.body.classList.remove("menu-open")}),[Ls]),H.useEffect(()=>{Gl().catch(d=>{console.error("Failed to fetch email settings:",d)}),bo().catch(d=>{console.error("Failed to fetch email template:",d)})},[]);const Fa=d=>{if(d==="dashboard")return[{id:"dashboard",label:"Dashboard"}];for(const c of ue){const h=c.items.find(m=>m.id===d);if(h)return[{id:"dashboard",label:"Dashboard"},{id:c.id,label:c.label},{id:d,label:h.label}]}const i=Re.find(c=>c.id===d);return i?[{id:"dashboard",label:"Dashboard"},{id:d,label:i.label}]:[{id:"dashboard",label:"Dashboard"}]},Ra=d=>{const i=Fa(d),c=ue.find(h=>h.items.some(m=>m.id===d));return t.jsxs("div",{className:"admin-breadcrumb-tabs-container",children:[i.length>1&&t.jsx("div",{className:"admin-breadcrumb-container admin-breadcrumb-container--small",children:i.map((h,m)=>t.jsxs("span",{children:[m>0&&t.jsx("span",{className:"admin-breadcrumb-separator",children:" > "}),m===i.length-1?t.jsx("span",{className:"admin-breadcrumb-current",children:h.label}):m===0?t.jsx("span",{onClick:()=>Is(h.id),className:"admin-breadcrumb-link--inline",children:h.label}):t.jsx("span",{className:"admin-breadcrumb-link--inline admin-breadcrumb-link--no-click",children:h.label})]},h.id))}),c&&c.items.length>1&&t.jsx("div",{className:"admin-breadcrumb-tabs",children:c.items.map(h=>t.jsx("button",{className:`admin-breadcrumb-tab ${d===h.id?"admin-breadcrumb-tab--active":""}`,onClick:()=>Is(h.id),children:h.label},h.id))})]})},Is=d=>{console.log("Navigating to section:",d),Nt(d),dr(!1),Or(!1),bi(!1),Us(!1);const i=ue.find(c=>c.items.some(h=>h.id===d));i&&!Ot[i.id]&&ne(c=>{const h={};return ue.forEach(m=>{h[m.id]=m.id===i.id}),h})},Ai=()=>{Ie("You have been logged out","success"),setTimeout(()=>{gs("/login",{replace:!0})},500)},jo=async(d,i)=>{try{const c="http://localhost:4000",h=sessionStorage.getItem("adminEmail")||"Super Admin",m=await fetch(`${c}/api/auth/password-reset-requests/${d}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({newPassword:i,handledBy:h})}),w=await m.json();m.ok?(Ie(w.message||"Password updated and email sent successfully"),Qa(!1),ti(null),zr({newPassword:""}),re()):Ie(w.error||"Failed to update password","error")}catch(c){console.error("Error updating password:",c),Ie("Failed to update password","error")}},Ie=(d,i="success")=>{Va(d),ls(i),setTimeout(()=>Va(null),3e3)},Ta=(d,i,c=null,h="Confirm")=>{ka({isOpen:!0,message:d,confirmButtonText:h,onConfirm:()=>{ka({isOpen:!1,message:"",onConfirm:null,onCancel:null,confirmButtonText:"Confirm"}),i&&i()},onCancel:()=>{ka({isOpen:!1,message:"",onConfirm:null,onCancel:null,confirmButtonText:"Confirm"}),c&&c()}})},Ll=async d=>{if(d.preventDefault(),!!Fi())try{xi(!0),await $(gn),Gn({name:"",email:"",phone:"",status:"Active",balance:"250",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"}),Pn({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),$n(null),dr(!1),Ie("Member added successfully!","success")}catch(i){console.error("Failed to add member:",i),Ie("Failed to add member. Please try again.","error")}finally{xi(!1)}},oi=d=>{Pn({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),$n(null),Et(d),Gn({name:d.name||"",email:d.email||"",phone:d.phone||"",status:d.status||"Active"}),dr(!0)},Es=async d=>{if(d.preventDefault(),!!Fi())try{if(!_n){Ie("No member selected for editing.","error");return}const i={},c=_n;if(gn.name!==(c.name||"")&&(i.name=gn.name),gn.email!==(c.email||"")&&(i.email=gn.email),gn.phone!==(c.phone||"")&&(i.phone=gn.phone),gn.status!==(c.status||"Active")&&(i.status=gn.status),gn.password&&gn.password.trim()!==""&&(i.password=gn.password),Object.keys(i).length===0){Ie("No changes to update.","error");return}await oe(_n.id,i),Et(null),Gn({name:"",email:"",phone:"",password:"",status:"Active",balance:"$0",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"}),Pn({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),$n(null),dr(!1),Ie("Member updated successfully!")}catch{Ie("Failed to update member. Please try again.","error")}},yn=async d=>{Ta("Are you sure you want to delete this member?",async()=>{try{await ce(d),Ie("Member deleted successfully!")}catch{Ie("Failed to delete member. Please try again.","error")}})},An=d=>{if(d.preventDefault(),!mt.memberId||!mt.period||!mt.due){Ie("Please fill all required fields","error");return}const i=parseFloat(mt.amount);if(!i||i<=0||isNaN(i)){Ie("Amount must be a positive number","error");return}const c=s.find(m=>m.id===mt.memberId),h={id:io(),memberId:mt.memberId,memberName:c?.name||"",period:mt.period,amount:`$${i.toFixed(2)}`,status:"Unpaid",due:mt.due,method:"-",reference:"-",notes:mt.notes||""};Ee(h),Tn({...h,member:c}),Na(!0),fr({memberId:"",period:vi(),amount:"250",invoiceType:"Lifetime",due:"",notes:""}),Or(!1),Ie("Invoice created successfully!")},Ci=async(d,i="Cash",c=null,h=null)=>{try{const m=r.find(de=>de.id===d);if(!m){Ie("Invoice not found","error");return}if(m.status==="Paid"){Ie("Invoice is already marked as paid","error");return}const w=sessionStorage.getItem("adminEmail"),S=a.find(de=>de.email===w),C=sessionStorage.getItem("adminId")||S?.id||"Admin",P=sessionStorage.getItem("adminName")||S?.name||"Admin";let I="Cash to Admin",T;i==="Online"?(I="Online Payment",T=h||`ONL_${Date.now()}`):T=`CASH_${Date.now()}`;const ie=await fetch("http://localhost:4000/api/payments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoiceId:d,amount:m.amount,method:I,reference:T,member:m.memberName||"Member",memberId:m.memberId,memberEmail:m.memberEmail,period:m.period,status:"Completed",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),paidToAdmin:C,paidToAdminName:P,approvedBy:P,approvedAt:new Date().toISOString(),screenshot:c||m.screenshot||null})});if(!ie.ok){const de=await ie.json().catch(()=>({}));throw new Error(de.error||"Failed to create payment record")}const V=await ie.json();if(await fe(d,{status:"Paid",method:I,reference:T,paidToAdmin:C,paidToAdminName:P}),await Promise.all([F(),D(),E()]),m.memberId){const de=s.find(be=>be.id===m.memberId);Ie(de?`Invoice marked as paid (${I})! Balance updated.`:`Invoice marked as paid (${I})!`,"success")}else Ie(`Invoice marked as paid (${I})!`,"success")}catch(m){console.error("Error marking invoice as paid:",m),Ie(m.message||"Failed to mark invoice as paid","error")}},Er=d=>{const i=r.find(c=>c.id===d);if(!i){Ie("Invoice not found","error");return}if(i.status==="Paid"||i.status==="Completed"){Ie("Paid invoices cannot be deleted","error");return}Ta("Are you sure you want to delete this invoice? This cannot be undone.",()=>{K(d),Ie("Invoice deleted successfully!")})},ba=d=>{if(!d){Ie("No member selected","error");return}if(!d.phone){Ie("This member has no phone number","error");return}kt(P=>({...P,[d.id]:!0}));const i=r.filter(P=>P.memberId===d.id&&(P.status==="Unpaid"||P.status==="Overdue"));if(i.length===0){Ie("This member has no outstanding payments","error"),kt(P=>({...P,[d.id]:!1}));return}const c=i.reduce((P,I)=>P+parseFloat(I.amount.replace("$","")),0),h=i.map((P,I)=>`${I+1}. *${P.period}*: ${P.amount} (Due: ${P.due}) - _${P.status}_`).join(`
`),m=`    

Dear *${d.name}*,

This is a friendly reminder about your outstanding subscription payments.

*Member ID:* ${d.id}
*Email:* ${d.email}
*Total Outstanding:* $${c}

* Outstanding Invoices (${i.length}):*
${h}

* Payment Methods Available:*
 FPS: ID 1234567
 PayMe: Scan QR code in portal
 Bank Transfer: HSBC 123-456789-001

* Member Portal:*
${window.location.origin}/member

Please settle your outstanding balance at your earliest convenience.

  

_Best regards,_
*Finance Team*
Subscription Manager HK`,S=`https://wa.me/${d.phone.replace(/[^0-9+]/g,"")}?text=${encodeURIComponent(m)}`;window.open(S,"_blank");const C={channel:"WhatsApp",type:"Manual Outstanding Reminder",memberId:d.id,memberEmail:d.email,memberName:d.name,message:`WhatsApp reminder sent to ${d.name} (${d.phone}) - $${c} due (${i.length} invoice${i.length>1?"s":""})`,status:"Delivered"};pe(C),Ie(` WhatsApp opened for ${d.name}! Review and send the message.`),setTimeout(()=>{kt(P=>({...P,[d.id]:!1}))},2e3)},Pi=(d,i=!1,c=null)=>{i||(Xa({type:c?"manual":"single",memberData:d||null,memberId:c||null}),$r([]),xn(!0))},li=d=>{Mn?.type==="bulk"?$r(i=>i.includes(d)?i.filter(c=>c!==d):[...i,d]):nl(d)},wa=async()=>{if(nn.length===0){Ie("Please select at least one channel","error");return}const d=nn.length===2?"Are you sure you want to send reminders via Email AND WhatsApp to ALL outstanding members?":nn.includes("Email")?"Are you sure you want to send reminder emails to ALL outstanding members?":"Are you sure you want to open WhatsApp for all outstanding members? This will open multiple WhatsApp windows.";Ta(d,async()=>{try{nn.includes("Email")&&await wo(),nn.includes("WhatsApp")&&(nn.includes("Email")&&await new Promise(i=>setTimeout(i,1e3)),await la()),$r([])}catch(i){console.error("Error sending bulk reminders:",i)}})},nl=async d=>{if(xn(!1),Mn?.memberData)d==="Email"?await _l(Mn.memberData):d==="WhatsApp"&&ba(Mn.memberData);else if(Mn?.memberId){if(d==="Email")await Jl(Mn.memberId);else if(d==="WhatsApp"){const i=s.find(c=>c.id===Mn.memberId);i&&ba(i)}}Xa(null),$r([])},_l=async d=>{if(!d){Ie("No member selected","error");return}const i=r.filter(w=>w.memberId===d.id&&(w.status==="Unpaid"||w.status==="Overdue"));if(i.length===0){Ie("This member has no outstanding payments","error");return}const c=i.reduce((w,S)=>w+parseFloat(S.amount.replace("$","").replace(",","")||0),0),h=i.map(w=>` ${w.period}: ${w.amount} (Due: ${w.due}) - ${w.status}`).join(`
`),m=i.map(w=>`<li style="margin-bottom: 10px;">
            <strong>${w.period}</strong>: ${w.amount} 
            <span style="color: #666;">(Due: ${w.due})</span> - 
            <strong style="color: ${w.status==="Overdue","#ef4444"}">${w.status}</strong>
          </li>`).join("");try{Ie("Sending reminder email...");const S=await fetch("http://localhost:4000/api/invoices/send-reminder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toEmail:d.email,toName:d.name,memberId:d.id,totalDue:`$${c.toFixed(2)}`,invoiceCount:i.length,invoiceListText:h,invoiceListHTML:m,paymentMethods:"FPS, PayMe, or Bank Transfer",portalLink:`${window.location.origin}/member`})}),C=await S.json();if(!S.ok)throw new Error(C.error||"Failed to send email");console.log(" Email sent successfully:",C);const P={channel:"Email",type:"Manual Outstanding Reminder",memberId:d.id,memberEmail:d.email,memberName:d.name,message:`Payment reminder: ${d.name} (${d.email}) - $${c.toFixed(2)} due (${i.length} invoice${i.length>1?"s":""})`,status:"Delivered"};pe(P),Ie(` Reminder email sent to ${d.name} for $${c.toFixed(2)} outstanding!`)}catch(w){console.error(" Email send error:",w);const S={channel:"Email",type:"Manual Outstanding Reminder",memberId:d.id,memberEmail:d.email,memberName:d.name,message:`Reminder attempt to ${d.name} - $${c.toFixed(2)} due`,status:"Failed"};pe(S),Ie(w.message||"Failed to send email. Please check email configuration.","error")}},So=d=>{J(d),Nt("member-detail")},xs=d=>(u||[]).find(c=>c.invoiceId===d.id&&(c.status==="Completed"||c.status==="Paid"))?"Paid":d.status,No=d=>r.filter(i=>i.memberId===d),ci=async d=>{try{const c=await fetch(`http://localhost:4000/api/members/${d}/approve`,{method:"PUT",headers:{"Content-Type":"application/json"}});if(!c.ok){const h=await c.json().catch(()=>({}));throw new Error(h.error||"Failed to approve member")}await E(),Ie("Member approved successfully! Approval email sent.")}catch(i){console.error("Error approving member:",i),Ie(i.message||"Failed to approve member","error")}};return t.jsxs(t.Fragment,{children:[t.jsx(Qc,{showCTA:!1,showLogout:!0,onLogout:Ai,showMobileMenu:!0,isMobileMenuOpen:Ls,onMobileMenuToggle:()=>Us(!Ls),isSticky:!0}),cs.isOpen&&t.jsx("div",{className:"confirmation-dialog-overlay",onClick:d=>{d.stopPropagation()},children:t.jsxs("div",{className:"confirmation-dialog",onClick:d=>d.stopPropagation(),children:[t.jsx("div",{className:"confirmation-dialog-content",children:t.jsx("p",{className:"confirmation-dialog-message",children:cs.message})}),t.jsx("div",{className:"confirmation-dialog-divider"}),t.jsxs("div",{className:"confirmation-dialog-actions",children:[t.jsx("button",{className:"secondary-btn",onClick:cs.onCancel||(()=>ka({isOpen:!1,message:"",onConfirm:null,onCancel:null})),children:"Cancel"}),t.jsx("button",{className:"danger-btn admin-confirmation-button-success",onClick:cs.onConfirm,children:cs.confirmButtonText||"Confirm"})]})]})}),fn&&t.jsx("div",{style:tt,onClick:d=>{d.target===d.currentTarget&&En(!1)},children:t.jsxs("div",{className:"card admin-template-preview-modal",style:{...Ve,background:"#ffffff",padding:"24px",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{style:gt,children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-eye",style:{color:"#5a31ea"}}),"Email Template Preview"]}),t.jsx("button",{type:"button",onClick:()=>En(!1),style:wt,onMouseEnter:d=>{d.target.style.background="#f3f4f6",d.target.style.color="#1a1a1a"},onMouseLeave:d=>{d.target.style.background="transparent",d.target.style.color="#666"},"aria-label":"Close template preview",children:""})]}),t.jsx("div",{className:"admin-template-preview-content",dangerouslySetInnerHTML:{__html:Yi()}}),t.jsx("div",{style:{marginTop:"24px",paddingTop:"20px",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"flex-end"},children:t.jsx("button",{className:"secondary-btn",onClick:()=>En(!1),children:"Close"})})]})}),hr&&t.jsx("div",{style:tt,onClick:()=>{xn(!1),Xa(null)},children:t.jsxs("div",{className:"admin-modal-card admin-modal-card--small",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{style:gt,children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle",display:"inline-block"},children:t.jsx("path",{d:"M2.01 21L23 12L2.01 3L2 10L17 12L2 14L2.01 21Z",fill:"#5a31ea"})}),"Select Channel"]}),t.jsx("button",{type:"button",onClick:()=>{xn(!1),Xa(null)},style:{background:"transparent",border:"none",fontSize:"1.5rem",color:"#666",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},onMouseEnter:d=>{d.target.style.background="#f3f4f6",d.target.style.color="#1a1a1a"},onMouseLeave:d=>{d.target.style.background="transparent",d.target.style.color="#666"},children:""})]}),t.jsx("p",{style:{marginBottom:"24px",color:"#666"},children:Mn?.type==="bulk"?nn.length>0?`Selected: ${nn.join(" and ")}. Click "Send" to send reminders to all outstanding members.`:"Select one or both channels to send reminders to all outstanding members:":`Select the channel to send reminder to ${Mn?.memberData?.name||"member"}:`}),t.jsx("div",{className:"admin-channel-buttons-container",children:Mn?.type==="bulk"?t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:`admin-channel-button ${nn.includes("Email")?"admin-channel-button--selected":""}`,onClick:()=>li("Email"),children:[t.jsxs("div",{className:"admin-channel-button-content",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M20 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM20 8L12 13L4 8V6L12 11L20 6V8Z",fill:"#ffffff"})}),t.jsx("span",{className:"admin-channel-button-text-white",children:"Email"})]}),nn.includes("Email")&&t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginLeft:"8px"},children:t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",fill:"#ffffff"})})]}),t.jsxs("button",{className:`admin-channel-button ${nn.includes("WhatsApp")?"admin-channel-button--selected":""}`,onClick:()=>li("WhatsApp"),children:[t.jsxs("div",{className:"admin-channel-button-content",children:[t.jsx("i",{className:"fab fa-whatsapp admin-channel-button-icon-white"}),t.jsx("span",{className:"admin-channel-button-text-white",children:"WhatsApp"})]}),nn.includes("WhatsApp")&&t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginLeft:"8px"},children:t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",fill:"#ffffff"})})]}),nn.length>0&&t.jsx("button",{className:`admin-channel-send-button ${ze||jt?"admin-channel-send-button-loading":""}`,onClick:wa,disabled:ze||jt,children:ze||jt?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"login-btn-spinner",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),t.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M2.01 21L23 12L2.01 3L2 10L17 12L2 14L2.01 21Z",fill:"#ffffff"})}),"Send"]})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:"admin-channel-action-button",onClick:()=>li("Email"),children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M20 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM20 8L12 13L4 8V6L12 11L20 6V8Z",fill:"currentColor"})}),"Email"]}),t.jsxs("button",{className:"admin-channel-action-button admin-channel-action-button--whatsapp",onClick:()=>li("WhatsApp"),children:[t.jsx("i",{className:"fab fa-whatsapp admin-channel-action-icon-large"}),"WhatsApp"]})]})}),t.jsx("div",{className:"admin-modal-footer",children:t.jsx("button",{className:"secondary-btn",onClick:()=>{xn(!1),Xa(null),$r([])},children:"Cancel"})})]})}),t.jsx(Wl,{message:Ha,type:Xr,onClose:()=>Va(null),duration:3e3}),t.jsxs("main",{className:"admin-main admin-main--sticky-header",children:[Ls&&t.jsx("div",{className:"mobile-menu-overlay",onClick:()=>Us(!1)}),t.jsxs("div",{className:"admin-layout",children:[t.jsxs("aside",{className:`admin-menu ${Ls?"mobile-open":""}`,onClick:d=>d.stopPropagation(),children:[t.jsx("p",{className:"eyebrow light",children:ye}),t.jsxs("nav",{className:"admin-nav-grouped",children:[t.jsx("div",{className:"nav-group",children:t.jsxs("button",{className:`admin-tab ${ct==="dashboard"?"active":""}`,onClick:()=>{Is("dashboard"),Us(!1)},children:[t.jsx("i",{className:"fas fa-chart-line admin-nav-icon"}),"Dashboard"]})}),ue.map(d=>t.jsxs("div",{className:"nav-group",children:[t.jsxs("button",{className:"nav-group-header",onClick:()=>{ne(i=>{if(i[d.id])return{...i,[d.id]:!1};{const h={};return ue.forEach(m=>{h[m.id]=m.id===d.id}),h}})},type:"button",children:[t.jsx("i",{className:`fas ${d.icon} admin-nav-icon`}),t.jsx("span",{className:"nav-group-label",children:d.label}),t.jsx("i",{className:`fas fa-chevron-down nav-group-chevron admin-nav-chevron ${Ot[d.id]?"expanded":""}`})]}),t.jsx("div",{className:`nav-group-items ${Ot[d.id]?"expanded":""}`,children:d.items.map(i=>t.jsx("button",{className:`admin-tab admin-tab-nested ${ct===i.id?"active":""}`,onClick:()=>{Is(i.id),Us(!1)},children:i.label},i.id))})]},d.id))]})]}),t.jsxs("div",{className:"admin-body",children:[ct==="dashboard"&&t.jsxs("article",{className:"screen-card",id:"dashboard",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Ra("dashboard"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-chart-line admin-section-icon"}),"Dashboard"]}),t.jsx("p",{children:"Key KPIs, monthly collections, recent payments."})]})}),t.jsxs("div",{className:"admin-dashboard-main-card",children:[t.jsxs("div",{className:"kpi-grid",children:[t.jsx(X,{icon:"fas fa-users",label:"Total Members",value:lr(s.length),description:"Active members",onClick:()=>Is("members")}),t.jsx(X,{icon:"fas fa-dollar-sign",iconClass:"admin-dashboard-kpi-icon--green",label:"Total Collected",value:`$${lr(ir.collectedMonth,{minimumFractionDigits:2,maximumFractionDigits:2})}`,description:`$${lr(ir.collectedYear,{minimumFractionDigits:2,maximumFractionDigits:2})} YTD`,onClick:()=>Is("payments")}),t.jsx(X,{icon:"fas fa-exclamation-triangle",iconClass:"admin-dashboard-kpi-icon--red",label:"Total Outstanding",value:`$${lr(ir.outstanding,{minimumFractionDigits:2,maximumFractionDigits:2})}`,description:`Expected $${lr(ir.expectedAnnual,{minimumFractionDigits:2,maximumFractionDigits:2})}`,onClick:()=>Is("members"),valueClass:ir.outstanding>0?"admin-dashboard-kpi-value--red":"admin-dashboard-kpi-value--default"}),t.jsx(X,{icon:"fas fa-exclamation-circle",iconClass:ir.overdueMembers>0?"admin-dashboard-kpi-icon--red":"admin-dashboard-kpi-icon--gray",label:"Overdue Members",value:lr(ir.overdueMembers),description:"Requires attention",onClick:()=>Is("members"),valueClass:ir.overdueMembers>0?"admin-dashboard-kpi-value--red":"admin-dashboard-kpi-value--default"})]}),t.jsxs("div",{className:"admin-dashboard-last-updated",children:["Last updated: ",xo]}),t.jsxs("div",{className:"admin-dashboard-chart-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-chart-bar admin-dashboard-chart-header-icon"}),"Monthly Collections  Last 12 Months"]}),t.jsx("p",{children:"Expected contribution is $800 per member per year"})]})}),t.jsxs("div",{ref:v,className:"chart admin-dashboard-chart-container",onMouseMove:d=>{Ur&&M(d)},children:[Uo.map(d=>t.jsx("div",{className:"admin-dashboard-chart-bar",style:{height:`${d.percentage}%`},"data-month":d.month,onMouseEnter:i=>{qr(d),M(i)},onMouseMove:i=>{Ur?.monthKey===d.monthKey&&M(i)},onMouseLeave:()=>qr(null)},d.monthKey)),Ur&&v.current&&(()=>{const c=v.current.getBoundingClientRect(),h=window.innerWidth,m=window.innerHeight;let w=xa.x+10,S=xa.y-50;return c.left+w+220>h-10&&(w=xa.x-220-10),c.left+w<10&&(w=10),c.top+S<10&&(S=10-c.top),c.top+S+40>m-10&&(S=xa.y-40-10,c.top+S<10&&(S=10-c.top)),t.jsxs("div",{className:"admin-dashboard-chart-tooltip",style:{left:`${w}px`,top:`${S}px`},children:[Ur.month," ",new Date().getFullYear(),": $",Ur.value.toFixed(2),Ur.count>0&&` (${Ur.count} payment${Ur.count>1?"s":""})`]})})()]})]}),t.jsxs("div",{className:"admin-dashboard-payments-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-clock admin-icon",style:{marginRight:"10px"}}),"Recent Payments"]}),t.jsx("button",{className:"text-btn",onClick:()=>Is("members"),children:"View all"})]}),t.jsx(os,{columns:["Member","Period","Amount","Method","Status","Date"],rows:kn.length>0?kn:[{Member:"No payments yet",Period:"-",Amount:"-",Method:"-",Status:"-",Date:"-"}]})]})]})]}),ct==="members"&&t.jsxs("article",{className:"screen-card",id:"members",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("div",{children:[Ra("members"),t.jsx("h3",{children:"Members List"}),t.jsx("p",{children:"Manage all members and their subscriptions."})]}),(s||[]).filter(d=>d.status==="Pending").length>0&&t.jsxs("div",{style:{padding:"10px 16px",background:"#fee2e2",borderRadius:"4px",fontSize:"0.875rem",fontWeight:"600",color:"#ef4444",border:"1px solid #ef4444"},children:[" Pending Approval: ",(s||[]).filter(d=>d.status==="Pending").length]}),t.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:t.jsx("button",{className:"primary-btn",onClick:()=>{dr(!0),Et(null),Gn({name:"",email:"",phone:"",status:"Active",balance:"250",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"})},children:"+ Add Member"})})]})}),dt&&t.jsx("div",{style:Le,onClick:d=>{d.target===d.currentTarget&&(Pn({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),$n(null),dr(!1),Et(null))},children:t.jsxs("div",{className:"card",style:vt,onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{style:ht,children:[t.jsxs("h4",{style:ot,children:[t.jsx("i",{className:"fas fa-user-plus","aria-hidden":"true"}),_n?"Edit Member":"Add New Member"]}),t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{Pn({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),$n(null),dr(!1),Et(null)},style:pt,onMouseEnter:d=>{d.target.style.background="#fee2e2"},onMouseLeave:d=>{d.target.style.background="transparent"},"aria-label":"Close add member form",children:""})]}),t.jsxs("form",{className:"form-grid",onSubmit:_n?Es:Ll,noValidate:!0,style:{padding:"24px"},children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user admin-members-form-icon","aria-hidden":"true"}),"Name ",t.jsx("span",{className:"admin-members-form-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:gn.name,onChange:d=>{Zs("name",d.target.value),(Wt.name||Kt==="name")&&(Pn(i=>({...i,name:!1})),Kt==="name"&&$n(null))},className:Wt.name&&Kt==="name"?"admin-members-form-input-error":"","aria-invalid":Wt.name,onFocus:d=>{Wt.name&&Kt==="name"&&(d.target.style.borderColor="#ef4444",d.target.style.boxShadow="0 0 0 3px rgba(239, 68, 68, 0.1)")},onBlur:d=>{Wt.name&&Kt==="name"&&(d.target.style.borderColor="#ef4444")}})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope","aria-hidden":"true",style:{marginRight:6}}),"Email ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"email",required:!0,value:gn.email,onChange:d=>{Zs("email",d.target.value),(Wt.email||Kt==="email")&&(Pn(i=>({...i,email:!1})),Kt==="email"&&$n(null))},style:{borderColor:Wt.email&&Kt==="email"?"#ef4444":void 0,borderWidth:Wt.email&&Kt==="email"?"2px":void 0,borderStyle:Wt.email&&Kt==="email"?"solid":void 0,outline:Wt.email&&Kt==="email"?"none":void 0,boxShadow:Wt.email&&Kt==="email"?"0 0 0 2px rgba(239, 68, 68, 0.2)":void 0},"aria-invalid":Wt.email,onFocus:d=>{Wt.email&&Kt==="email"&&(d.target.style.borderColor="#ef4444",d.target.style.outline="none",d.target.style.boxShadow="0 0 0 3px rgba(239, 68, 68, 0.1)")},onBlur:d=>{Wt.email&&Kt==="email"&&(d.target.style.borderColor="#ef4444",d.target.style.outline="none")}})]}),t.jsx("div",{children:t.jsx(Yc,{label:t.jsxs("span",{className:"admin-phone-input-label",children:[t.jsx("i",{className:"fas fa-phone admin-phone-input-label-icon","aria-hidden":"true"}),"WhatsApp Number ",t.jsx("span",{className:"admin-phone-input-required",children:"*"})]}),value:gn.phone,onChange:d=>{Zs("phone",d.target.value),(Wt.phone||Kt==="phone")&&(Pn(i=>({...i,phone:!1})),Kt==="phone"&&$n(null))},onError:d=>{Ie(d,"error"),Pn(i=>({...i,phone:!0})),$n("phone")},required:!0,className:Wt.phone&&Kt==="phone"?"admin-phone-input-error":"",placeholder:"Enter phone number"})}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-toggle-on","aria-hidden":"true",style:{marginRight:6}}),"Status"]}),t.jsxs("select",{value:gn.status,onChange:d=>Zs("status",d.target.value),children:[t.jsx("option",{children:"Active"}),t.jsx("option",{children:"Inactive"}),t.jsx("option",{children:"Pending"})]})]}),!_n&&t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-id-card","aria-hidden":"true",style:{marginRight:6}}),"Subscription Type"]}),t.jsxs("select",{value:gn.subscriptionType||"Lifetime",onChange:d=>Zs("subscriptionType",d.target.value),children:[t.jsx("option",{value:"Lifetime",children:"Lifetime - $250/year"}),t.jsx("option",{value:"Yearly + Janaza Fund",children:"Yearly + Janaza Fund - $500/year"})]})]}),!_n&&t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-wallet","aria-hidden":"true",style:{marginRight:6}}),"Balance"]}),t.jsx("input",{type:"number",inputMode:"numeric",value:gn.balance,readOnly:!0,style:{background:"#f9fafb",cursor:"not-allowed",color:"#666"}})]}),!_n&&t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-day","aria-hidden":"true",style:{marginRight:6}}),"Start Date ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"date",value:gn.nextDue,onChange:d=>{const i=d.target.value;Zs("nextDue",i),(Wt.nextDue||Kt==="nextDue")&&(Pn(c=>({...c,nextDue:!1})),Kt==="nextDue"&&$n(null))},onBlur:d=>{const i=d.target.value;if(i){const c=new Date(i);if(isNaN(c.getTime())){Ie("Invalid date format. Please enter a valid date (YYYY-MM-DD)","error");return}const[h,m,w]=i.split("-").map(Number);if(m<1||m>12){Ie("Invalid month. Please enter a month between 01 and 12","error");return}if(w<1||w>31){Ie("Invalid day. Please enter a valid day for the selected month","error");return}const S=new Date(h,m,0).getDate();if(w>S){Ie(`Invalid date. ${m}/${h} only has ${S} days`,"error");return}}},style:{borderRadius:"4px",width:"100%",borderColor:Wt.nextDue&&Kt==="nextDue"?"#ef4444":void 0,borderWidth:Wt.nextDue&&Kt==="nextDue"?"2px":void 0,borderStyle:Wt.nextDue&&Kt==="nextDue"?"solid":void 0,outline:Wt.nextDue&&Kt==="nextDue"?"none":void 0,boxShadow:Wt.nextDue&&Kt==="nextDue"?"0 0 0 2px rgba(239, 68, 68, 0.2)":void 0},"aria-invalid":Wt.nextDue,onFocus:d=>{Wt.nextDue&&Kt==="nextDue"&&(d.target.style.borderColor="#ef4444",d.target.style.outline="none",d.target.style.boxShadow="0 0 0 3px rgba(239, 68, 68, 0.1)")}})]}),!_n&&t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-day","aria-hidden":"true",style:{marginRight:6}}),"End Date (optional)"]}),t.jsx("input",{type:"date",value:gn.lastPayment,onChange:d=>{const i=d.target.value;Zs("lastPayment",i),(Wt.lastPayment||Kt==="lastPayment")&&(Pn(c=>({...c,lastPayment:!1})),Kt==="lastPayment"&&$n(null))},onBlur:d=>{const i=d.target.value;if(i){const c=new Date(i);if(isNaN(c.getTime())){Ie("Invalid date format. Please enter a valid date (YYYY-MM-DD)","error");return}const[h,m,w]=i.split("-").map(Number);if(m<1||m>12){Ie("Invalid month. Please enter a month between 01 and 12","error");return}if(w<1||w>31){Ie("Invalid day. Please enter a valid day for the selected month","error");return}const S=new Date(h,m,0).getDate();if(w>S){Ie(`Invalid date. ${m}/${h} only has ${S} days`,"error");return}}},style:{borderRadius:"4px",width:"100%",borderColor:Wt.lastPayment&&Kt==="lastPayment"?"#ef4444":void 0,borderWidth:Wt.lastPayment&&Kt==="lastPayment"?"2px":void 0,borderStyle:Wt.lastPayment&&Kt==="lastPayment"?"solid":void 0,outline:Wt.lastPayment&&Kt==="lastPayment"?"none":void 0,boxShadow:Wt.lastPayment&&Kt==="lastPayment"?"0 0 0 2px rgba(239, 68, 68, 0.2)":void 0},"aria-invalid":Wt.lastPayment&&Kt==="lastPayment",onFocus:d=>{Wt.lastPayment&&Kt==="lastPayment"&&(d.target.style.borderColor="#ef4444",d.target.style.outline="none",d.target.style.boxShadow="0 0 0 3px rgba(239, 68, 68, 0.1)")}})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{Pn({name:!1,email:!1,phone:!1,nextDue:!1,lastPayment:!1}),$n(null),dr(!1),Et(null)},children:"Cancel"}),t.jsx("button",{type:"submit",className:"primary-btn",disabled:Xs,style:{position:"sticky",bottom:0,backgroundColor:"#5a31ea",zIndex:1},children:Xs?"Saving...":_n?"Update Member":"Add Member"})]})]})]})}),s.filter(d=>d.status==="Pending").length>0&&t.jsxs("div",{style:{background:"#fee2e2",border:"2px solid #ef4444",borderRadius:"12px",padding:"24px",marginBottom:"24px"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:t.jsxs("h4",{style:{margin:0,color:"#ef4444",display:"flex",alignItems:"center",gap:"8px"},children:[" Pending Approval (",s.filter(d=>d.status==="Pending").length,")"]})}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:s.filter(d=>d.status==="Pending").map(d=>t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",background:"#fff",borderRadius:"4px",border:"1px solid #ef4444",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("div",{style:{flex:"1 1 300px"},children:[t.jsx("div",{style:{fontWeight:"600",marginBottom:"4px",fontSize:"1rem"},children:d.name}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"4px"},children:d.email}),t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"4px"},children:[" ",d.phone||"No phone"]}),t.jsxs("div",{style:{fontSize:"0.8125rem",color:"#ef4444",marginTop:"8px"},children:[" Subscription: ",d.subscriptionType||"Lifetime"]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:[t.jsx("button",{className:"primary-btn",onClick:()=>ci(d.id),style:{padding:"10px 20px",borderRadius:"4px",fontWeight:"600",fontSize:"0.875rem"},children:" Approve"}),t.jsx("button",{className:"ghost-btn",onClick:()=>So(d),style:{padding:"10px 20px",borderRadius:"4px",fontWeight:"600",fontSize:"0.875rem"},children:"View Details"})]})]},d.id))})]}),t.jsx("div",{className:"admin-members-search-card",children:t.jsxs("div",{className:"admin-members-search-container",children:[t.jsxs("label",{className:"admin-members-search-label",children:[t.jsx("span",{className:"admin-members-search-label-text",children:" Search Members:"}),t.jsx("input",{type:"text",placeholder:"Search by member name...",value:Za,onChange:d=>Ia(d.target.value),style:{flex:"1",padding:"10px 16px",border:"1px solid #e0e0e0",borderRadius:"4px",fontSize:"0.875rem",outline:"none",transition:"border-color 0.2s"},onFocus:d=>d.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1), 0 4px 12px rgba(90, 49, 234, 0.12)",onBlur:d=>d.target.style.borderColor="#e0e0e0"})]}),Za&&t.jsx("button",{type:"button",onClick:()=>Ia(""),style:{padding:"10px 16px",background:"#f9fafb",border:"1px solid #e0e0e0",borderRadius:"4px",cursor:"pointer",fontSize:"0.875rem",color:"#666"},children:"Clear"}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:`${s.filter(i=>!Za||i.name?.toLowerCase().includes(Za.toLowerCase())).length} of ${s.length} members`})]})}),t.jsx("div",{className:"admin-members-table-card",children:t.jsx("div",{className:"table-wrapper",children:(()=>{const i=[...s.filter(P=>!Za||P.name?.toLowerCase().includes(Za.toLowerCase())).filter(P=>{if(ea==="All")return!0;const I=P.balance?.toString()||"",T=parseFloat(I.replace(/[^0-9.]/g,"")||0)||0;return(P.status==="Inactive"?"Inactive":P.status==="Pending"?"Pending":I.toLowerCase().includes("overdue")||T>0?"Overdue":"Active")===ea})].sort((P,I)=>{if(ni==="none")return 0;const T=V=>{if(!V)return 0;const de=V.toString(),be=parseFloat(de.replace(/[^0-9.]/g,"")||0);return isNaN(be)?0:be},te=T(P.balance),ie=T(I.balance);return ni==="asc"?te-ie:ni==="desc"?ie-te:0}),c=Math.ceil(i.length/sa)||1,h=Math.min(Vn,c),m=(h-1)*sa,w=m+sa,S=i.slice(m,w),C=Ct==="Owner";return t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"16px",display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a"},children:"Filter by Status:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Active",label:"Active"},{value:"Overdue",label:"Overdue"},{value:"Inactive",label:"Inactive"},{value:"Pending",label:"Pending"}].map(P=>t.jsx("button",{type:"button",onClick:()=>ho(P.value),style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:ea===P.value?"#5a31ea":"transparent",color:ea===P.value?"#ffffff":"#6b7280",boxShadow:ea===P.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:I=>{ea!==P.value&&(I.target.style.background="#e5e7eb",I.target.style.color="#374151")},onMouseLeave:I=>{ea!==P.value&&(I.target.style.background="transparent",I.target.style.color="#6b7280")},children:P.label},P.value))})]}),t.jsxs("label",{className:"member-sort-by-outstanding",style:{fontSize:"0.875rem",color:"#666"},children:["Sort by Outstanding:",t.jsxs("select",{value:ni,onChange:P=>ri(P.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #e5e7eb",background:"#ffffff",fontSize:"0.875rem"},children:[t.jsx("option",{value:"none",children:"None"}),t.jsx("option",{value:"asc",children:"Lowest first"}),t.jsx("option",{value:"desc",children:"Highest first"})]})]})]}),i.length===0?t.jsx("div",{className:"admin-empty-state",children:t.jsx("p",{className:"admin-empty-state-message",children:ea!=="All"?`No ${ea.toLowerCase()} members found.`:"No members found."})}):t.jsxs(t.Fragment,{children:[t.jsx(os,{columns:["Member Name","Status","Outstanding","Actions"],rows:S.map(P=>{const I=P.balance?.toString()||"",T=parseFloat(I.replace(/[^0-9.]/g,"")||0)||0,te=P.status==="Inactive"?"Inactive":P.status==="Pending"?"Pending":I.toLowerCase().includes("overdue")||T>0?"Overdue":"Active",ie=te==="Active"?"badge badge-active":te==="Overdue"?"badge badge-overdue":te==="Inactive"?"badge badge-inactive":"badge badge-pending";return{"Member Name":P.name,Status:{render:()=>t.jsx("span",{className:ie,children:te})},Outstanding:{render:()=>t.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums"},children:t.jsxs("span",{style:{color:T>0?"#ef4444":"#111827",fontWeight:T>0?600:500},children:["$",lr(T,{minimumFractionDigits:2,maximumFractionDigits:2})]})})},Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",justifyContent:"flex-end"},children:[t.jsx("button",{className:"ghost-btn icon-btn icon-btn--view",onClick:()=>So(P),title:"View member","aria-label":"View member",children:t.jsx("i",{className:"fas fa-eye","aria-hidden":"true"})}),t.jsx("button",{className:"secondary-btn icon-btn icon-btn--edit",onClick:()=>oi(P),title:"Edit member","aria-label":"Edit member",children:t.jsx("i",{className:"fas fa-pen","aria-hidden":"true"})}),C&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",style:{color:"#ef4444"},onClick:()=>{Ta(`Delete member ${P.name}? This cannot be undone.`,()=>yn(P.id))},"aria-label":"Delete member",children:t.jsx(_1,{text:"Delete member",position:"top",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})})]})}}})}),c>0&&i.length>0&&t.jsx(uc,{currentPage:h,totalPages:c,onPageChange:Qn,pageSize:sa,onPageSizeChange:To,totalItems:i.length})]})]})})()})})]}),ct==="member-detail"&&q&&t.jsxs("article",{className:"screen-card",id:"member-detail",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Ra("member-detail"),t.jsx("h3",{children:"Member Detail"}),t.jsx("p",{children:"360 view with invoices, payment history, communications."})]})}),t.jsxs("div",{className:"admin-members-detail-card",children:[t.jsxs("div",{className:"admin-members-detail-header",children:[t.jsxs("div",{className:"admin-members-detail-header-info",children:[t.jsx("div",{className:"admin-members-detail-avatar",children:q.name.split(" ").map(d=>d[0]).join("")}),t.jsxs("div",{children:[t.jsx("h4",{className:"admin-members-detail-name",children:q.name}),t.jsxs("p",{className:"admin-members-detail-meta",children:["Member ID ",q.id,"  ",q.email,"  WhatsApp ",q.phone]})]})]}),t.jsx("div",{className:"admin-members-detail-header-actions",children:!De&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"secondary-btn",onClick:()=>{fr({...mt,memberId:q.id}),Nt("invoice-builder")},children:"Create Invoice"}),t.jsxs("button",{className:"primary-btn admin-members-detail-reminder-btn",onClick:()=>Pi(q,!1),title:"Send reminder",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M12 22C13.1 22 14 21.1 14 20H10C10 21.1 10.89 22 12 22ZM18 16V11C18 7.93 16.36 5.36 13.5 4.68V4C13.5 3.17 12.83 2.5 12 2.5C11.17 2.5 10.5 3.17 10.5 4V4.68C7.63 5.36 6 7.92 6 11V16L4 18V19H20V18L18 16Z",fill:"#ffffff"})}),"Send Reminder"]})]})})]}),t.jsxs("div",{className:"kpi-grid",children:[t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-exclamation-triangle admin-dashboard-kpi-icon--red"}),"Outstanding Balance"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--red",children:`$${No(q.id).filter(h=>{const m=xs(h);return m==="Unpaid"||m==="Overdue"}).reduce((h,m)=>{const w=parseFloat(m.amount?.replace(/[^0-9.]/g,"")||0);return h+w},0).toFixed(2)}`})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-calendar-day admin-dashboard-kpi-icon"}),"Next Due Date"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value",children:q.nextDue})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-dollar-sign admin-dashboard-kpi-icon--green"}),"Last Payment"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value",children:q.lastPayment})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-info-circle admin-dashboard-kpi-icon"}),"Status"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value",children:q.status})]})]}),(()=>{const i=No(q.id).filter(h=>xs(h)==="Overdue"),c=i.reduce((h,m)=>{const w=parseFloat(m.amount?.replace(/[^0-9.]/g,"")||0);return h+w},0);return i.length===0&&c<=0?null:t.jsxs("div",{style:{marginTop:"20px",padding:"16px 20px",borderRadius:"8px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.4)",color:"#ef4444",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("i",{className:"fas fa-exclamation-triangle","aria-hidden":"true",style:{fontSize:"1.125rem"}}),t.jsxs("span",{children:["This member has"," ",t.jsxs("strong",{children:[i.length," overdue invoice",i.length>1?"s":""]})," ","totaling"," ",t.jsxs("strong",{children:["$",lr(c,{minimumFractionDigits:2,maximumFractionDigits:2})]}),". Please follow up as soon as possible."]})]})})(),t.jsxs("div",{className:"tabs",children:[t.jsx("button",{className:`tab ${It==="Invoices"?"active":""}`,onClick:()=>Jt("Invoices"),children:"Invoices"}),t.jsx("button",{className:`tab ${It==="Payment History"?"active":""}`,onClick:()=>Jt("Payment History"),children:"Payment History"}),t.jsx("button",{className:`tab ${It==="Communication"?"active":""}`,onClick:()=>Jt("Communication"),children:"Communication"}),t.jsx("button",{className:`tab ${It==="Activity"?"active":""}`,onClick:()=>Jt("Activity"),children:"Activity"}),t.jsx("button",{className:`tab ${It==="Notes"?"active":""}`,onClick:()=>Jt("Notes"),children:"Notes"})]}),It==="Invoices"&&t.jsxs("div",{className:"tab-panel",children:[t.jsxs("div",{className:"table-header",children:[t.jsxs("div",{children:[t.jsx("h4",{children:"Invoices"}),(()=>{const i=No(q.id).filter(h=>{const m=xs(h);return m==="Unpaid"||m==="Overdue"}),c=i.reduce((h,m)=>{const w=parseFloat(m.amount?.replace(/[^0-9.]/g,"")||0);return h+w},0);return t.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"0.875rem",color:"#666",fontWeight:"500"},children:["Total Outstanding: ",t.jsxs("strong",{style:{color:"#1a1a1a"},children:["$",c.toFixed(2)]}),i.length>0&&t.jsxs("span",{style:{marginLeft:"8px",color:"#666"},children:["(",i.length," unpaid invoice",i.length>1?"s":"",")"]})]})})()]}),t.jsx("div",{children:t.jsx("button",{className:"secondary-btn",onClick:()=>{fr({...mt,memberId:q.id}),Nt("invoice-builder")},children:"Create Invoice"})})]}),t.jsx(os,{columns:["Invoice #","Period","Amount","Status","Due Date","Actions"],rows:No(q.id).map(d=>{const i=xs(d),c=i==="Unpaid"||i==="Overdue",h=i==="Paid"||i==="Completed";return{"Invoice #":d.id,Period:d.period,Amount:d.amount,Status:{render:()=>t.jsx("span",{className:Wa[d.status],children:d.status})},"Due Date":d.due,Screenshot:d.screenshot?{render:()=>t.jsx("button",{onClick:()=>{const m=window.open();m&&m.document.write(`
                                      <html>
                                        <head><title>Payment Screenshot - ${d.id}</title></head>
                                        <body style="margin:0;padding:20px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:100vh;">
                                          <img src="${d.screenshot}" alt="Payment Screenshot" style="max-width:100%;max-height:90vh;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);" />
                                        </body>
                                      </html>
                                    `)},style:{padding:"4px 10px",background:"#5a31ea",color:"#ffffff",border:"none",borderRadius:"4px",fontSize:"0.85rem",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.3)"},onMouseEnter:m=>{m.target.style.background="#4a28d0",m.target.style.boxShadow="0 4px 8px rgba(90, 49, 234, 0.4)"},onMouseLeave:m=>{m.target.style.background="#5a31ea",m.target.style.boxShadow="0 2px 4px rgba(90, 49, 234, 0.3)"},children:t.jsx("i",{className:"fas fa-image","aria-hidden":"true"})})}:"-",Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[c&&!De&&t.jsx("button",{className:"primary-btn",style:{padding:"4px 10px",fontSize:"0.85rem",background:"#10b981",border:"none",color:"#ffffff",fontWeight:"600",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(16, 185, 129, 0.3)"},onMouseEnter:m=>{m.target.style.background="#059669",m.target.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.4)"},onMouseLeave:m=>{m.target.style.background="#10b981",m.target.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.3)"},onClick:()=>{Ts(d),pa({paymentMethod:"",imageFile:null,imagePreview:null,imageUrl:d.screenshot||"",reference:"",selectedAdminId:"",adminMobile:""}),vr({image:!1,reference:!1,selectedAdminId:!1,adminMobile:!1}),Ka(null),Ja(!0)},children:"Pay"}),!h&&!De&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",onClick:()=>{Ta(`Delete invoice ${d.id}? This cannot be undone.`,()=>Er(d.id))},title:"Delete Invoice","aria-label":"Delete Invoice",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}})})]}),It==="Payment History"&&t.jsx("div",{className:"tab-panel tab-panel--payment-history",children:(()=>{const d=u.filter(i=>i.memberId===q.id||i.memberEmail===q.email||i.member===q.name).sort((i,c)=>{const h=new Date(i.date||0);return new Date(c.date||0)-h});return d.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666"},children:t.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"No payment history available for this member."})}):t.jsx("div",{className:"payment-history-list",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:d.map((i,c)=>t.jsxs("div",{className:"payment-history-card",onClick:()=>{Os(i),ga(!0)},style:{background:"#fff",border:"none",borderRadius:"12px",padding:"20px",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.08)",cursor:"pointer"},onMouseEnter:h=>{h.currentTarget.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.15)",h.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:h=>{h.currentTarget.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.08)",h.currentTarget.style.transform="translateY(0)"},children:[t.jsxs("div",{className:"payment-history-card__main",style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[t.jsx("div",{children:t.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#000"},children:i.member||i.memberName||i.memberId||"N/A"})}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.amount&&t.jsx("strong",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#5a31ea"},children:i.amount}),i.status&&t.jsx("span",{className:`badge ${i.status==="Paid"||i.status==="Completed"?"badge-paid":i.status==="Pending Verification"||i.status==="Pending"?"badge-pending":"badge-unpaid"}`,style:{fontSize:"0.75rem",padding:"4px 10px"},children:i.status}),t.jsx("i",{className:"fas fa-chevron-right",style:{fontSize:"0.875rem",color:"#999"}})]})]}),t.jsxs("div",{style:{marginTop:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",flex:1},children:[i.date&&t.jsx("span",{style:{fontSize:"0.8125rem",color:"#666"},children:i.date}),t.jsx("span",{style:{fontSize:"0.8125rem",color:"#666"},children:Hs(i)})]}),i.screenshot&&t.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"4px",overflow:"hidden",border:"2px solid #e0e0e0",flexShrink:0,marginLeft:"12px"},children:t.jsx("img",{src:i.screenshot,alt:"Payment attachment",style:{width:"100%",height:"100%",objectFit:"cover"}})})]})]},c))})})()}),It==="Communication"&&t.jsxs("div",{className:"tab-panel",children:[t.jsx("h4",{children:"Communication History"}),(()=>{const d=x.filter(m=>m.memberId===q.id||m.memberEmail&&q.email&&m.memberEmail.toLowerCase()===q.email.toLowerCase()||m.memberName&&q.name&&m.memberName.toLowerCase()===q.name.toLowerCase()).sort((m,w)=>{const S=new Date(m.date||m.timestamp||0);return new Date(w.date||w.timestamp||0)-S});if(d.length===0)return t.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666"},children:t.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"No communication history available for this member."})});const i=d.length,c=d.filter(m=>m.channel==="Email").length,h=d.filter(m=>m.channel==="WhatsApp").length;return t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[t.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px",padding:"12px 16px",borderRadius:"4px",background:"#f9fafb",border:"1px solid #e5e7eb"},children:[t.jsx("span",{style:{fontWeight:600,fontSize:"0.95rem"},children:"Reminders sent to this member:"}),t.jsxs("span",{className:"badge badge-paid",children:["Total: ",i]}),t.jsxs("span",{className:"badge badge-unpaid",children:["Email: ",c]}),t.jsxs("span",{className:"badge badge-pending",children:["WhatsApp: ",h]})]}),t.jsx("ul",{className:"timeline",children:d.map((m,w)=>t.jsxs("li",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:m.channel||"N/A"}),m.type?`  ${m.type}`:"","  ",m.message||"N/A","  ",m.date?new Date(m.date).toLocaleString():m.timestamp?new Date(m.timestamp).toLocaleString():"N/A"]}),m.status&&t.jsx("span",{className:Wa[m.status]||"badge",children:m.status})]},w))})]})})()]}),It==="Activity"&&t.jsxs("div",{className:"tab-panel",children:[t.jsx("h4",{children:"Activity Timeline"}),(()=>{const d=No(q.id).map(m=>{const w=xs(m),S=m.createdAt||m.date||m.due||null;return{type:"Invoice",date:S?new Date(S):null,label:`Invoice ${m.id||""}  ${m.period||""}  ${m.amount||""}  ${w||"N/A"}`}}),i=(u||[]).filter(m=>m.memberId===q.id||m.memberEmail&&q.email&&m.memberEmail.toLowerCase()===q.email.toLowerCase()||m.member&&q.name&&m.member.toLowerCase()===q.name.toLowerCase()).map(m=>({type:"Payment",date:m.date?new Date(m.date):null,label:`${m.method||"Payment"}  ${m.amount||""}  ${m.status||""}`})),c=(x||[]).filter(m=>{const w=m.memberEmail&&q.email&&m.memberEmail.toLowerCase()===q.email.toLowerCase(),S=m.memberName&&q.name&&m.memberName.toLowerCase()===q.name.toLowerCase();return w||S}).map(m=>({type:m.type||m.channel||"Communication",date:m.date?new Date(m.date):m.timestamp?new Date(m.timestamp):null,label:m.message||"Communication sent"})),h=[...d,...i,...c].filter(m=>m.date).sort((m,w)=>w.date-m.date);return h.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666"},children:t.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"No activity recorded for this member yet."})}):t.jsx("div",{className:"payment-history-list",children:h.map((m,w)=>t.jsxs("div",{className:"payment-history-card",children:[t.jsx("div",{className:"payment-card-header",children:t.jsxs("div",{className:"payment-card-main",children:[t.jsx("span",{className:"payment-amount",children:m.type}),t.jsx("span",{className:"payment-meta",children:m.date?.toLocaleString()})]})}),t.jsx("div",{className:"payment-card-body",children:t.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#4b5563"},children:m.label})})]},w))})})()]}),It==="Notes"&&t.jsxs("div",{className:"tab-panel",children:[t.jsx("h4",{children:"Internal Notes"}),t.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"12px"},children:["These notes are ",t.jsx("strong",{children:"internal only"})," and are not visible to members."]}),t.jsx("textarea",{value:Ma,onChange:d=>ai(d.target.value),rows:5,className:"settings-form__input",placeholder:"Add any internal notes about this member (e.g., context, special arrangements, follow-up actions)...",disabled:De}),!De&&t.jsx("div",{style:{marginTop:"12px",textAlign:"right"},children:t.jsx("button",{className:"primary-btn",onClick:()=>{const d={...Ea,[q.id]:Ma};es(d),localStorage.setItem("memberNotes",JSON.stringify(d)),Ie("Internal note saved")},children:"Save Note"})}),De&&t.jsx("p",{style:{marginTop:"8px",fontSize:"0.8rem",color:"#6b7280"},children:"You have read-only access. Contact an Owner or Admin to update notes."})]})]})]}),ct==="invoice-builder"&&t.jsxs("article",{className:"screen-card",id:"invoice-builder",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Ra("invoice-builder"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-file-invoice",style:{marginRight:"10px"}}),"Invoice Builder"]}),t.jsx("p",{children:"Create invoices for Lifetime or Yearly + Janaza Fund subscriptions."})]})}),ur&&cn&&t.jsxs("div",{style:{marginBottom:"24px",padding:"24px",background:"#f0f9ff",borderRadius:"12px",border:"2px solid #5a31ea",boxShadow:"0 4px 12px rgba(90, 49, 234, 0.15)"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#5a31ea",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:"#fff"},children:""}),t.jsxs("div",{children:[t.jsx("h4",{style:{margin:0,fontSize:"1.25rem",fontWeight:"700",color:"#1a1a1a"},children:"Invoice Has Been Created"}),t.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"0.875rem",color:"#666"},children:["Invoice for ",cn.memberName," - ",cn.period," (",cn.amount,")"]})]})]})}),t.jsxs("div",{className:"success-card-actions",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",marginTop:"16px"},children:[t.jsxs("button",{className:"primary-btn",onClick:()=>{cn.member&&(So(cn.member),Nt("member-detail"),Na(!1))},style:{padding:"12px 20px",fontSize:"0.9375rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px"}}),"Member Detail"]}),t.jsxs("button",{className:"secondary-btn",onClick:async()=>{cn.member&&await _l(cn.member)},style:{padding:"12px 20px",fontSize:"0.9375rem",fontWeight:"600"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M20 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM20 8L12 13L4 8V6L12 11L20 6V8Z",fill:"currentColor"})}),"Send Reminder"]}),t.jsx("button",{className:"ghost-btn",onClick:()=>{Na(!1),Tn(null)},style:{padding:"12px 20px",fontSize:"0.9375rem",fontWeight:"600"},children:"Close"})]})]}),t.jsxs("form",{className:"card form-grid",onSubmit:An,noValidate:!0,style:{padding:"20px",background:"#ffffff",boxShadow:"0 4px 16px rgba(90, 49, 234, 0.1)"},children:[t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-hashtag",style:{marginRight:"8px",color:"#5a31ea"}}),"Invoice Number"]}),t.jsx("input",{type:"text",value:Ri,readOnly:!0,className:"mono-input",style:{color:"#6b7280",background:"#f3f4f6",cursor:"not-allowed"}})]}),t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Member ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{position:"relative"},"data-member-dropdown":!0,children:[t.jsxs("div",{onClick:()=>Ni(!Kn),style:{padding:"14px 16px",border:"none",borderRadius:"10px",background:"#f8f9ff",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",color:mt.memberId?"#1a1a1a":"#9ca3af",minHeight:"48px",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.08)",transition:"all 0.2s ease"},onMouseEnter:d=>{d.currentTarget.style.boxShadow="0 4px 8px rgba(90, 49, 234, 0.12)"},onMouseLeave:d=>{d.currentTarget.style.boxShadow="0 2px 4px rgba(90, 49, 234, 0.08)"},children:[t.jsx("span",{children:mt.memberId?(()=>{const d=s.find(i=>i.id===mt.memberId);return d?`${d.name} (${d.id})`:"Select Member"})():"Select Member"}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#5a31ea",transition:"transform 0.2s ease",transform:Kn?"rotate(180deg)":"rotate(0deg)",display:"inline-block"},children:""})]}),Kn&&t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#fff",border:"none",borderRadius:"10px",marginTop:"8px",maxHeight:"300px",overflow:"hidden",zIndex:1e3,boxShadow:"0 8px 24px rgba(90, 49, 234, 0.15)"},children:[t.jsxs("div",{style:{padding:"12px",borderBottom:"none",background:"#ffffff",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.05)"},children:[t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:"text",placeholder:" Search member by name or ID...",value:Hn,onChange:d=>Cs(d.target.value),onClick:d=>d.stopPropagation(),onKeyDown:d=>d.stopPropagation(),autoFocus:!0,style:{width:"100%",padding:"12px 36px 12px 16px",border:"none",borderRadius:"4px",fontSize:"0.875rem",outline:"none",background:"#ffffff",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.08)",color:"#1a1a1a"},onFocus:d=>{d.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1), 0 4px 12px rgba(90, 49, 234, 0.12)"},onBlur:d=>{d.target.style.boxShadow="0 2px 4px rgba(90, 49, 234, 0.08)"}}),Hn&&t.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),Cs("")},style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",color:"#666",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center"},title:"Clear search",children:""})]}),Hn&&t.jsxs("div",{style:{marginTop:"8px",fontSize:"0.75rem",color:"#666"},children:[s.filter(d=>!Hn||d.name?.toLowerCase().includes(Hn.toLowerCase())||d.id?.toLowerCase().includes(Hn.toLowerCase())).length," member",s.filter(d=>!Hn||d.name?.toLowerCase().includes(Hn.toLowerCase())||d.id?.toLowerCase().includes(Hn.toLowerCase())).length!==1?"s":""," found"]})]}),t.jsxs("div",{style:{maxHeight:"250px",overflowY:"auto"},children:[s.filter(d=>!Hn||d.name?.toLowerCase().includes(Hn.toLowerCase())||d.id?.toLowerCase().includes(Hn.toLowerCase())).map(d=>t.jsxs("div",{onClick:()=>{fr({...mt,memberId:d.id}),Ni(!1),Cs("")},style:{padding:"14px 16px",cursor:"pointer",borderBottom:"none",background:mt.memberId===d.id?"#f0f4ff":"#fff",transition:"all 0.2s",boxShadow:mt.memberId===d.id?"0 2px 4px rgba(90, 49, 234, 0.1)":"none"},onMouseEnter:i=>{mt.memberId!==d.id&&(i.currentTarget.style.background="#f8f9ff")},onMouseLeave:i=>{mt.memberId!==d.id&&(i.currentTarget.style.background="#fff")},children:[t.jsx("div",{style:{fontWeight:"500",color:"#1a1a1a"},children:d.name}),t.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"2px"},children:[d.id," ",d.email?` ${d.email}`:""]})]},d.id)),s.filter(d=>!Hn||d.name?.toLowerCase().includes(Hn.toLowerCase())||d.id?.toLowerCase().includes(Hn.toLowerCase())).length===0&&t.jsx("div",{style:{padding:"16px",textAlign:"center",color:"#999",fontSize:"0.875rem"},children:"No members found"})]})]})]}),!mt.memberId&&t.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"4px",display:"none"},children:"Please select a member"})]}),t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-id-card",style:{marginRight:"8px",color:"#5a31ea"}}),"Invoice Type ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{required:!0,value:mt.invoiceType,onChange:d=>{const i=d.target.value;fr({...mt,invoiceType:i,amount:i==="Yearly + Janaza Fund"?"500":"250"})},style:{color:"#1a1a1a",background:"#ffffff",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.08)",transition:"all 0.2s"},className:"mono-input",onFocus:d=>{d.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1), 0 4px 12px rgba(90, 49, 234, 0.12)"},onBlur:d=>{d.target.style.boxShadow="0 2px 4px rgba(90, 49, 234, 0.08)"},children:[t.jsx("option",{value:"",children:"Select Invoice Type"}),t.jsx("option",{value:"Lifetime",children:"Lifetime - $250"}),t.jsx("option",{value:"Yearly + Janaza Fund",children:"Yearly + Janaza Fund - $500"})]})]}),t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-calendar",style:{marginRight:"8px",color:"#5a31ea"}}),"Period ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"month",required:!0,value:mt.period?(()=>{try{if(mt.period.match(/^[A-Za-z]{3} \d{4}$/)){const d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=mt.period.split(" "),c=i[0],h=parseInt(i[1],10),m=d.findIndex(w=>w.toLowerCase()===c.toLowerCase());if(m!==-1&&!isNaN(h)&&h>0){const w=String(m+1).padStart(2,"0");return`${h}-${w}`}}if(mt.period.match(/^\d{4}-\d{2}$/))return mt.period}catch(d){console.error("Error parsing period:",d)}return""})():"",onChange:d=>{const i=d.target.value;if(i&&i.match(/^\d{4}-\d{2}$/))try{const c=new Date(i+"-01");if(isNaN(c.getTime()))fr({...mt,period:""});else{const h=c.toLocaleDateString("en-US",{month:"short",year:"numeric"});fr({...mt,period:h})}}catch(c){console.error("Error formatting period:",c),fr({...mt,period:""})}else i||fr({...mt,period:""})},onFocus:d=>{d.currentTarget.select()},className:"mono-input",style:{color:"#1a1a1a"}})]}),t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Amount ($) ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",inputMode:"numeric",required:!0,value:mt.amount,onChange:d=>{const i=d.target.value.replace(/\\D/g,"");fr({...mt,amount:i})},className:"mono-input",style:{color:"#1a1a1a"}})]}),t.jsxs("label",{style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-calendar-check",style:{marginRight:"8px",color:"#5a31ea"}}),"Due Date ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"date",required:!0,value:mt.due,onChange:d=>{const i=d.target.value;fr({...mt,due:i})},onBlur:d=>{const i=d.target.value;if(i){const c=new Date(i);if(isNaN(c.getTime())){Ie("Invalid date format. Please enter a valid date (YYYY-MM-DD)","error");return}const[h,m,w]=i.split("-").map(Number);if(m<1||m>12){Ie("Invalid month. Please enter a month between 01 and 12","error");return}if(w<1||w>31){Ie("Invalid day. Please enter a valid day for the selected month","error");return}const S=new Date(h,m,0).getDate();if(w>S){Ie(`Invalid date. ${m}/${h} only has ${S} days`,"error");return}}},className:"mono-input",style:{color:"#1a1a1a",borderRadius:"4px",width:"100%"}})]}),t.jsxs("label",{className:"notes",style:{marginBottom:"24px"},children:[t.jsxs("span",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",display:"block"},children:[t.jsx("i",{className:"fas fa-sticky-note",style:{marginRight:"8px",color:"#5a31ea"}}),"Notes"]}),t.jsx("textarea",{placeholder:"Add context for this invoice",value:mt.notes,onChange:d=>fr({...mt,notes:d.target.value}),className:"mono-input",style:{color:"#1a1a1a",minHeight:"100px"}})]}),t.jsxs("div",{style:{marginBottom:"16px",padding:"16px 18px",borderRadius:"10px",background:"#f9fafb",border:"1px solid #e5e7eb",fontSize:"0.875rem",color:"#4b5563"},children:[t.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"0.95rem",color:"#111827"},children:"Invoice Preview"}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Invoice #:"})," ",Ri]}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Member:"})," ",mt.memberId?(()=>{const d=s.find(i=>i.id===mt.memberId);return d?`${d.name} (${d.id})`:"Not selected"})():"Not selected"]}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Period:"})," ",mt.period||"N/A"]}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Amount:"})," ",mt.amount?`$${Number(mt.amount||0).toFixed(2)}`:"$0.00"]}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Due Date:"})," ",mt.due?new Date(mt.due).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"]}),t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Status:"})," Unpaid"]}),mt.notes&&t.jsxs("p",{style:{margin:"4px 0"},children:[t.jsx("strong",{children:"Notes:"})," ",mt.notes]})]}),t.jsxs("div",{className:"form-actions",style:{marginTop:"8px",gap:"12px"},children:[t.jsxs("button",{type:"submit",className:"primary-btn",style:{padding:"14px 28px",fontSize:"1rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-file-invoice",style:{marginRight:"8px"}}),"Create Invoice"]}),t.jsx("button",{type:"button",className:"secondary-btn",onClick:async()=>{const d=s.find(P=>P.id===mt.memberId);if(!d){Ie("Please select a member","error");return}if(!mt.memberId||!mt.period||!mt.due){Ie("Please fill all required fields","error");return}const i=parseFloat(mt.amount);if(!i||i<=0||isNaN(i)){Ie("Amount must be a positive number","error");return}const c={id:io(),memberId:mt.memberId,memberName:d?.name||"",period:mt.period,amount:`$${i.toFixed(2)}`,status:"Unpaid",due:mt.due,method:"-",reference:"-",notes:mt.notes||""};Ee(c),Tn({...c,member:d}),Na(!0);const m=[...r.filter(P=>P.memberId===d.id&&(P.status==="Unpaid"||P.status==="Overdue")),c],w=m.reduce((P,I)=>P+parseFloat(I.amount.replace("$","")),0),S=m.map(P=>` ${P.period}: ${P.amount} (Due: ${P.due}) - ${P.status}`).join(`
`),C=m.map(P=>`<li style="margin-bottom: 10px;">
                                <strong>${P.period}</strong>: ${P.amount} 
                                <span style="color: #666;">(Due: ${P.due})</span> - 
                                <strong>${P.status}</strong>
                              </li>`).join("");try{Ie("Sending reminder email...");const I=await fetch("http://localhost:4000/api/invoices/send-reminder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toEmail:d.email,toName:d.name,memberId:d.id,totalDue:`$${w.toFixed(2)}`,invoiceCount:m.length,invoiceListText:S,invoiceListHTML:C,paymentMethods:"FPS, PayMe, or Bank Transfer",portalLink:`${window.location.origin}/member`})}),T=await I.json();if(!I.ok)throw new Error(T.error||"Failed to send email");console.log(" Email sent successfully:",T);const te={channel:"Email",message:`Payment reminder: ${d.name} (${d.email}) - $${w.toFixed(2)} due (${m.length} invoice${m.length>1?"s":""})`,status:"Delivered"};pe(te),fr({memberId:"",period:vi(),amount:"250",invoiceType:"Lifetime",due:"",notes:""}),Or(!1),Ie(` Invoice created and reminder sent to ${d.name} for $${w.toFixed(2)}!`),Tn({...c,member:d}),Na(!0)}catch(P){console.error(" Email send error:",P);const I={channel:"Email",message:`Reminder attempt to ${d.name} - $${w.toFixed(2)} due`,status:"Failed"};pe(I),Ie(P.message||"Invoice created but failed to send email. Please check email configuration.","error"),Tn({...c,member:d}),Na(!0)}},children:"Create & Send Reminder"})]})]})]}),ct==="automation"&&t.jsxs("article",{className:"screen-card",id:"automation",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Ra("automation"),t.jsx("h3",{children:"Reminders & Automation"}),t.jsx("p",{children:"Configure automated payment reminders and email templates."})]})}),t.jsx("div",{style:{background:"#ffffff",borderRadius:"12px",padding:"clamp(24px, 4vw, 32px)",border:"none",marginTop:"24px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:t.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:"clamp(16px, 3vw, 24px)",flexWrap:"wrap"},children:[t.jsxs("div",{style:{flex:"1 1 300px",minWidth:"250px"},children:[t.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"700",color:"#000"},children:"Automation Control"}),t.jsx("p",{style:{margin:0,fontSize:"clamp(0.875rem, 2vw, 0.9375rem)",color:"#666",lineHeight:"1.6"},children:"Enable or disable automated payment reminders system-wide"})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"clamp(12px, 2vw, 16px)",flexShrink:0},children:[t.jsx("span",{style:{fontSize:"clamp(0.75rem, 1.5vw, 0.875rem)",fontWeight:"600",color:k?"#000":"#999",textTransform:"uppercase",letterSpacing:"0.5px",minWidth:"28px",textAlign:"right"},children:k?"ON":"OFF"}),t.jsx("button",{type:"button",role:"switch","aria-checked":k,onClick:async()=>{const d=!k;L(d);try{await fetch("http://localhost:4000/api/email-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...Qt,automationEnabled:d})}),Ie(d?"Automation enabled!":"Automation disabled!")}catch(i){console.error("Error saving automation status:",i),Ie("Failed to save automation status","error"),L(!d)}},style:{position:"relative",width:"clamp(60px, 8vw, 72px)",height:"clamp(34px, 5vw, 40px)",borderRadius:"999px",border:"none",background:k?"#5a31ea":"#f3f4f6",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",outline:"none",padding:0,display:"flex",alignItems:"center",boxShadow:k?"0 4px 12px rgba(0,0,0,0.15)":"inset 0 2px 4px rgba(0,0,0,0.1)",WebkitTapHighlightColor:"transparent"},onMouseEnter:d=>{d.currentTarget.style.transform="scale(1.05)"},onMouseLeave:d=>{d.currentTarget.style.transform="scale(1)"},children:t.jsx("span",{style:{position:"absolute",width:"clamp(26px, 4vw, 30px)",height:"clamp(26px, 4vw, 30px)",borderRadius:"50%",background:k?"#ffffff":"#5a31ea",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",left:k?"auto":"4px",right:k?"4px":"auto",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",border:"1px solid rgba(0,0,0,0.1)"}})})]})]})}),t.jsxs("div",{style:{background:"#ffffff",borderRadius:"12px",padding:"clamp(24px, 4vw, 32px)",border:"none",marginTop:"24px",boxShadow:"0 4px 12px rgba(90, 49, 234, 0.12)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"700",color:"#000"},children:"Outstanding Members"}),t.jsx("p",{style:{margin:0,fontSize:"clamp(0.875rem, 2vw, 0.9375rem)",color:"#666",lineHeight:"1.6"},children:"Send manual reminder emails or WhatsApp messages to members with outstanding invoices"})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("button",{type:"button",onClick:()=>{nn.includes("Email")?$r(d=>d.filter(i=>i!=="Email")):$r(d=>[...d,"Email"])},disabled:ze||jt||!Qe,title:"Email",style:{padding:"12px",borderRadius:"8px",fontWeight:"600",fontSize:"1.25rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:ze||jt||!Qe?"not-allowed":"pointer",transition:"all 0.2s ease",background:nn.includes("Email")?"#5a31ea":"#ffffff",color:nn.includes("Email")?"#ffffff":"#6b7280",border:nn.includes("Email")?"2px solid #5a31ea":"2px solid #e5e7eb",boxShadow:nn.includes("Email")?"0 2px 8px rgba(90, 49, 234, 0.3)":"none",opacity:ze||jt||!Qe?.5:1,width:"48px",height:"48px"},onMouseEnter:d=>{!ze&&!jt&&Qe&&!nn.includes("Email")&&(d.target.style.background="#f3f4f6",d.target.style.color="#374151")},onMouseLeave:d=>{!ze&&!jt&&Qe&&!nn.includes("Email")&&(d.target.style.background="#ffffff",d.target.style.color="#6b7280")},children:t.jsx("i",{className:"fas fa-envelope"})}),t.jsx("button",{type:"button",onClick:()=>{nn.includes("WhatsApp")?$r(d=>d.filter(i=>i!=="WhatsApp")):$r(d=>[...d,"WhatsApp"])},disabled:ze||jt||!Qe,title:"WhatsApp",style:{padding:"12px",borderRadius:"8px",fontWeight:"600",fontSize:"1.25rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:ze||jt||!Qe?"not-allowed":"pointer",transition:"all 0.2s ease",background:nn.includes("WhatsApp")?"#25D366":"#ffffff",color:nn.includes("WhatsApp")?"#ffffff":"#25D366",border:(nn.includes("WhatsApp"),"2px solid #25D366"),boxShadow:nn.includes("WhatsApp")?"0 2px 8px rgba(37, 211, 102, 0.3)":"none",opacity:ze||jt||!Qe?.5:1,width:"48px",height:"48px"},onMouseEnter:d=>{!ze&&!jt&&Qe&&!nn.includes("WhatsApp")&&(d.target.style.background="#dcfce7",d.target.style.color="#16a34a")},onMouseLeave:d=>{!ze&&!jt&&Qe&&!nn.includes("WhatsApp")&&(d.target.style.background="#ffffff",d.target.style.color="#25D366")},children:t.jsx("i",{className:"fab fa-whatsapp"})}),nn.length>0&&t.jsx("button",{className:"primary-btn",onClick:wa,disabled:ze||jt||!Qe,style:{padding:"12px 20px",borderRadius:"4px",fontWeight:"600",fontSize:"0.875rem",opacity:ze||jt||!Qe?.5:1,cursor:ze||jt||!Qe?"not-allowed":"pointer"},children:ze||jt?"Sending...":"Send All"})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[s.filter(d=>r.filter(c=>c.memberId===d.id&&(c.status==="Unpaid"||c.status==="Overdue")).length>0).map(d=>{const i=r.filter(S=>S.memberId===d.id&&(S.status==="Unpaid"||S.status==="Overdue")),c=i.reduce((S,C)=>{const P=parseFloat(C.amount?.replace(/[^0-9.]/g,"")||0);return S+P},0),h=i.filter(S=>S.status==="Overdue").length,m=i.filter(S=>S.status==="Unpaid").length,w=he[d.id];return t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",background:"#f9f9f9",borderRadius:"4px",border:"1px solid #e0e0e0",gap:"16px",flexWrap:"wrap"},children:[t.jsxs("div",{style:{flex:"1 1 300px",minWidth:"200px"},children:[t.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#000",marginBottom:"4px"},children:d.name}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"4px"},children:d.email}),t.jsxs("div",{style:{display:"flex",gap:"12px",fontSize:"0.8125rem",color:"#666"},children:[t.jsxs("span",{children:[t.jsxs("strong",{style:{color:"#000"},children:["$",c.toFixed(2)]})," outstanding"]}),h>0&&t.jsxs("span",{style:{color:"#ef4444",fontWeight:"600"},children:[h," overdue"]}),m>0&&t.jsxs("span",{style:{color:"#ef4444",fontWeight:"600"},children:[m," unpaid"]})]})]}),t.jsx("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:t.jsx("button",{className:"secondary-btn",onClick:()=>Pi(d,!1),disabled:w||xt[d.id],style:{padding:"12px 20px",borderRadius:"4px",fontWeight:"600",fontSize:"0.875rem",opacity:w||xt[d.id]?.5:1,cursor:w||xt[d.id]?"not-allowed":"pointer"},children:w||xt[d.id]?"Sending...":t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M12 22C13.1 22 14 21.1 14 20H10C10 21.1 10.89 22 12 22ZM18 16V11C18 7.93 16.36 5.36 13.5 4.68V4C13.5 3.17 12.83 2.5 12 2.5C11.17 2.5 10.5 3.17 10.5 4V4.68C7.63 5.36 6 7.92 6 11V16L4 18V19H20V18L18 16Z",fill:"#5a31ea"})}),"Send Reminder"]})})})]},d.id)}),s.filter(d=>r.filter(c=>c.memberId===d.id&&(c.status==="Unpaid"||c.status==="Overdue")).length>0).length===0&&t.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#666",fontSize:"0.9375rem"},children:"No members with outstanding invoices"})]})]}),t.jsxs("div",{style:{marginTop:"32px"},children:[t.jsx("h4",{style:{margin:"0 0 20px 0",fontSize:"1.25rem",fontWeight:"700",color:"#000"},children:"Email Template"}),t.jsxs("div",{style:{background:"#fff",border:"none",borderRadius:"12px",padding:"32px",boxShadow:"0 4px 12px rgba(90, 49, 234, 0.12)"},children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:"Email Subject"}),t.jsx("input",{type:"text",value:ds.subject,onChange:d=>sn({...ds,subject:d.target.value}),placeholder:"Payment Reminder - Outstanding Balance",style:{width:"100%",padding:"12px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"}}),t.jsxs("small",{style:{display:"block",marginTop:"6px",fontSize:"0.75rem",color:"#666"},children:["You can use placeholders: ","{{member_name}}",", ","{{total_due}}",", ","{{invoice_count}}"]})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:"HTML Email Template"}),t.jsx("textarea",{value:ds.htmlTemplate,onChange:d=>sn({...ds,htmlTemplate:d.target.value}),rows:20,style:{width:"100%",padding:"14px",border:"1.5px solid #e0e0e0",borderRadius:"10px",fontSize:"0.875rem",fontFamily:"monospace",resize:"vertical",transition:"all 0.2s ease"},onFocus:d=>{d.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1), 0 4px 12px rgba(90, 49, 234, 0.12)",d.target.style.boxShadow="0 0 0 3px rgba(0,0,0,0.05)"},onBlur:d=>{d.target.style.borderColor="#e0e0e0",d.target.style.boxShadow="none"},placeholder:"Enter HTML email template..."}),t.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:"#f8f9fa",borderRadius:"4px",fontSize:"0.75rem",color:"#666"},children:[t.jsx("strong",{children:"Available Placeholders:"}),t.jsxs("ul",{style:{margin:"8px 0 0 0",paddingLeft:"20px"},children:[t.jsxs("li",{children:[t.jsx("code",{children:"{{member_name}}"})," - Member's full name"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{member_id}}"})," - Member ID"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{member_email}}"})," - Member email"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{total_due}}"})," - Total outstanding amount"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{invoice_count}}"})," - Number of unpaid invoices"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{invoice_list}}"})," - HTML list of invoices"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{payment_methods}}"})," - Payment methods list"]}),t.jsxs("li",{children:[t.jsx("code",{children:"{{portal_link}}"})," - Member portal URL"]})]})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",paddingTop:"16px",borderTop:"1px solid #e0e0e0"},children:[t.jsxs("button",{className:"secondary-btn",onClick:Wo,style:{padding:"12px 24px",borderRadius:"4px",fontWeight:"600"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",fill:"currentColor"})}),"Preview Template"]}),t.jsxs("button",{className:"primary-btn",onClick:Al,style:{padding:"12px 24px",borderRadius:"4px",fontWeight:"600"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M17 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V7L17 3ZM19 19H5V5H16.17L19 7.83V19ZM12 12C10.34 12 9 13.34 9 15S10.34 18 12 18 15 16.66 15 15 13.66 12 12 12ZM6 6H15V10H6V6Z",fill:"#ffffff"})}),"Save Email Template"]})]})]})]}),t.jsxs("div",{id:"email-config-section",style:{marginTop:"32px"},children:[t.jsx("h4",{style:{margin:"0 0 20px 0",fontSize:"1.25rem",fontWeight:"700",color:"#000"},children:"Email Automation Configuration"}),t.jsxs("div",{style:{background:"#fff",border:"none",borderRadius:"12px",padding:"32px",boxShadow:"0 4px 12px rgba(90, 49, 234, 0.12)"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px",marginBottom:"24px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:"Email Service"}),t.jsxs("select",{value:Qt.emailService,onChange:d=>Pa({...Qt,emailService:d.target.value}),style:{width:"100%",padding:"12px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"},children:[t.jsx("option",{value:"gmail",children:"Gmail"}),t.jsx("option",{value:"outlook",children:"Outlook"}),t.jsx("option",{value:"yahoo",children:"Yahoo"}),t.jsx("option",{value:"custom",children:"Custom SMTP"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:["Email Address ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"email",value:Qt.emailUser,onChange:d=>Pa({...Qt,emailUser:d.target.value}),placeholder:"your-email@gmail.com",style:{width:"100%",padding:"12px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"}})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:["App Password ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:Ya?"text":"password",value:Qt.emailPassword,onChange:d=>Pa({...Qt,emailPassword:d.target.value}),placeholder:"Enter app password",style:{width:"100%",padding:"12px",paddingRight:"45px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"}}),t.jsx("button",{type:"button",onClick:()=>La(!Ya),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},"aria-label":Ya?"Hide password":"Show password",children:Ya?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),t.jsx("small",{style:{display:"block",marginTop:"6px",fontSize:"0.75rem",color:"#666"},children:"For Gmail: Use App Password (not regular password)"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:"Schedule Time"}),t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("input",{type:"time",value:Qt.scheduleTime,onChange:d=>{const i=d.target.value;Pa({...Qt,scheduleTime:i});const[c]=i.split(":").map(Number);lo(c>=12?"PM":"AM")},style:{flex:1,padding:"12px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"}}),t.jsxs("select",{value:Do,onChange:d=>{const i=d.target.value;lo(i);const[c,h]=Qt.scheduleTime.split(":").map(Number);let m=c;i==="AM"&&c===12?m=0:i==="PM"&&c!==12?m=c+12:i==="AM"&&c>=12?m=c-12:i==="PM"&&c<12&&(m=c+12);const w=`${m.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`;Pa({...Qt,scheduleTime:w})},style:{padding:"12px 16px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit",background:"white",cursor:"pointer",fontWeight:"500"},children:[t.jsx("option",{value:"AM",children:"AM"}),t.jsx("option",{value:"PM",children:"PM"})]})]}),t.jsxs("small",{style:{display:"block",marginTop:"6px",fontSize:"0.75rem",color:"#666"},children:["Daily reminder time (24-hour format stored: ",Qt.scheduleTime,")"]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:"Reminder Interval (days)"}),t.jsx("input",{type:"number",min:"1",max:"30",value:Qt.reminderInterval,onChange:d=>Pa({...Qt,reminderInterval:parseInt(d.target.value)||7}),style:{width:"100%",padding:"12px",border:"1.5px solid #e0e0e0",borderRadius:"4px",fontSize:"0.9375rem",fontFamily:"inherit"}}),t.jsx("small",{style:{display:"block",marginTop:"6px",fontSize:"0.75rem",color:"#666"},children:"Days between reminder emails (min: 1, max: 30)"})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",paddingTop:"16px",borderTop:"1px solid #e0e0e0"},children:[t.jsx("button",{className:"secondary-btn",onClick:Cl,disabled:Ti||!Qt.emailUser||!Qt.emailPassword,style:{padding:"12px 24px",borderRadius:"4px",fontWeight:"600",opacity:Ti||!Qt.emailUser||!Qt.emailPassword?.5:1,cursor:Ti||!Qt.emailUser||!Qt.emailPassword?"not-allowed":"pointer"},children:Ti?"Sending...":t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M20 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM20 8L12 13L4 8V6L12 11L20 6V8Z",fill:"currentColor"})}),"Test Email"]})}),t.jsxs("button",{className:"primary-btn",onClick:Ac,style:{padding:"12px 24px",borderRadius:"4px",fontWeight:"600"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px",verticalAlign:"middle"},children:t.jsx("path",{d:"M17 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V7L17 3ZM19 19H5V5H16.17L19 7.83V19ZM12 12C10.34 12 9 13.34 9 15S10.34 18 12 18 15 16.66 15 15 13.66 12 12 12ZM6 6H15V10H6V6Z",fill:"#ffffff"})}),"Save Email Settings"]})]})]})]}),t.jsx("div",{style:{marginTop:"32px",display:"flex",justifyContent:"flex-end"},children:t.jsx("button",{className:"primary-btn",onClick:tl,disabled:el,style:{padding:"12px 24px",fontSize:"0.9375rem",fontWeight:"600",borderRadius:"4px",color:"#ffffff",opacity:el?.6:1,cursor:el?"not-allowed":"pointer"},children:el?t.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#ffffff"},children:[t.jsxs("svg",{style:{animation:"spin 1s linear infinite",width:"16px",height:"16px"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),t.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}),"Saving..."]}):t.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#ffffff"},children:[t.jsx("i",{className:"fas fa-save"}),"Save All Settings"]})})})]}),ct==="communications"&&t.jsxs("article",{className:"screen-card",id:"communications",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Ra("communications"),t.jsx("h3",{children:"Reminders Log"}),t.jsx("p",{children:"See all reminder emails and WhatsApp messages sent to members."})]})}),(()=>{const d=(_||[]).map(I=>{const T=I.status?String(I.status).trim():"",te=T.toLowerCase();let ie="Delivered";return te==="failed"?ie="Failed":te==="pending"?ie="Pending":T&&(ie=T),{status:ie}}),i=(x||[]).filter(I=>I.channel==="WhatsApp").map(I=>({status:(I.status?String(I.status).trim():"")||"Delivered"})),c=[...d,...i],h=c.length,m=d.length,w=i.length,S=c.filter(I=>I.status==="Delivered").length,C=c.filter(I=>I.status==="Failed").length,P=c.filter(I=>I.status==="Pending").length;return t.jsxs("div",{className:"kpi-grid",style:{marginBottom:"24px"},children:[t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-bell admin-dashboard-kpi-icon"}),"Total Reminders"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value",children:lr(h)})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-envelope admin-dashboard-kpi-icon"}),"Email Reminders"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value",children:lr(m)})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fab fa-whatsapp admin-dashboard-kpi-icon--green"}),"WhatsApp Reminders"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value",children:lr(w)})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-check-circle admin-dashboard-kpi-icon--green"}),"Delivered"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--green",children:lr(S)})]}),C>0&&t.jsxs("div",{className:"admin-dashboard-kpi-card admin-dashboard-kpi-card--error",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label admin-dashboard-kpi-label--error",children:[t.jsx("i",{className:"fas fa-times-circle admin-dashboard-kpi-icon--red"}),"Failed"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--red",children:lr(C)})]}),P>0&&t.jsxs("div",{className:"admin-dashboard-kpi-card admin-dashboard-kpi-card--error",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label admin-dashboard-kpi-label--error",children:[t.jsx("i",{className:"fas fa-clock admin-dashboard-kpi-icon--red"}),"Pending"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--red",children:lr(P)})]})]})})(),t.jsxs("div",{className:"admin-communications-filter-card",children:[t.jsxs("div",{className:"admin-communications-filters-container",children:[t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a"},children:"Filter by Status:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Delivered",label:"Delivered"},{value:"Failed",label:"Failed"},{value:"Pending",label:"Pending"}].map(d=>t.jsx("button",{type:"button",onClick:()=>{Ws(d.value),mo(1)},style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:rs===d.value?"#5a31ea":"transparent",color:rs===d.value?"#ffffff":"#6b7280",boxShadow:rs===d.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:i=>{rs!==d.value&&(i.target.style.background="#e5e7eb",i.target.style.color="#374151")},onMouseLeave:i=>{rs!==d.value&&(i.target.style.background="transparent",i.target.style.color="#6b7280")},children:d.label},d.value))})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a"},children:"Filter by Channel:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Email",label:"Email"},{value:"WhatsApp",label:"WhatsApp"}].map(d=>t.jsx("button",{type:"button",onClick:()=>{ya(d.value),mo(1)},style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:ia===d.value?"#5a31ea":"transparent",color:ia===d.value?"#ffffff":"#6b7280",boxShadow:ia===d.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:i=>{ia!==d.value&&(i.target.style.background="#e5e7eb",i.target.style.color="#374151")},onMouseLeave:i=>{ia!==d.value&&(i.target.style.background="transparent",i.target.style.color="#6b7280")},children:d.label},d.value))})]})]}),(()=>{const d=(_||[]).map(m=>({memberName:(s.find(S=>S.id===m.memberId)||s.find(S=>S.email&&m.memberEmail&&S.email.toLowerCase()===m.memberEmail.toLowerCase()))?.name||m.memberEmail||"N/A",memberId:m.memberId,channel:"Email",type:m.reminderType==="overdue"?"Overdue (auto/manual)":"Upcoming (auto/manual)",message:`Email reminder - ${m.amount}  ${m.invoiceCount} invoice(s)`,date:m.sentAt?new Date(m.sentAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A",status:(()=>{const S=m.status?String(m.status).trim():"",C=S.toLowerCase();return C==="failed"?"Failed":C==="pending"?"Pending":S||"Delivered"})(),rawDate:m.sentAt||null,raw:m})),i=(x||[]).filter(m=>m.channel==="WhatsApp").map(m=>{const S=(m.status?String(m.status).trim():"")||"Delivered";return{memberName:m.memberName||m.member||"N/A",memberId:m.memberId,channel:"WhatsApp",type:m.type||"Manual Outstanding Reminder",message:m.message,date:m.date,status:S,rawDate:m.timestamp||null,raw:m}});let c=[...d,...i];c=c.filter(m=>{const w=m.status?String(m.status).trim():"Delivered";let S=!1;if(rs==="All")S=!0;else{const I=rs.toLowerCase(),T=w.toLowerCase();S=I===T}const C=m.channel?String(m.channel).trim():"";return S&&(ia==="All"||C===ia)}),c.sort((m,w)=>{const S=m.rawDate?new Date(m.rawDate).getTime():0;return(w.rawDate?new Date(w.rawDate).getTime():0)-S});const h=c.length;if(h===0){const m=(_||[]).map(P=>{const I=P.status?String(P.status).trim():"",T=I.toLowerCase();let te="Delivered";return T==="failed"?te="Failed":T==="pending"?te="Pending":I&&(te=I),{status:te,channel:"Email"}}),w=(x||[]).filter(P=>P.channel==="WhatsApp").map(P=>({status:P.status||"Delivered",channel:"WhatsApp"})),S=m.length+w.length;let C="No reminders have been sent yet.";return S>0&&(rs!=="All"&&ia!=="All"?C=`No ${rs.toLowerCase()} ${ia.toLowerCase()} reminders found.`:rs!=="All"?C=`No ${rs.toLowerCase()} reminders found.`:ia!=="All"&&(C=`No ${ia.toLowerCase()} reminders found.`)),t.jsx("div",{style:{padding:"32px 20px",textAlign:"center",color:"#666"},children:t.jsx("p",{style:{margin:0},children:C})})}return t.jsx(t.Fragment,{children:(()=>{const m=Math.max(Bo,10),w=Math.max(1,Math.ceil(h/m)),S=Math.min(Hi,w),C=(S-1)*m,P=C+m,I=c.slice(C,P);return t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Member"}),t.jsx("th",{children:"Channel"}),t.jsx("th",{children:"Type"}),t.jsx("th",{children:"Message"}),t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:I.map((T,te)=>t.jsxs("tr",{onClick:()=>{window.innerWidth<=768&&On(T)},style:{cursor:window.innerWidth<=768?"pointer":"default"},children:[t.jsxs("td",{children:[T.memberName||T.member||"N/A",T.memberId?` (${T.memberId})`:""]}),t.jsx("td",{children:T.channel||"N/A"}),t.jsx("td",{children:T.type||"-"}),t.jsx("td",{style:{maxWidth:"320px",whiteSpace:"normal"},children:T.message||"N/A"}),t.jsx("td",{children:T.date||"N/A"}),t.jsx("td",{children:t.jsx("span",{className:Wa[T.status]||"badge",children:T.status||"N/A"})}),t.jsx("td",{children:t.jsxs("div",{style:{display:"flex",gap:"6px"},onClick:ie=>ie.stopPropagation(),children:[t.jsx("button",{type:"button",className:"icon-btn icon-btn--view",title:"View full message","aria-label":"View full message",onClick:()=>{if(window.innerWidth<=768)On(T);else{const ie=[`Member: ${T.memberName||"N/A"}`,`Channel: ${T.channel||"N/A"}`,`Type: ${T.type||"-"}`,`Date: ${T.date||"N/A"}`,"","Message:",T.message||"N/A"].join(`
`);window.alert(ie)}},children:t.jsx("i",{className:"fas fa-eye","aria-hidden":"true"})}),T.channel==="Email"&&T.status==="Failed"&&!De&&t.jsx("button",{type:"button",className:"icon-btn icon-btn--edit",title:"Retry sending","aria-label":"Retry sending reminder",onClick:async()=>{try{const ie=T.raw,V=ie?._id||ie?.id,be=await fetch("http://localhost:4000/api/reminders/retry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reminderId:V})}),Ue=await be.json();be.ok?(Ie(Ue.message||"Reminder retry queued"),typeof W=="function"&&W()):Ie(Ue.error||"Failed to retry reminder","error")}catch(ie){console.error("Retry reminder failed",ie),Ie("Failed to retry reminder","error")}},children:t.jsx("i",{className:"fas fa-redo","aria-hidden":"true"})})]})})]},`${T.memberId||T.memberName||"row"}-${C+te}`))})]})}),t.jsxs("div",{style:{marginTop:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"8px"},children:[t.jsxs("div",{style:{fontSize:"0.875rem",color:"#555"},children:["Showing"," ",t.jsxs("strong",{children:[C+1,"-",Math.min(P,h)]})," ","of ",t.jsx("strong",{children:h})," reminders"]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("button",{type:"button",className:"secondary-btn",disabled:S<=1,onClick:()=>mo(Math.max(1,S-1)),children:"Previous"}),t.jsxs("span",{style:{fontSize:"0.875rem"},children:["Page ",t.jsx("strong",{children:S})," of ",t.jsx("strong",{children:w})]}),t.jsx("button",{type:"button",className:"secondary-btn",disabled:S>=w,onClick:()=>mo(Math.min(w,S+1)),children:"Next"})]})]})]})})()})})()]})]}),ct==="communications"&&Ct==="Super Admin"&&t.jsxs("article",{className:"screen-card",id:"password-reset-requests",style:{marginTop:"24px"},children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-key",style:{marginRight:"10px"}}),"Password Reset Requests"]}),t.jsx("p",{children:"Manage password reset requests from admin users."})]})}),t.jsx("div",{className:"card-communications",children:t.jsx("div",{style:{padding:"24px"},children:Y&&Y.length>0?t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"User Email"}),t.jsx("th",{children:"User Name"}),t.jsx("th",{children:"Requested At"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Handled By"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Y.sort((d,i)=>new Date(i.requestedAt)-new Date(d.requestedAt)).map(d=>t.jsxs("tr",{children:[t.jsx("td",{children:d.userEmail}),t.jsx("td",{children:d.userName||"N/A"}),t.jsx("td",{children:d.requestedAt?new Date(d.requestedAt).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}),t.jsx("td",{children:t.jsx("span",{className:d.status==="Pending"?"badge badge--warning":d.status==="Approved"?"badge badge--success":"badge badge--error",children:d.status||"Pending"})}),t.jsx("td",{children:d.handledBy?`${d.handledBy}${d.handledAt?` - ${new Date(d.handledAt).toLocaleDateString("en-GB")}`:""}`:"-"}),t.jsxs("td",{children:[d.status==="Pending"&&t.jsxs("button",{className:"primary-btn",style:{fontSize:"0.875rem",padding:"6px 12px"},onClick:()=>{ti(d),zr({newPassword:""}),Qa(!0)},children:[t.jsx("i",{className:"fas fa-key",style:{marginRight:"6px"}}),"Set Password"]}),d.status==="Approved"&&d.newPassword&&t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Password sent"})]})]},d._id))})]})}):t.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:"#666"},children:t.jsx("p",{children:"No password reset requests found."})})})})]}),ct==="payment-methods"&&t.jsxs("article",{className:"screen-card",id:"payment-methods",children:[t.jsxs("header",{className:"screen-card__header",children:[t.jsxs("div",{children:[t.jsx("h3",{children:"Payment Methods"}),t.jsx("p",{children:"Configure payment methods and QR codes for member payments."})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",padding:"8px 16px",background:"#f8f9fa",borderRadius:"8px",fontSize:"0.875rem"},children:[t.jsx("span",{style:{color:"#666"},children:"Active Methods:"}),t.jsx("strong",{style:{color:"#000"},children:g.filter(d=>(d.name==="Alipay"||d.name==="PayMe"||d.name==="FPS"||d.name==="Direct Bank Transfer")&&d.visible).length})]})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"24px",marginTop:"32px"},children:g.filter(d=>d.name==="PayMe"||d.name==="FPS"||d.name==="Direct Bank Transfer").map(d=>{const i=d.name==="PayMe",c=async(h,m)=>{const w=h.target.files[0];if(w){if(!w.type.startsWith("image/")){Ie("Please upload an image file","error");return}As(S=>({...S,[m]:!0}));try{const S="http://localhost:4000",C=new FormData;C.append("screenshot",w),C.append("uploadType","qr-code");const P=await fetch(`${S}/api/upload/screenshot`,{method:"POST",body:C});if(!P.ok){let te="Failed to upload QR code";try{const ie=await P.json();te=ie.error||te,console.error("Upload error response:",ie)}catch(ie){console.error("Failed to parse error response:",ie),te=`Upload failed with status ${P.status}`}throw new Error(te)}const I=await P.json();if(!I.url)throw new Error("No URL returned from upload. Please try again.");const T=I.url;await B(m,{qrImageUrl:T}),Ie(`${m} QR code uploaded successfully!`)}catch(S){console.error("Error uploading QR code:",S),Ie(S.message||"Failed to upload QR code. Please try again.","error")}finally{As(S=>({...S,[m]:!1}))}}};return t.jsxs("div",{style:{background:"#fff",border:"none",borderRadius:"20px",padding:"28px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",boxShadow:d.visible?"0 10px 30px rgba(0,0,0,0.08), 0 0 0 1px rgba(0,0,0,0.05)":"0 2px 8px rgba(0,0,0,0.04)",display:"flex",flexDirection:"column",gap:"20px",overflow:"hidden"},onMouseEnter:h=>{d.visible&&(h.currentTarget.style.boxShadow="0 12px 36px rgba(0,0,0,0.12), 0 0 0 1px rgba(0,0,0,0.08)",h.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:h=>{d.visible&&(h.currentTarget.style.boxShadow="0 10px 30px rgba(0,0,0,0.08), 0 0 0 1px rgba(0,0,0,0.05)",h.currentTarget.style.transform="translateY(0)")},children:[t.jsx("div",{onClick:async()=>{try{await B(d.name,{visible:!d.visible})}catch(h){console.error("Error updating payment method:",h)}},style:{position:"absolute",top:"20px",right:"20px",padding:"6px 14px",borderRadius:"20px",fontSize:"0.7rem",fontWeight:"700",background:d.visible?"#e8f5e9":"#f5f5f5",color:d.visible?"#1b5e20":"#757575",textTransform:"uppercase",letterSpacing:"0.8px",cursor:"pointer",transition:"all 0.2s ease",userSelect:"none",border:d.visible?"1px solid #a5d6a7":"1px solid #e0e0e0",boxShadow:d.visible?"0 2px 4px rgba(0,0,0,0.1)":"none"},onMouseEnter:h=>{h.target.style.transform="scale(1.08)",h.target.style.boxShadow=d.visible?"0 4px 8px rgba(0,0,0,0.15)":"0 2px 4px rgba(0,0,0,0.1)"},onMouseLeave:h=>{h.target.style.transform="scale(1)",h.target.style.boxShadow=d.visible?"0 2px 4px rgba(0,0,0,0.1)":"none"},children:d.visible?" Active":" Inactive"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"18px",marginBottom:"4px",paddingBottom:"20px",borderBottom:"1px solid #e5e7eb"},children:[t.jsxs("div",{style:{width:"64px",height:"64px",borderRadius:"16px",background:d.name==="PayMe"?"#00C300":d.name==="FPS"?"#0066CC":"#E60012",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"28px",fontWeight:"700",color:"#fff",boxShadow:"0 6px 16px rgba(0,0,0,0.15)",position:"relative"},children:[d.name==="PayMe"?"P":d.name==="FPS"?"F":"B",d.visible&&t.jsx("div",{style:{position:"absolute",top:"-4px",right:"-4px",width:"18px",height:"18px",borderRadius:"50%",background:"#4caf50",border:"2px solid #fff",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("span",{style:{fontSize:"10px",color:"#fff"},children:""})})]}),t.jsxs("div",{style:{flex:1},children:[t.jsx("h4",{style:{margin:0,fontSize:"1.625rem",fontWeight:"700",color:"#000",letterSpacing:"-0.5px",marginBottom:"6px"},children:d.name==="Direct Bank Transfer"?"Bank Transfer":d.name}),t.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#666",fontWeight:"500"},children:d.name==="PayMe"?"PayMe by HSBC":d.name==="FPS"?"Faster Payment System":"Direct Bank Transfer"})]})]}),i?t.jsx("div",{style:{background:"#f9fafb",borderRadius:"16px",padding:"28px",border:d.qrImageUrl?"1px solid #e0e0e0":"2px dashed #d0d0d0",minHeight:"300px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"20px",position:"relative",transition:"all 0.3s ease"},children:d.qrImageUrl?t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{padding:"16px",background:"#fff",borderRadius:"12px",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:"1px solid #e0e0e0"},children:t.jsx("img",{src:d.qrImageUrl,alt:`${d.name} QR Code`,style:{maxWidth:"260px",maxHeight:"260px",width:"100%",height:"auto",borderRadius:"4px",display:"block",objectFit:"contain"}})}),t.jsx("button",{onClick:()=>{const h=document.createElement("input");h.type="file",h.accept="image/*",h.onchange=m=>c(m,d.name),h.click()},disabled:Pt[d.name],style:{padding:"10px 20px",background:"#fff",border:"none",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.1)",borderRadius:"4px",fontSize:"0.875rem",fontWeight:"600",cursor:Pt[d.name]?"not-allowed":"pointer",transition:"all 0.2s ease",color:"#000",opacity:Pt[d.name]?.6:1},onMouseEnter:h=>{Pt[d.name]||(h.target.style.background="#000",h.target.style.color="#fff",h.target.style.transform="translateY(-2px)",h.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)")},onMouseLeave:h=>{Pt[d.name]||(h.target.style.background="#fff",h.target.style.color="#000",h.target.style.transform="translateY(0)",h.target.style.boxShadow="none")},children:Pt[d.name]?" Uploading...":" Change QR Code"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",color:"#bbb",marginBottom:"12px",border:"2px dashed #d0d0d0"},children:""}),t.jsx("p",{style:{margin:0,fontSize:"0.9375rem",color:"#666",textAlign:"center",marginBottom:"4px",fontWeight:"500"},children:"No QR code uploaded"}),t.jsx("p",{style:{margin:0,fontSize:"0.8125rem",color:"#999",textAlign:"center",marginBottom:"16px"},children:"Upload a QR code image to enable this payment method"}),t.jsxs("label",{style:{padding:"12px 24px",background:"#1a1a1a",color:"#fff",borderRadius:"10px",fontSize:"0.875rem",fontWeight:"600",cursor:Pt[d.name]?"not-allowed":"pointer",display:"inline-block",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",opacity:Pt[d.name]?.6:1},onMouseEnter:h=>{Pt[d.name]||(h.target.style.transform="translateY(-2px)",h.target.style.boxShadow="0 6px 16px rgba(0,0,0,0.2)")},onMouseLeave:h=>{Pt[d.name]||(h.target.style.transform="translateY(0)",h.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)")},children:[Pt[d.name]?" Uploading...":" Upload QR Code",t.jsx("input",{type:"file",accept:"image/*",onChange:h=>c(h,d.name),style:{display:"none"},disabled:Pt[d.name]})]})]})}):t.jsxs("div",{style:{background:"#f9fafb",borderRadius:"16px",padding:"24px",border:"1px solid #e0e0e0"},children:[t.jsxs("div",{style:{fontSize:"0.8125rem",fontWeight:"700",color:"#666",marginBottom:"18px",textTransform:"uppercase",letterSpacing:"1px",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Payment Details"})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:d.details&&d.details.map((h,m)=>t.jsx("div",{style:{padding:"16px 18px",background:"#fff",borderRadius:"10px",fontSize:"0.9375rem",color:"#333",borderLeft:"4px solid #5a31ea",fontWeight:"500",boxShadow:"0 2px 6px rgba(0,0,0,0.06)",transition:"all 0.2s ease"},onMouseEnter:w=>{w.currentTarget.style.boxShadow="0 4px 10px rgba(0,0,0,0.1)",w.currentTarget.style.transform="translateX(4px)"},onMouseLeave:w=>{w.currentTarget.style.boxShadow="0 2px 6px rgba(0,0,0,0.06)",w.currentTarget.style.transform="translateX(0)"},children:h},`${d.name}-detail-${m}`))})]}),t.jsxs("div",{onClick:async()=>{try{await B(d.name,{visible:!d.visible})}catch(h){console.error("Error updating payment method:",h)}},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"18px 20px",background:d.visible?"#f8f9ff":"#f9fafb",borderRadius:"12px",border:`2px solid ${d.visible?"#2196F3":"#e0e0e0"}`,cursor:"pointer",transition:"all 0.3s ease",marginTop:"4px"},onMouseEnter:h=>{h.currentTarget.style.background=d.visible?"#bbdefb":"#f3f4f6",h.currentTarget.style.borderColor=d.visible?"#1976D2":"#ccc",h.currentTarget.style.transform="scale(1.01)"},onMouseLeave:h=>{h.currentTarget.style.background=d.visible?"#f8f9ff":"#fafafa",h.currentTarget.style.borderColor=d.visible?"#2196F3":"#e0e0e0",h.currentTarget.style.transform="scale(1)"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("span",{style:{fontSize:"0.9375rem",fontWeight:"700",color:d.visible?"#1565C0":"#666",display:"block",marginBottom:"6px"},children:d.visible?" Enabled for members":" Disabled for members"}),t.jsx("span",{style:{fontSize:"0.8125rem",color:d.visible?"#1976D2":"#999",lineHeight:"1.4"},children:d.visible?"This payment method is visible to all members":"This payment method is hidden from members"})]}),t.jsxs("label",{className:"switch",style:{margin:0,marginLeft:"16px"},onClick:h=>h.stopPropagation(),children:[t.jsx("input",{type:"checkbox",checked:d.visible,onChange:async h=>{h.stopPropagation();try{await B(d.name,{visible:h.target.checked})}catch(m){console.error("Error updating payment method:",m)}},tabIndex:-1,onFocus:h=>h.target.blur()}),t.jsx("span",{})]})]})]},d.name)})})]}),ct==="payment-approvals"&&t.jsxs("article",{className:"screen-card",id:"payment-approvals",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("div",{children:[t.jsx("h3",{children:"Payment Approvals"}),t.jsx("p",{children:"Review and approve member payment submissions."})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[t.jsx("button",{className:"primary-btn",onClick:()=>{ra(!0),Da(null),Rt({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""})},children:"+ Add Payment"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Pending",label:"Pending"},{value:"Completed",label:"Approved"},{value:"Rejected",label:"Rejected"}].map(d=>t.jsx("button",{type:"button",onClick:()=>Bi(d.value),style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:Dn===d.value?"#5a31ea":"transparent",color:Dn===d.value?"#ffffff":"#6b7280",boxShadow:Dn===d.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:i=>{Dn!==d.value&&(i.target.style.background="#e5e7eb",i.target.style.color="#374151")},onMouseLeave:i=>{Dn!==d.value&&(i.target.style.background="transparent",i.target.style.color="#6b7280")},children:d.label},d.value))}),t.jsxs("div",{style:{padding:"10px 16px",background:"#fee2e2",borderRadius:"4px",fontSize:"0.875rem",fontWeight:"600",color:"#ef4444",border:"1px solid #ef4444"},children:[" Pending: ",(l||[]).filter(d=>d.status==="Pending").length]})]})]})}),qs&&t.jsx("div",{style:Ge,onClick:d=>{d.target,d.currentTarget},children:t.jsxs("div",{className:"card",style:vt,onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{style:Ye,children:[t.jsx("h4",{style:{margin:0},children:aa?"Edit Payment":"Add New Payment"}),t.jsx("button",{className:"ghost-btn",type:"button",onClick:()=>{ms({memberId:!1,amount:!1,method:!1,screenshot:!1}),Wr(null),ra(!1),Da(null),Rt({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""})},style:{fontSize:"1.5rem",lineHeight:1,color:"#ef4444",fontWeight:"bold",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",border:"1px solid #ef4444",background:"transparent",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:d=>{d.target.style.background="#fee2e2"},onMouseLeave:d=>{d.target.style.background="transparent"},children:""})]}),t.jsxs("form",{className:"form-grid",onSubmit:aa?va:oa,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Member ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:nt.memberId,onChange:d=>{const i=s.find(c=>c.id===d.target.value);Rt({...nt,memberId:d.target.value,member:i?i.name:""})},required:!0,children:[t.jsx("option",{value:"",children:"Select Member"}),s.map(d=>t.jsxs("option",{value:d.id,children:[d.name," (",d.id,")"]},d.id))]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-hashtag",style:{marginRight:"8px",color:"#5a31ea"}}),"Invoice ID"]}),t.jsx("input",{type:"text",value:nt.invoiceId,onChange:d=>Rt({...nt,invoiceId:d.target.value}),placeholder:"INV-2025-001"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Amount ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:nt.amount,onChange:d=>Rt({...nt,amount:d.target.value}),placeholder:"$50",required:!0})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"8px",color:"#5a31ea"}}),"Payment Method ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:nt.method,onChange:d=>Rt({...nt,method:d.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Method"}),t.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),t.jsx("option",{value:"FPS",children:"FPS"}),t.jsx("option",{value:"PayMe",children:"PayMe"}),t.jsx("option",{value:"Cash",children:"Cash"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-hashtag",style:{marginRight:"8px",color:"#5a31ea"}}),"Reference Number"]}),t.jsx("input",{type:"text",value:nt.reference,onChange:d=>Rt({...nt,reference:d.target.value}),placeholder:"Transaction reference"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-day",style:{marginRight:"8px",color:"#5a31ea"}}),"Date"]}),t.jsx("input",{type:"text",value:nt.date,onChange:d=>Rt({...nt,date:d.target.value}),placeholder:"01 Jan 2025"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-toggle-on",style:{marginRight:"8px",color:"#5a31ea"}}),"Status ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:nt.status,onChange:d=>Rt({...nt,status:d.target.value}),required:!0,children:[t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Completed",children:"Completed"}),t.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-image",style:{marginRight:"8px",color:"#5a31ea"}}),"Screenshot URL"," ",nt.method==="Cash"&&t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:nt.screenshot,onChange:d=>Rt({...nt,screenshot:d.target.value}),placeholder:"https://...",required:nt.method==="Cash"}),nt.method==="Cash"&&!nt.screenshot&&t.jsx("small",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"4px",display:"block"},children:"Screenshot is required for Cash payments"})]}),t.jsxs("label",{style:{gridColumn:"1 / -1"},children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-sticky-note",style:{marginRight:"8px",color:"#5a31ea"}}),"Notes"]}),t.jsx("textarea",{value:nt.notes,onChange:d=>Rt({...nt,notes:d.target.value}),rows:3,placeholder:"Additional notes..."})]}),t.jsxs("div",{className:"form-actions",style:{gridColumn:"1 / -1"},children:[t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{ra(!1),Da(null),Rt({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""})},children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[aa?"Update":"Add"," Payment"]})]})]})]})}),t.jsx("div",{className:"card-payment-approvals",children:t.jsx("div",{className:"table-wrapper",children:(()=>{const d=(l||[]).filter(S=>Dn==="All"?!0:S.status===Dn).sort((S,C)=>{if(S.status==="Pending"&&C.status!=="Pending")return-1;if(S.status!=="Pending"&&C.status==="Pending")return 1;const P=S.createdAt?new Date(S.createdAt):new Date(S.date||0);return(C.createdAt?new Date(C.createdAt):new Date(C.date||0))-P}),i=Math.ceil(d.length/ns)||1,c=Math.min(ii,i),h=(c-1)*ns,m=h+ns,w=d.slice(h,m);return t.jsxs(t.Fragment,{children:[t.jsx(os,{columns:["Date","Member","Invoice ID","Amount","Method","Screenshot","Status","Actions"],rows:w.map(S=>{const C=S._id||S.id,P=C?.toString?C.toString():C;return{Date:S.date||(S.createdAt?new Date(S.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),Member:S.member||"Unknown","Invoice ID":S.invoiceId||"N/A",Amount:S.amount||"$0",Method:Hs(S),Screenshot:{render:()=>S.screenshot?t.jsx("a",{href:S.screenshot,target:"_blank",rel:"noopener noreferrer",style:{color:"#000",textDecoration:"none"},title:"View screenshot","aria-label":"View screenshot",children:t.jsx("i",{className:"fas fa-image","aria-hidden":"true"})}):"N/A"},Status:{render:()=>t.jsx("span",{className:Wa[S.status]||"badge badge-unpaid",children:S.status})},Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[S.status==="Pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"icon-btn icon-btn--view",onClick:()=>{P&&Cc(P)},title:"Approve payment (By Admin)","aria-label":"Approve payment (By Admin)",children:t.jsx("i",{className:"fas fa-check","aria-hidden":"true"})}),t.jsx("button",{className:"icon-btn icon-btn--delete",onClick:()=>{P&&Pc(P)},title:"Reject payment (By Admin)","aria-label":"Reject payment (By Admin)",children:t.jsx("i",{className:"fas fa-times","aria-hidden":"true"})})]}),S.status==="Rejected"&&S.rejectionReason&&t.jsxs("span",{style:{fontSize:"0.75rem",color:"#666",fontStyle:"italic"},children:["Reason: ",S.rejectionReason]}),S.status==="Completed"&&(()=>{const I=S.paidToAdmin||S.paidToAdminName,te=["Screenshot","Bank Transfer","FPS","PayMe","Online Payment"].includes(S.method);return I?t.jsx("span",{className:"icon-btn",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",color:"#4caf50",cursor:"default",padding:"4px 8px"},title:"Paid by Admin (Cash)","aria-label":"Paid by Admin (Cash)",children:t.jsx("i",{className:"fas fa-user-shield","aria-hidden":"true"})}):te?t.jsx("span",{className:"icon-btn",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",color:"#2196F3",cursor:"default",padding:"4px 8px"},title:"Paid Online","aria-label":"Paid Online",children:t.jsx("i",{className:"fas fa-globe","aria-hidden":"true"})}):t.jsxs("span",{style:{fontSize:"0.75rem",color:"#4caf50"},children:[" Approved by ",S.approvedBy||"Admin"]})})(),t.jsx("button",{className:"secondary-btn icon-btn icon-btn--edit",onClick:()=>as(S),title:"Edit Payment",children:t.jsx("i",{className:"fas fa-pen","aria-hidden":"true"})}),t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",onClick:()=>{P&&_s(P)},title:"Delete Payment",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}})}),i>0&&d.length>0&&t.jsx(uc,{currentPage:c,totalPages:i,onPageChange:ts,pageSize:ns,onPageSizeChange:$i,totalItems:d.length})]})})()})})]}),ct==="invoices"&&t.jsxs("article",{className:"screen-card",id:"invoices",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("div",{children:[Ra("invoices"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-file-invoice",style:{marginRight:"10px"}}),"Invoices"]}),t.jsx("p",{children:"View and manage all invoices."})]}),t.jsxs("button",{className:"primary-btn",onClick:()=>{Is("invoice-builder"),Ie("Redirecting to Invoice Builder...")},children:[t.jsx("i",{className:"fas fa-plus",style:{marginRight:"8px"}}),"Create Invoice"]})]})}),(()=>{const d=r||[],i=d.length,c=d.filter(C=>{const P=C?.status||"Unpaid";return P!=="Paid"&&P!=="Completed"}),h=d.filter(C=>{const P=C?.status||"Unpaid";return P==="Paid"||P==="Completed"}),m=d.filter(C=>C?.status==="Overdue"),w=c.reduce((C,P)=>{const I=parseFloat((P?.amount||"0").replace(/[^0-9.]/g,"")||0);return C+I},0),S=h.reduce((C,P)=>{const I=parseFloat((P?.amount||"0").replace(/[^0-9.]/g,"")||0);return C+I},0);return t.jsxs("div",{className:"kpi-grid",style:{marginBottom:"24px"},children:[t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-file-invoice admin-dashboard-kpi-icon"}),"Total Invoices"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value",children:lr(i)})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-check-circle admin-dashboard-kpi-icon--green"}),"Paid"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--green",children:lr(h.length)})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-exclamation-circle admin-dashboard-kpi-icon--red"}),"Unpaid"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--red",children:lr(c.length)})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-exclamation-triangle admin-dashboard-kpi-icon--red"}),"Overdue"]}),t.jsx("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--red",children:lr(m.length)})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-dollar-sign admin-dashboard-kpi-icon--red"}),"Total Unpaid"]}),t.jsxs("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--red",children:["$",lr(w,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"admin-dashboard-kpi-card",children:[t.jsxs("p",{className:"admin-dashboard-kpi-label",children:[t.jsx("i",{className:"fas fa-dollar-sign admin-dashboard-kpi-icon--green"}),"Total Collected"]}),t.jsxs("h4",{className:"admin-dashboard-kpi-value admin-dashboard-kpi-value--green",children:["$",lr(S,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})(),t.jsx("div",{className:"card-invoices",children:t.jsx("div",{className:"table-wrapper",children:(()=>{let d=r||[];_r!=="All"&&(d=d.filter(w=>{const S=w.status||"Unpaid";return _r==="Paid"?S==="Paid"||S==="Completed":_r==="Unpaid"?S!=="Paid"&&S!=="Completed"&&S!=="Overdue":S===_r}));const i=(Xo-1)*go,c=i+go,h=d.slice(i,c),m=Math.ceil(d.length/go);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a"},children:"Filter by Status:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Paid",label:"Paid"},{value:"Unpaid",label:"Unpaid"},{value:"Overdue",label:"Overdue"},{value:"Pending",label:"Pending"}].map(w=>t.jsx("button",{type:"button",onClick:()=>zi(w.value),style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:_r===w.value?"#5a31ea":"transparent",color:_r===w.value?"#ffffff":"#6b7280",boxShadow:_r===w.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:S=>{_r!==w.value&&(S.target.style.background="#e5e7eb",S.target.style.color="#374151")},onMouseLeave:S=>{_r!==w.value&&(S.target.style.background="transparent",S.target.style.color="#6b7280")},children:w.label},w.value))})]}),d.length===0?t.jsx("div",{className:"admin-empty-state",children:t.jsx("p",{className:"admin-empty-state-message",children:_r!=="All"?`No ${_r.toLowerCase()} invoices found.`:"No invoices found."})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"table-wrapper",children:t.jsx(os,{columns:["Invoice ID","Member","Period","Amount","Due Date","Status","Actions"],rows:h.map(w=>{const S=w.status==="Paid"||w.status==="Completed";return w.status,{"Invoice ID":w.id||w.invoiceId||"N/A",Member:w.memberName||w.member||"Unknown",Period:w.period||"N/A",Amount:w.amount||"$0","Due Date":w.due?new Date(w.due).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A",Status:{render:()=>t.jsx("span",{className:w.status==="Paid"?"badge badge-paid":w.status==="Overdue"?"badge badge-overdue":w.status==="Pending"?"badge badge-pending":"badge badge-unpaid",children:w.status||"Unpaid"})},Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-start"},children:[t.jsx("button",{className:"icon-btn icon-btn--view",onClick:()=>{const C=s.find(P=>P.id===w.memberId||P.email===w.memberEmail||P.name===w.memberName);C&&(So(C),Nt("member-detail"),Jt("Invoices"))},title:"View Invoice Details","aria-label":"View Invoice Details",children:t.jsx("i",{className:"fas fa-eye","aria-hidden":"true"})}),!S&&t.jsx("button",{className:"icon-btn icon-btn--delete",onClick:()=>{(w.id||w._id)&&Er(w.id||w._id)},title:"Delete Invoice","aria-label":"Delete Invoice",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}})})}),m>0&&r.length>0&&t.jsx(uc,{currentPage:Xo,totalPages:m,onPageChange:Sl,pageSize:go,onPageSizeChange:Nl,totalItems:d.length})]})]})})()})})]}),ct==="payments"&&t.jsxs("article",{className:"screen-card",id:"payments",children:[t.jsx("header",{className:"screen-card__header",children:t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:t.jsxs("div",{children:[Ra("payments"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"10px"}}),"Payments"]}),t.jsx("p",{children:"View and all payment transactions."})]})})}),qs&&t.jsx("div",{style:Ge,onClick:d=>{d.target===d.currentTarget&&(ra(!1),Da(null),Rt({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""}))},children:t.jsxs("div",{className:"payments-card",style:Ve,onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"8px",color:"#5a31ea"}}),aa?"Edit Payment":"Add New Payment"]}),t.jsx("button",{type:"button",onClick:()=>{ra(!1),Da(null),Rt({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""})},style:{background:"transparent",border:"none",fontSize:"1.5rem",color:"#666",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},onMouseEnter:d=>{d.target.style.background="#f3f4f6",d.target.style.color="#1a1a1a"},onMouseLeave:d=>{d.target.style.background="transparent",d.target.style.color="#666"},children:""})]}),t.jsxs("form",{className:"form-grid",onSubmit:aa?va:oa,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Member ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{ref:d=>{d&&aa&&setTimeout(()=>d.focus(),100)},value:nt.memberId,onChange:d=>{const i=s.find(c=>c.id===d.target.value);Rt({...nt,memberId:d.target.value,member:i?i.name:""})},required:!0,children:[t.jsx("option",{value:"",children:"Select Member"}),s.map(d=>t.jsxs("option",{value:d.id,children:[d.name," (",d.id,")"]},d.id))]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-hashtag",style:{marginRight:"8px",color:"#5a31ea"}}),"Invoice ID"]}),t.jsx("input",{type:"text",value:nt.invoiceId,onChange:d=>Rt({...nt,invoiceId:d.target.value}),placeholder:"INV-2025-001"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Amount ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:nt.amount,onChange:d=>Rt({...nt,amount:d.target.value}),placeholder:"$50",required:!0})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"8px",color:"#5a31ea"}}),"Payment Method ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:nt.method,onChange:d=>Rt({...nt,method:d.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Method"}),t.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),t.jsx("option",{value:"FPS",children:"FPS"}),t.jsx("option",{value:"PayMe",children:"PayMe"}),t.jsx("option",{value:"Alipay",children:"Alipay"}),t.jsx("option",{value:"Credit Card",children:"Credit Card"}),t.jsx("option",{value:"Cash",children:"Cash"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-hashtag",style:{marginRight:"8px",color:"#5a31ea"}}),"Reference Number"]}),t.jsx("input",{type:"text",value:nt.reference,onChange:d=>Rt({...nt,reference:d.target.value}),placeholder:"Transaction reference"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-day",style:{marginRight:"8px",color:"#5a31ea"}}),"Date"]}),t.jsx("input",{type:"text",value:nt.date,onChange:d=>Rt({...nt,date:d.target.value}),placeholder:"01 Jan 2025"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-toggle-on",style:{marginRight:"8px",color:"#5a31ea"}}),"Status ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:nt.status,onChange:d=>Rt({...nt,status:d.target.value}),required:!0,children:[t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Completed",children:"Completed"}),t.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-image",style:{marginRight:"8px",color:"#5a31ea"}}),"Screenshot URL ",nt.method==="Cash"&&t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:nt.screenshot,onChange:d=>Rt({...nt,screenshot:d.target.value}),placeholder:"https://...",required:nt.method==="Cash"}),nt.method==="Cash"&&!nt.screenshot&&t.jsx("small",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"4px",display:"block"},children:"Screenshot is required for Cash payments"})]}),t.jsxs("label",{style:{gridColumn:"1 / -1"},children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-sticky-note",style:{marginRight:"8px",color:"#5a31ea"}}),"Notes"]}),t.jsx("textarea",{value:nt.notes,onChange:d=>Rt({...nt,notes:d.target.value}),rows:3,placeholder:"Additional notes..."})]}),t.jsxs("div",{className:"form-actions",style:{gridColumn:"1 / -1"},children:[t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{ra(!1),Da(null),Rt({memberId:"",member:"",invoiceId:"",amount:"",method:"",reference:"",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"Pending",screenshot:"",notes:""})},children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[aa?"Update":"Add"," Payment"]})]})]})]})}),t.jsx("div",{className:" card-payments",children:t.jsxs("div",{style:{padding:"2px"},children:[t.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a"},children:"Filter by Status:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"4px",flexWrap:"wrap"},children:[{value:"All",label:"All"},{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Paid",label:"Paid"},{value:"Rejected",label:"Rejected"}].map(d=>t.jsx("button",{type:"button",onClick:()=>Bi(d.value),style:{padding:"8px 16px",borderRadius:"4px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:Dn===d.value?"#5a31ea":"transparent",color:Dn===d.value?"#ffffff":"#6b7280",boxShadow:Dn===d.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:i=>{Dn!==d.value&&(i.target.style.background="#e5e7eb",i.target.style.color="#374151")},onMouseLeave:i=>{Dn!==d.value&&(i.target.style.background="transparent",i.target.style.color="#6b7280")},children:d.label},d.value))})]}),(()=>{const d=(l||[]).filter(S=>Dn==="All"?!0:S.status===Dn).sort((S,C)=>{if(S.status==="Pending"&&C.status!=="Pending")return-1;if(S.status!=="Pending"&&C.status==="Pending")return 1;const P=S.createdAt?new Date(S.createdAt):new Date(S.date||0);return(C.createdAt?new Date(C.createdAt):new Date(C.date||0))-P}),i=Math.ceil(d.length/ns)||1,c=Math.min(ii,i),h=(c-1)*ns,m=h+ns,w=d.slice(h,m);return d.length===0?t.jsx("div",{className:"admin-empty-state",children:t.jsx("p",{className:"admin-empty-state-message",children:Dn!=="All"?`No ${Dn.toLowerCase()} payments found.`:"No payments found."})}):t.jsxs(t.Fragment,{children:[t.jsx(os,{columns:["Date","Member","Invoice ID","Amount","Method","Screenshot","Status","Actions"],rows:w.map(S=>{const C=S._id||S.id,P=C?.toString?C.toString():C;return{Date:S.date||(S.createdAt?new Date(S.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),Member:S.member||"Unknown","Invoice ID":S.invoiceId||"N/A",Amount:S.amount||"$0",Method:Hs(S),Screenshot:{render:()=>S.screenshot?t.jsxs("a",{href:S.screenshot,target:"_blank",rel:"noopener noreferrer",style:{color:"#5a31ea",textDecoration:"none"},children:[t.jsx("i",{className:"fas fa-image",style:{marginRight:"4px"}}),"View"]}):"N/A"},Status:{render:()=>t.jsx("span",{className:S.status==="Paid"||S.status==="Completed"?"badge badge-paid":S.status==="Pending"?"badge badge-pending":S.status==="Rejected"?"badge badge-overdue":"badge badge-active",children:S.status})},Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{className:"ghost-btn icon-btn icon-btn--edit",onClick:()=>as(S),title:"Edit Payment",children:t.jsx("i",{className:"fas fa-pen","aria-hidden":"true"})}),t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",onClick:()=>{P&&_s(P)},title:"Delete Payment",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}})}),i>0&&d.length>0&&t.jsx(uc,{currentPage:c,totalPages:i,onPageChange:ts,pageSize:ns,onPageSizeChange:$i,totalItems:d.length})]})})()]})})]}),ct==="donations"&&t.jsxs("article",{className:"screen-card",id:"donations",style:{minHeight:"400px"},children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("div",{children:[Ra("donations"),t.jsx("h3",{children:"Donations"}),t.jsx("p",{children:"Manage donation records from members and non-members."})]}),t.jsx("button",{className:"primary-btn",onClick:()=>bi(!0),children:"+ Add Donation"})]})}),oo&&t.jsx("div",{className:"donation-form-overlay",style:Ge,onClick:d=>{d.target===d.currentTarget&&(bi(!1),er({donorName:"",isMember:!1,memberId:"",amount:"",method:"",date:"",notes:"",reference:"",screenshot:""}),Br(null),yr(null),ta(""),na(!1),Ps(!1))},children:t.jsxs("div",{className:"donation-card donation-form-container",style:Ve,onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{style:gt,children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-heart",style:{marginRight:"8px",color:"#5a31ea"}}),"Add Donation"]}),t.jsx("button",{type:"button",onClick:()=>{jn({donorName:!1,amount:!1,method:!1,date:!1,screenshot:!1}),dn(null),bi(!1),er({donorName:"",isMember:!1,memberId:"",amount:"",method:"",date:"",notes:"",reference:"",screenshot:""}),Br(null),yr(null),ta(""),na(!1),Ps(!1)},style:rn,onMouseEnter:d=>{d.target.style.background="#f3f4f6",d.target.style.color="#1a1a1a"},onMouseLeave:d=>{d.target.style.background="transparent",d.target.style.color="#666"},children:""})]}),t.jsxs("form",{noValidate:!0,onSubmit:async d=>{if(d.preventDefault(),!!(()=>{const c=["donorName","amount","method","date","screenshot"];if(sr){let h=!0,m="";if(sr==="donorName"&&!Ke.donorName)h=!1,m="Donor name is required";else if(sr==="amount")if(!Ke.amount)h=!1,m="Amount is required";else{const w=parseFloat(Ke.amount);(!w||w<=0||isNaN(w))&&(h=!1,m="Amount must be a positive number")}else sr==="method"&&!Ke.method?(h=!1,m="Payment method is required"):sr==="date"&&!Ke.date?(h=!1,m="Date is required"):sr==="screenshot"&&(Ke.method==="Cash Payment"&&!Ke.screenshot&&!Ar||Ke.method==="Online Payment"&&!Ke.screenshot&&!Ar)&&(h=!1,m="Proof image is required");if(h)jn(w=>({...w,[sr]:!1})),dn(null);else return jn(w=>({...w,[sr]:!0})),Ie(m,"error"),!1}for(const h of c){let m=!0,w="";if(h==="donorName"&&!Ke.donorName)m=!1,w="Donor name is required";else if(h==="amount")if(!Ke.amount)m=!1,w="Amount is required";else{const S=parseFloat(Ke.amount);(!S||S<=0||isNaN(S))&&(m=!1,w="Amount must be a positive number")}else h==="method"&&!Ke.method?(m=!1,w="Payment method is required"):h==="date"&&!Ke.date?(m=!1,w="Date is required"):h==="screenshot"&&(Ke.method==="Cash Payment"&&!Ke.screenshot&&!Ar||Ke.method==="Online Payment"&&!Ke.screenshot&&!Ar)&&(m=!1,w="Proof image is required");if(!m)return jn({donorName:!1,amount:!1,method:!1,date:!1,screenshot:!1}),jn(S=>({...S,[h]:!0})),dn(h),Ie(w,"error"),setTimeout(()=>{if(h==="donorName"){const S=document.querySelectorAll('input[type="text"]'),C=Array.from(S).find(P=>P.placeholder?.includes("donor name")||P.placeholder?.includes("Donor name"));C?.focus(),C?.scrollIntoView({behavior:"smooth",block:"center"})}else if(h==="amount"){const S=document.querySelector('input[type="number"][inputmode="numeric"]');S?.focus(),S?.scrollIntoView({behavior:"smooth",block:"center"})}else if(h==="method"){const S=document.querySelectorAll("select"),C=Array.from(S).find(P=>P.options[0]?.text==="Select method");C?.focus(),C?.scrollIntoView({behavior:"smooth",block:"center"})}else if(h==="date"){const S=document.querySelector('input[type="date"]');S?.focus(),S?.scrollIntoView({behavior:"smooth",block:"center"})}else if(h==="screenshot"){const S=document.querySelectorAll('[style*="border"]');Array.from(S).find(P=>P.style.border.includes("dashed"))?.scrollIntoView({behavior:"smooth",block:"center"})}},100),!1}return jn({donorName:!1,amount:!1,method:!1,date:!1,screenshot:!1}),dn(null),!0})())try{let c=Ke.screenshot;if(Ar){const h="http://localhost:4000",m=new FormData;m.append("screenshot",Ar),m.append("uploadType","donation-proof");const w=await fetch(`${h}/api/upload/screenshot`,{method:"POST",body:m});if(!w.ok){let C="Failed to upload image";try{C=(await w.json()).error||C}catch{C=`Upload failed with status ${w.status}`}throw new Error(C)}const S=await w.json();if(!S.url)throw new Error("No URL returned from upload. Please try again.");c=S.url}await Ce({...Ke,amount:amountNum.toFixed(2),screenshot:c}),Ie("Donation added successfully!"),bi(!1),er({donorName:"",isMember:!1,memberId:"",amount:"",method:"",date:"",notes:"",reference:"",screenshot:""}),Br(null),yr(null),ta(""),na(!1),await me()}catch(c){Ie(c.message||"Failed to add donation","error")}},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"8px",color:"#5a31ea"}}),"Donor Name ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:Ke.donorName,onChange:d=>{er({...Ke,donorName:d.target.value}),Ln.donorName&&(jn(i=>({...i,donorName:!1})),sr==="donorName"&&dn(null))},required:!0,placeholder:Ke.isMember?"Will be filled automatically when member is selected":"Enter donor name",disabled:!!(Ke.isMember&&Ke.memberId),style:{background:Ke.isMember&&Ke.memberId?"#f9fafb":"#fff",cursor:Ke.isMember&&Ke.memberId?"not-allowed":"text",border:Ln.donorName?"2px solid #ef4444":void 0}}),Ke.isMember&&Ke.memberId&&t.jsx("span",{style:{fontSize:"0.75rem",color:"#666",marginTop:"4px",display:"block"},children:"Donor name is automatically set from selected member"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Amount ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",inputMode:"numeric",value:Ke.amount,onChange:d=>{const i=d.target.value.replace(/[^0-9.]/g,"");er({...Ke,amount:i}),Ln.amount&&(jn(c=>({...c,amount:!1})),sr==="amount"&&dn(null))},placeholder:"100",required:!0,style:{border:Ln.amount?"2px solid #ef4444":void 0}})]})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"12px"},children:"Donor Type"}),t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[t.jsxs("button",{type:"button",onClick:()=>er({...Ke,isMember:!0,memberId:"",donorName:Ke.donorName}),style:{flex:"1",minWidth:"150px",padding:"14px 20px",borderRadius:"4px",border:"none",background:Ke.isMember?"#5a31ea":"#f8f9ff",color:Ke.isMember?"#ffffff":"#1a1a1a",boxShadow:Ke.isMember?"0 4px 12px rgba(90, 49, 234, 0.3)":"0 2px 4px rgba(90, 49, 234, 0.08)",fontWeight:"600",fontSize:"0.9375rem",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:d=>{Ke.isMember||(d.currentTarget.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.15)",d.currentTarget.style.background="#f8f8f8")},onMouseLeave:d=>{Ke.isMember||(d.currentTarget.style.borderColor="#e0e0e0",d.currentTarget.style.background="#fff")},children:[t.jsx("span",{style:{color:Ke.isMember?"#ffffff":"inherit"},children:""}),t.jsx("span",{style:{color:Ke.isMember?"#ffffff":"inherit"},children:"Member"})]}),t.jsxs("button",{type:"button",onClick:()=>er({...Ke,isMember:!1,memberId:"",donorName:Ke.donorName}),style:{flex:"1",minWidth:"150px",padding:"14px 20px",borderRadius:"4px",border:"none",background:Ke.isMember?"#f8f9ff":"#5a31ea",color:Ke.isMember?"#1a1a1a":"#ffffff",boxShadow:Ke.isMember?"0 2px 4px rgba(90, 49, 234, 0.08)":"0 4px 12px rgba(90, 49, 234, 0.3)",fontWeight:"600",fontSize:"0.9375rem",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:d=>{Ke.isMember&&(d.currentTarget.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.15)",d.currentTarget.style.background="#f8f8f8")},onMouseLeave:d=>{Ke.isMember&&(d.currentTarget.style.borderColor="#e0e0e0",d.currentTarget.style.background="#fff")},children:[t.jsx("span",{style:{color:Ke.isMember?"inherit":"#ffffff"},children:""}),t.jsx("span",{style:{color:Ke.isMember?"inherit":"#ffffff"},children:"Non-Member"})]})]})]}),Ke.isMember&&t.jsx("div",{style:{marginBottom:"16px"},children:t.jsxs("label",{children:["Select Member ",t.jsx("span",{style:{color:"#ef4444"},children:"*"}),t.jsxs("div",{style:{position:"relative"},"data-donation-member-dropdown":!0,children:[t.jsxs("div",{onClick:()=>na(!ps),style:{padding:"10px 16px",border:"1px solid #e0e0e0",borderRadius:"4px",background:"#fff",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",color:Ke.memberId?"#000":"#999",minHeight:"42px"},children:[t.jsx("span",{children:Ke.memberId?(()=>{const d=s.find(i=>i.id===Ke.memberId);return d?`${d.name} (${d.id})`:"Select Member"})():"Select Member"}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#5a31ea",transition:"transform 0.2s ease",transform:ps?"rotate(180deg)":"rotate(0deg)",display:"inline-block"},children:""})]}),ps&&t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#fff",border:"1px solid #e0e0e0",borderRadius:"4px",marginTop:"4px",maxHeight:"300px",overflow:"hidden",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[t.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid #e0e0e0",background:"#f9fafb"},children:[t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:"text",placeholder:" Search member by name or ID...",value:Jn,onChange:d=>ta(d.target.value),onClick:d=>d.stopPropagation(),onKeyDown:d=>d.stopPropagation(),autoFocus:!0,style:{width:"100%",padding:"10px 36px 10px 12px",border:"1px solid #e0e0e0",borderRadius:"4px",fontSize:"0.875rem",outline:"none",background:"#fff",transition:"border-color 0.2s"},onFocus:d=>{d.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1), 0 4px 12px rgba(90, 49, 234, 0.12)",d.target.style.boxShadow="0 0 0 2px rgba(0,0,0,0.05)"},onBlur:d=>{d.target.style.borderColor="#e0e0e0",d.target.style.boxShadow="none"}}),Jn&&t.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),ta("")},style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",color:"#666",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center"},title:"Clear search",children:""})]}),Jn&&t.jsxs("div",{style:{marginTop:"8px",fontSize:"0.75rem",color:"#666"},children:[s.filter(d=>!Jn||d.name?.toLowerCase().includes(Jn.toLowerCase())||d.id?.toLowerCase().includes(Jn.toLowerCase())).length," member",s.filter(d=>!Jn||d.name?.toLowerCase().includes(Jn.toLowerCase())||d.id?.toLowerCase().includes(Jn.toLowerCase())).length!==1?"s":""," found"]})]}),t.jsxs("div",{style:{maxHeight:"250px",overflowY:"auto"},children:[s.filter(d=>!Jn||d.name?.toLowerCase().includes(Jn.toLowerCase())||d.id?.toLowerCase().includes(Jn.toLowerCase())).map(d=>t.jsxs("div",{onClick:()=>{er({...Ke,memberId:d.id,donorName:d.name||""}),na(!1),ta("")},style:{padding:"12px 16px",cursor:"pointer",borderBottom:"1px solid #e5e7eb",background:Ke.memberId===d.id?"#f9fafb":"#fff",transition:"background 0.2s"},onMouseEnter:i=>{Ke.memberId!==d.id&&(i.target.style.background="#f9f9f9")},onMouseLeave:i=>{Ke.memberId!==d.id&&(i.target.style.background="#fff")},children:[t.jsx("div",{style:{fontWeight:"500",color:"#000"},children:d.name}),t.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"2px"},children:[d.id," ",d.email?` ${d.email}`:""]})]},d.id)),s.filter(d=>!Jn||d.name?.toLowerCase().includes(Jn.toLowerCase())||d.id?.toLowerCase().includes(Jn.toLowerCase())).length===0&&t.jsx("div",{style:{padding:"16px",textAlign:"center",color:"#999",fontSize:"0.875rem"},children:"No members found"})]})]})]}),!Ke.memberId&&t.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"4px",display:"none"},children:"Please select a member"})]})}),t.jsxs("label",{children:["Payment Method ",t.jsx("span",{style:{color:"#ef4444"},children:"*"}),t.jsxs("div",{className:"donation-payment-method-select-wrapper",children:[t.jsxs("select",{className:"donation-payment-method-select-default",value:Ke.method,onChange:d=>{er({...Ke,method:d.target.value}),Ln.method&&(jn(i=>({...i,method:!1})),sr==="method"&&dn(null))},required:!0,style:{border:Ln.method?"2px solid #ef4444":void 0},children:[t.jsx("option",{value:"",children:"Select method"}),t.jsx("option",{value:"Online Payment",children:"Online Payment"}),t.jsx("option",{value:"Cash Payment",children:"Cash Payment"})]}),t.jsxs("div",{className:"donation-payment-method-select-custom","data-donation-payment-method-dropdown":!0,children:[t.jsxs("div",{onClick:()=>Ps(!si),style:{padding:"10px 16px",border:Ln.method?"2px solid #ef4444":"1px solid #e0e0e0",borderRadius:"4px",background:"#fff",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",color:Ke.method?"#000":"#999",minHeight:"42px"},children:[t.jsx("span",{children:Ke.method||"Select method"}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#5a31ea",transition:"transform 0.2s ease",transform:si?"rotate(180deg)":"rotate(0deg)",display:"inline-block"},children:""})]}),si&&t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#fff",border:"1px solid #e0e0e0",borderRadius:"4px",marginTop:"4px",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},onClick:d=>d.stopPropagation(),children:[t.jsx("div",{onClick:()=>{er({...Ke,method:"Online Payment"}),Ps(!1),Ln.method&&(jn(d=>({...d,method:!1})),sr==="method"&&dn(null))},style:{padding:"12px 16px",cursor:"pointer",borderBottom:"1px solid #e5e7eb",background:Ke.method==="Online Payment"?"#f9fafb":"#fff",transition:"background 0.2s",color:"#1a1a1a"},onMouseEnter:d=>{Ke.method!=="Online Payment"&&(d.currentTarget.style.background="#f3f4f6")},onMouseLeave:d=>{Ke.method!=="Online Payment"&&(d.currentTarget.style.background="#fff")},children:"Online Payment"}),t.jsx("div",{onClick:()=>{er({...Ke,method:"Cash Payment"}),Ps(!1),Ln.method&&(jn(d=>({...d,method:!1})),sr==="method"&&dn(null))},style:{padding:"12px 16px",cursor:"pointer",background:Ke.method==="Cash Payment"?"#f9fafb":"#fff",transition:"background 0.2s",color:"#1a1a1a"},onMouseEnter:d=>{Ke.method!=="Cash Payment"&&(d.currentTarget.style.background="#f3f4f6")},onMouseLeave:d=>{Ke.method!=="Cash Payment"&&(d.currentTarget.style.background="#fff")},children:"Cash Payment"})]})]})]})]}),Ke.method==="Cash Payment"&&t.jsxs("label",{style:{gridColumn:"1 / -1"},children:["Proof Image ",t.jsx("span",{style:{color:"#ef4444"},children:"*"}),t.jsx("div",{style:{border:Ln.screenshot?"2px dashed #ef4444":"2px dashed #d0d0d0",borderRadius:"4px",padding:"24px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",background:Aa||Ke.screenshot?"#f9fafb":"#fafafa"},onMouseEnter:d=>{Ln.screenshot||(d.currentTarget.style.borderColor="#5a31ea"),d.currentTarget.style.background="#f8f9ff"},onMouseLeave:d=>{d.currentTarget.style.borderColor=Ln.screenshot?"#ef4444":"#d0d0d0",d.currentTarget.style.background=Aa||Ke.screenshot?"#f9fafb":"#fafafa"},onClick:()=>{const d=document.createElement("input");d.type="file",d.accept="image/*",d.onchange=async i=>{const c=i.target.files[0];if(!c)return;if(!c.type.startsWith("image/")){Ie("Please upload an image file","error");return}const h=new FileReader;h.onloadend=()=>{Br(c),yr(h.result),Ln.screenshot&&(jn(m=>({...m,screenshot:!1})),sr==="screenshot"&&dn(null))},h.readAsDataURL(c)},d.click()},children:Aa||Ke.screenshot?t.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[t.jsx("img",{src:Aa||Ke.screenshot,alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"4px",marginBottom:"8px"}}),t.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),Br(null),yr(null),er({...Ke,screenshot:""}),Ln.screenshot&&(jn(i=>({...i,screenshot:!1})),sr==="screenshot"&&dn(null))},style:{position:"absolute",top:"8px",right:"8px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"50%",width:"28px",height:"28px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem"},children:""}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginTop:"8px"},children:"Click to change image"})]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-cloud-upload-alt",style:{fontSize:"2rem",color:"#5a31ea",marginBottom:"8px"}}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginTop:"8px"},children:"Click to upload image"}),t.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"4px"},children:"PNG, JPG, GIF up to 10MB"})]})})]}),Ke.method==="Online Payment"&&t.jsxs("label",{style:{gridColumn:"1 / -1"},children:["Proof Image ",t.jsx("span",{style:{color:"#ef4444"},children:"*"}),t.jsx("div",{style:{border:Ln.screenshot?"2px dashed #ef4444":"2px dashed #d0d0d0",borderRadius:"4px",padding:"24px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",background:Aa||Ke.screenshot?"#f9fafb":"#fafafa"},onMouseEnter:d=>{Ln.screenshot||(d.currentTarget.style.borderColor="#5a31ea"),d.currentTarget.style.background="#f8f9ff"},onMouseLeave:d=>{d.currentTarget.style.borderColor=Ln.screenshot?"#ef4444":"#d0d0d0",d.currentTarget.style.background=Aa||Ke.screenshot?"#f9fafb":"#fafafa"},onClick:()=>{const d=document.createElement("input");d.type="file",d.accept="image/*",d.onchange=async i=>{const c=i.target.files[0];if(!c)return;if(!c.type.startsWith("image/")){Ie("Please upload an image file","error");return}const h=new FileReader;h.onloadend=()=>{Br(c),yr(h.result),Ln.screenshot&&(jn(m=>({...m,screenshot:!1})),sr==="screenshot"&&dn(null))},h.readAsDataURL(c)},d.click()},children:Aa||Ke.screenshot?t.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[t.jsx("img",{src:Aa||Ke.screenshot,alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"4px",marginBottom:"8px"}}),t.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),Br(null),yr(null),er({...Ke,screenshot:""}),Ln.screenshot&&(jn(i=>({...i,screenshot:!1})),sr==="screenshot"&&dn(null))},style:{position:"absolute",top:"8px",right:"8px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"50%",width:"28px",height:"28px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem"},children:""}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginTop:"8px"},children:"Click to change image"})]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-cloud-upload-alt",style:{fontSize:"2rem",color:"#5a31ea",marginBottom:"8px"}}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginTop:"8px"},children:"Click to upload image"}),t.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"4px"},children:"PNG, JPG, GIF up to 10MB"})]})})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-day",style:{marginRight:"8px",color:"#5a31ea"}}),"Date ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"date",value:Ke.date,onChange:d=>{const i=d.target.value;er({...Ke,date:i}),Ln.date&&(jn(c=>({...c,date:!1})),sr==="date"&&dn(null))},onBlur:d=>{const i=d.target.value;if(i){const c=new Date(i);if(isNaN(c.getTime())){Ie("Invalid date format. Please enter a valid date (YYYY-MM-DD)","error");return}const[h,m,w]=i.split("-").map(Number);if(m<1||m>12){Ie("Invalid month. Please enter a month between 01 and 12","error");return}if(w<1||w>31){Ie("Invalid day. Please enter a valid day for the selected month","error");return}const S=new Date(h,m,0).getDate();if(w>S){Ie(`Invalid date. ${m}/${h} only has ${S} days`,"error");return}}},required:!0,style:{borderRadius:"4px",width:"100%",border:Ln.date?"2px solid #ef4444":void 0}})]}),t.jsxs("label",{children:["Notes (Optional)",t.jsx("textarea",{value:Ke.notes,onChange:d=>er({...Ke,notes:d.target.value}),rows:3,placeholder:"Additional notes about this donation..."})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[t.jsx("button",{type:"submit",className:"primary-btn",children:"Save Donation"}),t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{bi(!1),er({donorName:"",isMember:!1,memberId:"",amount:"",method:"",date:"",notes:"",reference:"",screenshot:""}),Br(null),yr(null),ta(""),na(!1)},children:"Cancel"})]})]})]})}),t.jsx("div",{className:"card-donations",children:!ee||Array.isArray(ee)&&ee.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#666"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("p",{style:{margin:0,fontSize:"1.125rem",fontWeight:"500"},children:"No donations yet"}),t.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.9375rem",color:"#999"},children:'Click "Add Donation" to record your first donation'})]}):t.jsx("div",{className:"table-wrapper",children:(()=>{const i=(Array.isArray(ee)?ee:[]).filter(C=>C!==null),c=Math.ceil(i.length/$s)||1,h=Math.min(po,c),m=(h-1)*$s,w=m+$s,S=i.slice(m,w);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666"},children:["Total donations:"," ",t.jsxs("strong",{children:["$",lr(i.reduce((C,P)=>{const I=parseFloat(P?.amount||0);return C+(isNaN(I)?0:I)},0),{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{try{const C=i.map(de=>({Date:de.date||(de.createdAt?new Date(de.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),DonorName:de.donorName||"",Type:de.isMember?"Member":"Non-Member",Amount:de.amount||"0",Method:de.method||"",Notes:(de.notes||"").replace(/\r?\n/g," ")})),P=["Date","DonorName","Type","Amount","Method","Notes"],I=[P.join(","),...C.map(de=>P.map(be=>{const Ue=de[be]??"";return`"${String(Ue).replace(/"/g,'""')}"`}).join(","))],T=new Blob([I.join(`
`)],{type:"text/csv;charset=utf-8;"}),te=URL.createObjectURL(T),ie=document.createElement("a");ie.href=te;const V=new Date().toISOString().slice(0,10);ie.download=`donations-report-${V}.csv`,document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),URL.revokeObjectURL(te),Ie("Donations report exported as CSV")}catch(C){console.error("Export donations CSV failed",C),Ie("Failed to export donations report","error")}},children:" Export Donations CSV"})]}),t.jsx(os,{columns:["Date","Donor Name","Type","Amount","Method","Notes","Actions"],rows:S.map(C=>C?{Date:C.date||(C.createdAt?new Date(C.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),"Donor Name":C.donorName||"Unknown",Type:C.isMember?t.jsx("span",{className:"badge badge-active",children:"Member"}):t.jsx("span",{className:"badge badge-inactive",children:"Non-Member"}),Amount:C.amount?`$${lr(Number(C.amount),{minimumFractionDigits:2,maximumFractionDigits:2})}`:"$0.00",Method:C.method||"-",Notes:C.notes||"-",Actions:{render:()=>t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",onClick:async()=>{Ta("Are you sure you want to delete this donation?",async()=>{try{const I=C._id||C.id;await _e(I),Ie("Donation deleted successfully!"),await me()}catch(I){Ie(I.message||"Failed to delete donation","error")}})},title:"Delete Donation","aria-label":"Delete Donation",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})}}:null).filter(C=>C!==null)}),c>0&&i.length>0&&t.jsx(uc,{currentPage:h,totalPages:c,onPageChange:Oo,pageSize:$s,onPageSizeChange:Wi,totalItems:i.length})]})})()})})]}),ct==="reports"&&t.jsxs("article",{className:"screen-card",id:"reports",children:[t.jsxs("header",{className:"screen-card__header",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{children:[Ra("reports"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-chart-line",style:{marginRight:"10px"}}),"Financial Reports"]}),t.jsx("p",{children:"Comprehensive financial overview and payment analytics."})]}),He&&t.jsxs("div",{className:"financial-reports-export-buttons",style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("button",{type:"button",onClick:vo,title:"Export CSV",style:{padding:"12px",borderRadius:"8px",fontWeight:"600",fontSize:"1.25rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",background:"#ffffff",color:"#5a31ea",border:"2px solid #e5e7eb",boxShadow:"none",width:"48px",height:"48px"},onMouseEnter:d=>{d.target.style.background="#5a31ea",d.target.style.color="#ffffff",d.target.style.border="2px solid #5a31ea",d.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.3)"},onMouseLeave:d=>{d.target.style.background="#ffffff",d.target.style.color="#5a31ea",d.target.style.border="2px solid #e5e7eb",d.target.style.boxShadow="none"},children:t.jsx("i",{className:"fas fa-file-csv"})}),t.jsx("button",{type:"button",onClick:$o,title:"Export PDF",style:{padding:"12px",borderRadius:"8px",fontWeight:"600",fontSize:"1.25rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",background:"#ffffff",color:"#5a31ea",border:"2px solid #e5e7eb",boxShadow:"none",width:"48px",height:"48px"},onMouseEnter:d=>{d.target.style.background="#5a31ea",d.target.style.color="#ffffff",d.target.style.border="2px solid #5a31ea",d.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.3)"},onMouseLeave:d=>{d.target.style.background="#ffffff",d.target.style.color="#5a31ea",d.target.style.border="2px solid #e5e7eb",d.target.style.boxShadow="none"},children:t.jsx("i",{className:"fas fa-file-pdf"})})]})]}),t.jsx("div",{className:"card card-reports",style:{marginBottom:"24px",padding:"20px",background:"#ffffff"},children:t.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px",alignItems:"flex-end"},children:[t.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:[t.jsx("i",{className:"fas fa-calendar-alt",style:{marginRight:"6px",color:"#5a31ea"}}),"Date From"]}),t.jsx("input",{type:"date",value:un.from,onChange:d=>{const i=d.target.value;ks({...un,from:i})},style:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"2px solid #e5e7eb",fontSize:"0.9375rem",background:"#ffffff",transition:"all 0.2s ease"},onFocus:d=>{d.target.style.borderColor="#5a31ea",d.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1)"},onBlur:d=>{d.target.style.borderColor="#e5e7eb",d.target.style.boxShadow="none"}})]}),t.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:[t.jsx("i",{className:"fas fa-calendar-check",style:{marginRight:"6px",color:"#5a31ea"}}),"Date To"]}),t.jsx("input",{type:"date",value:un.to,onChange:d=>{const i=d.target.value;ks({...un,to:i})},style:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"2px solid #e5e7eb",fontSize:"0.9375rem",background:"#ffffff",transition:"all 0.2s ease"},onFocus:d=>{d.target.style.borderColor="#5a31ea",d.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1)"},onBlur:d=>{d.target.style.borderColor="#e5e7eb",d.target.style.boxShadow="none"}})]}),t.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:["This Year","This Quarter","This Month"].map(d=>t.jsx("button",{onClick:()=>{Qo(d);const i=new Date;if(d==="This Year")ks({from:`${i.getFullYear()}-01-01`,to:`${i.getFullYear()}-12-31`});else if(d==="This Quarter"){const h=Math.floor(i.getMonth()/3)*3;ks({from:`${i.getFullYear()}-${String(h+1).padStart(2,"0")}-01`,to:`${i.getFullYear()}-${String(h+3).padStart(2,"0")}-31`})}else ks({from:`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-01`,to:`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-31`})},style:{padding:"12px 20px",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",background:wi===d?"#5a31ea":"#ffffff",color:wi===d?"#ffffff":"#6b7280",border:wi===d?"none":"2px solid #e5e7eb",boxShadow:wi===d?"0 4px 12px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:i=>{wi!==d&&(i.target.style.background="#f3f4f6",i.target.style.borderColor="#d1d5db")},onMouseLeave:i=>{wi!==d&&(i.target.style.background="#ffffff",i.target.style.borderColor="#e5e7eb")},children:d},d))})]})}),t.jsxs("div",{className:"kpi-grid",style:{marginBottom:"24px"},children:[t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-dollar-sign",style:{marginRight:"8px",color:"#5a31ea"}}),"Total Collected"]}),t.jsxs("h4",{children:["$",pn.collected.toLocaleString()]}),t.jsxs("small",{children:[Math.round(pn.collected/pn.expected*100),"% of $",pn.expected.toLocaleString()," expected"]})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-exclamation-triangle",style:{marginRight:"8px",color:"#ef4444"}}),"Outstanding"]}),t.jsxs("h4",{children:["$",lr(ir.outstanding)]}),t.jsx("small",{children:"Pending collection"})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-users",style:{marginRight:"8px",color:"#5a31ea"}}),"Avg per Member"]}),t.jsxs("h4",{children:["$",pn.averagePerMember]}),t.jsx("small",{children:"Goal: $800"})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-exchange-alt",style:{marginRight:"8px",color:"#5a31ea"}}),"Transactions"]}),t.jsx("h4",{children:pn.transactionCount}),t.jsx("small",{children:"In selected period"})]})]}),t.jsxs("div",{className:"admin-reports-charts-grid",children:[t.jsxs("div",{className:"admin-reports-chart-card--collected",children:[t.jsxs("div",{className:"admin-settings-section-header",children:[t.jsx("h4",{className:"admin-settings-section-title",children:"Collected vs Outstanding"}),t.jsx("p",{className:"admin-settings-section-description",children:"Financial overview for selected period"})]}),t.jsxs("div",{style:{position:"relative",height:"280px",display:"flex",alignItems:"flex-end",gap:"32px",justifyContent:"center",padding:"0 24px"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"16px",flex:1,maxWidth:"200px"},children:[t.jsxs("div",{style:{width:"100%",background:"#10b981",borderRadius:"8px 8px 0 0",minHeight:"60px",height:`${Math.max(60,Math.round(pn.collected/(pn.collected+ir.outstanding)*200)||0)}px`,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"700",fontSize:"1.125rem",transition:"all 0.2s ease",cursor:"pointer",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.2)"},onMouseEnter:d=>{d.target.style.transform="translateY(-4px)",d.target.style.boxShadow="0 4px 12px rgba(16, 185, 129, 0.3)"},onMouseLeave:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 2px 8px rgba(16, 185, 129, 0.2)"},children:["$",lr(pn.collected)]}),t.jsxs("div",{style:{textAlign:"center",width:"100%"},children:[t.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1a1a1a",display:"block",marginBottom:"4px"},children:"Collected"}),t.jsxs("span",{style:{fontSize:"0.75rem",color:"#666"},children:[Math.round(pn.collected/(pn.collected+ir.outstanding)*100),"%"]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"16px",flex:1,maxWidth:"200px"},children:[t.jsxs("div",{style:{width:"100%",background:"#ef4444",borderRadius:"8px 8px 0 0",minHeight:"60px",height:`${Math.max(60,Math.round(ir.outstanding/(pn.collected+ir.outstanding)*200)||0)}px`,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"700",fontSize:"1.125rem",transition:"all 0.2s ease",cursor:"pointer",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.2)"},onMouseEnter:d=>{d.target.style.transform="translateY(-4px)",d.target.style.boxShadow="0 4px 12px rgba(239, 68, 68, 0.3)"},onMouseLeave:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 2px 8px rgba(239, 68, 68, 0.2)"},children:["$",ir.outstanding.toLocaleString()]}),t.jsxs("div",{style:{textAlign:"center",width:"100%"},children:[t.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1a1a1a",display:"block",marginBottom:"4px"},children:"Outstanding"}),t.jsxs("span",{style:{fontSize:"0.75rem",color:"#666"},children:[Math.round(ir.outstanding/(pn.collected+ir.outstanding)*100),"%"]})]})]})]})]}),t.jsxs("div",{className:"admin-settings-users-card",children:[t.jsxs("div",{className:"admin-settings-section-header",children:[t.jsx("h4",{className:"admin-settings-section-title",children:"Payments Over Time"}),t.jsx("p",{className:"admin-settings-section-description",children:"Payment trends for selected period"})]}),t.jsx("div",{style:{position:"relative",height:"240px",padding:"0 16px"},children:(()=>{const d={},i=new Date(un.from),c=new Date(un.to),h=Math.ceil((c-i)/(1e3*60*60*24));pn.paymentsInRange.forEach(S=>{const C=S.date?new Date(S.date):S.createdAt?new Date(S.createdAt):new Date;let P;if(h<=7)P=C.toLocaleDateString("en-US",{month:"short",day:"numeric"});else if(h<=30){const T=new Date(C);T.setDate(C.getDate()-C.getDay()),P=T.toLocaleDateString("en-US",{month:"short",day:"numeric"})}else P=C.toLocaleDateString("en-US",{month:"short",year:"numeric"});d[P]||(d[P]=0);const I=parseFloat(S.amount?.replace(/[^0-9.]/g,"")||0);d[P]+=I});const m=Object.keys(d).sort((S,C)=>new Date(S)-new Date(C)).slice(-10),w=Math.max(...m.map(S=>d[S]),1);return t.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:"8px",height:"100%",justifyContent:"space-between"},children:m.length>0?m.map((S,C)=>{const P=d[S],I=Math.max(30,P/w*180);return t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",flex:1,minWidth:"50px"},children:[t.jsx("div",{style:{width:"100%",background:"#5a31ea",borderRadius:"6px 6px 0 0",height:`${I}px`,minHeight:"30px",display:"flex",alignItems:"flex-end",justifyContent:"center",paddingBottom:"6px",color:"#fff",fontSize:"0.75rem",fontWeight:"600",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.15)",cursor:"pointer",transition:"all 0.2s ease"},title:`${S}: $${P.toFixed(2)}`,onMouseEnter:T=>{T.currentTarget.style.transform="translateY(-4px)",T.currentTarget.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.25)"},onMouseLeave:T=>{T.currentTarget.style.transform="translateY(0)",T.currentTarget.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.15)"},children:I>40&&`$${Math.round(P)}`}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#666",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",fontWeight:"500"},children:S.length>10?S.substring(0,8)+"...":S})]},`${S}-${C}`)}):t.jsx("div",{style:{width:"100%",textAlign:"center",color:"#999",padding:"60px 0",fontSize:"0.875rem"},children:"No payment data in selected period"})})})()})]})]}),t.jsxs("div",{className:"card card-reports",style:{marginBottom:"24px",padding:"24px",background:"#ffffff",border:"1px solid #e5e7eb"},children:[t.jsxs("h4",{style:{marginBottom:"20px",fontSize:"1.25rem",fontWeight:"700",color:"#1a1a1a"},children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"10px",color:"#5a31ea"}}),"Payment Method Breakdown"]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:pn.methodMix.map(d=>{const c={FPS:"#10b981",PayMe:"#25D366","Bank Transfer":"#3b82f6",Cash:"#f59e0b",Other:"#6b7280"}[d.label]||"#6b7280";return t.jsxs("div",{style:{padding:"16px",borderRadius:"12px",background:"#ffffff",border:`2px solid ${c}`,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},onMouseEnter:h=>{h.currentTarget.style.transform="translateY(-2px)",h.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.12)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateY(0)",h.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.08)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[t.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:c,flexShrink:0}}),t.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1a1a1a",flex:1},children:d.label})]}),t.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:c,marginLeft:"24px"},children:d.value})]},d.label)})})]}),t.jsxs("div",{className:"card card-reports",style:{padding:"24px",background:"#ffffff",border:"1px solid #e5e7eb"},children:[t.jsxs("div",{style:{marginBottom:"24px",display:"flex",gap:"16px",flexWrap:"wrap",alignItems:"center"},children:[t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsxs("label",{style:{fontWeight:"600",color:"#1a1a1a",fontSize:"0.9375rem"},children:[t.jsx("i",{className:"fas fa-filter",style:{marginRight:"6px",color:"#5a31ea"}}),"Filter by Type:"]}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"8px",flexWrap:"wrap"},children:[{value:"all",label:"All"},{value:"payments",label:"Payments"},{value:"donations",label:"Donations"}].map(d=>t.jsx("button",{type:"button",onClick:()=>Si(d.value),style:{padding:"8px 16px",borderRadius:"6px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:Ir===d.value?"#5a31ea":"transparent",color:Ir===d.value?"#ffffff":"#6b7280",boxShadow:Ir===d.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:i=>{Ir!==d.value&&(i.target.style.background="#e5e7eb",i.target.style.color="#374151")},onMouseLeave:i=>{Ir!==d.value&&(i.target.style.background="transparent",i.target.style.color="#6b7280")},children:d.label},d.value))})]}),Ir==="donations"&&t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#1a1a1a",fontSize:"0.9375rem"},children:"Filter by Donor Type:"}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"#f3f4f6",padding:"4px",borderRadius:"8px",flexWrap:"wrap"},children:[{value:"all",label:"All"},{value:"member",label:"Members"},{value:"non-member",label:"Non-Members"}].map(d=>t.jsx("button",{type:"button",onClick:()=>Ui(d.value),style:{padding:"8px 16px",borderRadius:"6px",border:"none",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",background:Fn===d.value?"#5a31ea":"transparent",color:Fn===d.value?"#ffffff":"#6b7280",boxShadow:Fn===d.value?"0 2px 8px rgba(90, 49, 234, 0.3)":"none"},onMouseEnter:i=>{Fn!==d.value&&(i.target.style.background="#e5e7eb",i.target.style.color="#374151")},onMouseLeave:i=>{Fn!==d.value&&(i.target.style.background="transparent",i.target.style.color="#6b7280")},children:d.label},d.value))})]})]}),t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("h4",{style:{margin:0,fontSize:"1.25rem",fontWeight:"700",color:"#1a1a1a"},children:[t.jsx("i",{className:"fas fa-list",style:{marginRight:"10px",color:"#5a31ea"}}),"Transactions"]}),t.jsx("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:t.jsx("input",{type:"text",placeholder:"Search transactions...",value:hs,onChange:d=>{Ro(d.target.value),br(1)},style:{padding:"10px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.9375rem",minWidth:"250px",background:"#ffffff"}})})]}),t.jsxs("div",{style:{overflow:"hidden",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[t.jsx("div",{className:"table-wrapper",style:{overflowX:"auto",width:"100%",maxWidth:"100%"},children:t.jsx(os,{columns:["Date","Type","Member / Donor","Invoice ID","Amount","Method","Screenshot","Status","Actions"],rows:(()=>{let i=[...(pn.paymentsInRange||[]).map(S=>({...S,type:"Payment",source:S.member||"Unknown",amount:S.amount,method:S.method,screenshot:S.screenshot,status:S.status||"Completed",invoiceId:S.invoiceId,period:S.period,date:S.date||(S.createdAt?new Date(S.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),createdAt:S.createdAt||new Date(S.date||0)})),...(pn.donationsInRange||[]).map(S=>({...S,type:"Donation",source:S.donorName,amount:S.amount,method:S.method||"N/A",screenshot:S.screenshot||null,status:"Completed",invoiceId:null,period:null,date:S.date||(S.createdAt?new Date(S.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),createdAt:S.createdAt||new Date(S.date||0),isMember:S.isMember}))].sort((S,C)=>{const P=S.createdAt?new Date(S.createdAt):new Date(S.date||0);return(C.createdAt?new Date(C.createdAt):new Date(C.date||0))-P}).filter(S=>!(Ir==="payments"&&S.type!=="Payment"||Ir==="donations"&&S.type!=="Donation"||S.type==="Donation"&&(Fn==="member"&&!S.isMember||Fn==="non-member"&&S.isMember)));if(hs.trim()){const S=hs.toLowerCase();i=i.filter(C=>C.source&&C.source.toLowerCase().includes(S)||C.invoiceId&&C.invoiceId.toString().toLowerCase().includes(S)||C.amount&&C.amount.toString().toLowerCase().includes(S)||C.method&&C.method.toLowerCase().includes(S)||C.status&&C.status.toLowerCase().includes(S)||C.date&&C.date.toLowerCase().includes(S))}i.length;const c=(fo-1)*_a,h=c+_a;return i.slice(c,h).map(S=>(S._id||S.id,{Date:S.date||"N/A",Type:{render:()=>S.type==="Payment"?t.jsx("span",{className:"badge badge-paid",children:"Payment"}):t.jsx("span",{className:"badge badge-active",children:"Donation"})},"Member / Donor":S.source||"Unknown","Invoice ID":S.invoiceId||(S.type==="Donation","N/A"),Amount:S.amount||"$0",Method:S.type==="Payment"?Hs(S):S.method||"N/A",Screenshot:{render:()=>S.screenshot?t.jsx("a",{href:S.screenshot,target:"_blank",rel:"noopener noreferrer",style:{color:"#5a31ea",textDecoration:"none"},title:"View screenshot","aria-label":"View screenshot",children:t.jsx("i",{className:"fas fa-image","aria-hidden":"true"})}):"N/A"},Status:{render:()=>t.jsx("span",{className:Wa[S.status]||"badge badge-paid",children:S.status})},Actions:{render:()=>t.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:S.type==="Payment"&&S.invoiceId&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--view",onClick:()=>{const C=r.find(I=>I.id===S.invoiceId||I._id===S.invoiceId);if(!C){Ie("Invoice not found for this transaction","error");return}const P=s.find(I=>I.id===C.memberId)||s.find(I=>I.name&&C.memberName&&I.name.toLowerCase()===C.memberName.toLowerCase());if(!P){Ie("Member not found for this invoice","error");return}J(P),Nt("member-detail"),Jt("Invoices")},title:"View Invoice",children:t.jsx("i",{className:"fas fa-eye","aria-hidden":"true"})})})}}))})()})}),(()=>{let i=[...(pn.paymentsInRange||[]).map(w=>({...w,type:"Payment",source:w.member||"Unknown",amount:w.amount,method:w.method,screenshot:w.screenshot,status:w.status||"Completed",invoiceId:w.invoiceId,period:w.period,date:w.date||(w.createdAt?new Date(w.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),createdAt:w.createdAt||new Date(w.date||0)})),...(pn.donationsInRange||[]).map(w=>({...w,type:"Donation",source:w.donorName,amount:w.amount,method:w.method||"N/A",screenshot:w.screenshot||null,status:"Completed",invoiceId:null,period:null,date:w.date||(w.createdAt?new Date(w.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"),createdAt:w.createdAt||new Date(w.date||0),isMember:w.isMember}))].sort((w,S)=>{const C=w.createdAt?new Date(w.createdAt):new Date(w.date||0);return(S.createdAt?new Date(S.createdAt):new Date(S.date||0))-C}).filter(w=>!(Ir==="payments"&&w.type!=="Payment"||Ir==="donations"&&w.type!=="Donation"||w.type==="Donation"&&(Fn==="member"&&!w.isMember||Fn==="non-member"&&w.isMember)));if(hs.trim()){const w=hs.toLowerCase();i=i.filter(S=>S.source&&S.source.toLowerCase().includes(w)||S.invoiceId&&S.invoiceId.toString().toLowerCase().includes(w)||S.amount&&S.amount.toString().toLowerCase().includes(w)||S.method&&S.method.toLowerCase().includes(w)||S.status&&S.status.toLowerCase().includes(w)||S.date&&S.date.toLowerCase().includes(w))}const c=i.length,h=Math.ceil(c/_a),m=Math.min(fo,h||1);return t.jsx(uc,{currentPage:m,totalPages:h||1,onPageChange:br,pageSize:_a,onPageSizeChange:w=>{zs(w),br(1)},totalItems:c})})()]})]})]})]}),ct==="export-reports"&&t.jsxs("article",{className:"screen-card",id:"export-reports",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Ra("export-reports"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-file-export",style:{marginRight:"10px"}}),"Export Reports"]}),t.jsx("p",{children:"Export financial data in various formats."})]})}),t.jsx("div",{className:"card-exports",children:t.jsxs("div",{style:{padding:"2px"},children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h4",{style:{marginBottom:"12px"},children:"Export Options"}),t.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Export your financial data in CSV or PDF format. Select a date range to export specific periods."})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px",marginBottom:"24px"},children:[t.jsxs("div",{className:"card card-export-reports",style:{padding:"20px",background:"#ffffff",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"180px"},children:[t.jsxs("div",{children:[t.jsxs("h4",{style:{marginBottom:"8px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-file-csv",style:{color:"#5a31ea"}}),"CSV Export"]}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"16px"},children:"Export all transactions as a CSV file for Excel or spreadsheet applications."})]}),t.jsxs("button",{className:"secondary-btn",onClick:vo,style:{width:"100%",marginTop:"auto"},disabled:!He,title:He?"Export CSV":"Export allowed only for finance roles",children:[t.jsx("i",{className:"fas fa-file-csv",style:{marginRight:"8px"}}),"Export CSV"]})]}),t.jsxs("div",{className:"card card-export-reports",style:{padding:"20px",background:"#ffffff",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"180px"},children:[t.jsxs("div",{children:[t.jsxs("h4",{style:{marginBottom:"8px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-file-pdf",style:{color:"#5a31ea"}}),"PDF Export"]}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"16px"},children:"Generate a formatted PDF report with charts and summaries."})]}),t.jsxs("button",{className:"secondary-btn",onClick:$o,style:{width:"100%",marginTop:"auto"},disabled:!He,title:He?"Export PDF":"Export allowed only for finance roles",children:[t.jsx("i",{className:"fas fa-file-pdf",style:{marginRight:"8px"}}),"Export PDF"]})]})]}),t.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"#f8f9ff",borderRadius:"8px"},children:[t.jsxs("p",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"8px"},children:[t.jsx("strong",{children:"Note:"})," For detailed reports with date filters and analytics, visit the Financial Reports section."]}),t.jsxs("button",{className:"ghost-btn",onClick:()=>{Is("reports"),Ie("Redirecting to Financial Reports...")},children:[t.jsx("i",{className:"fas fa-chart-bar",style:{marginRight:"8px"}}),"Go to Financial Reports"]})]})]})})]}),ct==="roles"&&Ft&&t.jsxs("article",{className:"screen-card",id:"roles",children:[t.jsx("header",{className:"screen-card__header",children:t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"12px"},children:t.jsxs("div",{children:[Ra("roles"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-user-shield",style:{marginRight:"10px"}}),"Roles"]}),t.jsx("p",{children:"Manage admin roles and permissions."})]})})}),t.jsx("div",{className:"card-roles",children:t.jsxs("div",{style:{padding:"2px"},children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h4",{style:{marginBottom:"12px"},children:"Available Roles"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",marginBottom:"24px"},children:[t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"2px solid #5a31ea"},children:[t.jsx("h5",{style:{margin:"0 0 8px 0",color:"#5a31ea"},children:"Admin"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",margin:0},children:"Full access to all features and settings"})]}),t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px"},children:[t.jsx("h5",{style:{margin:"0 0 8px 0"},children:"Finance"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",margin:0},children:"Can manage finances, invoices, and payments"})]}),t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px"},children:[t.jsx("h5",{style:{margin:"0 0 8px 0"},children:"Staff"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",margin:0},children:"Can manage members and view reports, no financial exports"})]}),t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px"},children:[t.jsx("h5",{style:{margin:"0 0 8px 0"},children:"Viewer"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",margin:0},children:"Read-only access to view data"})]})]})]}),t.jsx("div",{className:"table-wrapper",children:t.jsx(os,{columns:["Name","Email","Role","Status","Actions"],rows:a.map(d=>({Name:d.name||"N/A",Email:d.email||"N/A",Role:{render:()=>t.jsx("span",{className:"badge badge-active",children:d.role||"Viewer"})},Status:{render:()=>t.jsx("span",{className:d.status==="Active"?"badge badge-active":d.status==="Pending"?"badge badge-pending":"badge badge-overdue",children:d.status||"Active"})},Actions:{render:()=>t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[Ct==="Super Admin"&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--edit",onClick:async()=>{try{const i=["Admin","Super Admin","Finance","Staff","Viewer"],c=d.role||"Viewer",h=i.indexOf(c),m=h===-1?0:(h+1)%i.length,w=i[m];await le(d.id,{role:w}),Ie(`${d.name}'s role updated to ${w}`)}catch(i){Ie(i.message||"Failed to update role","error")}},title:"Change Role",children:t.jsx("i",{className:"fas fa-sync-alt","aria-hidden":"true"})}),(d.role||"Viewer")!=="Admin"&&(d.role||"Viewer")!=="Super Admin"&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",style:{color:"#ef4444"},onClick:async()=>{Ta(`Remove ${d.name} from admin users?`,async()=>{try{await Se(d.id),Ie(`${d.name} removed`),await z()}catch(i){Ie(i.message||"Failed to delete admin","error")}})},title:"Delete Admin",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}))})})]})})]}),ct==="org-settings"&&t.jsxs("article",{className:"screen-card",id:"org-settings",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Ra("org-settings"),t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-building",style:{marginRight:"10px"}}),"Organization Settings"]}),t.jsx("p",{children:"Manage organization information and preferences."})]})}),t.jsx("div",{className:"settings-container",children:t.jsxs("div",{className:"settings-card",children:[t.jsxs("div",{className:"settings-card__header",children:[t.jsx("h4",{className:"settings-card__title",children:"Organization Info"}),t.jsx("p",{className:"settings-card__subtitle",children:"Update your organization's contact information"})]}),t.jsxs("form",{noValidate:!0,onSubmit:d=>{d.preventDefault(),Z(Sn),Ie("Organization info updated!")},className:"settings-form",children:[t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Organization Name",t.jsx("input",{type:"text",className:"settings-form__input",value:Sn.name,onChange:d=>Ca({...Sn,name:d.target.value}),placeholder:"Subscription Manager HK"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Email",t.jsx("input",{type:"email",className:"settings-form__input",value:Sn.email,onChange:d=>Ca({...Sn,email:d.target.value}),placeholder:"support@subscriptionhk.org"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Phone",t.jsx("input",{type:"text",className:"settings-form__input",value:Sn.phone,onChange:d=>Ca({...Sn,phone:d.target.value}),placeholder:"+852 2800 1122"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Address",t.jsx("textarea",{className:"settings-form__input",value:Sn.address,onChange:d=>Ca({...Sn,address:d.target.value}),placeholder:"123 Central Street, Hong Kong",rows:3})]})}),t.jsxs("div",{className:"settings-form__group",children:[t.jsxs("label",{className:"settings-form__label",children:[t.jsx("i",{className:"fas fa-globe",style:{marginRight:"8px",color:"#5a31ea"}}),"Number Format Locale ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("select",{className:"settings-form__input",value:xe,onChange:d=>{Ae(d.target.value),Ie("Number format locale updated! Numbers will refresh automatically.","success")},style:{padding:"12px",border:"1px solid #e5e7eb",borderRadius:"4px",fontSize:"0.875rem",color:"#1a1a1a",backgroundColor:"#ffffff",cursor:"pointer"},children:Sy().map(d=>t.jsx("option",{value:d.value,children:d.label},d.value))}),t.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.75rem",color:"#666"},children:["Choose your preferred number format. Example: ",lr(123456789e-2,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsx("div",{className:"settings-form__actions",children:t.jsx("button",{type:"submit",className:"primary-btn",children:"Save Changes"})})]})]})})]}),ct==="settings"&&Ft&&t.jsxs("article",{className:"screen-card",id:"settings",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[Ra("settings"),t.jsx("h3",{children:"Admin Settings"}),t.jsx("p",{children:"Organization profile and admin accounts."})]})}),t.jsx("div",{className:"settings-container",children:t.jsxs("div",{className:"settings-card",children:[t.jsx("div",{className:"settings-card__header",children:t.jsxs("div",{className:"settings-card__header-content",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"settings-card__title",children:"User Management"}),t.jsx("p",{className:"settings-card__subtitle",children:"Manage admin users and their permissions"})]}),t.jsx("button",{className:"settings-card__add-btn secondary-btn",onClick:()=>{if(!Ft){Ie("Only Admin and Super Admin can add new admin users","error");return}ei(!0),ha({name:"",email:"",password:"",role:"Viewer",status:"Active"})},disabled:!Ft,title:Ft?"Add a new admin user":"Only Admin and Super Admin can add admins",children:"+ Add Admin"})]})}),t.jsx("div",{className:"settings-table-wrapper",children:t.jsx(os,{columns:["User","Role","Status","Actions"],rows:a.map(d=>({User:d.name,Role:d.role||"Viewer",Status:{render:()=>t.jsx("span",{className:(d.status||"Active")==="Active"?"badge badge-active":"badge badge-inactive",children:d.status||"Active"})},Actions:{render:()=>t.jsxs("div",{className:"settings-table__actions",children:[(d.status||"Active")==="Active"?t.jsx("button",{className:"ghost-btn settings-table__action-btn",onClick:async()=>{try{await le(d.id,{status:"Inactive"}),Ie(`${d.name} deactivated`)}catch(i){Ie(i.message||"Failed to update admin","error")}},children:"Deactivate"}):t.jsx("button",{className:"secondary-btn settings-table__action-btn",onClick:async()=>{try{await le(d.id,{status:"Active"}),Ie(`${d.name} activated`)}catch(i){Ie(i.message||"Failed to update admin","error")}},children:"Activate"}),(d.role||"Viewer")!=="Admin"&&t.jsx("button",{className:"ghost-btn icon-btn icon-btn--delete",onClick:async()=>{Ta(`Remove ${d.name} from admin users?`,async()=>{try{await Se(d.id),Ie(`${d.name} removed`),await z()}catch(i){Ie(i.message||"Failed to delete admin","error")}})},title:"Remove Admin","aria-label":"Remove Admin",children:t.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})]})}}))})})]})}),Mo&&t.jsx("div",{style:Le,onClick:d=>{d.target===d.currentTarget&&ei(!1)},children:t.jsxs("div",{className:"card",style:it,onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{style:ht,children:[t.jsxs("h4",{style:ot,children:[t.jsx("i",{className:"fas fa-user-plus","aria-hidden":"true"}),"Add New Admin"]}),t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>ei(!1),style:pt,onMouseEnter:d=>{d.target.style.background="#fee2e2"},onMouseLeave:d=>{d.target.style.background="transparent"},"aria-label":"Close add admin form",children:""})]}),t.jsxs("form",{noValidate:!0,onSubmit:async d=>{if(d.preventDefault(),!Cr.name){Ie("Please enter admin name","error");return}if(!Cr.email){Ie("Please enter admin email","error");return}if(!Cr.password){Ie("Please enter admin password","error");return}try{await ke(Cr),ei(!1),ha({name:"",email:"",password:"",role:"Viewer",status:"Active"}),Ie("Admin user added!")}catch(i){Ie(i.message||"Failed to add admin user","error")}},className:"settings-form",children:[t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Name",t.jsx("input",{type:"text",className:"settings-form__input",required:!0,value:Cr.name,onChange:d=>ha({...Cr,name:d.target.value}),placeholder:"Enter admin name"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Email",t.jsx("input",{type:"email",className:"settings-form__input",required:!0,value:Cr.email,onChange:d=>ha({...Cr,email:d.target.value}),placeholder:"Enter admin email"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Password",t.jsx("input",{type:"password",className:"settings-form__input",required:!0,value:Cr.password,onChange:d=>ha({...Cr,password:d.target.value}),placeholder:"Set a password"})]})}),t.jsx("div",{className:"settings-form__group",children:t.jsxs("label",{className:"settings-form__label",children:["Role",t.jsxs("select",{className:"settings-form__select",value:Cr.role,onChange:d=>ha({...Cr,role:d.target.value}),children:[t.jsx("option",{children:"Admin"}),t.jsx("option",{children:"Super Admin"}),t.jsx("option",{children:"Finance"}),t.jsx("option",{children:"Staff"}),t.jsx("option",{children:"Viewer"})]})]})}),t.jsxs("div",{className:"settings-form__actions",children:[t.jsx("button",{type:"button",className:"ghost-btn settings-form__cancel",onClick:()=>ei(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"primary-btn settings-form__submit-btn",children:"Add Admin"})]})]})]})})]})]})]})]}),Ga&&Pr&&t.jsx("div",{style:Ge,onClick:d=>{d.target===d.currentTarget&&(Ja(!1),Ts(null),pa({paymentMethod:"Admin",imageFile:null,imagePreview:null,imageUrl:"",reference:"",selectedAdminId:"",adminMobile:""}))},children:t.jsxs("div",{className:"card",style:{...it,background:"transparent",padding:void 0},onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{style:gt,children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-money-bill-wave",style:{marginRight:"8px",color:"#5a31ea"}}),"Pay Invoice #",Pr.id]}),t.jsx("button",{type:"button",onClick:()=>{Ja(!1),Ts(null),pa({paymentMethod:"Admin",imageFile:null,imagePreview:null,imageUrl:""})},style:wt,onMouseEnter:d=>{d.target.style.background="#f3f4f6",d.target.style.color="#1a1a1a"},onMouseLeave:d=>{d.target.style.background="transparent",d.target.style.color="#666"},children:""})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Amount:"}),t.jsx("strong",{style:{color:"#1a1a1a",fontSize:"1.125rem"},children:Pr.amount})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Period:"}),t.jsx("span",{style:{color:"#1a1a1a"},children:Pr.period})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Due Date:"}),t.jsx("span",{style:{color:"#1a1a1a"},children:Pr.due})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"12px"},children:"Payment Method"}),t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[t.jsxs("button",{type:"button",onClick:()=>pa({...en,paymentMethod:"Admin"}),style:{flex:"1",minWidth:"150px",padding:"12px 20px",borderRadius:"8px",border:"none",background:en.paymentMethod==="Admin"?"#5a31ea":"#f8f9ff",color:en.paymentMethod==="Admin"?"#ffffff":"#1a1a1a",boxShadow:en.paymentMethod==="Admin"?"0 4px 12px rgba(90, 49, 234, 0.3)":"0 2px 4px rgba(90, 49, 234, 0.08)",fontWeight:"600",fontSize:"0.9375rem",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-user-shield"}),"Paid Cash"]}),t.jsxs("button",{type:"button",onClick:()=>pa({...en,paymentMethod:"Online"}),style:{flex:"1",minWidth:"150px",padding:"12px 20px",borderRadius:"8px",border:"none",background:en.paymentMethod==="Online"?"#5a31ea":"#f8f9ff",color:en.paymentMethod==="Online"?"#ffffff":"#1a1a1a",boxShadow:en.paymentMethod==="Online"?"0 4px 12px rgba(90, 49, 234, 0.3)":"0 2px 4px rgba(90, 49, 234, 0.08)",fontWeight:"600",fontSize:"0.9375rem",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-globe"}),"Paid Online"]})]})]}),(en.paymentMethod==="Admin"||en.paymentMethod==="Online")&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:["Choose Admin ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:en.selectedAdminId,onChange:d=>{pa({...en,selectedAdminId:d.target.value}),(In.selectedAdminId||Lr==="selectedAdminId")&&(vr(i=>({...i,selectedAdminId:!1})),Lr==="selectedAdminId"&&Ka(null))},style:{width:"100%",padding:"10px 12px",border:In.selectedAdminId&&Lr==="selectedAdminId"?"2px solid #ef4444":"1px solid #e0e0e0",borderRadius:"8px",fontSize:"0.875rem",background:"#fff",outline:"none",cursor:"pointer",transition:"border-color 0.2s"},onFocus:d=>{(!In.selectedAdminId||Lr!=="selectedAdminId")&&(d.target.style.borderColor="#5a31ea",d.target.style.boxShadow="0 0 0 3px rgba(90, 49, 234, 0.1)")},onBlur:d=>{In.selectedAdminId&&Lr==="selectedAdminId"?(d.target.style.borderColor="#ef4444",d.target.style.boxShadow="0 0 0 3px rgba(239, 68, 68, 0.1)"):(d.target.style.borderColor="#e0e0e0",d.target.style.boxShadow="none")},children:[t.jsx("option",{value:"",children:"Select an admin"}),a.filter(d=>d.status==="Active").map(d=>t.jsxs("option",{value:d.id,children:[d.name," (",d.email,")"]},d.id))]})]}),t.jsx("div",{children:t.jsx(Yc,{label:t.jsxs("span",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"8px"},children:["Mobile Number ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),value:en.adminMobile,onChange:d=>{pa({...en,adminMobile:d.target.value}),(In.adminMobile||Lr==="adminMobile")&&(vr(i=>({...i,adminMobile:!1})),Lr==="adminMobile"&&Ka(null))},onError:d=>{Ie(d,"error"),vr(i=>({...i,adminMobile:!0})),Ka("adminMobile")},required:!0,className:In.adminMobile&&Lr==="adminMobile"?"admin-phone-input-error":"",placeholder:"Enter mobile number"})})]}),(en.paymentMethod==="Admin"||en.paymentMethod==="Online")&&t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#333",marginBottom:"12px"},children:["Attachment Image ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("div",{style:{border:In.image?"2px dashed #ef4444":"2px dashed #d0d0d0",borderRadius:"8px",padding:"20px",textAlign:"center",background:In.image?"#fef2f2":"#fafafa",cursor:"pointer",transition:"all 0.2s ease",boxShadow:In.image?"0 0 0 3px rgba(239, 68, 68, 0.1)":"none"},onMouseEnter:d=>{In.image||(d.currentTarget.style.borderColor="#5a31ea",d.currentTarget.style.background="#f8f9ff")},onMouseLeave:d=>{In.image?(d.currentTarget.style.borderColor="#ef4444",d.currentTarget.style.background="#fef2f2"):(d.currentTarget.style.borderColor="#d0d0d0",d.currentTarget.style.background="#fafafa")},onClick:()=>{In.image&&vr({...In,image:!1});const d=document.createElement("input");d.type="file",d.accept="image/*",d.onchange=async i=>{const c=i.target.files[0];if(!c)return;if(!c.type.startsWith("image/")){Ie("Please upload an image file","error");return}const h=new FileReader;h.onloadend=()=>{pa(m=>({...m,imageFile:c,imagePreview:h.result})),vr(m=>({...m,image:!1}))},h.readAsDataURL(c)},d.click()},children:en.imagePreview||Pr.screenshot&&!en.imageFile?t.jsxs("div",{style:{position:"relative"},children:[t.jsx("img",{src:en.imagePreview||Pr.screenshot,alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"4px",marginBottom:"8px"}}),t.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),pa({...en,imageFile:null,imagePreview:null,imageUrl:""}),vr(i=>({...i,image:!1}))},style:{position:"absolute",top:"8px",right:"8px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"50%",width:"28px",height:"28px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem"},children:""})]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-cloud-upload-alt",style:{fontSize:"2rem",color:"#5a31ea",marginBottom:"8px"}}),t.jsx("p",{style:{margin:"0",color:"#666",fontSize:"0.875rem"},children:"Click to upload image"}),t.jsx("p",{style:{margin:"4px 0 0 0",color:"#999",fontSize:"0.75rem"},children:"PNG, JPG, GIF up to 5MB"})]})})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"8px"},children:[t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{Ja(!1),Ts(null),pa({paymentMethod:"",imageFile:null,imagePreview:null,imageUrl:"",reference:"",selectedAdminId:"",adminMobile:""}),vr({image:!1,reference:!1,selectedAdminId:!1,adminMobile:!1}),Ka(null)},disabled:ma,children:"Cancel"}),en.paymentMethod&&t.jsx("button",{type:"button",className:"primary-btn",disabled:ma,onClick:async()=>{(()=>{const i=["selectedAdminId","adminMobile","image"];if(Lr){let c=!0,h="";if(Lr==="selectedAdminId"&&!en.selectedAdminId?(c=!1,h="Please select an admin"):Lr==="adminMobile"&&!en.adminMobile.trim()?(c=!1,h="Mobile number is required"):Lr==="image"&&(en.imageFile||en.imageUrl||Pr?.screenshot||(c=!1,h="Image has not been uploaded. Please upload an image attachment.")),c)vr(m=>({...m,[Lr]:!1})),Ka(null);else return vr(m=>({...m,[Lr]:!0})),Ie(h,"error"),!1}for(const c of i){let h=!0,m="";if(c==="selectedAdminId"&&!en.selectedAdminId?(h=!1,m="Please select an admin"):c==="adminMobile"&&!en.adminMobile.trim()?(h=!1,m="Mobile number is required"):c==="image"&&(en.imageFile||en.imageUrl||Pr?.screenshot||(h=!1,m="Image has not been uploaded. Please upload an image attachment.")),!h)return vr({image:!1,reference:!1,selectedAdminId:!1,adminMobile:!1}),vr(w=>({...w,[c]:!0})),Ka(c),Ie(m,"error"),setTimeout(()=>{if(c==="selectedAdminId"){const w=document.querySelectorAll("select"),S=Array.from(w).find(C=>C.options[0]?.text==="Select an admin");S?.focus(),S?.scrollIntoView({behavior:"smooth",block:"center"})}else if(c==="adminMobile"){const w=document.querySelectorAll(".phone-input-field"),S=Array.from(w).find(C=>C.placeholder?.includes("mobile number"));S?.focus(),S?.scrollIntoView({behavior:"smooth",block:"center"})}else if(c==="image"){const w=document.querySelectorAll('[style*="border"]');Array.from(w).find(C=>C.style.border.includes("dashed"))?.scrollIntoView({behavior:"smooth",block:"center"})}},100),!1}return vr({image:!1,reference:!1,selectedAdminId:!1,adminMobile:!1}),Ka(null),!0})()&&Ta(`Are you sure you want to mark Invoice #${Pr.id} as paid?`,async()=>{ji(!0);try{const i="http://localhost:4000";let c=en.imageUrl||Pr.screenshot;if(en.imageFile){const m=new FormData;m.append("screenshot",en.imageFile),m.append("uploadType","invoice-payment-attachment");const w=await fetch(`${i}/api/upload/screenshot`,{method:"POST",body:m});if(!w.ok){let C="Failed to upload image";try{const P=await w.json();C=P.error||C,console.error("Upload error response:",P)}catch(P){console.error("Failed to parse error response:",P),C=`Upload failed with status ${w.status}`}throw new Error(C)}const S=await w.json();if(!S.url)throw new Error("No URL returned from upload. Please try again.");c=S.url}if(!c)throw new Error("Image upload is required for all payments");c&&c!==Pr.screenshot&&await fe(Pr.id,{screenshot:c});const h=en.paymentMethod==="Admin"?"Cash":"Online";await Ci(Pr.id,h,c,null),Ja(!1),Ts(null),pa({paymentMethod:"",imageFile:null,imagePreview:null,imageUrl:"",reference:"",selectedAdminId:"",adminMobile:""}),vr({image:!1,reference:!1,selectedAdminId:!1,adminMobile:!1}),Ka(null),Ie(`Invoice #${Pr.id} marked as paid!`,"success")}catch(i){console.error("Error processing payment:",i),Ie(i.message||"Failed to process payment","error")}finally{ji(!1)}},null,"Confirm")},style:{opacity:ma?.6:1,cursor:ma?"not-allowed":"pointer"},children:ma?"Processing...":"Mark as Paid"})]})]})]})}),hn&&t.jsx("div",{className:"mobile-card-modal-overlay",onClick:()=>On(null),children:t.jsxs("div",{className:"mobile-card-modal",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{className:"mobile-card-modal-header",children:[t.jsxs("div",{className:"mobile-card-modal-title-section",children:[t.jsxs("div",{className:"mobile-card-modal-title",children:[hn.memberName||hn.member||"N/A",hn.memberId?` (${hn.memberId})`:""]}),t.jsxs("div",{className:"mobile-card-modal-metric",children:[t.jsx("i",{className:"fas fa-envelope",style:{fontSize:"0.75rem",marginRight:"4px",color:"#666"}}),t.jsx("span",{children:hn.channel||"N/A"})]})]}),t.jsx("button",{className:"mobile-card-modal-close",onClick:()=>On(null),"aria-label":"Close",children:t.jsx("i",{className:"fa-solid fa-times"})})]}),t.jsxs("div",{className:"mobile-card-modal-content",children:[t.jsxs("div",{className:"mobile-card-modal-row",children:[t.jsxs("div",{className:"mobile-card-modal-label",children:[t.jsx("i",{className:"fas fa-envelope",style:{marginRight:"6px",color:"#5a31ea",fontSize:"0.75rem"}}),"Channel"]}),t.jsx("div",{className:"mobile-card-modal-value",children:hn.channel||"N/A"})]}),t.jsxs("div",{className:"mobile-card-modal-row",children:[t.jsxs("div",{className:"mobile-card-modal-label",children:[t.jsx("i",{className:"fas fa-tag",style:{marginRight:"6px",color:"#5a31ea",fontSize:"0.75rem"}}),"Type"]}),t.jsx("div",{className:"mobile-card-modal-value",children:hn.type||"-"})]}),t.jsxs("div",{className:"mobile-card-modal-row",children:[t.jsxs("div",{className:"mobile-card-modal-label",children:[t.jsx("i",{className:"fas fa-calendar",style:{marginRight:"6px",color:"#5a31ea",fontSize:"0.75rem"}}),"Date"]}),t.jsx("div",{className:"mobile-card-modal-value",children:hn.date||"N/A"})]}),t.jsxs("div",{className:"mobile-card-modal-row",children:[t.jsxs("div",{className:"mobile-card-modal-label",children:[t.jsx("i",{className:"fas fa-info-circle",style:{marginRight:"6px",color:"#5a31ea",fontSize:"0.75rem"}}),"Status"]}),t.jsx("div",{className:"mobile-card-modal-value",children:t.jsx("span",{className:Wa[hn.status]||"badge",children:hn.status||"N/A"})})]}),t.jsxs("div",{className:"mobile-card-modal-row",children:[t.jsxs("div",{className:"mobile-card-modal-label",children:[t.jsx("i",{className:"fas fa-file-alt",style:{marginRight:"6px",color:"#5a31ea",fontSize:"0.75rem"}}),"Message"]}),t.jsx("div",{className:"mobile-card-modal-value",children:hn.message||"N/A"})]}),t.jsxs("div",{className:"mobile-card-modal-row mobile-card-modal-row-actions",children:[t.jsx("div",{className:"mobile-card-modal-label",children:"Actions"}),t.jsx("div",{className:"mobile-card-modal-value",children:t.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:hn.channel==="Email"&&hn.status==="Failed"&&!De&&t.jsx("button",{type:"button",className:"icon-btn icon-btn--edit",title:"Retry sending","aria-label":"Retry sending reminder",onClick:async()=>{try{const d=hn.raw,i=d?._id||d?.id,h=await fetch("http://localhost:4000/api/reminders/retry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reminderId:i})}),m=await h.json();h.ok?(Ie(m.message||"Reminder retry queued"),typeof W=="function"&&W(),On(null)):Ie(m.error||"Failed to retry reminder","error")}catch(d){console.error("Retry reminder failed",d),Ie("Failed to retry reminder","error")}},children:t.jsx("i",{className:"fas fa-redo","aria-hidden":"true"})})})})]})]})]})}),co&&tn&&t.jsx("div",{style:Ge,onClick:d=>{d.target===d.currentTarget&&(ga(!1),Os(null))},children:t.jsxs("div",{className:"card",style:{...it,background:void 0,padding:void 0},onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{style:gt,children:[t.jsxs("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-receipt",style:{marginRight:"8px",color:"#5a31ea"}}),"Payment Details"]}),t.jsx("button",{type:"button",onClick:()=>{ga(!1),Os(null)},style:wt,onMouseEnter:d=>{d.target.style.background="#f3f4f6",d.target.style.color="#1a1a1a"},onMouseLeave:d=>{d.target.style.background="transparent",d.target.style.color="#666"},children:""})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:[tn.date&&t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsx("span",{style:{display:"block",color:"#666",fontSize:"0.875rem",marginBottom:"4px"},children:"Date"}),t.jsx("strong",{style:{color:"#1a1a1a",fontSize:"1rem"},children:tn.date})]}),tn.amount&&t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsx("span",{style:{display:"block",color:"#666",fontSize:"0.875rem",marginBottom:"4px"},children:"Amount"}),t.jsx("strong",{style:{color:"#5a31ea",fontSize:"1.25rem",fontWeight:"700"},children:tn.amount})]}),tn.status&&t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsx("span",{style:{display:"block",color:"#666",fontSize:"0.875rem",marginBottom:"4px"},children:"Status"}),t.jsx("span",{className:`badge ${tn.status==="Paid"||tn.status==="Completed"?"badge-paid":tn.status==="Pending Verification"||tn.status==="Pending"?"badge-pending":"badge-unpaid"}`,style:{fontSize:"0.875rem",padding:"6px 12px",display:"inline-block",marginTop:"4px"},children:tn.status})]}),t.jsxs("div",{style:{padding:"16px",background:"#f8f9ff",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsx("span",{style:{display:"block",color:"#666",fontSize:"0.875rem",marginBottom:"4px"},children:"Payment Method"}),t.jsx("strong",{style:{color:"#1a1a1a",fontSize:"1rem"},children:Hs(tn)})]})]}),t.jsxs("div",{style:{padding:"20px",background:"#fafafa",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsx("h4",{style:{margin:"0 0 16px 0",fontSize:"1rem",fontWeight:"600",color:"#333"},children:"Additional Information"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[tn.reference&&tn.reference!=="N/A"&&tn.reference!=="-"&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Reference:"}),t.jsx("strong",{style:{fontSize:"0.875rem",fontFamily:"monospace",color:"#1a1a1a"},children:tn.reference})]}),tn.paidToAdminName&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Paid to:"}),t.jsx("strong",{style:{fontSize:"0.875rem",color:"#1a1a1a"},children:tn.paidToAdminName})]}),tn.period&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Period:"}),t.jsx("strong",{style:{fontSize:"0.875rem",color:"#1a1a1a"},children:tn.period})]}),tn.member&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Member:"}),t.jsx("strong",{style:{fontSize:"0.875rem",color:"#1a1a1a"},children:tn.member})]}),tn.memberEmail&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Email:"}),t.jsx("strong",{style:{fontSize:"0.875rem",color:"#1a1a1a"},children:tn.memberEmail})]}),tn.invoiceId&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"Invoice ID:"}),t.jsx("strong",{style:{fontSize:"0.875rem",fontFamily:"monospace",color:"#1a1a1a"},children:tn.invoiceId})]}),tn.notes&&t.jsxs("div",{style:{marginTop:"8px",paddingTop:"12px",borderTop:"1px solid #e0e0e0"},children:[t.jsx("span",{style:{display:"block",fontSize:"0.875rem",color:"#666",marginBottom:"4px"},children:"Notes:"}),t.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#1a1a1a"},children:tn.notes})]})]})]}),tn.screenshot&&t.jsxs("div",{children:[t.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",fontWeight:"600",color:"#333"},children:[t.jsx("i",{className:"fas fa-image",style:{marginRight:"8px",color:"#5a31ea"}}),"Payment Screenshot"]}),t.jsx("div",{style:{border:"1px solid #e0e0e0",borderRadius:"8px",overflow:"hidden",background:"#fafafa"},children:t.jsx("img",{src:tn.screenshot,alt:"Payment Screenshot",style:{width:"100%",height:"auto",display:"block",cursor:"pointer"},onClick:()=>{const d=window.open();d&&d.document.write(`
                            <html>
                              <head><title>Payment Screenshot</title></head>
                              <body style="margin:0;padding:20px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:100vh;">
                                <img src="${tn.screenshot}" alt="Payment Screenshot" style="max-width:100%;max-height:90vh;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);" />
                              </body>
                            </html>
                          `)}})}),t.jsxs("button",{type:"button",onClick:()=>{const d=window.open();d&&d.document.write(`
                          <html>
                            <head><title>Payment Screenshot</title></head>
                            <body style="margin:0;padding:20px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:100vh;">
                              <img src="${tn.screenshot}" alt="Payment Screenshot" style="max-width:100%;max-height:90vh;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);" />
                            </body>
                          </html>
                        `)},className:"primary-btn",style:{width:"100%",marginTop:"12px",padding:"12px 20px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-expand"}),"Open Screenshot in New Window"]})]}),t.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"8px"},children:t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{ga(!1),Os(null)},children:"Close"})})]})]})}),us&&fs&&t.jsx("div",{style:Le,onClick:d=>{d.target===d.currentTarget&&(Qa(!1),ti(null),zr({newPassword:""}))},children:t.jsxs("div",{className:"card",style:G,onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{style:ht,children:[t.jsxs("h4",{style:ot,children:[t.jsx("i",{className:"fas fa-key","aria-hidden":"true"}),"Set New Password"]}),t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{Qa(!1),ti(null),zr({newPassword:""})},style:pt,onMouseEnter:d=>{d.target.style.background="#fee2e2"},onMouseLeave:d=>{d.target.style.background="transparent"},"aria-label":"Close password reset modal",children:""})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#666",marginBottom:"8px"},children:"Set a new password for:"}),t.jsx("p",{style:{margin:0,fontSize:"1rem",fontWeight:"600",color:"#1a1a1a"},children:fs.userEmail}),fs.userName&&t.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"0.875rem",color:"#666"},children:fs.userName})]}),t.jsxs("form",{noValidate:!0,onSubmit:async d=>{if(d.preventDefault(),!Bs.newPassword||Bs.newPassword.trim().length<6){Ie("Password must be at least 6 characters","error");return}await jo(fs._id,Bs.newPassword.trim())},className:"settings-form",children:[t.jsxs("div",{className:"settings-form__group",children:[t.jsxs("label",{className:"settings-form__label",children:["New Password",t.jsx("input",{type:"password",className:"settings-form__input",required:!0,minLength:6,value:Bs.newPassword,onChange:d=>zr({newPassword:d.target.value}),placeholder:"Enter new password (min 6 characters)",autoFocus:!0})]}),t.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"0.75rem",color:"#666"},children:"Password must be at least 6 characters long. The new password will be sent to the user via email."})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"20px"},children:[t.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>{Qa(!1),ti(null),zr({newPassword:""})},children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[t.jsx("i",{className:"fas fa-key",style:{marginRight:"6px"}}),"Set Password & Send Email"]})]})]})]})}),t.jsx(Xc,{})]})}function ky(){const{members:s,admins:a,invoices:r,payments:l,paymentHistory:f,addPayment:u,updateInvoice:x,updateMember:g,fetchInvoices:y,fetchPayments:j,fetchMembers:k,loading:L}=Qd(),R=[{id:"dashboard",label:"Dashboard"},{id:"pay",label:"Pay Now"},{id:"invoices",label:"Invoices"},{id:"history",label:"Payment History"},{id:"profile",label:"Profile"}],[N,z]=H.useState(R[0].id),[F,D]=H.useState("Online Payment"),[E,q]=H.useState([]),[J,$]=H.useState(""),[oe,ce]=H.useState(null),[Ee,fe]=H.useState(!1),[K,pe]=H.useState(null),[B,U]=H.useState(!1),[ae,Z]=H.useState(null),[xe,Ae]=H.useState("success"),[ke,le]=H.useState(!1),[Se,Fe]=H.useState(!1),[Q,_]=H.useState(!1),[W,Y]=H.useState(!1),[re,ee]=H.useState(1),[me,Ce]=H.useState(10),_e=sessionStorage.getItem("memberEmail"),Be=sessionStorage.getItem("memberId"),Le=Be?s.find(we=>we.id===Be):_e?s.find(we=>we.email&&we.email.toLowerCase()===_e.toLowerCase()):null,[Ge,tt]=H.useState(()=>Le?{name:Le.name||"",email:Le.email||"",phone:Le.phone||"",password:"",emailReminders:!0,whatsappReminders:!0}:{name:"",email:"",phone:"",password:"",emailReminders:!0,whatsappReminders:!0});H.useEffect(()=>{Le&&tt({name:Le.name||"",email:Le.email||"",phone:Le.phone||"",password:"",emailReminders:!0,whatsappReminders:!0})},[Le,s]),H.useEffect(()=>{(_e||Be)&&!Le&&!L&&s.length===0&&k()},[_e,Be,Le,L,s.length]),H.useEffect(()=>{N==="history"&&ee(1)},[me,N]),H.useEffect(()=>{(N==="invoices"||N==="history")&&(y(),j())},[N]),H.useEffect(()=>{const we=De=>{Q&&!De.target.closest(".admin-menu")&&!De.target.closest(".mobile-menu-toggle")&&_(!1)};return Q?(document.addEventListener("click",we),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.removeEventListener("click",we),document.body.style.overflow=""}},[Q]);const it=ro();Om(15);const G=we=>{z(we),U(!1)},Ve=()=>{vt("You have been logged out","success"),setTimeout(()=>{it("/login",{replace:!0})},500)},vt=(we,De="success")=>{Z(we),Ae(De),setTimeout(()=>Z(null),3e3)},ht=we=>{const De=(l||f||[]).find(He=>He.invoiceId===we.id);if(De){if(De.status==="Pending")return"Pending Verification";if(De.status==="Completed")return"Paid";if(De.status==="Rejected")return"Unpaid"}return we.status},Ye=()=>Le?r.filter(we=>{const De=ht(we);return(we.memberId===Le.id||we.memberEmail===Le.email||we.memberName===Le.name)&&(De==="Unpaid"||De==="Overdue")}):[],gt=()=>Ye().map(De=>({label:De.period,due:De.due,amount:De.amount,status:De.status,id:De.id})),ot=()=>E.reduce((we,De)=>{const He=r.find(Qe=>Qe.id===De);return He?we+parseFloat(He.amount.replace("$","")):we},0),pt=we=>{E.includes(we)?q(E.filter(De=>De!==we)):q([...E,we])},wt=async we=>{if(we.preventDefault(),E.length===0){vt("Please select at least one invoice","error");return}if(!oe){vt("Please upload a payment screenshot","error");return}fe(!0);try{const De="http://localhost:4000",He=new FormData;He.append("screenshot",oe);const Qe=await fetch(`${De}/api/upload-screenshot`,{method:"POST",body:He});if(!Qe.ok){let ue="Failed to upload screenshot";try{const Re=await Qe.json();ue=Re.error||ue,console.error("Upload error response:",Re)}catch(Re){console.error("Failed to parse error response:",Re),ue=`Upload failed with status ${Qe.status}`}throw new Error(ue)}const Gt=await Qe.json();if(!Gt.url)throw new Error("No URL returned from upload. Please try again.");const ye=Gt.url;for(const ue of E){const Re=r.find(at=>at.id===ue);Re&&(await x(ue,{status:"Pending Verification",method:"Screenshot",reference:`PENDING_${Date.now()}`,screenshot:ye}),await u({invoiceId:ue,amount:Re.amount,method:"Screenshot",reference:`PENDING_${Date.now()}`,member:Le?.name||"Member",memberId:Le?.id,memberEmail:Le?.email,period:Re.period,status:"Pending",screenshot:ye}))}ce(null),q([]),U(!0),vt(`Payment proof submitted successfully! ${E.length} invoice(s) pending admin approval.`)}catch(De){console.error("Error submitting payment:",De),vt(De.message||"Failed to submit payment. Please try again.","error")}finally{fe(!1)}},rn=async we=>{if(we.preventDefault(),E.length===0){vt("Please select at least one invoice","error");return}if(!J){vt("Please select the admin you paid to","error");return}fe(!0);try{const De=a.find(Qe=>Qe.id===J);if(!De){vt("Admin not found","error");return}let He=null;if(oe){const Qe="http://localhost:4000",Gt=new FormData;Gt.append("screenshot",oe);const ye=await fetch(`${Qe}/api/upload-screenshot`,{method:"POST",body:Gt});if(!ye.ok){let Re="Failed to upload screenshot";try{const at=await ye.json();Re=at.error||Re,console.error("Upload error response:",at)}catch(at){console.error("Failed to parse error response:",at),Re=`Upload failed with status ${ye.status}`}throw new Error(Re)}const ue=await ye.json();if(!ue.url)throw new Error("No URL returned from upload. Please try again.");He=ue.url}for(const Qe of E){const Gt=r.find(ye=>ye.id===Qe);Gt&&(await x(Qe,{status:"Pending Verification",method:"Cash to Admin",reference:`CASH_PENDING_${Date.now()}`,paidToAdmin:De.id,paidToAdminName:De.name,screenshot:He}),await u({invoiceId:Qe,amount:Gt.amount,method:"Cash to Admin",reference:`CASH_PENDING_${Date.now()}`,member:Le?.name||"Member",memberId:Le?.id,memberEmail:Le?.email,period:Gt.period,status:"Pending",paidToAdmin:De.id,paidToAdminName:De.name,screenshot:He}))}q([]),$(""),ce(null),U(!0),vt(`Payment submitted successfully! ${E.length} invoice(s) pending admin approval.`)}catch(De){console.error("Error submitting payment:",De),vt(De.message||"Failed to submit payment. Please try again.","error")}finally{fe(!1)}},$t=async we=>{if(we.preventDefault(),!Le){vt("Member not found","error");return}try{const De={name:Ge.name,email:Ge.email,phone:Ge.phone};if(Ge.password&&Ge.password.trim()!==""){if(Ge.password.length<6){vt("Password must be at least 6 characters long","error");return}De.password=Ge.password}await g(Le.id,De),vt("Profile updated successfully!"),le(!1),tt({...Ge,password:""})}catch(De){console.error("Error updating profile:",De),vt("Failed to update profile. Please try again.","error")}},Ft=(()=>{const we=Ye(),De=we.reduce((Re,at)=>{const Xe=parseFloat(at.amount?.replace(/[^0-9.]/g,"")||0);return Re+Xe},0),He=new Date().getFullYear();let ye=(Le?f.filter(Re=>(Re.memberId===Le.id||Re.memberEmail===Le.email||Re.member===Le.name)&&(Re.status==="Paid"||Re.status==="Completed")):f.filter(Re=>Re.status==="Paid"||Re.status==="Completed")).filter(Re=>Re.date?new Date(Re.date).getFullYear()===He:!1).reduce((Re,at)=>{const Xe=parseFloat(at.amount?.replace(/[^0-9.]/g,"")||0);return Re+Xe},0);ye===0&&(ye=r.filter(Xe=>Xe.status==="Paid"&&(Xe.memberId===Le?.id||Xe.memberEmail===Le?.email||Xe.memberName===Le?.name)).filter(Xe=>Xe.due?new Date(Xe.due).getFullYear()===He:!0).reduce((Xe,ct)=>Xe+parseFloat(ct.amount.replace("$","")),0));const ue=we.sort((Re,at)=>new Date(Re.due)-new Date(at.due))[0];return{outstanding:De,paidThisYear:ye,nextDue:ue?.due||"N/A",nextDueAmount:ue?.amount||"$0"}})();return L||(_e||Be)&&!Le&&s.length===0?t.jsxs("div",{className:"member-loading-container",children:[t.jsx("div",{className:"member-loading-spinner"}),t.jsx("p",{className:"member-loading-text",children:L?"Loading data from server...":"Loading member information..."})]}):(_e||Be)&&!L&&s.length>0&&!Le?t.jsxs("div",{className:"member-not-found-container",children:[t.jsx("div",{className:"member-not-found-icon",children:""}),t.jsx("p",{className:"member-not-found-title",children:"Member Not Found"}),t.jsx("p",{className:"member-not-found-text",children:"We couldn't find your member account. Please contact support or try logging in again."}),t.jsx("button",{onClick:()=>{sessionStorage.clear(),it("/login")},className:"primary-btn member-not-found-button",children:"Return to Login"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Qc,{showCTA:!1,showLogout:!0,onLogout:Ve,showMobileMenu:!0,isMobileMenuOpen:Q,onMobileMenuToggle:()=>_(!Q),isSticky:!0}),t.jsx(Wl,{message:ae,type:xe,onClose:()=>Z(null),duration:3e3}),t.jsxs("main",{className:"admin-main admin-main--sticky-header",children:[Q&&t.jsx("div",{className:"mobile-menu-overlay",onClick:()=>_(!1)}),t.jsxs("div",{className:"admin-layout",children:[t.jsxs("aside",{className:`admin-menu ${Q?"mobile-open":""}`,onClick:we=>we.stopPropagation(),children:[t.jsx("p",{className:"eyebrow light",children:"Member Portal"}),t.jsx("h3",{children:Le?.name||"Member"}),t.jsx("nav",{children:R.map(we=>t.jsx("button",{className:`admin-tab ${N===we.id?"active":""}`,onClick:()=>{G(we.id),_(!1)},children:we.label},we.id))})]}),t.jsxs("div",{className:"admin-body",children:[N==="dashboard"&&t.jsxs("article",{className:"screen-card",id:"dashboard",children:[t.jsx("header",{className:"screen-card__header",children:t.jsxs("div",{children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-chart-line member-dashboard-icon"}),"Dashboard"]}),t.jsxs("p",{children:["Welcome back, ",Le?.name?.split(" ")[0]||"Member",". Here's an overview of your membership account."]})]})}),t.jsxs("div",{className:"card dashboard-card",children:[Ft.outstanding>0&&!Se&&t.jsxs("div",{className:"alert-banner alert-warning member-alert-banner",children:[t.jsxs("div",{className:"alert-content",children:[t.jsx("strong",{children:"Payment Due Soon"}),t.jsxs("p",{children:["You have an outstanding balance of $",Ft.outstanding.toFixed(2),". Please pay to avoid late fees."]})]}),t.jsx("button",{className:"alert-dismiss member-alert-dismiss",onClick:()=>Fe(!0),children:""})]}),t.jsxs("div",{className:"kpi-grid",children:[t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-exclamation-circle",style:{marginRight:"8px",color:"#ef4444"}}),"Outstanding Balance"]}),t.jsxs("h4",{children:["$",Ft.outstanding.toFixed(2)]}),t.jsxs("small",{children:[Ye().length," invoice(s) pending"]})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px",color:"#5a31ea"}}),"Next Due Date"]}),t.jsx("h4",{children:Ft.nextDue}),t.jsx("small",{children:Ft.nextDueAmount})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-check-circle",style:{marginRight:"8px",color:"#10b981"}}),"Paid This Year"]}),t.jsxs("h4",{children:["$",parseFloat(Ft.paidThisYear).toFixed(2)]}),t.jsx("small",{children:"On track"})]}),t.jsxs("div",{className:"card kpi",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-user-check",style:{marginRight:"8px",color:"#5a31ea"}}),"Membership Plan"]}),t.jsx("h4",{children:"Active"}),t.jsx("small",{children:"Lifetime: $250/year or Yearly + Janaza Fund: $500/year"})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginTop:"24px"},children:[t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header-flex",children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-clock",style:{marginRight:"8px"}}),"Upcoming Payments"]}),t.jsx("span",{className:"badge-count",children:gt().length})]}),t.jsx("div",{className:"payment-list",children:gt().slice(0,3).map(we=>t.jsxs("div",{className:"payment-item",children:[t.jsxs("div",{className:"payment-info",children:[t.jsx("strong",{className:"payment-title",children:we.label}),t.jsxs("span",{className:"payment-date",children:["Due ",we.due]})]}),t.jsxs("div",{className:"payment-right",children:[t.jsx("span",{className:"payment-amount",children:we.amount}),t.jsx("span",{className:Wa[we.status],children:we.status})]})]},we.id))}),t.jsx("button",{className:"btn-link",onClick:()=>G("invoices"),children:"View All Invoices "})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header-flex",children:t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-history",style:{marginRight:"8px"}}),"Recent Activity"]})}),t.jsx("div",{className:"activity-list",children:(()=>{const De=(Le?f.filter(He=>He.memberId===Le.id||He.memberEmail===Le.email||He.member===Le.name):f).slice(0,3);return De.length===0?t.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666",fontSize:"0.9rem"},children:"No recent payments"}):De.map((He,Qe)=>t.jsx("div",{className:"activity-item",children:t.jsxs("div",{className:"activity-details",children:[t.jsx("strong",{children:"Payment Made"}),t.jsxs("span",{children:[He.date,"  ",He.amount," via ",He.paidToAdmin||He.paidToAdminName||He.method==="Cash to Admin"?"Cash":["Screenshot","Bank Transfer","FPS","PayMe","Alipay","Credit Card","Online Payment"].includes(He.method)?"Online Payment":He.method||"N/A",He.paidToAdminName&&`  Paid to ${He.paidToAdminName}`,He.reference&&`  Ref: ${He.reference}`]})]})},Qe))})()}),(Le?f.filter(De=>De.memberId===Le.id||De.memberEmail===Le.email||De.member===Le.name):f).length>0&&t.jsx("button",{className:"btn-link",onClick:()=>G("history"),children:"View Payment History "})]}),t.jsxs("div",{className:"card quick-actions-card",children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-bolt",style:{marginRight:"8px"}}),"Quick Actions"]}),t.jsxs("div",{className:"quick-actions-grid",children:[t.jsxs("button",{className:"quick-action-btn",onClick:()=>G("pay"),children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"8px"}}),t.jsx("span",{className:"action-label",children:"Pay Now"})]}),t.jsxs("button",{className:"quick-action-btn",onClick:()=>G("invoices"),children:[t.jsx("i",{className:"fas fa-file-invoice",style:{marginRight:"8px"}}),t.jsx("span",{className:"action-label",children:"View Invoices"})]}),t.jsxs("button",{className:"quick-action-btn",onClick:()=>G("history"),children:[t.jsx("i",{className:"fas fa-list-alt",style:{marginRight:"8px"}}),t.jsx("span",{className:"action-label",children:"Payment History"})]}),t.jsxs("button",{className:"quick-action-btn",onClick:()=>G("profile"),children:[t.jsx("i",{className:"fas fa-cog",style:{marginRight:"8px"}}),t.jsx("span",{className:"action-label",children:"Settings"})]})]})]})]})]})]}),N==="pay"&&t.jsxs("article",{className:"screen-card",id:"pay",children:[t.jsxs("header",{className:"screen-card__header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-credit-card",style:{marginRight:"10px"}}),"Pay Now"]}),t.jsx("p",{children:"Select invoices and choose your payment method."})]}),B?t.jsxs("div",{className:"card",style:{textAlign:"center",padding:"40px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("h2",{children:"Payment Submitted"}),t.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:"Your payment has been submitted successfully."}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[t.jsx("button",{className:"primary-btn",onClick:()=>G("dashboard"),children:"Back to Dashboard"}),t.jsx("button",{className:"secondary-btn",onClick:()=>{U(!1),G("invoices")},children:"View Invoices"})]})]}):t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"invoice-selection-section",style:{marginBottom:"32px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"12px"},children:[t.jsx("h4",{style:{margin:0},children:"Select Invoices to Pay"}),Ye().length>0&&t.jsx("button",{type:"button",className:"ghost-btn",style:{fontSize:"0.875rem",padding:"6px 12px"},onClick:()=>{E.length===Ye().length?q([]):q(Ye().map(we=>we.id))},children:E.length===Ye().length?"Deselect All":"Select All"})]}),Ye().length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666"},children:t.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"No unpaid invoices available."})}):t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px",marginBottom:"24px"},children:Ye().map(we=>{const De=E.includes(we.id);return t.jsxs("label",{style:{display:"flex",flexDirection:"column",padding:"16px",border:`2px solid ${De?"#5a31ea":"#e0e0e0"}`,borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:De?"rgba(0, 0, 0, 0.02)":"#fff",position:"relative"},onMouseEnter:He=>{De||(He.currentTarget.style.borderColor="#ccc")},onMouseLeave:He=>{De||(He.currentTarget.style.borderColor="#e0e0e0")},children:[t.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"12px"},children:[t.jsx("input",{type:"checkbox",checked:De,onChange:()=>pt(we.id),style:{marginTop:"2px",width:"18px",height:"18px",cursor:"pointer",flexShrink:0}}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("div",{style:{fontWeight:"600",fontSize:"0.95rem",marginBottom:"4px",color:"#5a31ea"},children:we.period}),t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"8px"},children:["Due: ",we.due]})]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto",paddingTop:"12px",borderTop:"1px solid #e5e7eb"},children:[t.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#1a1a1a"},children:we.amount}),t.jsx("span",{className:Wa[ht(we)],style:{fontSize:"0.75rem",padding:"4px 8px"},children:ht(we)})]})]},we.id)})}),E.length>0&&t.jsx("div",{style:{padding:"20px",backgroundColor:"#f8f8f8",borderRadius:"8px",border:"1px solid #e0e0e0"},children:t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"12px"},children:t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"4px"},children:[E.length," invoice",E.length>1?"s":""," selected"]}),t.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#5a31ea"},children:["Total: $",ot().toFixed(2)]})]})})})]}),E.length>0&&t.jsxs("div",{className:"payment-methods",children:[t.jsxs("div",{className:"tabs",children:[t.jsx("button",{className:`tab ${F==="Online Payment"?"active":""}`,onClick:()=>D("Online Payment"),children:"Online Payment"}),t.jsx("button",{className:`tab ${F==="Cash Payment"?"active":""}`,onClick:()=>D("Cash Payment"),children:"Cash Payment"})]}),F==="Online Payment"&&t.jsxs("form",{className:"method-panel",onSubmit:wt,noValidate:!0,children:[t.jsx("p",{style:{marginBottom:"16px",color:"#666"},children:"Upload a screenshot of your payment confirmation for the selected invoice(s). All selected invoices will be marked as paid once the screenshot is uploaded."}),t.jsxs("label",{children:["Upload Payment Screenshot *",t.jsx("input",{type:"file",accept:"image/*",required:!0,onInvalid:we=>we.preventDefault(),onChange:we=>ce(we.target.files[0])}),oe&&t.jsxs("div",{style:{marginTop:"8px",fontSize:"0.875rem",color:"#666"},children:["Selected: ",oe.name]})]}),t.jsx("button",{type:"submit",className:"primary-btn",style:{marginTop:"16px"},disabled:Ee,children:Ee?"Uploading...":`Pay $${ot().toFixed(2)}`})]}),F==="Cash Payment"&&t.jsxs("form",{className:"method-panel",onSubmit:rn,noValidate:!0,children:[t.jsx("p",{style:{marginBottom:"16px",color:"#666"},children:"Select the admin you paid to. You can optionally upload a payment screenshot as proof. All selected invoices will be pending admin approval."}),t.jsxs("label",{children:["Select Admin You Paid To *",t.jsxs("select",{required:!0,onInvalid:we=>we.preventDefault(),value:J||"",onChange:we=>$(we.target.value),style:{color:"#000"},children:[t.jsx("option",{value:"",children:"Choose an admin"}),a.filter(we=>we.status==="Active").map(we=>t.jsxs("option",{value:we.id,children:[we.name," (",we.email,")"]},we.id))]})]}),t.jsxs("label",{children:["Upload Payment Screenshot (Optional)",t.jsx("input",{type:"file",accept:"image/*",onChange:we=>ce(we.target.files[0])}),oe&&t.jsxs("div",{style:{marginTop:"8px",fontSize:"0.875rem",color:"#666"},children:["Selected: ",oe.name]})]}),t.jsx("button",{type:"submit",className:"primary-btn",style:{marginTop:"16px"},disabled:Ee,children:Ee?"Uploading...":`Pay $${ot().toFixed(2)}`})]})]}),E.length===0&&t.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666",border:"2px dashed #e0e0e0",borderRadius:"8px"},children:t.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"Please select at least one invoice above to proceed with payment."})})]})]}),N==="invoices"&&t.jsxs("article",{className:"screen-card",id:"invoices",children:[t.jsxs("header",{className:"screen-card__header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-file-invoice-dollar",style:{marginRight:"10px"}}),"My Invoices"]}),t.jsx("p",{children:"View all your invoices and payment status."})]}),t.jsx("div",{className:"card",children:(()=>{if(!r||!Array.isArray(r))return t.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"Loading invoices..."});const we=Le?r.filter(De=>De&&(De.memberId===Le.id||De.memberEmail===Le.email||De.memberName===Le.name)):r;return we.length===0?t.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#666"},children:t.jsx("p",{children:"No invoices found."})}):t.jsx(os,{columns:["Invoice No","Period","Amount","Status","Due Date","Action"],rows:we.map(De=>{if(!De)return null;const He=ht(De);return{"Invoice No":De.id||"N/A",Period:De.period||"N/A",Amount:De.amount||"$0",Status:{render:()=>t.jsx("span",{className:Wa[He]||"badge badge-unpaid",children:He})},"Due Date":De.due||"N/A",Action:{render:()=>He==="Paid"||He==="Pending Verification"?t.jsx("button",{className:"ghost-btn",style:{padding:"6px 12px"},onClick:()=>pe(De),children:"View"}):t.jsx("button",{className:"primary-btn",style:{padding:"6px 12px"},onClick:()=>{q([De.id]),G("pay")},children:"Pay Now"})}}}).filter(De=>De!==null)})})()})]}),K&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"20px"},onClick:()=>pe(null),children:t.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"32px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 24px rgba(0,0,0,0.2)"},onClick:we=>we.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[t.jsx("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:"700"},children:"Invoice Details"}),t.jsx("button",{onClick:()=>pe(null),style:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",transition:"all 0.2s ease"},onMouseEnter:we=>{we.target.style.background="#f3f4f6",we.target.style.color="#000"},onMouseLeave:we=>{we.target.style.background="transparent",we.target.style.color="#666"},children:""})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[t.jsxs("div",{style:{padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Invoice ID:"}),t.jsx("strong",{children:K.id})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Period:"}),t.jsx("strong",{children:K.period})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Amount:"}),t.jsx("strong",{style:{fontSize:"1.25rem",color:"#000"},children:K.amount})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Due Date:"}),t.jsx("strong",{children:K.due})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Status:"}),t.jsx("span",{className:Wa[ht(K)],children:ht(K)})]})]}),ht(K)==="Pending Verification"&&t.jsxs("div",{style:{padding:"16px",background:"#fff3cd",borderRadius:"8px",border:"1px solid #ffc107",marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[t.jsx("span",{style:{fontSize:"1.25rem"},children:""}),t.jsx("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"600",color:"#856404"},children:"Payment Pending Approval"})]}),t.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#856404"},children:"Your payment has been submitted and is awaiting admin approval. You will be notified once it's reviewed."}),K.method&&t.jsx("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #ffc107"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#856404",fontSize:"0.875rem"},children:"Payment Method:"}),t.jsx("strong",{style:{color:"#856404"},children:K.method})]})})]}),ht(K)==="Paid"&&t.jsxs("div",{style:{padding:"16px",background:"#f0f8ff",borderRadius:"8px",border:"1px solid #1677FF"},children:[t.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",fontWeight:"600"},children:"Payment Information"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Payment Method:"}),t.jsx("strong",{children:K.paidToAdmin||K.paidToAdminName||K.method==="Cash to Admin"?"Cash":["Screenshot","Bank Transfer","FPS","PayMe","Alipay","Credit Card","Online Payment"].includes(K.method)?"Online Payment":K.method||"N/A"})]}),K.reference&&K.reference!=="-"&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Reference:"}),t.jsx("strong",{children:K.reference})]}),K.paidToAdminName&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#666",fontSize:"0.875rem"},children:"Paid to:"}),t.jsx("strong",{children:K.paidToAdminName})]})]})]}),K.screenshot&&t.jsxs("div",{style:{padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[t.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",fontWeight:"600"},children:"Payment Screenshot"}),t.jsx("button",{onClick:()=>{const we=window.open();we&&we.document.write(`
                                <html>
                                  <head><title>Payment Screenshot - ${K.id}</title></head>
                                  <body style="margin:0;padding:20px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:100vh;">
                                    <img src="${K.screenshot}" alt="Payment Screenshot" style="max-width:100%;max-height:90vh;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);" />
                                  </body>
                                </html>
                              `)},style:{width:"100%",padding:"12px",background:"#5a31ea",color:"#fff",border:"none",borderRadius:"8px",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.3)"},onMouseEnter:we=>{we.target.style.background="#4a28d0",we.target.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.4)"},onMouseLeave:we=>{we.target.style.background="#5a31ea",we.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.3)"},children:t.jsx("span",{style:{color:"#ffffff"},children:" View Full Screenshot"})}),t.jsx("img",{src:K.screenshot,alt:"Payment Screenshot Preview",style:{width:"100%",maxHeight:"300px",objectFit:"contain",borderRadius:"8px",marginTop:"12px",border:"1px solid #e0e0e0"}})]})]}),t.jsx("div",{style:{marginTop:"24px",display:"flex",justifyContent:"flex-end"},children:t.jsx("button",{onClick:()=>pe(null),style:{padding:"10px 20px",background:"#5a31ea",color:"#fff",border:"none",borderRadius:"8px",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.3)"},onMouseEnter:we=>{we.target.style.background="#4a28d0",we.target.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.4)"},onMouseLeave:we=>{we.target.style.background="#5a31ea",we.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.3)"},children:"Close"})})]})}),N==="history"&&t.jsxs("article",{className:"screen-card",id:"history",children:[t.jsxs("header",{className:"screen-card__header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-history",style:{marginRight:"10px"}}),"Payment History"]}),t.jsx("p",{children:"Complete record of all your payments."})]}),t.jsx("div",{style:{marginTop:"24px"},children:(()=>{const we=Le?f.filter(ue=>ue.memberId===Le.id||ue.memberEmail===Le.email||ue.member===Le.name):f,De=Math.ceil(we.length/me),He=Math.min(Math.max(1,re),De||1),Qe=He*me,Gt=Qe-me,ye=we.slice(Gt,Qe);return we.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#666"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("p",{style:{margin:0,fontSize:"1.125rem",fontWeight:"500"},children:"No payment history yet"}),t.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.9375rem",color:"#999"},children:"Your payment records will appear here"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsxs("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#1a1a1a",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("i",{className:"fas fa-list",style:{color:"#5a31ea"}}),"Show:"]}),t.jsxs("select",{value:me,onChange:ue=>{Ce(Number(ue.target.value)),ee(1)},style:{padding:"8px 12px",border:"none",borderRadius:"8px",background:"#f8f9ff",color:"#1a1a1a",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",boxShadow:"0 2px 4px rgba(90, 49, 234, 0.08)",outline:"none"},children:[t.jsx("option",{value:2,children:"2"}),t.jsx("option",{value:5,children:"5"}),t.jsx("option",{value:10,children:"10"}),t.jsx("option",{value:20,children:"20"}),t.jsx("option",{value:50,children:"50"}),t.jsx("option",{value:100,children:"100"})]}),t.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"per page"})]}),t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666"},children:["Showing ",Gt+1," to ",Math.min(Qe,we.length)," of ",we.length," payments"]})]}),t.jsx("div",{className:"payment-history-list",style:{marginBottom:"24px"},children:ye.map((ue,Re)=>{const at=ue.paidToAdmin||ue.paidToAdminName||ue.method==="Cash to Admin"?"Cash":["Screenshot","Bank Transfer","FPS","PayMe","Alipay","Credit Card","Online Payment"].includes(ue.method)?"Online Payment":ue.method||"N/A";return t.jsxs("div",{className:"payment-history-card",children:[t.jsxs("div",{className:"payment-history-card__main",children:[t.jsxs("div",{children:[t.jsx("p",{className:"payment-history-card__amount",children:ue.amount||"$0"}),t.jsx("p",{className:"payment-history-card__date",children:ue.date||"N/A"})]}),t.jsx("div",{className:"payment-history-card__status",children:t.jsx("span",{className:Wa[ue.status]||"payment-history-card__status-pill",children:ue.status||"Pending"})})]}),t.jsxs("div",{className:"payment-history-card__meta",children:[t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Method"}),t.jsx("span",{className:"value",children:at})]}),ue.reference&&ue.reference!=="-"&&t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Reference"}),t.jsx("span",{className:"value code",children:ue.reference})]}),ue.paidToAdminName&&t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Paid to"}),t.jsx("span",{className:"value",children:ue.paidToAdminName})]}),ue.period&&t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Period"}),t.jsx("span",{className:"value",children:ue.period})]})]}),ue.status==="Pending"&&t.jsx("div",{style:{marginTop:"8px",padding:"8px",background:"#fff3cd",borderRadius:"8px",border:"1px solid #ffc107",fontSize:"0.8rem",color:"#856404"},children:" Your payment is pending admin approval. You will be notified once it's reviewed."}),ue.status==="Rejected"&&ue.rejectionReason&&t.jsxs("div",{style:{marginTop:"8px",padding:"8px",background:"#f8d7da",borderRadius:"8px",border:"1px solid #f5c6cb",fontSize:"0.8rem",color:"#721c24"},children:[" Payment rejected: ",ue.rejectionReason]}),ue.screenshot&&t.jsx("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px solid #e5e7eb"},children:t.jsxs("button",{onClick:()=>{const Xe=window.open();Xe&&Xe.document.write(`
                                            <html>
                                              <head><title>Payment Screenshot</title></head>
                                              <body style="margin:0;padding:20px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:100vh;">
                                                <img src="${ue.screenshot}" alt="Payment Screenshot" style="max-width:100%;max-height:90vh;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);" />
                                              </body>
                                            </html>
                                          `)},style:{width:"100%",padding:"8px 12px",background:"#5a31ea",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",boxShadow:"0 2px 8px rgba(90, 49, 234, 0.3)"},children:[t.jsx("span",{style:{color:"#ffffff"},children:""}),t.jsx("span",{style:{color:"#ffffff"},children:"View Screenshot"})]})})]},Re)})}),De>1&&t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",marginTop:"32px",flexWrap:"wrap"},children:[t.jsxs("button",{onClick:()=>ee(ue=>Math.max(1,ue-1)),disabled:He===1,style:{padding:"10px 16px",border:"none",borderRadius:"8px",background:He===1?"#f3f4f6":"#5a31ea",color:He===1?"#999":"#ffffff",fontSize:"0.875rem",fontWeight:"600",cursor:He===1?"not-allowed":"pointer",boxShadow:He===1?"none":"0 2px 8px rgba(90, 49, 234, 0.2)",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:ue=>{He!==1&&(ue.target.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.3)")},onMouseLeave:ue=>{He!==1&&(ue.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.2)")},children:[t.jsx("i",{className:"fas fa-chevron-left"}),"Previous"]}),t.jsx("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:Array.from({length:De},(ue,Re)=>Re+1).map(ue=>ue===1||ue===De||ue>=He-1&&ue<=He+1?t.jsx("button",{onClick:()=>ee(ue),style:{padding:"10px 16px",border:"none",borderRadius:"8px",background:He===ue?"#5a31ea":"#f8f9ff",color:He===ue?"#ffffff":"#1a1a1a",fontSize:"0.875rem",fontWeight:He===ue?"600":"500",cursor:"pointer",boxShadow:He===ue?"0 2px 8px rgba(90, 49, 234, 0.3)":"0 2px 4px rgba(90, 49, 234, 0.08)",transition:"all 0.2s ease",minWidth:"40px"},onMouseEnter:at=>{He!==ue&&(at.target.style.background="#ffffff",at.target.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.15)")},onMouseLeave:at=>{He!==ue&&(at.target.style.background="#f8f9ff",at.target.style.boxShadow="0 2px 4px rgba(90, 49, 234, 0.08)")},children:ue},ue):ue===He-2||ue===He+2?t.jsx("span",{style:{padding:"10px 8px",color:"#666",fontSize:"0.875rem"},children:"..."},ue):null)}),t.jsxs("button",{onClick:()=>ee(ue=>Math.min(De,ue+1)),disabled:He===De,style:{padding:"10px 16px",border:"none",borderRadius:"8px",background:He===De?"#f3f4f6":"#5a31ea",color:He===De?"#999":"#ffffff",fontSize:"0.875rem",fontWeight:"600",cursor:He===De?"not-allowed":"pointer",boxShadow:He===De?"none":"0 2px 8px rgba(90, 49, 234, 0.2)",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:ue=>{He!==De&&(ue.target.style.boxShadow="0 4px 12px rgba(90, 49, 234, 0.3)")},onMouseLeave:ue=>{He!==De&&(ue.target.style.boxShadow="0 2px 8px rgba(90, 49, 234, 0.2)")},children:["Next",t.jsx("i",{className:"fas fa-chevron-right"})]})]})]})})()})]}),N==="profile"&&t.jsxs("article",{className:"screen-card",id:"profile",children:[t.jsxs("header",{className:"screen-card__header",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-user-cog",style:{marginRight:"10px"}}),"Profile Settings"]}),t.jsx("p",{children:"Manage your account information and preferences."})]}),!ke&&t.jsx("button",{type:"button",className:"primary-btn",onClick:()=>le(!0),style:{padding:"10px 20px",fontSize:"0.9rem"},children:"Edit Profile"})]}),t.jsxs("form",{onSubmit:$t,noValidate:!0,children:[t.jsx("div",{className:"card",style:{padding:"24px",marginBottom:"24px",background:"#ffffff",border:"1px solid #e0e0e0",borderRadius:"12px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",flexWrap:"wrap"},children:[t.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"#5a31ea",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"2rem",fontWeight:"600",flexShrink:0},children:Le?.name?.charAt(0)?.toUpperCase()||"M"}),t.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[t.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"1.5rem",fontWeight:"600"},children:Le?.name||"Member"}),t.jsx("p",{style:{margin:"0 0 4px 0",color:"#666",fontSize:"0.9rem"},children:Le?.email||"No email"}),t.jsx("p",{style:{margin:0,color:"#666",fontSize:"0.9rem"},children:Le?.phone||"No phone"})]}),t.jsx("div",{style:{padding:"8px 16px",background:Le?.status==="Active"?"#d1fae5":"#fee2e2",color:Le?.status==="Active"?"#065f46":"#991b1b",borderRadius:"20px",fontSize:"0.875rem",fontWeight:"500"},children:Le?.status||"Active"})]})}),t.jsxs("div",{className:"card",style:{padding:"24px",marginBottom:"24px",border:"1px solid #e0e0e0",borderRadius:"12px"},children:[t.jsx("h4",{style:{margin:"0 0 20px 0",fontSize:"1.1rem",fontWeight:"600",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"},children:"Personal Information"}),ke?t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px"},children:[t.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#333"},children:["Full Name ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{required:!0,onInvalid:we=>we.preventDefault(),value:Ge.name,onChange:we=>tt({...Ge,name:we.target.value}),style:{padding:"12px 16px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border-color 0.2s"},onFocus:we=>we.target.style.borderColor="#5a31ea",onBlur:we=>we.target.style.borderColor="#ddd"})]}),t.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#333"},children:["Email Address ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{required:!0,type:"email",onInvalid:we=>we.preventDefault(),value:Ge.email,onChange:we=>tt({...Ge,email:we.target.value}),style:{padding:"12px 16px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border-color 0.2s"},onFocus:we=>we.target.style.borderColor="#5a31ea",onBlur:we=>we.target.style.borderColor="#ddd"})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.jsx(Yc,{label:t.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#333"},children:["Phone Number (WhatsApp) ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),value:Ge.phone,onChange:we=>tt({...Ge,phone:we.target.value}),onError:we=>{vt(we,"error")},placeholder:"Enter phone number",required:!0})}),t.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#333",display:"flex",alignItems:"center",gap:"6px"},children:[t.jsx("i",{className:"fas fa-lock",style:{color:"#5a31ea",fontSize:"0.875rem"}}),"New Password (leave blank to keep current)"]}),t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:W?"text":"password",value:Ge.password,onChange:we=>tt({...Ge,password:we.target.value}),placeholder:"Enter new password (min. 6 characters)",minLength:6,style:{padding:"12px 45px 12px 16px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",width:"100%",transition:"border-color 0.2s"},onFocus:we=>we.target.style.borderColor="#5a31ea",onBlur:we=>we.target.style.borderColor="#ddd"}),t.jsx("button",{type:"button",onClick:()=>Y(!W),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},"aria-label":W?"Hide password":"Show password",children:W?t.jsx("i",{className:"fas fa-eye-slash",style:{fontSize:"0.875rem"}}):t.jsx("i",{className:"fas fa-eye",style:{fontSize:"0.875rem"}})})]}),t.jsx("small",{style:{fontSize:"0.75rem",color:"#666",marginTop:"-4px"},children:"Leave blank if you don't want to change your password"})]})]}):t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"24px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#666",marginBottom:"8px"},children:"Full Name"}),t.jsx("div",{style:{fontSize:"1rem",fontWeight:"500",color:"#000"},children:Le?.name||"N/A"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#666",marginBottom:"8px"},children:"Email Address"}),t.jsx("div",{style:{fontSize:"1rem",fontWeight:"500",color:"#000"},children:Le?.email||"N/A"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#666",marginBottom:"8px"},children:"Phone Number"}),t.jsx("div",{style:{fontSize:"1rem",fontWeight:"500",color:"#000"},children:Le?.phone||"N/A"})]})]})]}),t.jsxs("div",{className:"card",style:{padding:"24px",marginBottom:"24px",border:"1px solid #e0e0e0",borderRadius:"12px"},children:[t.jsx("h4",{style:{margin:"0 0 20px 0",fontSize:"1.1rem",fontWeight:"600",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"},children:"Notification Preferences"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",border:"1px solid #e0e0e0",borderRadius:"8px",transition:"all 0.2s",background:"#f8f8f8",opacity:"0.8"},children:[t.jsxs("div",{children:[t.jsxs("div",{style:{fontWeight:"500",marginBottom:"4px",display:"flex",alignItems:"center",gap:"8px"},children:["Email Reminders",t.jsx("span",{style:{fontSize:"0.75rem",color:"#666",fontWeight:"normal",fontStyle:"italic"},children:"(Required)"})]}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"Receive payment reminders and updates via email"})]}),t.jsx("div",{style:{position:"relative",width:"50px",height:"28px",borderRadius:"14px",backgroundColor:"#5a31ea",cursor:"not-allowed",transition:"background-color 0.3s ease",flexShrink:0,opacity:"1"},children:t.jsx("div",{style:{position:"absolute",top:"2px",left:"24px",width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#fff",transition:"left 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",border:"1px solid #e0e0e0",borderRadius:"8px",transition:"all 0.2s",background:"#f8f8f8",opacity:"0.8"},children:[t.jsxs("div",{children:[t.jsxs("div",{style:{fontWeight:"500",marginBottom:"4px",display:"flex",alignItems:"center",gap:"8px"},children:["WhatsApp Reminders",t.jsx("span",{style:{fontSize:"0.75rem",color:"#666",fontWeight:"normal",fontStyle:"italic"},children:"(Required)"})]}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"Receive payment reminders via WhatsApp"})]}),t.jsx("div",{style:{position:"relative",width:"50px",height:"28px",borderRadius:"14px",backgroundColor:"#5a31ea",cursor:"not-allowed",transition:"background-color 0.3s ease",flexShrink:0,opacity:"1"},children:t.jsx("div",{style:{position:"absolute",top:"2px",left:"24px",width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#fff",transition:"left 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})})]})]})]}),ke&&t.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"},children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>{le(!1),Le&&tt({name:Le.name||"",email:Le.email||"",phone:Le.phone||"",emailReminders:!0,whatsappReminders:!0})},style:{padding:"12px 24px",minWidth:"120px"},children:"Cancel"}),t.jsx("button",{type:"submit",className:"primary-btn",style:{padding:"12px 24px",minWidth:"120px"},children:"Save Changes"})]})]})]})]})]})]}),t.jsx(Xc,{})]})}function Ay(){const{members:s,fetchMembers:a}=Qd(),[r,l]=H.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",subscriptionType:"Lifetime"}),[f,u]=H.useState(!1),[x,g]=H.useState(!1),[y,j]=H.useState(!1),[k,L]=H.useState(null),[R,N]=H.useState("error"),[z,F]=H.useState({name:!1,email:!1,phone:!1,password:!1,confirmPassword:!1}),D=ro();H.useEffect(()=>{a()},[a]);const E=oe=>{if(!oe)return!1;const ce=oe.trim().toLowerCase();return s.some(fe=>fe.email&&fe.email.toLowerCase()===ce)?(L("This email has already been registered. Please use a different email or try logging in."),N("error"),setTimeout(()=>L(null),3e3),!0):!1},q=oe=>{const ce=oe.target.value;l({...r,email:ce})},J=oe=>{const ce=oe.target.value.trim();ce&&E(ce)},$=async oe=>{oe.preventDefault();const ce={name:!1,email:!1,phone:!1,password:!1,confirmPassword:!1};if(!r.name||!r.name.trim()){ce.name=!0,L("Name is required"),N("error"),setTimeout(()=>L(null),3e3),F(ce);return}if(!r.email||!r.email.trim()){ce.email=!0,L("Email is required"),N("error"),setTimeout(()=>L(null),3e3),F(ce);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email.trim())){ce.email=!0,L("Please enter a valid email address"),N("error"),setTimeout(()=>L(null),3e3),F(ce);return}if(E(r.email)){ce.email=!0,L("This email has already been registered. Please use a different email or try logging in."),N("error"),F(ce);return}if(!r.phone||!r.phone.trim()){ce.phone=!0,L("Phone number is required"),N("error"),setTimeout(()=>L(null),3e3),F(ce);return}if(!r.password){ce.password=!0,L("Password is required"),N("error"),setTimeout(()=>L(null),3e3),F(ce);return}if(r.password.length<6){ce.password=!0,L("Password must be at least 6 characters long"),N("error"),setTimeout(()=>L(null),3e3),F(ce);return}if(r.password!==r.confirmPassword){ce.confirmPassword=!0,L("Passwords do not match"),N("error"),setTimeout(()=>L(null),3e3),F(ce);return}F({name:!1,email:!1,phone:!1,password:!1,confirmPassword:!1}),u(!0);try{const K=await fetch("http://localhost:4000/api/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name.trim(),email:r.email.trim().toLowerCase(),phone:r.phone.trim(),password:r.password,status:"Pending",balance:"$0",nextDue:"",lastPayment:"",subscriptionType:r.subscriptionType})}),pe=await K.json();if(!K.ok){const B=pe.message||pe.error||"Failed to create account";throw B.toLowerCase().includes("email")||B.toLowerCase().includes("already exists")||B.toLowerCase().includes("duplicate")?new Error("This email has already been registered. Please use a different email or try logging in."):new Error(B)}L("Account created successfully! Your account is pending approval. You will be able to login once an admin approves your account."),N("success"),setTimeout(()=>{D("/login",{replace:!0,state:{message:"Account created successfully! Your account is pending approval. Please wait for admin approval before logging in.",email:r.email}})},3e3)}catch(fe){console.error("Signup error:",fe),L(fe.message||"Failed to create account. Please try again."),N("error")}finally{u(!1)}};return t.jsxs(t.Fragment,{children:[t.jsx(Qc,{showCTA:!1}),t.jsx("main",{className:"login-main",children:t.jsxs("div",{className:"login-shell",children:[t.jsxs("aside",{className:"login-menu",children:[t.jsx("p",{className:"eyebrow light",children:"Welcome"}),t.jsx("h2",{children:"Subscription Manager HK"}),t.jsx("p",{children:"Create your member account to access the subscription portal."}),t.jsxs("ul",{children:[t.jsx("li",{children:"Track your subscription payments"}),t.jsx("li",{children:"View invoices and payment history"}),t.jsx("li",{children:"Manage your profile and preferences"})]})]}),t.jsxs("div",{className:"login-form-card",children:[t.jsxs("div",{className:"login-form-card__header",children:[t.jsxs("h1",{children:[t.jsx("i",{className:"fas fa-user-plus login-title-icon"}),"Create Account"]}),t.jsxs("p",{children:["Already have an account? ",t.jsx(Kc,{to:"/login",className:"signup-link",children:"Sign in"})]})]}),t.jsxs("form",{onSubmit:$,noValidate:!0,children:[t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user login-icon"}),"Full Name ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,onInvalid:oe=>oe.preventDefault(),value:r.name,onChange:oe=>{l({...r,name:oe.target.value}),z.name&&F(ce=>({...ce,name:!1}))},placeholder:"Enter your full name",className:`mono-input ${z.name?"signup-input-error":""}`})]}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope login-icon"}),"Email ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsx("input",{type:"email",required:!0,onInvalid:oe=>oe.preventDefault(),value:r.email,onChange:oe=>{q(oe),z.email&&F(ce=>({...ce,email:!1}))},onBlur:J,placeholder:"Enter your email address",className:`mono-input ${z.email?"signup-input-error":""}`})]}),t.jsx("div",{className:"mono-label",children:t.jsx(Yc,{label:t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-phone login-icon"}),"Phone Number ",t.jsx("span",{className:"login-required",children:"*"})]}),value:r.phone,onChange:oe=>{l({...r,phone:oe.target.value}),z.phone&&F(ce=>({...ce,phone:!1}))},onError:oe=>{L(oe),N("error"),F(ce=>({...ce,phone:!0}))},placeholder:"Enter your phone number",required:!0,className:`mono-input ${z.phone?"signup-input-error":""}`})}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-id-card login-icon"}),"Subscription Type ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsxs("div",{className:"signup-subscription-grid",children:[t.jsxs("button",{type:"button",onClick:()=>l({...r,subscriptionType:"Lifetime"}),className:`signup-subscription-button ${r.subscriptionType==="Lifetime"?"signup-subscription-button--active":"signup-subscription-button--default"}`,children:[t.jsx("div",{className:"signup-subscription-button-title",children:"Lifetime"}),t.jsx("div",{className:"signup-subscription-button-price",children:"$250/year"})]}),t.jsxs("button",{type:"button",onClick:()=>l({...r,subscriptionType:"Yearly + Janaza Fund"}),className:`signup-subscription-button ${r.subscriptionType==="Yearly + Janaza Fund"?"signup-subscription-button--active":"signup-subscription-button--default"}`,children:[t.jsx("div",{className:"signup-subscription-button-title",children:"Yearly + Janaza Fund"}),t.jsx("div",{className:"signup-subscription-button-price",children:"$500/year"})]})]})]}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock login-icon"}),"Password ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsxs("div",{className:"login-input-wrapper",children:[t.jsx("input",{type:x?"text":"password",required:!0,onInvalid:oe=>oe.preventDefault(),value:r.password,onChange:oe=>l({...r,password:oe.target.value}),placeholder:"Create a password (min. 6 characters)",className:"mono-input login-input--with-icon",minLength:6}),t.jsx("button",{type:"button",onClick:()=>g(!x),className:"login-password-toggle","aria-label":x?"Hide password":"Show password",children:x?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock login-icon"}),"Confirm Password ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsxs("div",{className:"login-input-wrapper",children:[t.jsx("input",{type:y?"text":"password",required:!0,onInvalid:oe=>oe.preventDefault(),value:r.confirmPassword,onChange:oe=>{l({...r,confirmPassword:oe.target.value}),z.confirmPassword&&F(ce=>({...ce,confirmPassword:!1}))},placeholder:"Confirm your password",className:`mono-input login-input--with-icon ${z.confirmPassword?"signup-input-error":""}`,minLength:6}),t.jsx("button",{type:"button",onClick:()=>j(!y),className:"login-password-toggle","aria-label":y?"Hide password":"Show password",children:y?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),t.jsx("button",{type:"submit",className:"primary-btn signup-submit-button",disabled:f,children:f?"Creating Account...":"Create Account"})]}),t.jsx(Hd,{isOpen:!!error,message:error,type:"error",onClose:()=>setError(null)}),t.jsx(Hd,{isOpen:!!success,message:success,type:"success",onClose:()=>setSuccess(null)}),t.jsx(Wl,{message:k,type:R,onClose:()=>L(null),duration:3e3})]})]})}),t.jsx(Xc,{})]})}function Cy(){const{members:s,admins:a,invoices:r,payments:l,paymentHistory:f,donations:u,paymentMethods:x,communicationLog:g,fetchMembers:y,fetchAdmins:j,fetchInvoices:k,fetchPayments:L,fetchDonations:R,fetchPaymentMethods:N,addMember:z,updateMember:F,deleteMember:D,addAdminUser:E,updateAdminUser:q,deleteAdminUser:J,addInvoice:$,updateInvoice:oe,deleteInvoice:ce,addDonation:Ee,deleteDonation:fe,updatePaymentMethod:K,loading:pe}=Qd(),B=ro(),[U,ae]=H.useState("members"),[Z,xe]=H.useState(!1),[Ae,ke]=H.useState(null),[le,Se]=H.useState(null),[Fe,Q]=H.useState("success"),[_,W]=H.useState({name:"",email:"",phone:"",password:"",status:"Active",balance:"$0",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"}),[Y,re]=H.useState({name:"",email:"",password:"",role:"Viewer",status:"Active"}),[ee,me]=H.useState({memberId:"",memberName:"",period:"",amount:"",invoiceType:"Lifetime",due:"",status:"Unpaid",notes:""}),[Ce,_e]=H.useState(!1),[Be,Le]=H.useState(!1),[Ge,tt]=H.useState({donorName:"",isMember:!1,memberId:"",amount:"",notes:""}),[it,G]=H.useState({name:"",visible:!0,qrImageUrl:"",details:[]});H.useEffect(()=>{y(),j(),k(),L(),R(),N()},[]);const Ve=(ne,dt="success")=>{Se(ne),Q(dt)},vt=()=>{Ve("You have been logged out","success"),setTimeout(()=>{sessionStorage.clear(),B("/login",{replace:!0})},500)},ht=async ne=>{ne.preventDefault();try{await z(_),Ve("Member added successfully!"),xe(!1),pt(),y()}catch(dt){Ve(dt.message||"Failed to add member","error")}},Ye=async ne=>{ne.preventDefault();try{await F(Ae.id,_),Ve("Member updated successfully!"),xe(!1),ke(null),pt(),y()}catch(dt){Ve(dt.message||"Failed to update member","error")}},gt=async ne=>{if(window.confirm("Are you sure you want to delete this member?"))try{await D(ne),Ve("Member deleted successfully!"),y()}catch(dt){Ve(dt.message||"Failed to delete member","error")}},ot=ne=>{ke(ne),W({name:ne.name||"",email:ne.email||"",phone:ne.phone||"",password:"",status:ne.status||"Active",balance:ne.balance||"$0",nextDue:ne.nextDue||"",lastPayment:ne.lastPayment||"",subscriptionType:ne.subscriptionType||"Lifetime"}),xe(!0)},pt=()=>{W({name:"",email:"",phone:"",password:"",status:"Active",balance:"$0",nextDue:"",lastPayment:"",subscriptionType:"Lifetime"})},wt=async ne=>{ne.preventDefault();try{await E(Y),Ve("Admin added successfully!"),xe(!1),Ft(),j()}catch(dt){Ve(dt.message||"Failed to add admin","error")}},rn=async ne=>{ne.preventDefault();try{await q(Ae.id,Y),Ve("Admin updated successfully!"),xe(!1),ke(null),Ft(),j()}catch(dt){Ve(dt.message||"Failed to update admin","error")}},$t=async ne=>{if(window.confirm("Are you sure you want to delete this admin?"))try{await J(ne),Ve("Admin deleted successfully!"),j()}catch(dt){Ve(dt.message||"Failed to delete admin","error")}},Ct=ne=>{ke(ne),re({name:ne.name||"",email:ne.email||"",password:"",role:ne.role||"Viewer",status:ne.status||"Active"}),xe(!0)},Ft=()=>{re({name:"",email:"",password:"",role:"Viewer",status:"Active"})},we=async ne=>{ne.preventDefault();try{const dt={...ee,amount:ee.amount.startsWith("$")?ee.amount:`$${ee.amount}`};await $(dt),Ve("Invoice added successfully!"),xe(!1),Gt(),k()}catch(dt){Ve(dt.message||"Failed to add invoice","error")}},De=async ne=>{ne.preventDefault();try{const dt={...ee,amount:ee.amount.startsWith("$")?ee.amount:`$${ee.amount}`};await oe(Ae.id,dt),Ve("Invoice updated successfully!"),xe(!1),ke(null),Gt(),k()}catch(dt){Ve(dt.message||"Failed to update invoice","error")}},He=async ne=>{if(window.confirm("Are you sure you want to delete this invoice?"))try{await ce(ne),Ve("Invoice deleted successfully!"),k()}catch(dt){Ve(dt.message||"Failed to delete invoice","error")}},Qe=ne=>{ke(ne),me({memberId:ne.memberId||"",memberName:ne.memberName||"",period:ne.period||"",amount:ne.amount?.replace("$","")||"",invoiceType:ne.invoiceType||"Lifetime",due:ne.due||"",status:ne.status||"Unpaid",notes:ne.notes||""}),xe(!0)},Gt=()=>{me({memberId:"",memberName:"",period:"",amount:"",invoiceType:"Lifetime",due:"",status:"Unpaid",notes:""})},ye=async ne=>{ne.preventDefault();try{await Ee(Ge),Ve("Donation added successfully!"),xe(!1),at(),R()}catch(dt){Ve(dt.message||"Failed to add donation","error")}},ue=async ne=>{ne.preventDefault();try{Ve("Donation update functionality not available","error"),xe(!1),ke(null),at()}catch(dt){Ve(dt.message||"Failed to update donation","error")}},Re=async ne=>{if(window.confirm("Are you sure you want to delete this donation?"))try{await fe(ne),Ve("Donation deleted successfully!"),R()}catch(dt){Ve(dt.message||"Failed to delete donation","error")}},at=()=>{tt({donorName:"",isMember:!1,memberId:"",amount:"",notes:""})},Xe=async ne=>{ne.preventDefault();try{const dr=await fetch("http://localhost:4000/api/payment-methods",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(it)});if(!dr.ok){const ar=await dr.json().catch(()=>({}));throw new Error(ar.error||"Failed to add payment method")}Ve("Payment method added successfully!"),xe(!1),It(),N()}catch(dt){Ve(dt.message||"Failed to add payment method","error")}},ct=async ne=>{ne.preventDefault();try{await K(Ae.name,it),Ve("Payment method updated successfully!"),xe(!1),ke(null),It(),N()}catch(dt){Ve(dt.message||"Failed to update payment method","error")}},Nt=ne=>{ke(ne),G({name:ne.name||"",visible:ne.visible!==void 0?ne.visible:!0,qrImageUrl:ne.qrImageUrl||"",details:Array.isArray(ne.details)?ne.details:[]}),xe(!0)},It=()=>{G({name:"",visible:!0,qrImageUrl:"",details:[]})},Jt=()=>{ke(null),U==="members"?pt():U==="admins"?Ft():U==="invoices"?Gt():U==="donations"?at():U==="payment-methods"&&It(),xe(!0)},Ot=()=>{xe(!1),ke(null),U==="members"?pt():U==="admins"?Ft():U==="invoices"?Gt():U==="donations"?at():U==="payment-methods"&&It()};return pe?t.jsxs("div",{className:"server-loading",children:[t.jsx("div",{className:"server-loading-spinner"}),t.jsx("p",{className:"server-loading-text",children:"Loading data from server..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Qc,{showCTA:!1,showLogout:!0,onLogout:vt,isSticky:!0}),t.jsx(Wl,{message:le,type:Fe,onClose:()=>Se(null),duration:3e3}),t.jsx("main",{className:"server-main server-main--sticky-header",children:t.jsx("div",{className:"server-layout",children:t.jsxs("article",{className:"server-card",children:[t.jsxs("header",{className:"server-header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-server"}),"Server Management"]}),t.jsx("p",{children:"Manage all data entities: Members, Admins, Invoices, Payments, Donations, and Payment Methods"})]}),t.jsxs("div",{className:"server-nav",children:[t.jsxs("button",{className:`server-nav-btn ${U==="members"?"active":""}`,onClick:()=>{ae("members"),xe(!1),ke(null)},children:[t.jsx("i",{className:"fas fa-users"}),"Members (",s.length,")"]}),t.jsxs("button",{className:`server-nav-btn ${U==="admins"?"active":""}`,onClick:()=>{ae("admins"),xe(!1),ke(null)},children:[t.jsx("i",{className:"fas fa-user-shield"}),"Admins (",a.length,")"]}),t.jsxs("button",{className:`server-nav-btn ${U==="invoices"?"active":""}`,onClick:()=>{ae("invoices"),xe(!1),ke(null)},children:[t.jsx("i",{className:"fas fa-file-invoice"}),"Invoices (",r.length,")"]}),t.jsxs("button",{className:`server-nav-btn ${U==="payments"?"active":""}`,onClick:()=>{ae("payments"),xe(!1),ke(null)},children:[t.jsx("i",{className:"fas fa-credit-card"}),"Payments (",f?.length||0,")"]}),t.jsxs("button",{className:`server-nav-btn ${U==="donations"?"active":""}`,onClick:()=>{ae("donations"),xe(!1),ke(null)},children:[t.jsx("i",{className:"fas fa-hand-holding-heart"}),"Donations (",u?.length||0,")"]}),t.jsxs("button",{className:`server-nav-btn ${U==="payment-methods"?"active":""}`,onClick:()=>{ae("payment-methods"),xe(!1),ke(null)},children:[t.jsx("i",{className:"fas fa-wallet"}),"Payment Methods (",x?.length||0,")"]})]}),t.jsxs("div",{className:"server-content",children:[U==="members"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"server-section-header",children:[t.jsx("h4",{children:"Members Management"}),t.jsxs("button",{className:"server-add-btn",onClick:Jt,children:[t.jsx("i",{className:"fas fa-plus"}),"Add Member"]})]}),Z&&t.jsxs("div",{className:"server-form-card",children:[t.jsx("h4",{children:Ae?"Edit Member":"Add New Member"}),t.jsxs("form",{className:"server-form-grid",onSubmit:Ae?Ye:ht,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user server-form-icon"}),"Name ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:_.name,onChange:ne=>W({..._,name:ne.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope server-form-icon"}),"Email ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"email",required:!0,value:_.email,onChange:ne=>W({..._,email:ne.target.value}),className:"mono-input"})]}),t.jsx("div",{children:t.jsx(Yc,{label:t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-phone server-form-icon"}),"Phone"]}),value:_.phone,onChange:ne=>W({..._,phone:ne.target.value}),onError:ne=>{Ve(ne,"error")},placeholder:"Enter phone number",className:"mono-input"})}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock server-form-icon"}),"Password ",Ae?"(leave blank to keep current)":t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsxs("div",{className:"server-form-input-wrapper",children:[t.jsx("input",{type:Ce?"text":"password",required:!Ae,value:_.password,onChange:ne=>W({..._,password:ne.target.value}),className:"mono-input login-input--with-icon"}),t.jsx("button",{type:"button",onClick:()=>_e(!Ce),className:"login-password-toggle",children:t.jsx("i",{className:`fas ${Ce?"fa-eye-slash":"fa-eye"}`})})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-toggle-on server-form-icon"}),"Status"]}),t.jsxs("select",{value:_.status,onChange:ne=>W({..._,status:ne.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"}),t.jsx("option",{value:"Pending",children:"Pending"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign server-form-icon"}),"Balance"]}),t.jsx("input",{type:"text",value:_.balance,onChange:ne=>W({..._,balance:ne.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar server-form-icon"}),"Next Due"]}),t.jsx("input",{type:"text",value:_.nextDue,onChange:ne=>W({..._,nextDue:ne.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-check server-form-icon"}),"Last Payment"]}),t.jsx("input",{type:"text",value:_.lastPayment,onChange:ne=>W({..._,lastPayment:ne.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-id-card server-form-icon"}),"Subscription Type"]}),t.jsxs("select",{value:_.subscriptionType,onChange:ne=>W({..._,subscriptionType:ne.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Lifetime",children:"Lifetime"}),t.jsx("option",{value:"Yearly + Janaza Fund",children:"Yearly + Janaza Fund"})]})]}),t.jsxs("div",{className:"server-form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:Ot,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[Ae?"Update":"Add"," Member"]})]})]})]}),t.jsx("div",{className:"server-table-container",children:t.jsx(os,{columns:["ID","Name","Email","Phone","Status","Balance","Actions"],rows:s.map(ne=>({ID:ne.id,Name:ne.name,Email:ne.email,Phone:ne.phone||"-",Status:{render:()=>t.jsx("span",{className:ne.status==="Active"?"server-badge server-badge--active":ne.status==="Pending"?"server-badge server-badge--pending":"server-badge server-badge--inactive",children:ne.status})},Balance:ne.balance||"$0",Actions:{render:()=>t.jsxs("div",{className:"server-action-buttons",children:[t.jsxs("button",{className:"server-action-btn server-action-btn--edit",onClick:()=>ot(ne),children:[t.jsx("i",{className:"fas fa-edit"}),"Edit"]}),t.jsx("button",{className:"server-action-btn server-action-btn--delete",onClick:()=>gt(ne.id),title:"Delete Member","aria-label":"Delete Member",children:t.jsx("i",{className:"fas fa-trash"})})]})}}))})})]}),U==="admins"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"server-section-header",children:[t.jsx("h4",{children:"Admins Management"}),t.jsxs("button",{className:"server-add-btn",onClick:Jt,children:[t.jsx("i",{className:"fas fa-plus"}),"Add Admin"]})]}),Z&&t.jsxs("div",{className:"server-form-card",children:[t.jsx("h4",{children:Ae?"Edit Admin":"Add New Admin"}),t.jsxs("form",{className:"server-form-grid",onSubmit:Ae?rn:wt,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user server-form-icon"}),"Name ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:Y.name,onChange:ne=>re({...Y,name:ne.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope server-form-icon"}),"Email ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"email",required:!0,value:Y.email,onChange:ne=>re({...Y,email:ne.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock server-form-icon"}),"Password ",Ae?"(leave blank to keep current)":t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsxs("div",{className:"server-form-input-wrapper",children:[t.jsx("input",{type:Be?"text":"password",required:!Ae,value:Y.password,onChange:ne=>re({...Y,password:ne.target.value}),className:"mono-input login-input--with-icon"}),t.jsx("button",{type:"button",onClick:()=>Le(!Be),className:"login-password-toggle",children:t.jsx("i",{className:`fas ${Be?"fa-eye-slash":"fa-eye"}`})})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user-tag server-form-icon"}),"Role"]}),t.jsxs("select",{value:Y.role,onChange:ne=>re({...Y,role:ne.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Admin",children:"Admin"}),t.jsx("option",{value:"Super Admin",children:"Super Admin"}),t.jsx("option",{value:"Finance",children:"Finance"}),t.jsx("option",{value:"Staff",children:"Staff"}),t.jsx("option",{value:"Viewer",children:"Viewer"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-toggle-on server-form-icon"}),"Status"]}),t.jsxs("select",{value:Y.status,onChange:ne=>re({...Y,status:ne.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),t.jsxs("div",{className:"server-form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:Ot,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[Ae?"Update":"Add"," Admin"]})]})]})]}),t.jsx("div",{className:"server-table-container",children:t.jsx(os,{columns:["ID","Name","Email","Role","Status","Actions"],rows:a.map(ne=>({ID:ne.id,Name:ne.name,Email:ne.email,Role:ne.role||"Viewer",Status:{render:()=>t.jsx("span",{className:ne.status==="Active"?"server-badge server-badge--active":"server-badge server-badge--inactive",children:ne.status})},Actions:{render:()=>t.jsxs("div",{className:"server-action-buttons",children:[t.jsxs("button",{className:"server-action-btn server-action-btn--edit",onClick:()=>Ct(ne),children:[t.jsx("i",{className:"fas fa-edit"}),"Edit"]}),t.jsx("button",{className:"server-action-btn server-action-btn--delete",onClick:()=>$t(ne.id),title:"Delete Admin","aria-label":"Delete Admin",children:t.jsx("i",{className:"fas fa-trash"})})]})}}))})})]}),U==="invoices"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"server-section-header",children:[t.jsx("h4",{children:"Invoices Management"}),t.jsxs("button",{className:"server-add-btn",onClick:Jt,children:[t.jsx("i",{className:"fas fa-plus"}),"Add Invoice"]})]}),Z&&t.jsxs("div",{className:"server-form-card",children:[t.jsx("h4",{children:Ae?"Edit Invoice":"Add New Invoice"}),t.jsxs("form",{className:"server-form-grid",onSubmit:Ae?De:we,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user server-form-icon"}),"Member ID ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:ee.memberId,onChange:ne=>me({...ee,memberId:ne.target.value}),className:"mono-input",placeholder:"e.g. HK1001"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user server-form-icon"}),"Member Name ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:ee.memberName,onChange:ne=>me({...ee,memberName:ne.target.value}),className:"mono-input"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar server-form-icon"}),"Period ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:ee.period,onChange:ne=>me({...ee,period:ne.target.value}),className:"mono-input",placeholder:"e.g. Nov 2025"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-id-card server-form-icon"}),"Invoice Type"]}),t.jsxs("select",{value:ee.invoiceType,onChange:ne=>me({...ee,invoiceType:ne.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Lifetime",children:"Lifetime"}),t.jsx("option",{value:"Yearly + Janaza Fund",children:"Yearly + Janaza Fund"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign server-form-icon"}),"Amount ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"number",required:!0,value:ee.amount,onChange:ne=>me({...ee,amount:ne.target.value}),className:"mono-input",placeholder:"e.g. 50"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-calendar-check server-form-icon"}),"Due Date ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"date",required:!0,value:ee.due,onChange:ne=>{const dt=ne.target.value;me({...ee,due:dt})},onBlur:ne=>{const dt=ne.target.value;if(dt){const dr=new Date(dt);if(isNaN(dr.getTime())){Ve("Invalid date format. Please enter a valid date (YYYY-MM-DD)","error");return}const[ar,Or,_n]=dt.split("-").map(Number);if(Or<1||Or>12){Ve("Invalid month. Please enter a month between 01 and 12","error");return}if(_n<1||_n>31){Ve("Invalid day. Please enter a valid day for the selected month","error");return}const Et=new Date(ar,Or,0).getDate();if(_n>Et){Ve(`Invalid date. ${Or}/${ar} only has ${Et} days`,"error");return}}},className:"mono-input server-form-input-full-width"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-info-circle server-form-icon"}),"Status"]}),t.jsxs("select",{value:ee.status,onChange:ne=>me({...ee,status:ne.target.value}),className:"mono-input",children:[t.jsx("option",{value:"Unpaid",children:"Unpaid"}),t.jsx("option",{value:"Paid",children:"Paid"}),t.jsx("option",{value:"Overdue",children:"Overdue"}),t.jsx("option",{value:"Pending Verification",children:"Pending Verification"})]})]}),t.jsxs("label",{className:"notes server-form-notes-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-sticky-note"}),"Notes"]}),t.jsx("textarea",{value:ee.notes,onChange:ne=>me({...ee,notes:ne.target.value}),className:"mono-input server-form-textarea"})]}),t.jsxs("div",{className:"server-form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:Ot,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[Ae?"Update":"Add"," Invoice"]})]})]})]}),t.jsx("div",{className:"server-table-container",children:t.jsx(os,{columns:["Invoice #","Member","Period","Amount","Status","Due Date","Actions"],rows:r.map(ne=>({"Invoice #":ne.id,Member:ne.memberName||ne.memberId||"-",Period:ne.period,Amount:ne.amount,Status:{render:()=>t.jsx("span",{className:ne.status==="Paid"?"server-badge server-badge--success":ne.status==="Overdue"?"server-badge server-badge--danger":ne.status==="Pending Verification"?"server-badge server-badge--pending":"server-badge server-badge--warning",children:ne.status})},"Due Date":ne.due,Actions:{render:()=>t.jsxs("div",{className:"server-action-buttons",children:[t.jsxs("button",{className:"server-action-btn server-action-btn--edit",onClick:()=>Qe(ne),children:[t.jsx("i",{className:"fas fa-edit"}),"Edit"]}),t.jsx("button",{className:"server-action-btn server-action-btn--delete",onClick:()=>He(ne.id),title:"Delete Invoice","aria-label":"Delete Invoice",children:t.jsx("i",{className:"fas fa-trash"})})]})}}))})})]}),U==="payments"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"server-section-header",children:t.jsx("h4",{children:"Payments Management"})}),t.jsx("div",{className:"server-table-container",children:t.jsx(os,{columns:["Date","Member","Amount","Method","Status","Reference","Period"],rows:(f||[]).map(ne=>({Date:ne.date||"-",Member:ne.member||ne.memberName||ne.memberId||"-",Amount:ne.amount||"$0",Method:ne.method||"-",Status:{render:()=>t.jsx("span",{className:ne.status==="Paid"||ne.status==="Completed"?"server-badge server-badge--success":ne.status==="Pending"||ne.status==="Pending Verification"?"server-badge server-badge--pending":ne.status==="Rejected"?"server-badge server-badge--danger":"server-badge server-badge--warning",children:ne.status})},Reference:ne.reference||"-",Period:ne.period||"-"}))})})]}),U==="donations"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"server-section-header",children:[t.jsx("h4",{children:"Donations Management"}),t.jsxs("button",{className:"server-add-btn",onClick:Jt,children:[t.jsx("i",{className:"fas fa-plus"}),"Add Donation"]})]}),Z&&t.jsxs("div",{className:"server-form-card",children:[t.jsx("h4",{children:Ae?"Edit Donation":"Add New Donation"}),t.jsxs("form",{className:"server-form-grid",onSubmit:Ae?ue:ye,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user server-form-icon"}),"Donor Name ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:Ge.donorName,onChange:ne=>tt({...Ge,donorName:ne.target.value}),className:"mono-input",placeholder:"Enter donor name"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-dollar-sign server-form-icon"}),"Amount ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"number",required:!0,value:Ge.amount,onChange:ne=>tt({...Ge,amount:ne.target.value}),className:"mono-input",placeholder:"Enter amount"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-check-circle server-form-icon"}),"Is Member"]}),t.jsxs("select",{value:Ge.isMember?"true":"false",onChange:ne=>tt({...Ge,isMember:ne.target.value==="true"}),className:"mono-input",children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]}),Ge.isMember&&t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user server-form-icon"}),"Member ID"]}),t.jsx("input",{type:"text",value:Ge.memberId,onChange:ne=>tt({...Ge,memberId:ne.target.value}),className:"mono-input",placeholder:"Enter member ID"})]}),t.jsxs("label",{className:"notes server-form-notes-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-sticky-note"}),"Notes"]}),t.jsx("textarea",{value:Ge.notes,onChange:ne=>tt({...Ge,notes:ne.target.value}),className:"mono-input server-form-textarea"})]}),t.jsxs("div",{className:"server-form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:Ot,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[Ae?"Update":"Add"," Donation"]})]})]})]}),t.jsx("div",{className:"server-table-container",children:t.jsx(os,{columns:["Donor","Amount","Is Member","Member ID","Date","Actions"],rows:(u||[]).map(ne=>({Donor:ne.donorName||"-",Amount:ne.amount?`$${ne.amount}`:"$0","Is Member":ne.isMember?"Yes":"No","Member ID":ne.memberId||"-",Date:ne.date||"-",Actions:{render:()=>t.jsx("div",{className:"server-action-buttons",children:t.jsx("button",{className:"server-action-btn server-action-btn--delete",onClick:()=>Re(ne._id||ne.id),title:"Delete Donation","aria-label":"Delete Donation",children:t.jsx("i",{className:"fas fa-trash"})})})}}))})})]}),U==="payment-methods"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"server-section-header",children:[t.jsx("h4",{children:"Payment Methods Management"}),t.jsxs("button",{className:"server-add-btn",onClick:Jt,children:[t.jsx("i",{className:"fas fa-plus"}),"Add Payment Method"]})]}),Z&&t.jsxs("div",{className:"server-form-card",children:[t.jsx("h4",{children:Ae?"Edit Payment Method":"Add New Payment Method"}),t.jsxs("form",{className:"server-form-grid",onSubmit:Ae?ct:Xe,noValidate:!0,children:[t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-wallet server-form-icon"}),"Name ",t.jsx("span",{className:"server-form-required",children:"*"})]}),t.jsx("input",{type:"text",required:!0,value:it.name,onChange:ne=>G({...it,name:ne.target.value}),className:"mono-input",placeholder:"e.g. FPS, PayMe, Bank Transfer"})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-eye server-form-icon"}),"Visible"]}),t.jsxs("select",{value:it.visible?"true":"false",onChange:ne=>G({...it,visible:ne.target.value==="true"}),className:"mono-input",children:[t.jsx("option",{value:"true",children:"Yes"}),t.jsx("option",{value:"false",children:"No"})]})]}),t.jsxs("label",{children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-image server-form-icon"}),"QR Image URL"]}),t.jsx("input",{type:"url",value:it.qrImageUrl,onChange:ne=>G({...it,qrImageUrl:ne.target.value}),className:"mono-input",placeholder:"Enter QR code image URL"})]}),t.jsxs("label",{className:"notes server-form-notes-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-list server-form-icon"}),"Details (one per line)"]}),t.jsx("textarea",{value:Array.isArray(it.details)?it.details.join(`
`):"",onChange:ne=>G({...it,details:ne.target.value.split(`
`).filter(dt=>dt.trim())}),className:"mono-input server-form-textarea",placeholder:"Enter details, one per line"})]}),t.jsxs("div",{className:"server-form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:Ot,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"primary-btn",children:[Ae?"Update":"Add"," Payment Method"]})]})]})]}),t.jsx("div",{className:"server-table-container",children:t.jsx(os,{columns:["Name","Visible","QR Image","Details","Actions"],rows:(x||[]).map(ne=>({Name:ne.name||"-",Visible:{render:()=>t.jsx("span",{className:ne.visible?"server-badge server-badge--success":"server-badge server-badge--inactive",children:ne.visible?"Yes":"No"})},"QR Image":ne.qrImageUrl?t.jsx("a",{href:ne.qrImageUrl,target:"_blank",rel:"noopener noreferrer",className:"server-link",children:"View Image"}):"-",Details:Array.isArray(ne.details)?ne.details.join(", "):"-",Actions:{render:()=>t.jsx("div",{className:"server-action-buttons",children:t.jsxs("button",{className:"server-action-btn server-action-btn--edit",onClick:()=>Nt(ne),children:[t.jsx("i",{className:"fas fa-edit"}),"Edit"]})})}}))})})]})]})]})})}),t.jsx(Xc,{})]})}function Py(){const[s,a]=H.useState(""),[r,l]=H.useState(!1),[f,u]=H.useState(!1),[x,g]=H.useState(""),[y,j]=H.useState(null),[k,L]=H.useState("error"),R=ro();H.useEffect(()=>(document.body.classList.add("login-page-body"),()=>{document.body.classList.remove("login-page-body")}),[]);const N=F=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(F),z=async F=>{if(F.preventDefault(),!r){if(g(""),j(null),!s.trim()){g("Email is required"),j("Email is required"),L("error");return}if(!N(s.trim())){g("Please enter a valid email address"),j("Please enter a valid email address"),L("error");return}l(!0),j(null);try{const E=await fetch("http://localhost:4000/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.trim()})});let q;try{q=await E.json()}catch(J){console.error("Failed to parse response:",J),j("Server returned an invalid response. Please try again."),L("error"),l(!1);return}if(!E.ok||!q.success){const J=q.message||"Failed to send reset request. Please try again.";j(J),L("error"),l(!1);return}u(!0),l(!1)}catch(D){console.error("Forgot password error:",D),j("Unable to connect. Please check your connection and try again."),L("error"),l(!1)}}};return t.jsx(t.Fragment,{children:t.jsx("main",{className:"login-main",children:t.jsxs("div",{className:"login-shell",children:[t.jsxs("aside",{className:"login-menu",children:[t.jsx("p",{className:"eyebrow light",children:"Password Recovery"}),t.jsx("h2",{children:"Request Password Reset"}),t.jsx("p",{children:"Enter your email address to request a password reset. Your request will be sent to the administrator for manual approval."}),t.jsxs("ul",{children:[t.jsx("li",{children:"Submit your email address"}),t.jsx("li",{children:"Administrator will review your request"}),t.jsx("li",{children:"You'll receive your new password after verification"})]})]}),t.jsxs("div",{className:"login-form-card",children:[t.jsx("div",{className:"login-form-card__header",children:t.jsxs("h1",{children:[t.jsx("i",{className:"fas fa-key login-title-icon"}),"Forgot Password"]})}),f?t.jsxs("div",{className:"forgot-password-success",children:[t.jsx("div",{className:"forgot-password-success-icon",children:t.jsx("i",{className:"fas fa-check"})}),t.jsx("h3",{className:"forgot-password-success-title",children:"Request Sent"}),t.jsx("p",{className:"forgot-password-success-message",children:"Your request has been sent to the administrator. You will receive your new password after verification."}),t.jsx("div",{className:"login-buttons",children:t.jsx("button",{type:"button",className:"btn-admin login-btn-full-width",onClick:()=>R("/login"),children:"Back to Login"})})]}):t.jsxs("form",{onSubmit:z,noValidate:!0,children:[t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope login-icon"}),"Email ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsx("input",{type:"email",value:s,onChange:F=>{a(F.target.value),x&&g("")},onInvalid:F=>F.preventDefault(),placeholder:"Enter your email address",className:`mono-input ${x?"input-error":""}`,disabled:r})]}),t.jsx("div",{className:"login-buttons",children:t.jsx("button",{type:"submit",className:`btn-admin login-btn-wrapper login-btn-full-width ${r?"login-btn--loading":""}`,disabled:r,children:r?t.jsxs("span",{className:"login-btn-spinner",children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),t.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}),"Sending..."]}):"Request Password Reset"})}),t.jsx("div",{className:"forgot-password-back-link",children:t.jsxs(Kc,{to:"/login",children:[t.jsx("i",{className:"fas fa-arrow-left forgot-password-back-link-icon"}),"Back to Login"]})})]}),t.jsx(Wl,{message:y,type:k,onClose:()=>j(null),duration:3e3})]})]})})})}function Ly(){const[s]=Rm(),[a,r]=H.useState(""),[l,f]=H.useState(""),[u,x]=H.useState(!1),[g,y]=H.useState(!1),[j,k]=H.useState(null),[L,R]=H.useState(!1),[N,z]=H.useState(!1),[F,D]=H.useState({password:"",confirmPassword:""}),[E,q]=H.useState(null),[J,$]=H.useState("error"),oe=ro(),ce=s.get("token"),Ee=s.get("role")||"admin";H.useEffect(()=>{ce||k({type:"error",text:"Invalid reset link. Please request a new password reset."})},[ce]);const fe=pe=>pe?pe.length<6?"Password must be at least 6 characters long":"":"Password is required",K=async pe=>{pe.preventDefault();const B=fe(a),U=a!==l?"Passwords do not match":fe(l);if(D({password:B,confirmPassword:U}),B||U){q(B||U),$("error");return}if(!ce){k({type:"error",text:"Invalid reset token. Please request a new password reset."});return}R(!0),k(null);try{const Z=await fetch("http://localhost:4000/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:ce,newPassword:a,role:Ee})}),xe=await Z.json();if(!Z.ok||!xe.success){k({type:"error",text:xe.message||"Failed to reset password. Please try again."}),R(!1);return}z(!0),k({type:"success",text:xe.message||"Password has been reset successfully!"}),R(!1),setTimeout(()=>{oe("/login")},3e3)}catch(ae){console.error("Reset password error:",ae),k({type:"error",text:"Unable to connect. Please check your connection and try again."}),R(!1)}};return t.jsxs(t.Fragment,{children:[t.jsx(Qc,{showCTA:!1}),t.jsx("main",{className:"login-main",children:t.jsxs("div",{className:"login-shell",children:[t.jsxs("aside",{className:"login-menu",children:[t.jsx("p",{className:"eyebrow light",children:"Password Reset"}),t.jsx("h2",{children:"Create New Password"}),t.jsx("p",{children:"Enter your new password below. Make sure it's strong and secure."}),t.jsxs("ul",{children:[t.jsx("li",{children:"At least 6 characters long"}),t.jsx("li",{children:"Use a combination of letters and numbers"}),t.jsx("li",{children:"Don't reuse your old password"})]})]}),t.jsxs("div",{className:"login-form-card",children:[t.jsx("div",{className:"login-form-card__header",children:t.jsxs("h1",{children:[t.jsx("i",{className:"fas fa-lock login-title-icon"}),"Reset Password"]})}),N?t.jsxs("div",{className:"forgot-password-success",children:[t.jsx("div",{className:"forgot-password-success-icon",children:t.jsx("i",{className:"fas fa-check"})}),t.jsx("h3",{className:"forgot-password-success-title",children:"Password Reset Successful!"}),t.jsx("p",{className:"forgot-password-success-message",children:"Your password has been reset successfully. You can now login with your new password."}),t.jsx("p",{className:"forgot-password-success-message forgot-password-success-message--small",children:"Redirecting to login page in a few seconds..."}),t.jsx("div",{className:"login-buttons",children:t.jsx("button",{type:"button",className:"btn-admin login-btn-full-width",onClick:()=>oe("/login"),children:"Go to Login"})})]}):t.jsxs("form",{onSubmit:K,noValidate:!0,children:[t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock login-icon"}),"New Password ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsxs("div",{className:"login-input-wrapper",children:[t.jsx("input",{type:u?"text":"password",value:a,onChange:pe=>{r(pe.target.value),F.password&&D({...F,password:""})},onBlur:()=>{const pe=fe(a);D({...F,password:pe}),pe&&(q(pe),$("error"))},onInvalid:pe=>pe.preventDefault(),placeholder:"Enter new password",className:`mono-input login-input--with-icon ${F.password?"input-error":""}`,disabled:L||!ce,required:!0}),t.jsx("button",{type:"button",onClick:()=>x(!u),className:"login-password-toggle","aria-label":u?"Hide password":"Show password",disabled:L,children:u?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),t.jsxs("label",{className:"mono-label",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-lock login-icon"}),"Confirm Password ",t.jsx("span",{className:"login-required",children:"*"})]}),t.jsxs("div",{className:"login-input-wrapper",children:[t.jsx("input",{type:g?"text":"password",value:l,onChange:pe=>{f(pe.target.value),F.confirmPassword&&D({...F,confirmPassword:""})},onBlur:()=>{const pe=a!==l?"Passwords do not match":fe(l);D({...F,confirmPassword:pe}),pe&&(q(pe),$("error"))},onInvalid:pe=>pe.preventDefault(),placeholder:"Confirm new password",className:`mono-input login-input--with-icon ${F.confirmPassword?"input-error":""}`,disabled:L||!ce,required:!0}),t.jsx("button",{type:"button",onClick:()=>y(!g),className:"login-password-toggle","aria-label":g?"Hide password":"Show password",disabled:L,children:g?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),t.jsx("div",{className:"login-buttons",children:t.jsx("button",{type:"submit",className:`btn-admin login-btn-wrapper login-btn-full-width ${L||!ce?"login-btn--loading":""}`,disabled:L||!ce,children:L?t.jsxs("span",{className:"login-btn-spinner",children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),t.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}),"Resetting..."]}):"Reset Password"})}),t.jsx("div",{className:"forgot-password-back-link",children:t.jsxs(Kc,{to:"/login",children:[t.jsx("i",{className:"fas fa-arrow-left forgot-password-back-link-icon"}),"Back to Login"]})})]}),t.jsx(Hd,{isOpen:!!j,message:j?.text,type:j?.type||"error",onClose:()=>k(null)}),t.jsx(Wl,{message:E,type:J,onClose:()=>q(null),duration:3e3})]})]})}),t.jsx(Xc,{})]})}function _y(){return t.jsx(I1,{children:t.jsx(v1,{future:{v7_startTransition:!0},children:t.jsxs(u1,{children:[t.jsx(Lo,{path:"/",element:t.jsx(ep,{to:"/login",replace:!0})}),t.jsx(Lo,{path:"/login",element:t.jsx(L1,{})}),t.jsx(Lo,{path:"/signup",element:t.jsx(Ay,{})}),t.jsx(Lo,{path:"/forgot-password",element:t.jsx(Py,{})}),t.jsx(Lo,{path:"/reset-password",element:t.jsx(Ly,{})}),t.jsx(Lo,{path:"/admin",element:t.jsx(Ny,{})}),t.jsx(Lo,{path:"/member",element:t.jsx(ky,{})}),t.jsx(Lo,{path:"/server",element:t.jsx(Cy,{})}),t.jsx(Lo,{path:"*",element:t.jsx(ep,{to:"/login",replace:!0})})]})})})}const Iy="867870699456-djt0cnrakntduqs6g2gm3pk24vj6qoc9.apps.googleusercontent.com",_0=()=>{document.querySelectorAll("input[title], select[title], textarea[title], input[pattern], select[pattern], textarea[pattern]").forEach(a=>{a.removeAttribute("title"),a.removeAttribute("pattern")})},Ey=()=>{const s=()=>{document.querySelectorAll("input[required], select[required], textarea[required]").forEach(l=>{l.hasAttribute("data-invalid-handler-added")||(l.addEventListener("invalid",f=>{f.preventDefault(),f.stopPropagation()},{capture:!0}),l.setAttribute("data-invalid-handler-added","true"))})};s();const a=new MutationObserver(()=>{_0(),s()});document.body?a.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["title","required","pattern"]}):document.addEventListener("DOMContentLoaded",()=>{a.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["title","required","pattern"]})})};_0();Ey();vg.createRoot(document.getElementById("root")).render(t.jsx(Af.StrictMode,{children:t.jsx(P1,{clientId:Iy,children:t.jsx(_y,{})})}));export{qn as _,My as c,km as g};
